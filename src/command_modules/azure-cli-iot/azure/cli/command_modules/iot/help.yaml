version: 1
content:
- group:
    name: iot
    summary: Manage Internet of Things (IoT) assets.
    description: Comprehensive IoT data-plane functionality is available in the Azure IoT CLI Extension. For more info and install guide go to https://github.com/Azure/azure-iot-cli-extension
- group:
    name: iot hub
    summary: Manage Azure IoT hubs.
- group:
    name: iot dps
    summary: Manage Azure IoT Hub Device Provisioning Service.
- command:
    name: iot dps create
    summary: Create an Azure IoT Hub device provisioning service.
    description: For an introduction to Azure IoT Hub Device Provisioning Service, see https://docs.microsoft.com/en-us/azure/iot-dps/about-iot-dps
    examples:
    - summary: Create an Azure IoT Hub device provisioning service with the standard pricing tier S1, in the region of the resource group.
      command: >
        az iot dps create --name MyDps --resource-group MyResourceGroup
    - summary: Create an Azure IoT Hub device provisioning service with the standard pricing tier S1, in the 'eastus' region.
      command: >
        az iot dps create --name MyDps --resource-group MyResourceGroup --location eastus
- command:
    name: iot dps list
    summary: List Azure IoT Hub device provisioning services.
    examples:
    - summary: List all Azure IoT Hub device provisioning services in a subscription.
      command: >
        az iot dps list
    - summary: List all Azure IoT Hub device provisioning services in the resource group 'MyResourceGroup'
      command: >
        az iot dps list --resource-group MyResourceGroup
- command:
    name: iot dps show
    summary: Get the details of an Azure IoT Hub device provisioning service.
    examples:
    - summary: Show details of an Azure IoT Hub device provisioning service 'MyDps'
      command: >
        az iot dps show --name MyDps --resource-group MyResourceGroup
- command:
    name: iot dps delete
    summary: Delete an Azure IoT Hub device provisioning service.
    examples:
    - summary: Delete an Azure IoT Hub device provisioning service 'MyDps'
      command: >
        az iot dps delete --name MyDps --resource-group MyResourceGroup
- command:
    name: iot dps update
    summary: Update an Azure IoT Hub device provisioning service.
    examples:
    - summary: Update Allocation Policy to 'GeoLatency' of an Azure IoT Hub device provisioning service 'MyDps'
      command: >
        az iot dps update --name MyDps --resource-group MyResourceGroup --set properties.allocationPolicy="GeoLatency"
- group:
    name: iot dps access-policy
    summary: Manage Azure IoT Hub Device Provisioning Service access policies.
- command:
    name: iot dps access-policy create
    summary: Create a new shared access policy in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Create a new shared access policy in an Azure IoT Hub device provisioning service with EnrollmentRead right
      command: >
        az iot dps access-policy create --dps-name MyDps --resource-group MyResourceGroup --name MyPolicy --rights EnrollmentRead
- command:
    name: iot dps access-policy update
    summary: Update a shared access policy in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Update access policy 'MyPolicy' in an Azure IoT Hub device provisioning service with EnrollmentWrite right
      command: >
        az iot dps access-policy update --dps-name MyDps --resource-group MyResourceGroup --name MyPolicy --rights EnrollmentWrite
- command:
    name: iot dps access-policy list
    summary: List all shared access policies in an Azure IoT Hub device provisioning service.
    examples:
    - summary: List all shared access policies in MyDps
      command: >
        az iot dps access-policy list --dps-name MyDps --resource-group MyResourceGroup
- command:
    name: iot dps access-policy show
    summary: Show details of a shared access policies in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Show details of shared access policy 'MyPolicy' in an Azure IoT Hub device provisioning service
      command: >
        az iot dps access-policy show --dps-name MyDps --resource-group MyResourceGroup --name MyPolicy
- command:
    name: iot dps access-policy delete
    summary: Delete a shared access policies in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Delete shared access policy 'MyPolicy' in an Azure IoT Hub device provisioning service
      command: >
        az iot dps access-policy delete --dps-name MyDps --resource-group MyResourceGroup --name MyPolicy
- group:
    name: iot dps linked-hub
    summary: Manage Azure IoT Hub Device Provisioning Service linked IoT hubs.
- command:
    name: iot dps linked-hub create
    summary: Create a linked IoT hub in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Create a linked IoT hub in an Azure IoT Hub device provisioning service
      command: >
        az iot dps linked-hub create --dps-name MyDps --resource-group MyResourceGroup --connection-string
        HostName=test.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=XNBhoasdfhqRlgGnasdfhivtshcwh4bJwe7c0RIGuWsirW0=
        --location westus
    - summary: Create a linked IoT hub in an Azure IoT Hub device provisioning service which applies allocation weight and weight being 10
      command: >
        az iot dps linked-hub create --dps-name MyDps --resource-group MyResourceGroup --connection-string
        HostName=test.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=XNBhoasdfhqRlgGnasdfhivtshcwh4bJwe7c0RIGuWsirW0=
        --location westus --allocation-weight 10 --apply-allocation-policy True
- command:
    name: iot dps linked-hub update
    summary: Update a linked IoT hub in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Update linked IoT hub 'MyLinkedHub.azure-devices.net' in an Azure IoT Hub device provisioning service
      command: >
        az iot dps linked-hub update --dps-name MyDps --resource-group MyResourceGroup --linked-hub MyLinkedHub.azure-devices.net
        --allocation-weight 10 --apply-allocation-policy True
- command:
    name: iot dps linked-hub list
    summary: List all linked IoT hubs in an Azure IoT Hub device provisioning service.
    examples:
    - summary: List all linked IoT hubs in MyDps
      command: >
        az iot dps linked-hub list --dps-name MyDps --resource-group MyResourceGroup
- command:
    name: iot dps linked-hub show
    summary: Show details of a linked IoT hub in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Show details of linked IoT hub 'MyLinkedHub' in an Azure IoT Hub device provisioning service
      command: >
        az iot dps linked-hub show --dps-name MyDps --resource-group MyResourceGroup --linked-hub MyLinkedHub
- command:
    name: iot dps linked-hub delete
    summary: Update a linked IoT hub in an Azure IoT Hub device provisioning service.
    examples:
    - summary: Delete linked IoT hub 'MyLinkedHub' in an Azure IoT Hub device provisioning service
      command: >
        az iot dps linked-hub delete --dps-name MyDps --resource-group MyResourceGroup --linked-hub MyLinkedHub
- group:
    name: iot dps certificate
    summary: Manage Azure IoT Hub Device Provisioning Service certificates.
- command:
    name: iot dps certificate create
    summary: Create/upload an Azure IoT Hub Device Provisioning Service certificate.
    examples:
    - summary: Upload a CA certificate PEM file to an Azure IoT Hub device provisioning service.
      command: >
        az iot dps certificate create --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate --path /certificates/Certificate.pem
    - summary: Upload a CA certificate CER file to an Azure IoT Hub device provisioning service.
      command: >
        az iot dps certificate create --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate --path /certificates/Certificate.cer
- command:
    name: iot dps certificate update
    summary: Update an Azure IoT Hub Device Provisioning Service certificate.
    description: Upload a new certificate to replace the existing certificate with the same name.
    examples:
    - summary: Update a CA certificate in an Azure IoT Hub device provisioning service by uploading a new PEM file.
      command: >
        az iot dps certificate update --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate
        --path /certificates/NewCertificate.pem --etag AAAAAAAAAAA=
    - summary: Update a CA certificate in an Azure IoT Hub device provisioning service by uploading a new CER file.
      command: >
        az iot dps certificate update --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate
        --path /certificates/NewCertificate.cer --etag AAAAAAAAAAA=
- command:
    name: iot dps certificate delete
    summary: Delete an Azure IoT Hub Device Provisioning Service certificate.
    examples:
    - summary: Delete MyCertificate in an Azure IoT Hub device provisioning service
      command: >
        az iot dps certificate delete --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate --etag AAAAAAAAAAA=
- command:
    name: iot dps certificate show
    summary: Show information about a particular Azure IoT Hub Device Provisioning Service certificate.
    examples:
    - summary: Show details about MyCertificate in an Azure IoT Hub device provisioning service
      command: >
        az iot dps certificate show --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate
- command:
    name: iot dps certificate list
    summary: List all certificates contained within an Azure IoT Hub device provisioning service
    examples:
    - summary: List all certificates in MyDps
      command: >
        az iot dps certificate list --dps-name MyDps --resource-group MyResourceGroup
- command:
    name: iot dps certificate generate-verification-code
    summary: Generate a verification code for an Azure IoT Hub Device Provisioning Service certificate.
    description: This verification code is used to complete the proof of possession step for a certificate. Use this verification code as the CN of a new certificate signed with the root certificates private key.
    examples:
    - summary: Generate a verification code for MyCertificate
      command: >
        az iot dps certificate generate-verification-code --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate
        --etag AAAAAAAAAAA=
- command:
    name: iot dps certificate verify
    summary: Verify an Azure IoT Hub Device Provisioning Service certificate.
    description: Verify a certificate by uploading a verification certificate containing the verification code obtained by calling generate-verification-code. This is the last step in the proof of possession process.
    examples:
    - summary: Verify ownership of the MyCertificate private key.
      command: >
        az iot dps certificate verify --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate
        --path /certificates/Verification.pem --etag AAAAAAAAAAA=
- group:
    name: iot hub certificate
    summary: Manage IoT Hub certificates.
- command:
    name: iot hub certificate create
    summary: Create/upload an Azure IoT Hub certificate.
    description: For a detailed explanation of CA certificates in Azure IoT Hub, see https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-x509ca-overview
    examples:
    - summary: Uploads a CA certificate PEM file to an IoT hub.
      command: >
        az iot hub certificate create --hub-name MyIotHub --name MyCertificate --path /certificates/Certificate.pem
    - summary: Uploads a CA certificate CER file to an IoT hub.
      command: >
        az iot hub certificate create --hub-name MyIotHub --name MyCertificate --path /certificates/Certificate.cer
- command:
    name: iot hub certificate update
    summary: Update an Azure IoT Hub certificate.
    description: Uploads a new certificate to replace the existing certificate with the same name. For a detailed explanation of CA certificates in Azure IoT Hub, see https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-x509ca-overview
    examples:
    - summary: Updates a CA certificate in an IoT hub by uploading a new PEM file.
      command: >
        az iot hub certificate update --hub-name MyIotHub --name MyCertificate --path /certificates/NewCertificate.pem --etag
        AAAAAAAAAAA=
    - summary: Updates a CA certificate in an IoT hub by uploading a new CER file.
      command: >
        az iot hub certificate update --hub-name MyIotHub --name MyCertificate --path /certificates/NewCertificate.cer --etag
        AAAAAAAAAAA=
- command:
    name: iot hub certificate delete
    summary: Deletes an Azure IoT Hub certificate.
    description: For a detailed explanation of CA certificates in Azure IoT Hub, see https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-x509ca-overview
    examples:
    - summary: Deletes MyCertificate
      command: >
        az iot hub certificate delete --hub-name MyIotHub --name MyCertificate --etag AAAAAAAAAAA=
- command:
    name: iot hub certificate show
    summary: Shows information about a particular Azure IoT Hub certificate.
    description: For a detailed explanation of CA certificates in Azure IoT Hub, see https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-x509ca-overview
    examples:
    - summary: Show details about MyCertificate
      command: >
        az iot hub certificate show --hub-name MyIotHub --name MyCertificate
- command:
    name: iot hub certificate list
    summary: Lists all certificates contained within an Azure IoT Hub
    description: For a detailed explanation of CA certificates in Azure IoT Hub, see https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-x509ca-overview
    examples:
    - summary: List all certificates in MyIotHub
      command: >
        az iot hub certificate list --hub-name MyIotHub
- command:
    name: iot hub certificate generate-verification-code
    summary: Generates a verification code for an Azure IoT Hub certificate.
    description: This verification code is used to complete the proof of possession step for a certificate. Use this verification code as the CN of a new certificate signed with the root certificates private key. For a detailed explanation of CA certificates in Azure IoT Hub, see https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-x509ca-overview
    examples:
    - summary: Generates a verification code for MyCertificate
      command: >
        az iot hub certificate generate-verification-code --hub-name MyIotHub --name MyCertificate --etag
        AAAAAAAAAAA=
- command:
    name: iot hub certificate verify
    summary: Verifies an Azure IoT Hub certificate.
    description: Verifies a certificate by uploading a verification certificate containing the verification code obtained by calling generate-verification-code. This is the last step in the proof of possession process. For a detailed explanation of CA certificates in Azure IoT Hub, see https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-x509ca-overview
    examples:
    - summary: Verifies ownership of the MyCertificate private key.
      command: >
        az iot hub certificate verify --hub-name MyIotHub --name MyCertificate --path /certificates/Verification.pem --etag
        AAAAAAAAAAA=
- command:
    name: iot hub create
    summary: Create an Azure IoT hub.
    description: For an introduction to Azure IoT Hub, see https://docs.microsoft.com/azure/iot-hub/
    examples:
    - summary: Create an IoT Hub with the free pricing tier F1, in the region of the resource group.
      command: >
        az iot hub create --resource-group MyResourceGroup --name MyIotHub
    - summary: Create an IoT Hub with the standard pricing tier S1 and 4 partitions, in the 'westus' region.
      command: >
        az iot hub create --resource-group MyResourceGroup --name MyIotHub --sku S1 --location westus
        --partition-count 4
- command:
    name: iot hub show
    summary: Get the details of an IoT hub.
- command:
    name: iot hub update
    summary: Update metadata for an IoT hub.
    examples:
    - summary: Add a firewall filter rule to accept traffic from the IP mask 127.0.0.0/31.
      command: >
        az iot hub update --name MyIotHub --add properties.ipFilterRules filter_name=test-rule action=Accept ip_mask=127.0.0.0/31
- command:
    name: iot hub list
    summary: List IoT hubs.
    examples:
    - summary: List all IoT hubs in a subscription.
      command: >
        az iot hub list
    - summary: List all IoT hubs in the resource group 'MyGroup'
      command: >
        az iot hub list --resource-group MyGroup
- command:
    name: iot hub show-connection-string
    summary: Show the connection strings for an IoT hub.
    examples:
    - summary: Show the connection string of an IoT hub using default policy and primary key.
      command: >
        az iot hub show-connection-string --name MyIotHub
    - summary: Show the connection string of an IoT Hub using policy 'service' and secondary key.
      command: >
        az iot hub show-connection-string --name MyIotHub --policy-name service --key secondary
    - summary: Show the connection strings for all IoT hubs in a resource group.
      command: >
        az iot hub show-connection-string --resource-group MyResourceGroup
    - summary: Show the connection strings for all IoT hubs in a subscription.
      command: >
        az iot hub show-connection-string
- command:
    name: iot hub delete
    summary: Delete an IoT hub.
- group:
    name: iot hub consumer-group
    summary: Manage the event hub consumer groups of an IoT hub.
- command:
    name: iot hub consumer-group create
    summary: Create an event hub consumer group.
    examples:
    - summary: Create a consumer group 'cg1' in the default event hub endpoint.
      command: >
        az iot hub consumer-group create --hub-name MyIotHub --name cg1
    - summary: Create a consumer group `cg1` in the operation monitoring event hub endpoint `operationsMonitoringEvents`.
      command: >
        az iot hub consumer-group create --hub-name MyIotHub --event-hub-name operationsMonitoringEvents --name cg1
- command:
    name: iot hub consumer-group list
    summary: List event hub consumer groups.
- command:
    name: iot hub consumer-group show
    summary: Get the details for an event hub consumer group.
- command:
    name: iot hub consumer-group delete
    summary: Delete an event hub consumer group.
- group:
    name: iot hub policy
    summary: Manage shared access policies of an IoT hub.
- command:
    name: iot hub policy list
    summary: List shared access policies of an IoT hub.
- command:
    name: iot hub policy show
    summary: Get the details of a shared access policy of an IoT hub.
- command:
    name: iot hub policy create
    summary: Create a new shared access policy in an IoT hub.
    examples:
    - summary: Create a new shared access policy.
      command: >
        az iot hub policy create --hub-name MyIotHub --name new-policy --permissions RegistryWrite ServiceConnect DeviceConnect
- command:
    name: iot hub policy delete
    summary: Delete a shared access policy from an IoT hub.
- command:
    name: iot hub list-skus
    summary: List available pricing tiers.
- group:
    name: iot hub job
    summary: Manage jobs in an IoT hub.
- command:
    name: iot hub job list
    summary: List the jobs in an IoT hub.
- command:
    name: iot hub job show
    summary: Get the details of a job in an IoT hub.
- command:
    name: iot hub job cancel
    summary: Cancel a job in an IoT hub.
- command:
    name: iot hub show-quota-metrics
    summary: Get the quota metrics for an IoT hub.
- command:
    name: iot hub show-stats
    summary: Get the statistics for an IoT hub.
- group:
    name: iot hub routing-endpoint
    summary: Manage custom endpoints of an IoT hub.
- command:
    name: iot hub routing-endpoint create
    summary: Add an endpoint to your IoT Hub.
    description: Create a new custom endpoint in your IoT Hub.
    examples:
    - summary: Add a new endpoint "E2" of type EventHub to "MyIotHub" IoT Hub.
      command: >
        az iot hub routing-endpoint create --resource-group MyResourceGroup --hub-name MyIotHub
        --endpoint-name E2 --endpoint-type eventhub --endpoint-resource-group {ResourceGroup}
        --endpoint-subscription-id {SubscriptionId} --connection-string {ConnectionString}
    - summary: Add a new endpoint "S1" of type AzureStorageContainer to "MyIotHub" IoT Hub.
      command: |
        az iot hub routing-endpoint create --resource-group MyResourceGroup --hub-name MyIotHub \
        --endpoint-name S1 --endpoint-type azurestoragecontainer --endpoint-resource-group "[Resource Group]" \
        --endpoint-subscription-id {SubscriptionId} --connection-string {ConnectionString} \
        --container-name {ContainerName}
- command:
    name: iot hub routing-endpoint list
    summary: Get information on all the endpoints for your IoT Hub.
    description: Get information on all endpoints in your IoT Hub. You can also specify which endpoint type you want to get informaiton on.
    examples:
    - summary: Get all the endpoints from "MyIotHub" IoT Hub.
      command: >
        az iot hub routing-endpoint list -g MyResourceGroup --hub-name MyIotHub
    - summary: Get all the endpoints of type "EventHub" from "MyIotHub" IoT Hub.
      command: >
        az iot hub routing-endpoint list -g MyResourceGroup --hub-name MyIotHub
        --endpoint-type eventhub
- command:
    name: iot hub routing-endpoint show
    summary: Get information on mentioned endpoint for your IoT Hub.
    description: Get information on a specific endpoint in your IoT Hub
    examples:
    - summary: Get an endpoint information from "MyIotHub" IoT Hub.
      command: |
        az iot hub routing-endpoint show --resource-group MyResourceGroup --hub-name MyIotHub \
        --endpoint-name {endpointName}
- command:
    name: iot hub routing-endpoint delete
    summary: Delete all or mentioned endpoint for your IoT Hub.
    description: Delete an endpoint for your IoT Hub. We recommend that you delete any routes to the endpoint, before deleting the endpoint.
    examples:
    - summary: Delete endpoint "E2" from "MyIotHub" IoT Hub.
      command: >
        az iot hub routing-endpoint delete --resource-group MyResourceGroup --hub-name MyIotHub
        --endpoint-name E2
    - summary: Delete all the endpoints of type "EventHub" from "MyIotHub" IoT Hub.
      command: >
        az iot hub routing-endpoint delete --resource-group MyResourceGroup --hub-name MyIotHub
        --endpoint-type eventhub
    - summary: Delete all the endpoints from "MyIotHub" IoT Hub.
      command: >
        az iot hub routing-endpoint delete --resource-group MyResourceGroup --hub-name MyIotHub
- group:
    name: iot hub route
    summary: Manage routes of an IoT hub.
- command:
    name: iot hub route create
    summary: Create a route in IoT Hub.
    description: Create a route to send specific data source and condition to a desired endpoint.
    examples:
    - summary: Create a new route "R1".
      command: >
        az iot hub route create -g MyResourceGroup --hub-name MyIotHub
        --endpoint-name E2 --source-type DeviceMessages --route-name R1
    - summary: Create a new route "R1" with all parameters.
      command: >
        az iot hub route create -g MyResourceGroup --hub-name MyIotHub
        --endpoint-name E2 --source-type DeviceMessages --route-name R1
        --condition true --enabled true
- command:
    name: iot hub route list
    summary: Get all the routes in IoT Hub.
    description: Get information on all routes from an IoT Hub.
    examples:
    - summary: Get all route from "MyIotHub" IoT Hub.
      command: >
        az iot hub route list -g MyResourceGroup --hub-name MyIotHub
    - summary: Get all the routes of source type "DeviceMessages" from "MyIotHub" IoT Hub.
      command: >
        az iot hub route list -g MyResourceGroup --hub-name MyIotHub --source-type DeviceMessages
- command:
    name: iot hub route show
    summary: Get information about the route in IoT Hub.
    description: Get information on a specific route in your IoT Hub.
    examples:
    - summary: Get an route information from "MyIotHub" IoT Hub.
      command: >
        az iot hub route show -g MyResourceGroup --hub-name MyIotHub --route-name {routeName}
- command:
    name: iot hub route delete
    summary: Delete all or mentioned route for your IoT Hub.
    description: Delete a route or all routes for your IoT Hub.
    examples:
    - summary: Delete route "R1" from "MyIotHub" IoT Hub.
      command: >
        az iot hub route delete -g MyResourceGroup --hub-name MyIotHub --route-name R1
    - summary: Delete all the routes of source type "DeviceMessages" from "MyIotHub" IoT Hub.
      command: >
        az iot hub route delete -g MyResourceGroup --hub-name MyIotHub --source-type DeviceMessages
    - summary: Delete all the routes from "MyIotHub" IoT Hub.
      command: >
        az iot hub route delete -g MyResourceGroup --hub-name MyIotHub
- command:
    name: iot hub route test
    summary: Test all routes or mentioned route in IoT Hub.
    description: Test all existing routes or mentioned route in your IoT Hub. You can provide a sample message to test your routes.
    examples:
    - summary: Test the route "R1" from "MyIotHub" IoT Hub.
      command: >
        az iot hub route test -g MyResourceGroup --hub-name MyIotHub --route-name R1
    - summary: Test all the route of source type "DeviceMessages" from "MyIotHub" IoT Hub.
      command: >
        az iot hub route test -g MyResourceGroup --hub-name MyIotHub --source-type DeviceMessages
- command:
    name: iot hub route update
    summary: Update a route in IoT Hub.
    description: Updates a route in IoT Hub. You can change the source, enpoint or query on the route.
    examples:
    - summary: Update source type of route "R1" from "MyIotHub" IoT Hub.
      command: >
        az iot hub route update -g MyResourceGroup --hub-name MyIotHub
        --source-type DeviceMessages --route-name R1
- group:
    name: iot hub devicestream
    summary: Manage device streams of an IoT hub.
- command:
    name: iot hub devicestream show
    summary: Get IoT Hub's device streams endpoints.
    description: Get IoT Hub's device streams endpoints.
    examples:
    - summary: Get all the device streams from "MyIotHub" IoT Hub.
      command: >
        az iot hub devicestream show -n MyIotHub
