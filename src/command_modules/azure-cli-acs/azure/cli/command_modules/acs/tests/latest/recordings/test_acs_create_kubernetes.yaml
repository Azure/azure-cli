interactions:
- request:
    body: '{"location": "eastus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-02-15T20:26:50Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [--location --name --tag]
      User-Agent: [python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.6.0
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest000001","name":"clitest000001","location":"eastus","tags":{"product":"azurecli","cause":"automation","date":"2019-02-15T20:26:50Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['268']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 20:26:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      ParameterSetName: [-n]
      User-Agent: [python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.6.0
          azure-graphrbac/0.53.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fclitest000002%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['121']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 15 Feb 2019 20:26:54 GMT']
      duration: ['971359']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [TYqFcwXWOChFCYe863Ass3L6LUsoEAAlBpUkoGumdpw=]
      ocp-aad-session-key: [5AC9atdvHmEYN4XL8_XxfsndmdK1ipS5NE7y8Yt4CuoVliqOjDjGYDbpAY_qq0mk6jDRnCEBL2k1d2Dyi8LbGQujTnjc0WRyRjIaYPwyAfFPvkRrxE6Hbxf1bT5xu7cI.qNVpPeHZ-_gSlMn9Viu6McRfwUqX1wlAT9qOrwK7R0w]
      pragma: [no-cache]
      request-id: [4bfaf2ed-afb1-4635-ad3a-0e58b4fdf573]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"availableToOtherTenants": false, "displayName": "clitestwxl25hy6ct",
      "homepage": "https://clitestwxl25hy6ct", "identifierUris": ["http://clitest000002"],
      "passwordCredentials": [{"startDate": "2019-02-15T20:26:55.773897Z", "endDate":
      "2020-02-15T20:26:55.773897Z", "keyId": "419bca8b-2ea9-4de6-903e-a2a865b50a00",
      "value": "999ce945-028f-4940-8eca-60498f98b4b0", "customKeyIdentifier": "//5yAGIAYQBjAA=="}]}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['413']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n]
      User-Agent: [python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.6.0
          azure-graphrbac/0.53.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"475776c7-76ef-4180-afee-a2984068943d","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"f94e7e5b-ef1a-4436-b108-04027d0bcd38","appRoles":[],"availableToOtherTenants":false,"displayName":"clitestwxl25hy6ct","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://clitestwxl25hy6ct","identifierUris":["http://clitest000002"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/475776c7-76ef-4180-afee-a2984068943d/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/475776c7-76ef-4180-afee-a2984068943d/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access clitestwxl25hy6ct on behalf of the signed-in user.","adminConsentDisplayName":"Access
        clitestwxl25hy6ct","id":"5dbdeb1b-803e-420f-96e8-7dbd6a15b16f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access clitestwxl25hy6ct on your behalf.","userConsentDisplayName":"Access
        clitestwxl25hy6ct","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[{"customKeyIdentifier":"//5yAGIAYQBjAA==","endDate":"2020-02-15T20:26:55.773897Z","keyId":"419bca8b-2ea9-4de6-903e-a2a865b50a00","startDate":"2019-02-15T20:26:55.773897Z","value":null}],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2264']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 15 Feb 2019 20:26:56 GMT']
      duration: ['10371062']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/475776c7-76ef-4180-afee-a2984068943d/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [USO0vXsiH/WugU0+xVoguNv4Wxgbvvn8Zb8qUwfOkVw=]
      ocp-aad-session-key: [hMtIoCE44wt-26Zy2zU_n9nrafSbdJmSilCcgPNC0cQ1_ULVDLceeY7WacRQ11EfqJzN5zCT0xIYsSzuoSGMjI4ZCf6bOlqke1_XFFa7-aws2vXSXf9wAUtorcrbkJtTyLyFqMjxgGBD-3f-ZR335g.3fS1wSCpmYcNbnvm2AtwqeIBLJNh1XSD-DRIvdGgKpw]
      pragma: [no-cache]
      request-id: [7c8b8d51-a27a-40d1-a83b-51c56093b679]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"accountEnabled": true, "appId": "f94e7e5b-ef1a-4436-b108-04027d0bcd38"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n]
      User-Agent: [python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.6.0
          azure-graphrbac/0.53.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"d494c994-32ed-47a0-b668-0586760c99d4","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"clitestwxl25hy6ct","appId":"f94e7e5b-ef1a-4436-b108-04027d0bcd38","appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"clitestwxl25hy6ct","errorUrl":null,"homepage":"https://clitestwxl25hy6ct","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access clitestwxl25hy6ct on behalf of the signed-in user.","adminConsentDisplayName":"Access
        clitestwxl25hy6ct","id":"5dbdeb1b-803e-420f-96e8-7dbd6a15b16f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access clitestwxl25hy6ct on your behalf.","userConsentDisplayName":"Access
        clitestwxl25hy6ct","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["f94e7e5b-ef1a-4436-b108-04027d0bcd38","http://clitest000002"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1518']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 15 Feb 2019 20:26:57 GMT']
      duration: ['4148958']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/d494c994-32ed-47a0-b668-0586760c99d4/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [qxvg+LgKyuIFTpm0XjmicPMsnZzmR6m/OWBxHpYTkp8=]
      ocp-aad-session-key: [9s8pyQG_BX-w6pBg2PSOj5kAdE93gEmJESuU5q16QmxcMbuC-QiEVPRG2OPDoEF5QEJPUb7vh11PLdy4cXnBn_4_dx6IiPAx4KH4eNGXbhb9sh3S3yHowwYAA9SkGbWa3N5hNYSq-MnIbpoESpkzpA.dKg40SmBAiQaitJDveaHJ1y1_GdVISeJd3umFmzGH64]
      pragma: [no-cache]
      request-id: [a3876125-0fb9-4878-98eb-398697d29af2]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
version: 1
