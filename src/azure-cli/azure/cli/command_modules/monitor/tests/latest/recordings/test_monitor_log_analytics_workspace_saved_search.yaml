interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001","name":"cli_test_monitor_workspace_saved_search000001","type":"Microsoft.Resources/resourceGroups","location":"eastus","tags":{"product":"azurecli","cause":"automation","test":"test_monitor_log_analytics_workspace_saved_search","date":"2025-02-22T07:23:56Z","module":"monitor"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '446'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:23:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3746'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus", "properties": {"publicNetworkAccessForIngestion":
      "Enabled", "publicNetworkAccessForQuery": "Enabled", "retentionInDays": 30,
      "sku": {"name": "PerGB2018"}}, "tags": {"clitest": "myron"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace create
      Connection:
      - keep-alive
      Content-Length:
      - '209'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002?api-version=2023-09-01
  response:
    body:
      string: '{"properties":{"customerId":"778d9110-eeef-446e-8a2f-7358144ceccb","provisioningState":"Creating","sku":{"name":"PerGB2018","lastSkuUpdate":"2025-02-22T07:24:01.2694157Z"},"retentionInDays":30,"features":{"legacy":0,"searchVersion":1,"enableLogAccessUsingOnlyResourcePermissions":true},"workspaceCapping":{"dailyQuotaGb":-1.0,"quotaNextResetTime":"2025-02-23T05:00:00Z","dataIngestionStatus":"RespectQuota"},"publicNetworkAccessForIngestion":"Enabled","publicNetworkAccessForQuery":"Enabled","createdDate":"2025-02-22T07:24:01.2694157Z","modifiedDate":"2025-02-22T07:24:01.2694157Z"},"location":"eastus","tags":{"clitest":"myron"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002","name":"clitest000002","type":"Microsoft.OperationalInsights/workspaces","etag":"\"3100235a-0000-0100-0000-67b97b910000\""}'
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2015-03-20, 2020-08-01, 2020-10-01, 2021-06-01, 2022-10-01, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '939'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:24:00 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002?api-version=2023-09-01
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a,objectId=a7250e3a-0e5e-48e2-9a34-45f1f5e1a91e/eastus2euap/cbcaee31-c7f2-44fb-854b-291ea3a6a813
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002?api-version=2023-09-01
  response:
    body:
      string: '{"properties":{"customerId":"778d9110-eeef-446e-8a2f-7358144ceccb","provisioningState":"Creating","sku":{"name":"PerGB2018","lastSkuUpdate":"2025-02-22T07:24:01.2694157Z"},"retentionInDays":30,"features":{"legacy":0,"searchVersion":1,"enableLogAccessUsingOnlyResourcePermissions":true},"workspaceCapping":{"dailyQuotaGb":-1.0,"quotaNextResetTime":"2025-02-23T05:00:00Z","dataIngestionStatus":"RespectQuota"},"publicNetworkAccessForIngestion":"Enabled","publicNetworkAccessForQuery":"Enabled","createdDate":"2025-02-22T07:24:01.2694157Z","modifiedDate":"2025-02-22T07:24:01.2694157Z"},"location":"eastus","tags":{"clitest":"myron"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002","name":"clitest000002","type":"Microsoft.OperationalInsights/workspaces","etag":"\"3100235a-0000-0100-0000-67b97b910000\""}'
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2015-03-20, 2020-08-01, 2020-10-01, 2021-06-01, 2022-10-01, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '939'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:24:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3747'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"category": "cli", "displayName": "myclitest", "functionAlias":
      "myfun", "functionParameters": "a:string = value", "query": "Heartbeat | getschema",
      "tags": [{"name": "a", "value": "b"}, {"name": "c", "value": "d"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace saved-search create
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --workspace-name -n --category --display-name -q --fa --fp --tags
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest?api-version=2020-08-01
  response:
    body:
      string: '{"properties":{"category":"cli","displayName":"myclitest","version":2,"functionAlias":"myfun","functionParameters":"a:string
        = value","query":"Heartbeat | getschema","tags":[{"name":"a","value":"b"},{"name":"c","value":"d"}]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest","name":"clitest","type":"Microsoft.OperationalInsights/savedSearches","etag":"W/\"datetime''2025-02-22T07%3A24%3A04.1763631Z''\""}'
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2020-03-01-preview, 2020-08-01, 2020-10-01, 2021-03-01-privatepreview, 2021-06-01,
        2021-12-01-preview, 2022-10-01, 2023-01-01-preview, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '561'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:24:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a,objectId=a7250e3a-0e5e-48e2-9a34-45f1f5e1a91e/eastus2euap/68f1792b-5278-498e-84e5-67d8cd5fbd8f
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2998'
      x-ms-ratelimit-remaining-subscription-writes:
      - '198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace saved-search show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --workspace-name -n
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest?api-version=2020-08-01
  response:
    body:
      string: '{"properties":{"category":"cli","displayName":"myclitest","version":2,"functionAlias":"myfun","functionParameters":"a:string
        = value","query":"Heartbeat | getschema","tags":[{"name":"a","value":"b"},{"name":"c","value":"d"}]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest","name":"clitest","type":"Microsoft.OperationalInsights/savedSearches","etag":"W/\"datetime''2025-02-22T07%3A24%3A04.1763631Z''\""}'
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2020-03-01-preview, 2020-08-01, 2020-10-01, 2021-03-01-privatepreview, 2021-06-01,
        2021-12-01-preview, 2022-10-01, 2023-01-01-preview, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '561'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:24:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a,objectId=a7250e3a-0e5e-48e2-9a34-45f1f5e1a91e/eastus2euap/95986de5-7dae-4c05-9d3b-a8c9b279c01f
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace saved-search list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --workspace-name
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches?api-version=2020-08-01
  response:
    body:
      string: '{"value":[{"properties":{"category":"cli","displayName":"myclitest","version":2,"functionAlias":"myfun","functionParameters":"a:string
        = value","query":"Heartbeat | getschema","tags":[{"name":"a","value":"b"},{"name":"c","value":"d"}]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest","name":"clitest","type":"Microsoft.OperationalInsights/savedSearches","etag":"W/\"datetime''2025-02-22T07%3A24%3A04.1763631Z''\""},{"properties":{"category":"Log
        Management","displayName":"All Events","version":2,"query":"Event | sort by
        TimeGenerated desc\r\n// Oql: Type=Event // Args: {OQ: True; WorkspaceId:
        00000000-0000-0000-0000-000000000000} // Settings: {PTT: True; SortI: True;
        SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|AllEvents","name":"LogManagement(clitest000002)_LogManagement|AllEvents","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of Events containing the word \"started\"
        grouped by EventID","version":2,"query":"search in (Event) \"started\" | summarize
        AggregatedValue = count() by EventID\r\n// Oql: Type=Event \"started\" | Measure
        count() by EventID // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|EventsWithStartedinEventID","name":"LogManagement(clitest000002)_LogManagement|EventsWithStartedinEventID","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of Events grouped by Event Log","version":2,"query":"Event
        | summarize AggregatedValue = count() by EventLog\r\n// Oql: Type=Event |
        Measure count() by EventLog // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|EventsByEventLog","name":"LogManagement(clitest000002)_LogManagement|EventsByEventLog","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of Events grouped by Event Source","version":2,"query":"Event
        | summarize AggregatedValue = count() by Source\r\n// Oql: Type=Event | Measure
        count() by Source // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|EventsByEventSource","name":"LogManagement(clitest000002)_LogManagement|EventsByEventSource","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of Events grouped by Event ID","version":2,"query":"Event
        | summarize AggregatedValue = count() by EventID\r\n// Oql: Type=Event | Measure
        count() by EventID // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|EventsByEventsID","name":"LogManagement(clitest000002)_LogManagement|EventsByEventsID","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"All Events with level \"Warning\"","version":2,"query":"Event
        | where EventLevelName == \"warning\" | sort by TimeGenerated desc\r\n// Oql:
        Type=Event EventLevelName=warning // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|WarningEvents","name":"LogManagement(clitest000002)_LogManagement|WarningEvents","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of Events with level \"Warning\" grouped
        by Event ID","version":2,"query":"Event | where EventLevelName == \"warning\"
        | summarize AggregatedValue = count() by EventID\r\n// Oql: Type=Event EventLevelName=warning
        | Measure count() by EventID // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|CountOfWarningEvents","name":"LogManagement(clitest000002)_LogManagement|CountOfWarningEvents","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"How many connections to Operations Manager''s SDK
        service by day","version":2,"query":"Event | where EventID == 26328 and EventLog
        == \"Operations Manager\" | summarize AggregatedValue = count() by bin(TimeGenerated,
        1d) | sort by TimeGenerated desc\r\n// Oql: Type=Event EventID=26328 EventLog=\"Operations
        Manager\" | Measure count() interval 1DAY // Args: {OQ: True; WorkspaceId:
        00000000-0000-0000-0000-000000000000} // Settings: {PTT: True; SortI: True;
        SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|NoOfConnectionsToOMSDKService","name":"LogManagement(clitest000002)_LogManagement|NoOfConnectionsToOMSDKService","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Events in the Operations Manager Event Log whose
        Event ID is in the range between 2000 and 3000","version":2,"query":"Event
        | where EventLog == \"Operations Manager\" and EventID >= 2000 and EventID
        <= 3000 | sort by TimeGenerated desc\r\n// Oql: Type=Event EventLog=\"Operations
        Manager\" EventID:[2000..3000] // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|EventsInOMBetween2000to3000","name":"LogManagement(clitest000002)_LogManagement|EventsInOMBetween2000to3000","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"When did my servers initiate restart?","version":2,"query":"search
        in (Event) \"shutdown\" and EventLog == \"System\" and Source == \"User32\"
        and EventID == 1074 | sort by TimeGenerated desc | project TimeGenerated,
        Computer\r\n// Oql: shutdown Type=Event EventLog=System Source=User32 EventID=1074
        | Select TimeGenerated,Computer // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|ServerRestartTime","name":"LogManagement(clitest000002)_LogManagement|ServerRestartTime","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Windows Firewall Policy settings have changed","version":2,"query":"Event
        | where EventLog == \"Microsoft-Windows-Windows Firewall With Advanced Security/Firewall\"
        and EventID == 2008 | sort by TimeGenerated desc\r\n// Oql: Type=Event EventLog=\"Microsoft-Windows-Windows
        Firewall With Advanced Security/Firewall\" EventID=2008 // Args: {OQ: True;
        WorkspaceId: 00000000-0000-0000-0000-000000000000} // Settings: {PTT: True;
        SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|WindowsFireawallPolicySettingsChanged","name":"LogManagement(clitest000002)_LogManagement|WindowsFireawallPolicySettingsChanged","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"On which machines and how many times have Windows
        Firewall Policy settings changed","version":2,"query":"Event | where EventLog
        == \"Microsoft-Windows-Windows Firewall With Advanced Security/Firewall\"
        and EventID == 2008 | summarize AggregatedValue = count() by Computer | limit
        500000\r\n// Oql: Type=Event EventLog=\"Microsoft-Windows-Windows Firewall
        With Advanced Security/Firewall\" EventID=2008 | measure count() by Computer
        | top 500000 // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|WindowsFireawallPolicySettingsChangedByMachines","name":"LogManagement(clitest000002)_LogManagement|WindowsFireawallPolicySettingsChangedByMachines","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"All IIS Log Entries","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | sort by TimeGenerated
        desc\r\n// Oql: Type=W3CIISLog // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|ListAllIISLogEntries","name":"LogManagement(clitest000002)_LogManagement|ListAllIISLogEntries","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Shows breakdown of response codes","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = count() by scStatus\r\n// Oql: Type=W3CIISLog | Measure count() by scStatus
        // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} //
        Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|DisplayBreakdownRespondCodes","name":"LogManagement(clitest000002)_LogManagement|DisplayBreakdownRespondCodes","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Find the maximum time taken for each page","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = max(TimeTaken) by csUriStem\r\n// Oql: Type=W3CIISLog | Measure Max(TimeTaken)
        by csUriStem // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|FindMaximumTimeTakenForEachPage","name":"LogManagement(clitest000002)_LogManagement|FindMaximumTimeTakenForEachPage","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Shows which pages people are getting a 404 for","version":2,"query":"search
        scStatus == 404 | extend Type = $table | where Type == W3CIISLog | summarize
        AggregatedValue = count() by csUriStem\r\n// Oql: Type=W3CIISLog scStatus=404
        | Measure count() by csUriStem // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|Show404PagesList","name":"LogManagement(clitest000002)_LogManagement|Show404PagesList","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Average HTTP Request time by HTTP Method","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = avg(TimeTaken) by csMethod\r\n// Oql: Type=W3CIISLog | Measure Avg(TimeTaken)
        by csMethod // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|AverageHTTPRequestTimeHTTPMethod","name":"LogManagement(clitest000002)_LogManagement|AverageHTTPRequestTimeHTTPMethod","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Shows servers that are throwing internal server
        error","version":2,"query":"search scStatus == 500 | extend Type = $table
        | where Type == W3CIISLog | summarize AggregatedValue = count() by sComputerName\r\n//
        Oql: Type=W3CIISLog scStatus=500 | Measure count() by sComputerName // Args:
        {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} // Settings:
        {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|ShowServersThrowingInternalServerError","name":"LogManagement(clitest000002)_LogManagement|ShowServersThrowingInternalServerError","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of IIS Log Entries by HTTP Request Method","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = count() by csMethod\r\n// Oql: Type=W3CIISLog | Measure count() by csMethod
        // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} //
        Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|CountIISLogEntriesHTTPRequestMethod","name":"LogManagement(clitest000002)_LogManagement|CountIISLogEntriesHTTPRequestMethod","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of IIS Log Entries by HTTP User Agent","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = count() by csUserAgent\r\n// Oql: Type=W3CIISLog | Measure count() by csUserAgent
        // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} //
        Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|CountIISLogEntriesHTTPUserAgent","name":"LogManagement(clitest000002)_LogManagement|CountIISLogEntriesHTTPUserAgent","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of IIS Log Entries by Client IP Address","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = count() by cIP\r\n// Oql: Type=W3CIISLog | Measure count() by cIP // Args:
        {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} // Settings:
        {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|CountIISLogEntriesClientIPAddress","name":"LogManagement(clitest000002)_LogManagement|CountIISLogEntriesClientIPAddress","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"IIS Log Entries for a specific client IP Address
        (replace with your own)","version":2,"query":"search cIP == \"192.168.0.1\"
        | extend Type = $table | where Type == W3CIISLog | sort by TimeGenerated desc
        | project csUriStem, scBytes, csBytes, TimeTaken, scStatus\r\n// Oql: Type=W3CIISLog
        cIP=\"192.168.0.1\" | Select csUriStem,scBytes,csBytes,TimeTaken,scStatus
        // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} //
        Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|IISLogEntriesForClientIP","name":"LogManagement(clitest000002)_LogManagement|IISLogEntriesForClientIP","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of IIS Log Entries by URL requested by client
        (without query strings)","version":2,"query":"search * | extend Type = $table
        | where Type == W3CIISLog | summarize AggregatedValue = count() by csUriStem\r\n//
        Oql: Type=W3CIISLog | Measure count() by csUriStem // Args: {OQ: True; WorkspaceId:
        00000000-0000-0000-0000-000000000000} // Settings: {PEF: True; SortI: True;
        SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|CountOfIISLogEntriesByURLRequestedByClient","name":"LogManagement(clitest000002)_LogManagement|CountOfIISLogEntriesByURLRequestedByClient","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of IIS Log Entries by Host requested by client","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = count() by csHost\r\n// Oql: Type=W3CIISLog | Measure count() by csHost
        // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} //
        Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|CountOfIISLogEntriesByHostRequestedByClient","name":"LogManagement(clitest000002)_LogManagement|CountOfIISLogEntriesByHostRequestedByClient","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Count of IIS Log Entries by URL for the host \"www.contoso.com\"
        (replace with your own)","version":2,"query":"search csHost == \"www.contoso.com\"
        | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = count() by csUriStem\r\n// Oql: Type=W3CIISLog csHost=\"www.contoso.com\"
        | Measure count() by csUriStem // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|CountOfIISLogEntriesByURLForHost","name":"LogManagement(clitest000002)_LogManagement|CountOfIISLogEntriesByURLForHost","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Total Bytes sent by Client IP Address","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = sum(csBytes) by cIP\r\n// Oql: Type=W3CIISLog | Measure Sum(csBytes) by
        cIP // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|TotalBytesSentByClientIPAddress","name":"LogManagement(clitest000002)_LogManagement|TotalBytesSentByClientIPAddress","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Total Bytes received by each Azure Role Instance","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = sum(csBytes) by RoleInstance\r\n// Oql: Type=W3CIISLog | Measure Sum(csBytes)
        by RoleInstance // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|TotalBytesReceivedByEachAzureRoleInstance","name":"LogManagement(clitest000002)_LogManagement|TotalBytesReceivedByEachAzureRoleInstance","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Total Bytes received by each IIS Computer","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = sum(csBytes) by Computer | limit 500000\r\n// Oql: Type=W3CIISLog | Measure
        Sum(csBytes) by Computer | top 500000 // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|TotalBytesReceivedByEachIISComputer","name":"LogManagement(clitest000002)_LogManagement|TotalBytesReceivedByEachIISComputer","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Total Bytes responded back to clients by each IIS
        ServerIP Address","version":2,"query":"search * | extend Type = $table | where
        Type == W3CIISLog | summarize AggregatedValue = sum(scBytes) by sIP\r\n//
        Oql: Type=W3CIISLog | Measure Sum(scBytes) by sIP // Args: {OQ: True; WorkspaceId:
        00000000-0000-0000-0000-000000000000} // Settings: {PEF: True; SortI: True;
        SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|TotalBytesRespondedToClientsByEachIISServerIPAddress","name":"LogManagement(clitest000002)_LogManagement|TotalBytesRespondedToClientsByEachIISServerIPAddress","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Total Bytes responded back to clients by Client
        IP Address","version":2,"query":"search * | extend Type = $table | where Type
        == W3CIISLog | summarize AggregatedValue = sum(scBytes) by cIP\r\n// Oql:
        Type=W3CIISLog | Measure Sum(scBytes) by cIP // Args: {OQ: True; WorkspaceId:
        00000000-0000-0000-0000-000000000000} // Settings: {PEF: True; SortI: True;
        SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|TotalBytesRespondedToClientsByClientIPAddress","name":"LogManagement(clitest000002)_LogManagement|TotalBytesRespondedToClientsByClientIPAddress","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"Average HTTP Request time by Client IP Address","version":2,"query":"search
        * | extend Type = $table | where Type == W3CIISLog | summarize AggregatedValue
        = avg(TimeTaken) by cIP\r\n// Oql: Type=W3CIISLog | Measure Avg(TimeTaken)
        by cIP // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PEF: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|AverageHTTPRequestTimeByClientIPAddress","name":"LogManagement(clitest000002)_LogManagement|AverageHTTPRequestTimeByClientIPAddress","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"All Syslogs","version":2,"query":"Syslog | sort
        by TimeGenerated desc\r\n// Oql: Type=Syslog // Args: {OQ: True; WorkspaceId:
        00000000-0000-0000-0000-000000000000} // Settings: {PTT: True; SortI: True;
        SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|AllSyslog","name":"LogManagement(clitest000002)_LogManagement|AllSyslog","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"All Syslog Records with Errors","version":2,"query":"Syslog
        | where SeverityLevel == \"error\" | sort by TimeGenerated desc\r\n// Oql:
        Type=Syslog SeverityLevel=error // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|AllSyslogsWithErrors","name":"LogManagement(clitest000002)_LogManagement|AllSyslogsWithErrors","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"All Syslog Records grouped by Facility","version":2,"query":"Syslog
        | summarize AggregatedValue = count() by Facility\r\n// Oql: Type=Syslog |
        Measure count() by Facility // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|AllSyslogByFacility","name":"LogManagement(clitest000002)_LogManagement|AllSyslogByFacility","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"Log
        Management","displayName":"All Syslog Records grouped by ProcessName","version":2,"query":"Syslog
        | summarize AggregatedValue = count() by ProcessName\r\n// Oql: Type=Syslog
        | Measure count() by ProcessName // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_LogManagement|AllSyslogByProcessName","name":"LogManagement(clitest000002)_LogManagement|AllSyslogByProcessName","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"General
        Exploration","displayName":"Which Management Group is generating the most
        data points?","version":2,"query":"search * | summarize AggregatedValue =
        count() by ManagementGroupName\r\n// Oql: * | Measure count() by ManagementGroupName
        // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} //
        Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_General|dataPointsPerManagementGroup","name":"LogManagement(clitest000002)_General|dataPointsPerManagementGroup","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"General
        Exploration","displayName":"Distribution of data Types","version":2,"query":"search
        * | extend Type = $table | summarize AggregatedValue = count() by Type\r\n//
        Oql: * | Measure count() by Type // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_General|dataTypeDistribution","name":"LogManagement(clitest000002)_General|dataTypeDistribution","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"General
        Exploration","displayName":"All Computers with their most recent data","version":2,"query":"search
        not(ObjectName == \"Advisor Metrics\" or ObjectName == \"ManagedSpace\") |
        summarize AggregatedValue = max(TimeGenerated) by Computer | limit 500000
        | sort by Computer asc\r\n// Oql: NOT(ObjectName=\"Advisor Metrics\" OR ObjectName=ManagedSpace)
        | measure max(TimeGenerated) by Computer | top 500000 | Sort Computer // Args:
        {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000} // Settings:
        {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_General|AlphabeticallySortedComputers","name":"LogManagement(clitest000002)_General|AlphabeticallySortedComputers","type":"Microsoft.OperationalInsights/savedSearches"},{"properties":{"category":"General
        Exploration","displayName":"Stale Computers (data older than 24 hours)","version":2,"query":"search
        not(ObjectName == \"Advisor Metrics\" or ObjectName == \"ManagedSpace\") |
        summarize lastdata = max(TimeGenerated) by Computer | limit 500000 | where
        lastdata < ago(24h)\r\n// Oql: NOT(ObjectName=\"Advisor Metrics\" OR ObjectName=ManagedSpace)
        | measure max(TimeGenerated) as lastdata by Computer | top 500000 | where
        lastdata < NOW-24HOURS // Args: {OQ: True; WorkspaceId: 00000000-0000-0000-0000-000000000000}
        // Settings: {PTT: True; SortI: True; SortF: True} // Version: 0.1.122"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/LogManagement(clitest000002)_General|StaleComputers","name":"LogManagement(clitest000002)_General|StaleComputers","type":"Microsoft.OperationalInsights/savedSearches"}]}'
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2020-03-01-preview, 2020-08-01, 2020-10-01, 2021-03-01-privatepreview, 2021-06-01,
        2021-12-01-preview, 2022-10-01, 2023-01-01-preview, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '33793'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:24:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a,objectId=a7250e3a-0e5e-48e2-9a34-45f1f5e1a91e/eastus2euap/853ae60c-1c7a-4002-8fae-dc48834380ce
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace saved-search update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --workspace-name -n --category --display-name -q --fa --fp --tags
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest?api-version=2020-08-01
  response:
    body:
      string: '{"properties":{"category":"cli","displayName":"myclitest","version":2,"functionAlias":"myfun","functionParameters":"a:string
        = value","query":"Heartbeat | getschema","tags":[{"name":"a","value":"b"},{"name":"c","value":"d"}]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest","name":"clitest","type":"Microsoft.OperationalInsights/savedSearches","etag":"W/\"datetime''2025-02-22T07%3A24%3A04.1763631Z''\""}'
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2020-03-01-preview, 2020-08-01, 2020-10-01, 2021-03-01-privatepreview, 2021-06-01,
        2021-12-01-preview, 2022-10-01, 2023-01-01-preview, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '561'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:24:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a,objectId=a7250e3a-0e5e-48e2-9a34-45f1f5e1a91e/eastus2euap/42f01b85-2628-4323-915c-6a7b6dc196ac
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
    status:
      code: 200
      message: OK
- request:
    body: '{"etag": "W/\"datetime''2025-02-22T07%3A24%3A04.1763631Z''\"", "properties":
      {"category": "cli2", "displayName": "myclitest2", "functionAlias": "myfun2",
      "functionParameters": "a2:string = value", "query": "AzureActivity | summarize
      count() by bin(TimeGenerated, 1h)", "tags": [{"name": "a", "value": "c"}, {"name":
      "f", "value": "e"}], "version": 2}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace saved-search update
      Connection:
      - keep-alive
      Content-Length:
      - '349'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --workspace-name -n --category --display-name -q --fa --fp --tags
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest?api-version=2020-08-01
  response:
    body:
      string: '{"properties":{"category":"cli2","displayName":"myclitest2","version":2,"functionAlias":"myfun2","functionParameters":"a2:string
        = value","query":"AzureActivity | summarize count() by bin(TimeGenerated,
        1h)","tags":[{"name":"a","value":"c"},{"name":"f","value":"e"}]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest","name":"clitest","type":"Microsoft.OperationalInsights/savedSearches","etag":"W/\"datetime''2025-02-22T07%3A24%3A09.635194Z''\""}'
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2020-03-01-preview, 2020-08-01, 2020-10-01, 2021-03-01-privatepreview, 2021-06-01,
        2021-12-01-preview, 2022-10-01, 2023-01-01-preview, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '602'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 22 Feb 2025 07:24:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a,objectId=a7250e3a-0e5e-48e2-9a34-45f1f5e1a91e/eastus2euap/0ef5966e-8217-4211-a67c-95ae041d6082
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2998'
      x-ms-ratelimit-remaining-subscription-writes:
      - '198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor log-analytics workspace saved-search delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --workspace-name -n -y
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_monitor_workspace_saved_search000001/providers/Microsoft.OperationalInsights/workspaces/clitest000002/savedSearches/clitest?api-version=2020-08-01
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      api-supported-versions:
      - 2020-03-01-preview, 2020-08-01, 2020-10-01, 2021-03-01-privatepreview, 2021-06-01,
        2021-12-01-preview, 2022-10-01, 2023-01-01-preview, 2023-09-01, 2025-02-01,
        2025-04-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 22 Feb 2025 07:24:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:e6336c63-aab2-45f0-996a-e5dbab2a1508
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a,objectId=a7250e3a-0e5e-48e2-9a34-45f1f5e1a91e/eastus2euap/a0541a8c-b126-4054-8d29-5fe9e0b5d05c
      x-ms-ratelimit-remaining-subscription-deletes:
      - '198'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '2998'
    status:
      code: 200
      message: OK
version: 1
