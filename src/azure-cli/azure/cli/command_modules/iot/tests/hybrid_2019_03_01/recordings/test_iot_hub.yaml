interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json, text/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/storageAccounts?api-version=2017-10-01
  response:
    body:
      string: '{"value":[{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/damoblob","name":"damoblob","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"},"table":{"enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"},"queue":{"enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-01-16T13:36:12.3527692Z","primaryEndpoints":{"blob":"https://damoblob.blob.core.windows.net/","queue":"https://damoblob.queue.core.windows.net/","table":"https://damoblob.table.core.windows.net/","file":"https://damoblob.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"blob":"https://damoblob-secondary.blob.core.windows.net/","queue":"https://damoblob-secondary.queue.core.windows.net/","table":"https://damoblob-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/damosynapsedemo","name":"damosynapsedemo","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-07-20T09:25:06.6103115Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-07-20T09:25:06.6103115Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-07-20T09:25:06.5010508Z","primaryEndpoints":{"blob":"https://damosynapsedemo.blob.core.windows.net/","queue":"https://damosynapsedemo.queue.core.windows.net/","table":"https://damosynapsedemo.table.core.windows.net/","file":"https://damosynapsedemo.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cyjackso/providers/Microsoft.Storage/storageAccounts/ebsv2","name":"ebsv2","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-04-04T09:57:38.4376280Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-04-04T09:57:38.4376280Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-04T09:57:38.2970213Z","primaryEndpoints":{"blob":"https://ebsv2.blob.core.windows.net/","queue":"https://ebsv2.queue.core.windows.net/","table":"https://ebsv2.table.core.windows.net/","file":"https://ebsv2.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/him-rg/providers/Microsoft.Storage/storageAccounts/himstorageacc","name":"himstorageacc","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-06-30T07:12:43.1407222Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-06-30T07:12:43.1407222Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-06-30T07:12:43.0313726Z","primaryEndpoints":{"blob":"https://himstorageacc.blob.core.windows.net/","queue":"https://himstorageacc.queue.core.windows.net/","table":"https://himstorageacc.table.core.windows.net/","file":"https://himstorageacc.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"blob":"https://himstorageacc-secondary.blob.core.windows.net/","queue":"https://himstorageacc-secondary.queue.core.windows.net/","table":"https://himstorageacc-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/pranjit_RG1/providers/Microsoft.Storage/storageAccounts/pranjitstorageac","name":"pranjitstorageac","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-12-16T19:16:55.7870505Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-12-16T19:16:55.7870505Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-12-16T19:16:55.6620361Z","primaryEndpoints":{"blob":"https://pranjitstorageac.blob.core.windows.net/","queue":"https://pranjitstorageac.queue.core.windows.net/","table":"https://pranjitstorageac.table.core.windows.net/","file":"https://pranjitstorageac.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/riddhi-resource-group/providers/Microsoft.Storage/storageAccounts/riddhistorage","name":"riddhistorage","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-06-07T13:12:11.0999828Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-06-07T13:12:11.0999828Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-06-07T13:12:10.9905948Z","primaryEndpoints":{"blob":"https://riddhistorage.blob.core.windows.net/","queue":"https://riddhistorage.queue.core.windows.net/","table":"https://riddhistorage.table.core.windows.net/","file":"https://riddhistorage.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/pranjit_RG1/providers/Microsoft.Storage/storageAccounts/storageaccountpranj8945","name":"storageaccountpranj8945","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-12-17T18:48:57.2071783Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-12-17T18:48:57.2071783Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-12-17T18:48:57.0671196Z","primaryEndpoints":{"blob":"https://storageaccountpranj8945.blob.core.windows.net/","queue":"https://storageaccountpranj8945.queue.core.windows.net/","table":"https://storageaccountpranj8945.table.core.windows.net/","file":"https://storageaccountpranj8945.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shatabdiRg/providers/Microsoft.Storage/storageAccounts/storageaccountshatab88c","name":"storageaccountshatab88c","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-10-27T07:32:35.2856037Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-10-27T07:32:35.2856037Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-10-27T07:32:35.1605900Z","primaryEndpoints":{"blob":"https://storageaccountshatab88c.blob.core.windows.net/","queue":"https://storageaccountshatab88c.queue.core.windows.net/","table":"https://storageaccountshatab88c.table.core.windows.net/","file":"https://storageaccountshatab88c.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/VijaySharma-TestGroup/providers/Microsoft.Storage/storageAccounts/vijaysharmasamplestorage","name":"vijaysharmasamplestorage","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-03-27T10:51:31.0458710Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-03-27T10:51:31.0458710Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-03-27T10:51:30.9209071Z","primaryEndpoints":{"blob":"https://vijaysharmasamplestorage.blob.core.windows.net/","queue":"https://vijaysharmasamplestorage.queue.core.windows.net/","table":"https://vijaysharmasamplestorage.table.core.windows.net/","file":"https://vijaysharmasamplestorage.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"blob":"https://vijaysharmasamplestorage-secondary.blob.core.windows.net/","queue":"https://vijaysharmasamplestorage-secondary.queue.core.windows.net/","table":"https://vijaysharmasamplestorage-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-04-21T07:55:41.0930455Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-04-21T07:55:41.0930455Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-04-21T07:55:40.9992899Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/storageaccountdamoda0fc","name":"storageaccountdamoda0fc","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-10-21T10:05:56.5115138Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-10-21T10:05:56.5115138Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-10-21T10:05:56.4020829Z","primaryEndpoints":{"blob":"https://storageaccountdamoda0fc.blob.core.windows.net/","queue":"https://storageaccountdamoda0fc.queue.core.windows.net/","table":"https://storageaccountdamoda0fc.table.core.windows.net/","file":"https://storageaccountdamoda0fc.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/riddhi-resource-group/providers/Microsoft.Storage/storageAccounts/storageaccountriddh9e2e","name":"storageaccountriddh9e2e","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-06-08T10:12:01.4250498Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-06-08T10:12:01.4250498Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-06-08T10:12:01.3313638Z","primaryEndpoints":{"blob":"https://storageaccountriddh9e2e.blob.core.windows.net/","queue":"https://storageaccountriddh9e2e.queue.core.windows.net/","table":"https://storageaccountriddh9e2e.table.core.windows.net/","file":"https://storageaccountriddh9e2e.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/VijaySharma-TestGroup/providers/Microsoft.Storage/storageAccounts/vijaysharmatestgrou83ca","name":"vijaysharmatestgrou83ca","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-03-27T23:33:05.7224335Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-03-27T23:33:05.7224335Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-03-27T23:33:05.6139329Z","primaryEndpoints":{"blob":"https://vijaysharmatestgrou83ca.blob.core.windows.net/","queue":"https://vijaysharmatestgrou83ca.queue.core.windows.net/","table":"https://vijaysharmatestgrou83ca.table.core.windows.net/","file":"https://vijaysharmatestgrou83ca.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/charvak-dev/providers/Microsoft.Storage/storageAccounts/charvakosdisk","name":"charvakosdisk","type":"Microsoft.Storage/storageAccounts","location":"australiaeast","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-04-15T07:15:35.3048310Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-04-15T07:15:35.3048310Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-15T07:15:35.2266427Z","primaryEndpoints":{"blob":"https://charvakosdisk.blob.core.windows.net/","queue":"https://charvakosdisk.queue.core.windows.net/","table":"https://charvakosdisk.table.core.windows.net/","file":"https://charvakosdisk.file.core.windows.net/"},"primaryLocation":"australiaeast","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/nsalian-test-rg/providers/Microsoft.Storage/storageAccounts/nsaliantestst","name":"nsaliantestst","type":"Microsoft.Storage/storageAccounts","location":"southindia","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-02-08T09:11:43.1571062Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-02-08T09:11:43.1571062Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-02-08T09:11:43.0790254Z","primaryEndpoints":{"blob":"https://nsaliantestst.blob.core.windows.net/","queue":"https://nsaliantestst.queue.core.windows.net/","table":"https://nsaliantestst.table.core.windows.net/","file":"https://nsaliantestst.file.core.windows.net/"},"primaryLocation":"southindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shatabdiRg/providers/Microsoft.Storage/storageAccounts/skundustgacc","name":"skundustgacc","type":"Microsoft.Storage/storageAccounts","location":"southindia","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-10-27T07:57:01.8840425Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-10-27T07:57:01.8840425Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-10-27T07:57:01.8215607Z","primaryEndpoints":{"blob":"https://skundustgacc.blob.core.windows.net/","queue":"https://skundustgacc.queue.core.windows.net/","table":"https://skundustgacc.table.core.windows.net/","file":"https://skundustgacc.file.core.windows.net/"},"primaryLocation":"southindia","statusOfPrimary":"available","secondaryLocation":"centralindia","statusOfSecondary":"available","secondaryEndpoints":{"blob":"https://skundustgacc-secondary.blob.core.windows.net/","queue":"https://skundustgacc-secondary.queue.core.windows.net/","table":"https://skundustgacc-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-centralindia/providers/Microsoft.Storage/storageAccounts/csg100320015064ff5f","name":"csg100320015064ff5f","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-04-07T16:44:45.3744471Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-04-07T16:44:45.3744471Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-07T16:44:45.3119657Z","primaryEndpoints":{"blob":"https://csg100320015064ff5f.blob.core.windows.net/","queue":"https://csg100320015064ff5f.queue.core.windows.net/","table":"https://csg100320015064ff5f.table.core.windows.net/","file":"https://csg100320015064ff5f.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-centralindia/providers/Microsoft.Storage/storageAccounts/csg10032001560abba4","name":"csg10032001560abba4","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-04-04T06:14:36.9902394Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-04-04T06:14:36.9902394Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-04T06:14:36.9277374Z","primaryEndpoints":{"blob":"https://csg10032001560abba4.blob.core.windows.net/","queue":"https://csg10032001560abba4.queue.core.windows.net/","table":"https://csg10032001560abba4.table.core.windows.net/","file":"https://csg10032001560abba4.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-centralindia/providers/Microsoft.Storage/storageAccounts/csg10032001b008491d","name":"csg10032001b008491d","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2022-03-11T12:28:09.0877258Z"},"blob":{"enabled":true,"lastEnabledTime":"2022-03-11T12:28:09.0877258Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-03-11T12:28:09.0095547Z","primaryEndpoints":{"blob":"https://csg10032001b008491d.blob.core.windows.net/","queue":"https://csg10032001b008491d.queue.core.windows.net/","table":"https://csg10032001b008491d.table.core.windows.net/","file":"https://csg10032001b008491d.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/damodemoappblob","name":"damodemoappblob","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-07-09T06:05:38.5911626Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-07-09T06:05:38.5911626Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-07-09T06:05:38.5438678Z","primaryEndpoints":{"blob":"https://damodemoappblob.blob.core.windows.net/","queue":"https://damodemoappblob.queue.core.windows.net/","table":"https://damodemoappblob.table.core.windows.net/","file":"https://damodemoappblob.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available","secondaryLocation":"southindia","statusOfSecondary":"available","secondaryEndpoints":{"blob":"https://damodemoappblob-secondary.blob.core.windows.net/","queue":"https://damodemoappblob-secondary.queue.core.windows.net/","table":"https://damodemoappblob-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/storageaccountdamodba79","name":"storageaccountdamodba79","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-07-09T08:19:48.6543613Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-07-09T08:19:48.6543613Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-07-09T08:19:48.5918555Z","primaryEndpoints":{"blob":"https://storageaccountdamodba79.blob.core.windows.net/","queue":"https://storageaccountdamodba79.queue.core.windows.net/","table":"https://storageaccountdamodba79.table.core.windows.net/","file":"https://storageaccountdamodba79.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/riddhi-resource-group/providers/Microsoft.Storage/storageAccounts/sflogsriddgservicefa4845","name":"sflogsriddgservicefa4845","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{"resourceType":"Service
        Fabric","clusterName":"riddg-servicefabric"},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":false,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2021-07-16T12:59:45.1850422Z"},"blob":{"enabled":true,"lastEnabledTime":"2021-07-16T12:59:45.1850422Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-07-16T12:59:45.1068732Z","primaryEndpoints":{"blob":"https://sflogsriddgservicefa4845.blob.core.windows.net/","queue":"https://sflogsriddgservicefa4845.queue.core.windows.net/","table":"https://sflogsriddgservicefa4845.table.core.windows.net/","file":"https://sflogsriddgservicefa4845.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '25773'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:56:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - 5f90fb9d-47b7-45b2-981c-24ff0ed155e4
      - d8ef438e-fe57-41a6-afb4-2ca6ac0f617d
      - ece58081-9a61-4171-9da3-bd4afdfa82f2
      - 62c45f86-eb9f-4356-a790-33032410ff2a
      - 8e5e1253-27f5-42f5-8906-c1b49b38c3a9
      - 64e7843a-aaf9-4108-a919-08446a5a97b6
      - 8e367756-82e3-414f-80ef-6229e36c06cc
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json, text/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2017-10-01
  response:
    body:
      string: '{"keys":[{"keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '168'
      content-type:
      - application/json
      date:
      - Thu, 21 Apr 2022 07:56:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - Azure-Storage/1.2.0rc1-1.2.0rc1 (Python CPython 3.6.2; Windows 10) AZURECLI/2.35.0
      x-ms-date:
      - Thu, 21 Apr 2022 07:56:01 GMT
      x-ms-version:
      - '2017-11-09'
    method: PUT
    uri: https://clitest000002.blob.core.windows.net/iothubcontainer20190301?restype=container
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 07:56:01 GMT
      etag:
      - '"0x8DA236C6146C9B1"'
      last-modified:
      - Thu, 21 Apr 2022 07:56:02 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-version:
      - '2017-11-09'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json, text/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2017-10-01
  response:
    body:
      string: '{"keys":[{"keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '168'
      content-type:
      - application/json
      date:
      - Thu, 21 Apr 2022 07:56:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-04-21T07:55:32Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '267'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:56:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "sku": {"name": "Standard", "tier": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      Content-Length:
      - '72'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-21T07:56:07.773Z","updatedAt":"2022-04-21T07:56:07.773Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '779'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:56:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '49'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-21T07:56:07.773Z","updatedAt":"2022-04-21T07:56:07.773Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '779'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:56:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Succeeded","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-21T07:56:07.773Z","updatedAt":"2022-04-21T07:57:00.46Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Active"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '776'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Succeeded","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-21T07:56:07.773Z","updatedAt":"2022-04-21T07:57:00.46Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Active"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '776'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --namespace-name --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest?api-version=2021-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest","name":"eventHubiothubfortest","type":"Microsoft.EventHub/Namespaces/EventHubs","location":"West
        US 2","properties":{"messageRetentionInDays":7,"partitionCount":4,"status":"Active","createdAt":"2022-04-21T07:57:12.217Z","updatedAt":"2022-04-21T07:57:12.49Z","partitionIds":["0","1","2","3"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '489'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"rights": ["Send"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub authorization-rule create
      Connection:
      - keep-alive
      Content-Length:
      - '36'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --namespace-name --eventhub-name --name --rights
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest/authorizationRules/eventHubPolicyiothubfortest?api-version=2021-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest/authorizationRules/eventHubPolicyiothubfortest","name":"eventHubPolicyiothubfortest","type":"Microsoft.EventHub/Namespaces/EventHubs/AuthorizationRules","location":"West
        US 2","properties":{"rights":["Send"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '405'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub authorization-rule keys list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --namespace-name --eventhub-name --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest/authorizationRules/eventHubPolicyiothubfortest/listKeys?api-version=2021-11-01
  response:
    body:
      string: '{"primaryConnectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=;EntityPath=eventHubiothubfortest","secondaryConnectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=WQbZMhXwx6PaFsHgGcqhimYD6z0tRoiGNgQ9yySHVEg=;EntityPath=eventHubiothubfortest","primaryKey":"gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=","secondaryKey":"WQbZMhXwx6PaFsHgGcqhimYD6z0tRoiGNgQ9yySHVEg=","keyName":"eventHubPolicyiothubfortest"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '647'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-04-21T07:55:32Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '267'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"eventHubEndpoints": {"events":
      {"retentionTimeInDays": 3, "partitionCount": 4}}, "storageEndpoints": {"$default":
      {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT20H",
      "maxDeliveryCount": 79}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 89, "defaultTtlAsIso8601": "PT23H", "feedback": {"lockDurationAsIso8601":
      "PT35S", "ttlAsIso8601": "P1DT5H", "maxDeliveryCount": 40}}}, "sku": {"name":
      "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '609'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOThhOWM2NzEtMzY1Yy00NTVkLWIzNjgtMmI5M2I0NjAyMDIxO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1052'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOThhOWM2NzEtMzY1Yy00NTVkLWIzNjgtMmI5M2I0NjAyMDIxO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:57:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOThhOWM2NzEtMzY1Yy00NTVkLWIzNjgtMmI5M2I0NjAyMDIxO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:58:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOThhOWM2NzEtMzY1Yy00NTVkLWIzNjgtMmI5M2I0NjAyMDIxO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:58:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOThhOWM2NzEtMzY1Yy00NTVkLWIzNjgtMmI5M2I0NjAyMDIxO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1576'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1588'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/iothubowner/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1588'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/iothubowner/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1588'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --all
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '905'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --all
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1588'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1588'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1588'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTeIk=", "properties":
      {"ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1109'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTeIk=''}'
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTeIk=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMTQwYjY0MTAtYjZmNi00ODkxLTlmZTItYzNlZGM2NzU0ZjNhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4228'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 07:59:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMTQwYjY0MTAtYjZmNi00ODkxLTlmZTItYzNlZGM2NzU0ZjNhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTefs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTefs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTefs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list-skus
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTefs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list-skus
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/skus?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S1","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S2","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S3","tier":"Standard"},"capacity":{"minimum":1,"maximum":10,"default":1,"scaleType":"Manual"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '475'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTefs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '905'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTefs=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=",
      "secondaryKey": "bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=",
      "secondaryKey": "/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=",
      "secondaryKey": "P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=",
      "secondaryKey": "WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=",
      "secondaryKey": "Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "rights": "RegistryWrite, ServiceConnect, DeviceConnect"}],
      "ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '2132'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTefs=''}'
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTefs=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"vPnrlflrVSvueOAXMbPucuZmxv/XZGs8F2pFTGlmRuc=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMGJlNWJmYTktZGFhZi00ZGMyLWI0NDItYjdlYTZjMmQ5MDUzO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4432'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMGJlNWJmYTktZGFhZi00ZGMyLWI0NDItYjdlYTZjMmQ5MDUzO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTe/4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTe/4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"vPnrlflrVSvueOAXMbPucuZmxv/XZGs8F2pFTGlmRuc=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTe/4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy show
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"vPnrlflrVSvueOAXMbPucuZmxv/XZGs8F2pFTGlmRuc=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTe/4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"vPnrlflrVSvueOAXMbPucuZmxv/XZGs8F2pFTGlmRuc=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTe/4=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=",
      "secondaryKey": "bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=",
      "secondaryKey": "/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=",
      "secondaryKey": "P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=",
      "secondaryKey": "WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=",
      "secondaryKey": "Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "primaryKey": "nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=",
      "secondaryKey": "2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}], "ipFilterRules": [], "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '2258'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTe/4=''}'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTe/4=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:00:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:00:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:00:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:00:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","PrimaryKey":"vPnrlflrVSvueOAXMbPucuZmxv/XZGs8F2pFTGlmRuc=","SecondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:00:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:00:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmRkZmFkMWYtNzJhOS00YTNlLWE5ZTMtZWE2NDRlZmZjZGM1O3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4743'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:00:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmRkZmFkMWYtNzJhOS00YTNlLWE5ZTMtZWE2NDRlZmZjZGM1O3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfYw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfYw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfYw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfYw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfYw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","secondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTfYw=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=",
      "secondaryKey": "bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=",
      "secondaryKey": "/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=",
      "secondaryKey": "P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=",
      "secondaryKey": "WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=",
      "secondaryKey": "Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "primaryKey": "2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=",
      "secondaryKey": "nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}], "ipFilterRules": [], "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '2258'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTfYw=''}'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfYw=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","secondaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:01:20 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:01:20 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:01:20 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:01:20 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","PrimaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","SecondaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:01:20 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:01:20 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMzg0NGY3OWItMTE3OC00NDdjLWFkYzYtOTJiZjhiNmVmZDYxO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4743'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:01:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMzg0NGY3OWItMTE3OC00NDdjLWFkYzYtOTJiZjhiNmVmZDYxO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfzk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfzk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","secondaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfzk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","secondaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","secondaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTfzk=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=",
      "secondaryKey": "bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=",
      "secondaryKey": "/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=",
      "secondaryKey": "P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=",
      "secondaryKey": "WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=",
      "secondaryKey": "Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=", "rights": "RegistryWrite"}],
      "ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '2046'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTfzk=''}'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTfzk=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:01 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:01 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:01 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:01 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","PrimaryKey":"2WWABmSZhKIqC1VXNJbKMrvJWZ6j0ZIFCymTF7zbpS4=","SecondaryKey":"nn/QHx4OC9KpYggdnXXeOcnCQwxtau8XYqtQPHZfoYU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:01 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:01 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTg0NGI1MTMtZmJkMC00M2M1LWJlNTktYjliYTQ4ODkxMmFhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4539'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTg0NGI1MTMtZmJkMC00M2M1LWJlNTktYjliYTQ4ODkxMmFhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '905'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2019-03-22
  response:
    body:
      string: '{"properties":{"created":"Thu, 21 Apr 2022 08:02:53 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2019-03-22
  response:
    body:
      string: '{"properties":{"created":"Thu, 21 Apr 2022 08:02:53 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"properties":{"created":"Thu, 21 Apr 2022 07:58:51 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/%24Default","name":"$Default","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null},{"properties":{"created":"Thu,
        21 Apr 2022 08:02:53 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2019-03-22
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:02:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:02:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"properties":{"created":"Thu, 21 Apr 2022 07:58:51 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/%24Default","name":"$Default","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '372'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-quota-metrics
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-quota-metrics
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/quotaMetrics?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"name":"TotalMessages","currentValue":0,"maxValue":400000},{"name":"TotalDeviceCount","currentValue":0,"maxValue":1000000}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '135'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-stats
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1718'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-stats
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubStats?api-version=2019-03-22
  response:
    body:
      string: '{"totalDeviceCount":0,"enabledDeviceCount":0,"disabledDeviceCount":0}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '69'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:03:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTgQg=", "properties":
      {"ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [{"connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": []}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '1434'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTgQg=''}'
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgQg=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmY0NjU2MmUtOGEyMi00OTQ1LWFlYzktZTVkMDEzNzE1MDQyO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4614'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmY0NjU2MmUtOGEyMi00OTQ1LWFlYzktZTVkMDEzNzE1MDQyO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2057'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:03:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2057'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:03:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2057'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:03:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2057'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:03:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2057'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTgnA=", "properties":
      {"ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [{"connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '1865'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTgnA=''}'
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTgnA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTIwMjRiNTgtNDJlNy00MTI5LThhYTgtMTA3ZTdjZTM4Mzk0O3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:03:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTIwMjRiNTgtNDJlNy00MTI5LThhYTgtMTA3ZTdjZTM4Mzk0O3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:04:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTg+o=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2526'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:04:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:04:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:04:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTg+o=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2526'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:04:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTg+o=", "properties":
      {"ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [{"connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [{"name":
      "route1", "source": "devicemessages", "condition": "true", "endpointNames":
      ["Event1"], "isEnabled": true}], "fallbackRoute": {"name": "$fallback", "source":
      "DeviceMessages", "condition": "true", "endpointNames": ["events"], "isEnabled":
      true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      Content-Length:
      - '1956'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTg+o=''}'
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTg+o=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTAzMmU5YmUtYTkzYS00NTBjLWFlMzctNzdjZTA3YmRjNjBiO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5213'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:04:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTAzMmU5YmUtYTkzYS00NTBjLWFlMzctNzdjZTA3YmRjNjBiO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:05:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTAzMmU5YmUtYTkzYS00NTBjLWFlMzctNzdjZTA3YmRjNjBiO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:05:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTAzMmU5YmUtYTkzYS00NTBjLWFlMzctNzdjZTA3YmRjNjBiO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTht8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:06:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTht8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:06:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTht8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:06:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTht8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:06:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTht8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"message": {}, "route": {"name": "route1", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["Event1"], "isEnabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '141'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/routing/routes/$testnew?api-version=2019-03-22
  response:
    body:
      string: '{"result":"true"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '17'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1195'
    status:
      code: 200
      message: OK
- request:
    body: '{"routingSource": "devicemessages", "message": {}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '50'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/routing/routes/$testall?api-version=2019-03-22
  response:
    body:
      string: '{"routes":[{"properties":{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:06:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTht8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTht8=", "properties":
      {"ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [{"connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [{"name":
      "route1", "source": "twinchangeevents", "condition": "true", "endpointNames":
      ["Event1"], "isEnabled": true}], "fallbackRoute": {"name": "$fallback", "source":
      "DeviceMessages", "condition": "true", "endpointNames": ["events"], "isEnabled":
      true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '1958'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTht8=''}'
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTht8=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNGEyOWM2ODQtMTY5ZC00YjI4LWEyNTktYTU1ZjAyMGI2MDYyO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5215'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNGEyOWM2ODQtMTY5ZC00YjI4LWEyNTktYTU1ZjAyMGI2MDYyO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTiMw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2634'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:06:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:06:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTiMw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2634'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:07:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTiMw=", "properties":
      {"ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [{"connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      Content-Length:
      - '1841'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTiMw=''}'
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTiMw=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=gFfnvL2BizT4tyonL8HToVe75hTQ/gFud/hAOfSGAck=;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNDRmODdkMWQtZmI2Yi00MDA5LTk3OTAtMjBmNGYwMzU5Nzg3O3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:07:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4997'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNDRmODdkMWQtZmI2Yi00MDA5LTk3OTAtMjBmNGYwMzU5Nzg3O3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:07:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTieE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2526'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:07:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:07:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:07:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTieE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"195a5339-df1f-4886-a6b3-cfd9a004946b","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2526'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:07:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcTieE=", "properties":
      {"ipFilterRules": [], "eventHubEndpoints": {"events": {"retentionTimeInDays":
      4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues": [],
      "serviceBusTopics": [], "eventHubs": [], "storageContainers": [{"connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '1527'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcTieE=''}'
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTieE=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","secondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","secondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"6Jiq7mjFrUd67DNUCQ+ESwT0vILM44KxGES3kXePQD4=","secondaryKey":"P71noDBMVsOTvCoBwS4YK7/PXaBjHX42DrLOaFCQSkw=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"ysH2Ti4lrKTwZLuDVpqq7UbYUNK5/s2rTqGHpq0m4/8=","secondaryKey":"WZYVCTwQ3+NJ0mp552bjHkZlbOtAwgTl8RMQPJ4S6EU=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"svW7daY645JFn8EJrPCh3lUg6v/XaTot7kq68b2HgME=","secondaryKey":"Mcw621FFDD1HGtQ6KNb4B8cwPqRNB0RhRsOf3NbHVro=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-40fa7f43-c29b-4529-ae7a-900f870b584d-iothub","PrimaryKey":"ij5XOdOziGTVh//CUEOOeGOHsCDrwfPIKhGmzbedvx4=","SecondaryKey":"QU9Nzm/XjqpS0Vi4Lrlp7PSKjhfItzkUd0wGDEWoF64=","Rights":["Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-a6d981af-8237-4217-b0d3-54e822b11794-iothub","PrimaryKey":"t/QzPEvskrX4fQ4+g5k0VmKa0SkT8KwwQQzj2OnOSvA=","SecondaryKey":"K2rtfhX0luiuZXWSvCcBxH+esn6h94xwG2SRUi1oGyM=","Rights":["Listen","Manage","Send"],"CreatedTime":"Thu,
        21 Apr 2022 07:58:49 GMT","ModifiedTime":"Thu, 21 Apr 2022 07:58:49 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"FLnqLDD/izhZyzd8eECPT5fN23fnYzvzi1fxae96NMU=","SecondaryKey":"bZUO2c3R0PccjfSUzaskBubiQNqbjdvUav7IK8WPPVA=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"+kn2/aePC/ImcC125EDeLMp3Nq/804ktVJLMz0cqJ0s=","SecondaryKey":"/gWTFfn+ggTkYm2vYDBV7nQ4Kejsk5y/qiSY2un6kmU=","Rights":["Listen"],"CreatedTime":"Thu,
        21 Apr 2022 08:02:40 GMT","ModifiedTime":"Thu, 21 Apr 2022 08:02:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYWI3YWE0ODUtNzRhMy00MDVjLTgwZTItMWVjZGExZDM1NTdiO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:07:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYWI3YWE0ODUtNzRhMy00MDVjLTgwZTItMWVjZGExZDM1NTdiO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:08:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTi1g=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2175'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:08:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:08:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:08:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTi1g=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-7cde70642b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2175'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:08:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"failoverRegion": "West Central US"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/failover?api-version=2019-03-22
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:08:20 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:08:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:09:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:09:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:10:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:10:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:11:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:11:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:12:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:12:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:13:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:13:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:14:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:14:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:15:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:15:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:16:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:16:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:17:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:17:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:18:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:18:10 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMmJhODc0M2ItNGI1NC00MGVmLTkwMzctOGRjMjBhYmQwMjhhO3JlZ2lvbj13ZXN0dXMy?api-version=2019-03-22&operationSource=other
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Thu, 21 Apr 2022 08:18:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:18:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTn40=","properties":{"locations":[{"location":"West
        Central US","role":"primary"},{"location":"West US 2","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-bae741b591.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2175'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:18:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-03-22
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcTn40=","properties":{"locations":[{"location":"West
        Central US","role":"primary"},{"location":"West US 2","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18755652-bae741b591.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"069e2b34-5f1c-4c55-99ec-ed180d3f2c03","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2187'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:18:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2019-03-22
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDBjZjIwNzctNzU3ZS00OTJiLWI2YmMtZTczMDY2YzU0NWY2O3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2019-03-22&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:18:15 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDBjZjIwNzctNzU3ZS00OTJiLWI2YmMtZTczMDY2YzU0NWY2O3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2019-03-22&operationSource=other
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDBjZjIwNzctNzU3ZS00OTJiLWI2YmMtZTczMDY2YzU0NWY2O3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:18:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDBjZjIwNzctNzU3ZS00OTJiLWI2YmMtZTczMDY2YzU0NWY2O3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2019-03-22&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 21 Apr 2022 08:19:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
