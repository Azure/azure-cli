interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:35 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Amhb3yiUxi9MnVyf4AXlrRg; expires=Thu, 26-Mar-2020 19:38:35 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH89dbF9AJQJ6APyPRYP2TUDLb3M4ZgzN3Xit5D0wm4ZcvJKn1Nj3uu-EiC90llDN5ilUNoUJ-D6UUwN2PUMRQp2PfFPpyH50TX6DD2SvImSdXLB54-VNBHWWY806pDPkxhzdfK0A6lhODTA571IlWjQfAxNyJO3RmQJfjnOQ75cbcgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123''
        under resource group ''clitest.rg000001'' was not found."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '236'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:36 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Atgk26x16G1DuaHeZDv05JA; expires=Thu, 26-Mar-2020 19:38:36 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8-aEojrFP8MsCNx29iAbSWE51HySQPyHnaE25JUdxPBp0YkvtJX52Px4pa0rZVlcbf29Z7nGNaCss_AZ9pATnaB0xB3b0X67cmt-HcOQIgGDwHksPe2ZFPa3vtIzF4r3XGzsH6U5wRLySUpmM3uy5gIiX7z8XMK-6Ucgj23Ll4dcgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --name --redirect-url --tags
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123''
        under resource group ''clitest.rg000001'' was not found."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '236'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:37 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AgTcdsUNGPtDicdD6y7lmPs; expires=Thu, 26-Mar-2020 19:38:37 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH87pO7-zwylnUTn13XqcdAHxUd7DxPFoAhYin8Rq7Ux8EdKVaVGnP_twnCvHyvmNkMJ5n-9ePKPP0k-aCEkG7gdS1ohY0T7dy125oJF1MVX0bGgPANB2Jcdvdq4ow3VyVDOlnIM5PU1h4JHGDIMs5r4X0xe4RGSm1vIf9_bXKafbggAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {"foo": "bar"}, "properties": {"policySettings":
      {"enabledState": "Enabled", "mode": "Detection", "defaultRedirectUrl": "https://example.com"}},
      "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy set
      Connection:
      - keep-alive
      Content-Length:
      - '214'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --name --redirect-url --tags
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '907'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:40 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:41 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=ArBkkiGgMVBJnlIdr8VL-7Q; expires=Thu, 26-Mar-2020 19:38:41 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8lG7m1SatLZnBwAgijk_9UyFiMVCLNlzXvY53_Pkh2CCTf15yQPj7VRe6Ngx78oGo5ng2Le9qUguC0deqenPVYmEcgYMV4HTp8rdRd5wTRw-nsIosWZGR6Ku8M35pLvDSb8tnyteNvVvIrBvyFaG8kFctdfki24J70aRxMifLA-AgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '907'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:42 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:42 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Aj_3Lcn6HQ1GozozF89ZiNs; expires=Thu, 26-Mar-2020 19:38:43 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8-z9xxD17GL_BauNhk8eEUW3vyqcj6CqM8yjBFihsw5YED13xIxL15x9y3M5SZQCbj7ah0_OjSZlcYgxq3RPuN1TUgTzc7eC8Va5la4dWJqeUGY4bmIeYJhnJCsfp3eXGljJdmNrNi9BMnj4ItT7hZbVq2FnaI4fbA20bwzgg2LcgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"value\":[\r\n    {\r\n      \"name\":\"policy123\",\"id\"\
        :\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n        \"foo\":\"bar\"\r\n      },\"location\":\"Global\",\"sku\":{\r\n\
        \        \"name\":\"Standard_Microsoft\"\r\n      },\"properties\":{\r\n \
        \       \"resourceState\":\"Enabled\",\"provisioningState\":\"Succeeded\"\
        ,\"policySettings\":{\r\n          \"enabledState\":\"Enabled\",\"mode\":\"\
        Detection\",\"defaultRedirectUrl\":\"https://example.com\",\"defaultCustomBlockResponseStatusCode\"\
        :null,\"defaultCustomBlockResponseBody\":null\r\n        },\"rateLimitRules\"\
        :{\r\n          \"rules\":[\r\n            \r\n          ]\r\n        },\"\
        customRules\":{\r\n          \"rules\":[\r\n            \r\n          ]\r\n\
        \        },\"managedRules\":{\r\n          \"managedRuleSets\":[\r\n     \
        \       \r\n          ]\r\n        },\"endpointLinks\":[\r\n          \r\n\
        \        ]\r\n      }\r\n    }\r\n  ]\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1031'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:44 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:45 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Al6g_qgNRP5LmKQUrR94pxo; expires=Thu, 26-Mar-2020 19:38:45 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8IPt0Bk1viqH4d64aJS7DW6-07HemmMf9eO_DOlqFl2JKMEl3OUjix8q6r1jP3yN95_JIC6XrzShMGVNH_vXxxaO3dAtQEvr4_t5mbzWKlObLeltq8HpfFHq1DKY7aBy19m5-7SYtuXzA7ogYM5Sxvyh9uUKRckfmM0Pt1qaEyhYgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '907'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:47 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:48 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AqiCNX6UushOmanLjzpDjBM; expires=Thu, 26-Mar-2020 19:38:48 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8brKnOjUXxUyD2hP11ISLo4l8b_0iottmzuY4COtZic_RsEbsa1hPLoP52IVu1dDx_pY1OJl1Wz-WQc6SYBZX2IEGX6qmS0EXg-ZToPiTvLsztxI35BffoJ68Bv1Ey00OX3cZxssscHDHgV_0OQ4bxWnQgiy0wmr1nRaMWlDDDC0gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set add
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '907'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:50 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:50 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AtB8QBDmdJxHrvPv73O4FyM; expires=Thu, 26-Mar-2020 19:38:50 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8AEhjY7api5w4P9zyEgMTjM33-622y1cTiW3RKXaMpbx-_bNVm_dmg8-gNUg5jc3rA22FQ2J-qq8Ti8dptOOJ9zVus21Ug5_sR80EEb7q984mzeC3hnNOCV25mesIbxgAtJG3Apw8J8SKj-lO0i0JwKpQuTd_C3WgeiCgbBP7OBggAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {"foo": "bar"}, "properties": {"policySettings":
      {"enabledState": "Enabled", "mode": "Detection", "defaultRedirectUrl": "https://example.com"},
      "rateLimitRules": {"rules": []}, "customRules": {"rules": []}, "managedRules":
      {"managedRuleSets": [{"ruleSetType": "DefaultRuleSet", "ruleSetVersion": "1.0"}]}},
      "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set add
      Connection:
      - keep-alive
      Content-Length:
      - '376'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            \r\n \
        \         ],\"anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1051'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:52 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:52 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AhP3MgDs1x5HueZzyJjm5U8; expires=Thu, 26-Mar-2020 19:38:53 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8Jhx9wTy-jf2QhHiYIz1lsOC1pTIpbiq2ZsFRM5ZhkT44r79s3WoH35ugG4eyqgOFIUSU8YhOtdiOeq6-9P2uRU6VnoE2tQhUxk15Dp5j1XaRpIc0r9hohClKAI83IPMKJEMWlm2tdP0dcxMpz6urkbztxtpLs8gKD6V-XNXeqLIgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            \r\n \
        \         ],\"anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1051'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:54 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:54 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AjKcmOvgDPVFimXPH0xJc5I; expires=Thu, 26-Mar-2020 19:38:55 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8OsV2LnO2Qwlx7i_x47At98aH3BWq_EEcEXmFFOCIR__HNVOZXOuDCPCRjmcAGCP31BeAqtnZNmJG0wmajvVNO8msxu4aToCrBeUA6X9pyyg_UEL6Mb5nHRdVeWOHT1ph_VVguswpL0md4vzIQHHBf7pSkdSSRc9Hhb49MiWHTPogAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            \r\n \
        \         ],\"anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1051'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:57 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:57 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AvETRTtCODZGiHkiGkVPHN4; expires=Thu, 26-Mar-2020 19:38:57 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH80xtYCei-9GIXCVoI_9wLfR1Qu7ZzLV2chk_qyMZbX0nnehhW26tUYSbD-BnjBgM0AJKSjCjxBnTrLiUTf4kfPnqK0ibma9SQiC7KzCizjoNmyHDY8YcVplheheL1uO_BStQnlt0Rlv4r_60ujF9QWlZINjsM6upTyDvsbYNrz1sgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version -n -r -r -r
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            \r\n \
        \         ],\"anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1051'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:38:58 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:38:59 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AgyKs7YqJbtCk4XZ1zdtLvg; expires=Thu, 26-Mar-2020 19:38:59 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8w_M9ISH5PATQEJ_eguU1ee2F3cFoeCh6uzYl242arQ6wg8R0tRcaheZ-aWqvHHqrUCY1rSXGOxjE3aRtoiR_AQOLninUSLNYA6LrhY2MVZfyle1ZHYa7mG7_hIXHbhEznm4xM7MhzglvLYi3lF8WZXku0o94WBLgeqruxy9JkBMgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {"foo": "bar"}, "properties": {"policySettings":
      {"enabledState": "Enabled", "mode": "Detection", "defaultRedirectUrl": "https://example.com"},
      "rateLimitRules": {"rules": []}, "customRules": {"rules": []}, "managedRules":
      {"managedRuleSets": [{"ruleSetType": "DefaultRuleSet", "ruleSetVersion": "1.0",
      "anomalyScore": 0, "ruleGroupOverrides": [{"ruleGroupName": "SQLI", "rules":
      [{"ruleId": "942440", "enabledState": "Enabled", "action": "Redirect"}, {"ruleId":
      "942120"}, {"ruleId": "942100"}]}]}]}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override set
      Connection:
      - keep-alive
      Content-Length:
      - '572'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version -n -r -r -r
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n\
        \              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n                {\r\
        \n                  \"ruleId\":\"942440\",\"enabledState\":\"Enabled\",\"\
        action\":\"Redirect\"\r\n                },{\r\n                  \"ruleId\"\
        :\"942120\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n       \
        \         },{\r\n                  \"ruleId\":\"942100\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                }\r\n              ]\r\
        \n            }\r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\
        \n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1454'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:01 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:01 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Aj6Sj9lVlsBHomh9O0Mp7Fo; expires=Thu, 26-Mar-2020 19:39:01 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH87cAJuLXDQpJkdIv5GLszZc6FBsP4MY-q6CKlLktRRK6lIrrv0plEL2H8Zu-e0Cb0vK2J2JKjhuILvnQtO8Bkk7WE9pSyAQaj7rqbwZxGdnVrjV0zvUoddq06v1Os9QnjY197Y-TAGymLLmamDkku8VMIHSZhDQFxK99VQ5lzbIIgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n\
        \              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n                {\r\
        \n                  \"ruleId\":\"942440\",\"enabledState\":\"Enabled\",\"\
        action\":\"Redirect\"\r\n                },{\r\n                  \"ruleId\"\
        :\"942120\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n       \
        \         },{\r\n                  \"ruleId\":\"942100\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                }\r\n              ]\r\
        \n            }\r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\
        \n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1454'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:02 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:03 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AsXNCsEmf_VOleBtFqZHnBA; expires=Thu, 26-Mar-2020 19:39:03 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH80QbwIBK4smR391iOhqLGnSdH0fdbe0wwTGAdWHOtbaupF5m9WMu1zyvnB6MunxktaK7nxDi2bJr9RB2D-SSdMlIJ0qSHxYQZFbkGgm5gZpGcJV8dHpxAuUfTLzIkT5u4huXar-n0dWwQ0zaWyvhzrUKAVWsjjNige_djIFCcZiAgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n\
        \              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n                {\r\
        \n                  \"ruleId\":\"942440\",\"enabledState\":\"Enabled\",\"\
        action\":\"Redirect\"\r\n                },{\r\n                  \"ruleId\"\
        :\"942120\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n       \
        \         },{\r\n                  \"ruleId\":\"942100\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                }\r\n              ]\r\
        \n            }\r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\
        \n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1454'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:04 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:05 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Al0zIWkGFTRDho5yrscqk18; expires=Thu, 26-Mar-2020 19:39:05 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8uppMTJCblIk7njgmCpCYhwkHocScQeLORpNoA0ruTWdSBZ7yqZXRQdgCU5DLmkNQREJKOH7n1rstN3UlDJPM0oaNmGjc2SKzTiIOCxQlyiMtWU91gn8wcijAT7Sa9OVKf9uAqOXLReUIFSC_G2D8iaDIlwi-wH4vkt5vEUZ-gb0gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n\
        \              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n                {\r\
        \n                  \"ruleId\":\"942440\",\"enabledState\":\"Enabled\",\"\
        action\":\"Redirect\"\r\n                },{\r\n                  \"ruleId\"\
        :\"942120\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n       \
        \         },{\r\n                  \"ruleId\":\"942100\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                }\r\n              ]\r\
        \n            }\r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\
        \n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1454'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:07 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:07 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AnsXYil9RIpHgTtz4wylUE0; expires=Thu, 26-Mar-2020 19:39:08 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8Ox5Weu3gaZ-CWPb4cKcIdmTmyiw7OithctVmPo7Rfpx5FQVl-dEXY3APy3QF1HMjPFjeEB6FydqcNC4Xtv76aH_QIDXchf4LF2iWCT-xVJ8ck-kGJHIETlNSCtfgRqUIjGrO4f1Vy01rytMSIhJFDeYtqv0Ik_ToXOI7-eYHgv8gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n --action --priority --match-condition
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        \r\n      ]\r\n    },\"managedRules\":{\r\n   \
        \   \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\"\
        ,\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n\
        \              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n                {\r\
        \n                  \"ruleId\":\"942440\",\"enabledState\":\"Enabled\",\"\
        action\":\"Redirect\"\r\n                },{\r\n                  \"ruleId\"\
        :\"942120\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n       \
        \         },{\r\n                  \"ruleId\":\"942100\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                }\r\n              ]\r\
        \n            }\r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\
        \n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1454'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:08 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:08 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Asonzt6OVMhDlhhOZO9bYZU; expires=Thu, 26-Mar-2020 19:39:09 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8SqJwqqVNfgQZ7iAQe0RCVsg5b3hrYGvnQa8T0WkylUpqAhlI6K9pSKyDgDq1e4Bf-VorOVyn8eDECHm4ZSUqPeuVWdrtKg-3jWkYjlL2I8U8O0wsBKISuGJ5Msb1M7oK6x1IPqeMZIq4lmqLvRoA_mpKakFybT_E_piLCPtqSV0gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {"foo": "bar"}, "properties": {"policySettings":
      {"enabledState": "Enabled", "mode": "Detection", "defaultRedirectUrl": "https://example.com"},
      "rateLimitRules": {"rules": []}, "customRules": {"rules": [{"name": "customrule1",
      "enabledState": "Enabled", "priority": 100, "matchConditions": [{"matchVariable":
      "RequestMethod", "operator": "Equal", "negateCondition": true, "matchValue":
      ["GET", "HEAD"], "transforms": []}], "action": "Block"}]}, "managedRules": {"managedRuleSets":
      [{"ruleSetType": "DefaultRuleSet", "ruleSetVersion": "1.0", "anomalyScore":
      0, "ruleGroupOverrides": [{"ruleGroupName": "SQLI", "rules": [{"ruleId": "942440",
      "enabledState": "Enabled", "action": "Redirect"}, {"ruleId": "942120", "enabledState":
      "Disabled", "action": "Block"}, {"ruleId": "942100", "enabledState": "Disabled",
      "action": "Block"}]}]}]}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule set
      Connection:
      - keep-alive
      Content-Length:
      - '904'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name -n --action --priority --match-condition
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1835'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:10 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:10 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AvonXFglV_lEqSzdyWZ-1F0; expires=Thu, 26-Mar-2020 19:39:11 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8H3G0fqoKZAxlLTB-_2qDLV--Uz9C5A7YJXg4_Fv2Uh294J-KifmgKGPnG6G0TSW3jnWWU4uFnf5hItGfVysGlPPYjflFJ6NOhgYhgJcKdzfO_nglQZX4QCoGQNfRXoPA37gha6TpLD4aLH9U1VZrWrB2ZBFNAtmnbTDDX55_mgEgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1835'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:12 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:12 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AuWUHJYazl1FoZZweEno-Vw; expires=Thu, 26-Mar-2020 19:39:12 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8nhmmMG8kE6TzmtN2Ti5cyTeGR_uuB_WnTEE_fGDWOn2qS1QGm_Asupjp4Mm-6WyrZjMdxizicefahiKhX6yzvhXJOPiqohrGEhYzvau8wb1DZfG2CEImyQrwe9uuWLQ5L8P6K233d4i_AQ5TJpWj853dAa_ufcQGvSJNM9eXi9IgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n --action --priority -m -m
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1835'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:13 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:13 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AtXCtjH6i5NIg2wYEHaCpNg; expires=Thu, 26-Mar-2020 19:39:14 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8uBPQ062h70i8hPViZ8eKaAF-y95AFTBR7O_U2-MnuWGofQTJQ0-GSmRgAtQjPHTuLktKkGP-9T-IBdROrrxwoUCxTFka86tEjG00wT0RtUOApObkLbBqAENUWM_CtFMCaq19HaBaFoqnZ5zobbQvDwwgXoUsjudwJmwz-OGb6PkgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {"foo": "bar"}, "properties": {"policySettings":
      {"enabledState": "Enabled", "mode": "Detection", "defaultRedirectUrl": "https://example.com"},
      "rateLimitRules": {"rules": []}, "customRules": {"rules": [{"name": "customrule1",
      "enabledState": "Enabled", "priority": 100, "matchConditions": [{"matchVariable":
      "RequestMethod", "operator": "Equal", "negateCondition": true, "matchValue":
      ["GET", "HEAD"], "transforms": []}], "action": "Block"}, {"name": "customrule2",
      "enabledState": "Enabled", "priority": 200, "matchConditions": [{"matchVariable":
      "RequestUri", "operator": "Contains", "matchValue": [".."], "transforms": []},
      {"matchVariable": "QueryString", "operator": "Contains", "matchValue": [" "],
      "transforms": []}], "action": "Redirect"}]}, "managedRules": {"managedRuleSets":
      [{"ruleSetType": "DefaultRuleSet", "ruleSetVersion": "1.0", "anomalyScore":
      0, "ruleGroupOverrides": [{"ruleGroupName": "SQLI", "rules": [{"ruleId": "942440",
      "enabledState": "Enabled", "action": "Redirect"}, {"ruleId": "942120", "enabledState":
      "Disabled", "action": "Block"}, {"ruleId": "942100", "enabledState": "Disabled",
      "action": "Block"}]}]}]}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule set
      Connection:
      - keep-alive
      Content-Length:
      - '1210'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name -n --action --priority -m -m
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"customrule2\",\"enabledState\":\"Enabled\"\
        ,\"priority\":200,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"..\"\r\n\
        \              ],\"transforms\":[\r\n                \r\n              ]\r\
        \n            },{\r\n              \"matchVariable\":\"QueryString\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \" \"\r\n              ],\"transforms\":[\r\n          \
        \      \r\n              ]\r\n            }\r\n          ],\"action\":\"Redirect\"\
        \r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2440'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:15 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:15 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AjNEUz-3xEhIq4jeNFS8f_Y; expires=Thu, 26-Mar-2020 19:39:16 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH864kTFV9yLJF9ino6cDwfX_x-oHumHUtV4cJdFrRqoh_vFt1yc7g5ybYSGvDFokTvAfNwLPzWSKPH_DdyPMD57yArLftZoHIYrO-lRdVG1CvkKxQWHChMAkUC_vF9KzqLrGi4Y0jkR4xmmL0iaJsGxYKZngH5ISHgLHvUkUK_EIsgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"customrule2\",\"enabledState\":\"Enabled\"\
        ,\"priority\":200,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"..\"\r\n\
        \              ],\"transforms\":[\r\n                \r\n              ]\r\
        \n            },{\r\n              \"matchVariable\":\"QueryString\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \" \"\r\n              ],\"transforms\":[\r\n          \
        \      \r\n              ]\r\n            }\r\n          ],\"action\":\"Redirect\"\
        \r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2440'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:16 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:17 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Alk8ILja-FZGr710AA_nvxw; expires=Thu, 26-Mar-2020 19:39:18 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8pazqQjzd97AEn-59rMLwDPnhvQi_0DKNVDH-0EWaULb8f2lkDKKlaMymsac0aIVRUDyVHwTIZ6gQKSWCmigqxdQZmm36_Roaklh5IVeGWUr2Y5mHinl78DJ2T3ITrQEcY0dW_4eQzeZqnAFGu9LezBxz8ep8Q4bB5OEBaCY3ijcgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"customrule2\",\"enabledState\":\"Enabled\"\
        ,\"priority\":200,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"..\"\r\n\
        \              ],\"transforms\":[\r\n                \r\n              ]\r\
        \n            },{\r\n              \"matchVariable\":\"QueryString\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \" \"\r\n              ],\"transforms\":[\r\n          \
        \      \r\n              ]\r\n            }\r\n          ],\"action\":\"Redirect\"\
        \r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2440'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:18 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:19 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AsdDpX5B8bFDi2fdJHz3rrc; expires=Thu, 26-Mar-2020 19:39:19 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8-hu71rjgFuLIKPfq9UHskKzD2UMPUFrpcsW5BkkUuMvxXaqTiHdblI0YXiwJX4sqZSJBaR2g8BxwWAHCzcNFPWT3BCt3l1Eb30lUGOSaJ4EdQe6jrUMu8Rv2_su9BWf8b6ymtak_30UO0iv0xtWcoQJ7bcSqKerRP6Dkdt_16n4gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"customrule2\",\"enabledState\":\"Enabled\"\
        ,\"priority\":200,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"..\"\r\n\
        \              ],\"transforms\":[\r\n                \r\n              ]\r\
        \n            },{\r\n              \"matchVariable\":\"QueryString\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \" \"\r\n              ],\"transforms\":[\r\n          \
        \      \r\n              ]\r\n            }\r\n          ],\"action\":\"Redirect\"\
        \r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2440'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:21 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:21 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AlBDz8e4vahEr143EJ34Jcs; expires=Thu, 26-Mar-2020 19:39:22 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH82Oj0li7XdjcR9xarKUic4VG1yb21ypr9sSHosmsZdwAz6VKT9Mecue24fB-opmUNjk8R30CRj-CwOkA0dGZnjIlJ8jZ2JixxThZGGvWEc_leOahB5oTyI9L8Y650hPDLSoSjwf6nbcLNljaSyQNmfkAvrGgk8MCclgqabXdR9ccgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n --action --priority --duration --request-threshold --match-condition
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        \r\n      ]\r\n    },\"customRules\":{\r\n   \
        \   \"rules\":[\r\n        {\r\n          \"name\":\"customrule1\",\"enabledState\"\
        :\"Enabled\",\"priority\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"customrule2\",\"enabledState\":\"Enabled\"\
        ,\"priority\":200,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"..\"\r\n\
        \              ],\"transforms\":[\r\n                \r\n              ]\r\
        \n            },{\r\n              \"matchVariable\":\"QueryString\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \" \"\r\n              ],\"transforms\":[\r\n          \
        \      \r\n              ]\r\n            }\r\n          ],\"action\":\"Redirect\"\
        \r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\"\
        :[\r\n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2440'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:22 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:23 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AnqSS60ZWaZBm5w3ObpmrCw; expires=Thu, 26-Mar-2020 19:39:23 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8gqCKCy9eE-El_MCNx6diVozFB19vMUP0aVP6I9ouLdicx0LjPUiqI0S9tsp9tddXrPAPS3lt06AA5Dpk5okYt76slJPLucpp7LkPwlI23ESUBsCNN9FtQHlHbcpGcih-qC_yViGk2UBfxHhSgNkUTqafFl_sl3SO6nIpz54YqVogAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {"foo": "bar"}, "properties": {"policySettings":
      {"enabledState": "Enabled", "mode": "Detection", "defaultRedirectUrl": "https://example.com"},
      "rateLimitRules": {"rules": [{"name": "ratelimitrule1", "enabledState": "Enabled",
      "priority": 100, "matchConditions": [{"matchVariable": "RequestMethod", "operator":
      "Equal", "negateCondition": true, "matchValue": ["GET", "HEAD"], "transforms":
      []}], "action": "Block", "rateLimitThreshold": 100, "rateLimitDurationInMinutes":
      1}]}, "customRules": {"rules": [{"name": "customrule1", "enabledState": "Enabled",
      "priority": 100, "matchConditions": [{"matchVariable": "RequestMethod", "operator":
      "Equal", "negateCondition": true, "matchValue": ["GET", "HEAD"], "transforms":
      []}], "action": "Block"}, {"name": "customrule2", "enabledState": "Enabled",
      "priority": 200, "matchConditions": [{"matchVariable": "RequestUri", "operator":
      "Contains", "negateCondition": false, "matchValue": [".."], "transforms": []},
      {"matchVariable": "QueryString", "operator": "Contains", "negateCondition":
      false, "matchValue": [" "], "transforms": []}], "action": "Redirect"}]}, "managedRules":
      {"managedRuleSets": [{"ruleSetType": "DefaultRuleSet", "ruleSetVersion": "1.0",
      "anomalyScore": 0, "ruleGroupOverrides": [{"ruleGroupName": "SQLI", "rules":
      [{"ruleId": "942440", "enabledState": "Enabled", "action": "Redirect"}, {"ruleId":
      "942120", "enabledState": "Disabled", "action": "Block"}, {"ruleId": "942100",
      "enabledState": "Disabled", "action": "Block"}]}]}]}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule set
      Connection:
      - keep-alive
      Content-Length:
      - '1563'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name -n --action --priority --duration --request-threshold --match-condition
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\",\"\
        enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        }\r\n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n\
        \        {\r\n          \"name\":\"customrule1\",\"enabledState\":\"Enabled\"\
        ,\"priority\":100,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\"\
        ,\"negateCondition\":true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n\
        \          \"name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\"\
        :200,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestUri\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"..\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"QueryString\",\"selector\":null,\"operator\":\"\
        Contains\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        \ \"\r\n              ],\"transforms\":[\r\n                \r\n         \
        \     ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n      \
        \  }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\":[\r\
        \n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2880'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:24 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:24 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AkngN7b6z_ZIjqS903HxblA; expires=Thu, 26-Mar-2020 19:39:25 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8f3ZrBXVmT9BVDCoP6zms0AbxHDYN-VgzaFwG0amaJh1GoPfg9-8MB8yWZQDgEIRzY-Q6P4u8SsiJMkZzt04ON53plcjacNnMK6dPOMJ07Axw2tbf_sdCj4Z34zpWB08rjEKu_pEzOzv9Qf_UGIKfk9g8I9fCaqRX_z3GUEFgubsgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\",\"\
        enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        }\r\n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n\
        \        {\r\n          \"name\":\"customrule1\",\"enabledState\":\"Enabled\"\
        ,\"priority\":100,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\"\
        ,\"negateCondition\":true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n\
        \          \"name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\"\
        :200,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestUri\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"..\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"QueryString\",\"selector\":null,\"operator\":\"\
        Contains\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        \ \"\r\n              ],\"transforms\":[\r\n                \r\n         \
        \     ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n      \
        \  }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\":[\r\
        \n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2880'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:26 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:26 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AtrRYFN1u6dFvVYytsnB8aY; expires=Thu, 26-Mar-2020 19:39:27 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8rVt06_TDHknArnoOCR45jwlElE3lpv-wNbpjd0Ml_r9oa4r7VVE1kciiL5oH8LLnvsWSpKGIbfpGl6ppC-Vw7StT8EylXLgZ8ZtozENbJyDiFiIsk63R-dL91_RJ3pmLOT39tYVxWaS7EJo8OJmpeE-YomlHgZTzQeOrNcr10PkgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n --action --priority --duration --request-threshold -m
        -m
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\",\"\
        enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        }\r\n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n\
        \        {\r\n          \"name\":\"customrule1\",\"enabledState\":\"Enabled\"\
        ,\"priority\":100,\"matchConditions\":[\r\n            {\r\n             \
        \ \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\"\
        ,\"negateCondition\":true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n\
        \          \"name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\"\
        :200,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestUri\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"..\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"QueryString\",\"selector\":null,\"operator\":\"\
        Contains\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        \ \"\r\n              ],\"transforms\":[\r\n                \r\n         \
        \     ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n      \
        \  }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\":[\r\
        \n        {\r\n          \"ruleSetType\":\"DefaultRuleSet\",\"ruleSetVersion\"\
        :\"1.0\",\"ruleGroupOverrides\":[\r\n            {\r\n              \"ruleGroupName\"\
        :\"SQLI\",\"rules\":[\r\n                {\r\n                  \"ruleId\"\
        :\"942440\",\"enabledState\":\"Enabled\",\"action\":\"Redirect\"\r\n     \
        \           },{\r\n                  \"ruleId\":\"942120\",\"enabledState\"\
        :\"Disabled\",\"action\":\"Block\"\r\n                },{\r\n            \
        \      \"ruleId\":\"942100\",\"enabledState\":\"Disabled\",\"action\":\"Block\"\
        \r\n                }\r\n              ]\r\n            }\r\n          ],\"\
        anomalyScore\":0\r\n        }\r\n      ]\r\n    },\"endpointLinks\":[\r\n\
        \      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2880'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:27 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:27 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AgxWC-4W2UhMsjhcVo1fbtc; expires=Thu, 26-Mar-2020 19:39:28 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8g1LOcW1SN3z3hoX8N5rdpIItlncf79k5gMvzO1sdvHZiAe7d3pfKoypShShuKGqi16G7OE8XfHGyB8xYn2Hua6QZ6O3eJsCRAQHkF1WxB7Zyz6EfpPLQxnUocY6coSmVTmPnukbMJT-7VdQL4G2Gtv6_vl0yZsZ_UFOS55u8Wq0gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {"foo": "bar"}, "properties": {"policySettings":
      {"enabledState": "Enabled", "mode": "Detection", "defaultRedirectUrl": "https://example.com"},
      "rateLimitRules": {"rules": [{"name": "ratelimitrule1", "enabledState": "Enabled",
      "priority": 100, "matchConditions": [{"matchVariable": "RequestMethod", "operator":
      "Equal", "negateCondition": true, "matchValue": ["GET", "HEAD"], "transforms":
      []}], "action": "Block", "rateLimitThreshold": 100, "rateLimitDurationInMinutes":
      1}, {"name": "ratelimitrule2", "enabledState": "Enabled", "priority": 200, "matchConditions":
      [{"matchVariable": "RequestMethod", "operator": "Equal", "matchValue": ["PUT"],
      "transforms": []}, {"matchVariable": "RequestUri", "operator": "Contains", "matchValue":
      ["/expensive/resource/"], "transforms": []}], "action": "Redirect", "rateLimitThreshold":
      100, "rateLimitDurationInMinutes": 5}]}, "customRules": {"rules": [{"name":
      "customrule1", "enabledState": "Enabled", "priority": 100, "matchConditions":
      [{"matchVariable": "RequestMethod", "operator": "Equal", "negateCondition":
      true, "matchValue": ["GET", "HEAD"], "transforms": []}], "action": "Block"},
      {"name": "customrule2", "enabledState": "Enabled", "priority": 200, "matchConditions":
      [{"matchVariable": "RequestUri", "operator": "Contains", "negateCondition":
      false, "matchValue": [".."], "transforms": []}, {"matchVariable": "QueryString",
      "operator": "Contains", "negateCondition": false, "matchValue": [" "], "transforms":
      []}], "action": "Redirect"}]}, "managedRules": {"managedRuleSets": [{"ruleSetType":
      "DefaultRuleSet", "ruleSetVersion": "1.0", "anomalyScore": 0, "ruleGroupOverrides":
      [{"ruleGroupName": "SQLI", "rules": [{"ruleId": "942440", "enabledState": "Enabled",
      "action": "Redirect"}, {"ruleId": "942120", "enabledState": "Disabled", "action":
      "Block"}, {"ruleId": "942100", "enabledState": "Disabled", "action": "Block"}]}]}]}},
      "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule set
      Connection:
      - keep-alive
      Content-Length:
      - '1951'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name -n --action --priority --duration --request-threshold -m
        -m
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\",\"\
        enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           {\r\n              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n\
        \                {\r\n                  \"ruleId\":\"942440\",\"enabledState\"\
        :\"Enabled\",\"action\":\"Redirect\"\r\n                },{\r\n          \
        \        \"ruleId\":\"942120\",\"enabledState\":\"Disabled\",\"action\":\"\
        Block\"\r\n                },{\r\n                  \"ruleId\":\"942100\"\
        ,\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n                }\r\
        \n              ]\r\n            }\r\n          ],\"anomalyScore\":0\r\n \
        \       }\r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n \
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3563'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:30 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:30 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AsS1reTuScpOjSXhhXR7QcA; expires=Thu, 26-Mar-2020 19:39:31 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8x_MEBZOW7W4BT9SGpQ8wpEtfe_SOz-A_fRZGgxBpjftIv4hzlJeCsTUPpGku_VpAI-pt16KuKPIza8hrD8rYawM6NrcVzQa_B9PEui9DEKTOy3Jb3zESKZmDhVx41tBE0Y4lXS3HIcwysgh4vnwTDCUL0M6CtMIbiPSpHbihWLcgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\",\"\
        enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           {\r\n              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n\
        \                {\r\n                  \"ruleId\":\"942440\",\"enabledState\"\
        :\"Enabled\",\"action\":\"Redirect\"\r\n                },{\r\n          \
        \        \"ruleId\":\"942120\",\"enabledState\":\"Disabled\",\"action\":\"\
        Block\"\r\n                },{\r\n                  \"ruleId\":\"942100\"\
        ,\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n                }\r\
        \n              ]\r\n            }\r\n          ],\"anomalyScore\":0\r\n \
        \       }\r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n \
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3563'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:32 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:32 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AvOo9FM6xUFJgrkgcn97oYc; expires=Thu, 26-Mar-2020 19:39:33 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8pSSfswYXlUUk1A6oRdYkCKfGiNaMvrpCsNvx2wD4RMl9nDR42F_Dg-MwNr3D-RN56sc9Xg25KUN0urq5Lb82ybm20DIHqazhujOh5BRLT_9lo8EhGiHvxHVzwL6Ul2SEpQWhOkAv8jX3BX92xL2bLwSHZ5EhUt5p8LARVgTIDc8gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\",\"\
        enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           {\r\n              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n\
        \                {\r\n                  \"ruleId\":\"942440\",\"enabledState\"\
        :\"Enabled\",\"action\":\"Redirect\"\r\n                },{\r\n          \
        \        \"ruleId\":\"942120\",\"enabledState\":\"Disabled\",\"action\":\"\
        Block\"\r\n                },{\r\n                  \"ruleId\":\"942100\"\
        ,\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n                }\r\
        \n              ]\r\n            }\r\n          ],\"anomalyScore\":0\r\n \
        \       }\r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n \
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3563'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:34 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:34 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AvaPdPUDa7ZOiXu7DWsSfrg; expires=Thu, 26-Mar-2020 19:39:35 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8ZfJoPypJVNCerW61tEqN5yi6fDMpG-rpYtZ-XJpYOiIXFEOfQanGKPwnCryTgFKCrWtYhrc5QeTg1lBkw29YmlfTIqFqy7KEzDwEKmbKit-yVDbX8rm2hsIUoHtjcp8QU1_ieMCuQo68u-Erm4-qwbKITMkVgAYfRoqn2nLKILogAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --name --sku --mode --block-response-body --block-response-status-code
        --redirect-url --tags --disabled
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \"foo\":\"bar\"\r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\"\
        :\"Standard_Microsoft\"\r\n  },\"properties\":{\r\n    \"resourceState\":\"\
        Enabled\",\"provisioningState\":\"Succeeded\",\"policySettings\":{\r\n   \
        \   \"enabledState\":\"Enabled\",\"mode\":\"Detection\",\"defaultRedirectUrl\"\
        :\"https://example.com\",\"defaultCustomBlockResponseStatusCode\":null,\"\
        defaultCustomBlockResponseBody\":null\r\n    },\"rateLimitRules\":{\r\n  \
        \    \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\",\"\
        enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           {\r\n              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n\
        \                {\r\n                  \"ruleId\":\"942440\",\"enabledState\"\
        :\"Enabled\",\"action\":\"Redirect\"\r\n                },{\r\n          \
        \        \"ruleId\":\"942120\",\"enabledState\":\"Disabled\",\"action\":\"\
        Block\"\r\n                },{\r\n                  \"ruleId\":\"942100\"\
        ,\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n                }\r\
        \n              ]\r\n            }\r\n          ],\"anomalyScore\":0\r\n \
        \       }\r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n \
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3563'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:35 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:36 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AoL7Fs_UDVFJrxt4YNwbAk0; expires=Thu, 26-Mar-2020 19:39:36 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8mzHBLEf-996OZIZVCfgMf8PDy43i492B8Ni0xvLWjcLNu0aRXDMhfF_ND91oyrvDy2gg3HrBVi-NLiIfnly2xIu9oytSABOr0EAwJvYX2jIrL-SylgSX8ePRnZ4FzjtQ7evRnhz1CVWinauqcR2HRMBFoAAOjQYIS69Sbu1ypyYgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {}, "properties": {"policySettings": {"enabledState":
      "Disabled", "mode": "Prevention", "defaultRedirectUrl": "https://example.com",
      "defaultCustomBlockResponseStatusCode": 429, "defaultCustomBlockResponseBody":
      "PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4="}, "rateLimitRules": {"rules":
      [{"name": "ratelimitrule1", "enabledState": "Enabled", "priority": 100, "matchConditions":
      [{"matchVariable": "RequestMethod", "operator": "Equal", "negateCondition":
      true, "matchValue": ["GET", "HEAD"], "transforms": []}], "action": "Block",
      "rateLimitThreshold": 100, "rateLimitDurationInMinutes": 1}, {"name": "ratelimitrule2",
      "enabledState": "Enabled", "priority": 200, "matchConditions": [{"matchVariable":
      "RequestMethod", "operator": "Equal", "negateCondition": false, "matchValue":
      ["PUT"], "transforms": []}, {"matchVariable": "RequestUri", "operator": "Contains",
      "negateCondition": false, "matchValue": ["/expensive/resource/"], "transforms":
      []}], "action": "Redirect", "rateLimitThreshold": 100, "rateLimitDurationInMinutes":
      5}]}, "customRules": {"rules": [{"name": "customrule1", "enabledState": "Enabled",
      "priority": 100, "matchConditions": [{"matchVariable": "RequestMethod", "operator":
      "Equal", "negateCondition": true, "matchValue": ["GET", "HEAD"], "transforms":
      []}], "action": "Block"}, {"name": "customrule2", "enabledState": "Enabled",
      "priority": 200, "matchConditions": [{"matchVariable": "RequestUri", "operator":
      "Contains", "negateCondition": false, "matchValue": [".."], "transforms": []},
      {"matchVariable": "QueryString", "operator": "Contains", "negateCondition":
      false, "matchValue": [" "], "transforms": []}], "action": "Redirect"}]}, "managedRules":
      {"managedRuleSets": [{"ruleSetType": "DefaultRuleSet", "ruleSetVersion": "1.0",
      "anomalyScore": 0, "ruleGroupOverrides": [{"ruleGroupName": "SQLI", "rules":
      [{"ruleId": "942440", "enabledState": "Enabled", "action": "Redirect"}, {"ruleId":
      "942120", "enabledState": "Disabled", "action": "Block"}, {"ruleId": "942100",
      "enabledState": "Disabled", "action": "Block"}]}]}]}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy set
      Connection:
      - keep-alive
      Content-Length:
      - '2128'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --name --sku --mode --block-response-body --block-response-status-code
        --redirect-url --tags --disabled
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           {\r\n              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n\
        \                {\r\n                  \"ruleId\":\"942440\",\"enabledState\"\
        :\"Enabled\",\"action\":\"Redirect\"\r\n                },{\r\n          \
        \        \"ruleId\":\"942120\",\"enabledState\":\"Disabled\",\"action\":\"\
        Block\"\r\n                },{\r\n                  \"ruleId\":\"942100\"\
        ,\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n                }\r\
        \n              ]\r\n            }\r\n          ],\"anomalyScore\":0\r\n \
        \       }\r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n \
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3603'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:40 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:40 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Ak5f0q6MQYZMlzGOMGcy6Fg; expires=Thu, 26-Mar-2020 19:39:40 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8ZNZzN-5-KTRftlwxfqv6YuAode4YbDYUqFaNSjHA5e1Pbz3wzXiymWDFifm2gu8fOsMj8eveeqA-7pjXyKISQYLmQnT0Vu7aPQFFZA-Adq__zpnzJ_kOtBSq21WGa5P_yCul-V-uX9hy_JxlyOUp7L5eeFpwXKZkkoiK2wiJGu0gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           {\r\n              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n\
        \                {\r\n                  \"ruleId\":\"942440\",\"enabledState\"\
        :\"Enabled\",\"action\":\"Redirect\"\r\n                },{\r\n          \
        \        \"ruleId\":\"942120\",\"enabledState\":\"Disabled\",\"action\":\"\
        Block\"\r\n                },{\r\n                  \"ruleId\":\"942100\"\
        ,\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n                }\r\
        \n              ]\r\n            }\r\n          ],\"anomalyScore\":0\r\n \
        \       }\r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n \
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3603'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:42 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:43 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=An7fC8WLJudGo5wTVYHXuL0; expires=Thu, 26-Mar-2020 19:39:43 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH85Nf4mYZSO00vH550ly0gRIdyRY9GdJZfnAX2bSTkAGwozAM4aB7HWgOSEApVxTcyfk_DkYYi3TrGHC-zqwgIuXgKvfRm99zhTMomuprIlN6C3UjgFavjyGPc9wHGDKaOp1mFMTRVNl7Rsq4018SgemhBce0o_WlhUR3qex_E9HogAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           {\r\n              \"ruleGroupName\":\"SQLI\",\"rules\":[\r\n\
        \                {\r\n                  \"ruleId\":\"942440\",\"enabledState\"\
        :\"Enabled\",\"action\":\"Redirect\"\r\n                },{\r\n          \
        \        \"ruleId\":\"942120\",\"enabledState\":\"Disabled\",\"action\":\"\
        Block\"\r\n                },{\r\n                  \"ruleId\":\"942100\"\
        ,\"enabledState\":\"Disabled\",\"action\":\"Block\"\r\n                }\r\
        \n              ]\r\n            }\r\n          ],\"anomalyScore\":0\r\n \
        \       }\r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n \
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3603'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:44 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:44 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AnfVtmX_aW1Do6FCLMNuVRI; expires=Thu, 26-Mar-2020 19:39:45 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH80vrlGCm9SpsmerpMbhuU9qdY0-v90DrPBSg1HccAi39M31teATIeFj1NpU0jfdPGsrgwKGizBPXvc3CTWXL3vsABCFu5K7jumq9cSSsr2Hq02Q4NmIMWCLm0OMhYROSB6-cRIt9gN0-I6tmdd5XCChuS63kY600C7K9jHrbeajkgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {}, "properties": {"policySettings": {"enabledState":
      "Disabled", "mode": "Prevention", "defaultRedirectUrl": "https://example.com",
      "defaultCustomBlockResponseStatusCode": 429, "defaultCustomBlockResponseBody":
      "PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4="}, "rateLimitRules": {"rules":
      [{"name": "ratelimitrule1", "enabledState": "Enabled", "priority": 100, "matchConditions":
      [{"matchVariable": "RequestMethod", "operator": "Equal", "negateCondition":
      true, "matchValue": ["GET", "HEAD"], "transforms": []}], "action": "Block",
      "rateLimitThreshold": 100, "rateLimitDurationInMinutes": 1}, {"name": "ratelimitrule2",
      "enabledState": "Enabled", "priority": 200, "matchConditions": [{"matchVariable":
      "RequestMethod", "operator": "Equal", "negateCondition": false, "matchValue":
      ["PUT"], "transforms": []}, {"matchVariable": "RequestUri", "operator": "Contains",
      "negateCondition": false, "matchValue": ["/expensive/resource/"], "transforms":
      []}], "action": "Redirect", "rateLimitThreshold": 100, "rateLimitDurationInMinutes":
      5}]}, "customRules": {"rules": [{"name": "customrule1", "enabledState": "Enabled",
      "priority": 100, "matchConditions": [{"matchVariable": "RequestMethod", "operator":
      "Equal", "negateCondition": true, "matchValue": ["GET", "HEAD"], "transforms":
      []}], "action": "Block"}, {"name": "customrule2", "enabledState": "Enabled",
      "priority": 200, "matchConditions": [{"matchVariable": "RequestUri", "operator":
      "Contains", "negateCondition": false, "matchValue": [".."], "transforms": []},
      {"matchVariable": "QueryString", "operator": "Contains", "negateCondition":
      false, "matchValue": [" "], "transforms": []}], "action": "Redirect"}]}, "managedRules":
      {"managedRuleSets": [{"ruleSetType": "DefaultRuleSet", "ruleSetVersion": "1.0",
      "anomalyScore": 0, "ruleGroupOverrides": []}]}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override delete
      Connection:
      - keep-alive
      Content-Length:
      - '1883'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           \r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\n\
        \    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3200'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:47 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:47 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AgEEMEP_bQtIkGorLhPcjj0; expires=Thu, 26-Mar-2020 19:39:47 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8_fskgTWpecAvNa7e0QC-9NiyU2y69IPLbZcxo7hbWjQPwJ3ApF2xPfUOo27jPLiaChjlTGCvMUeNhd28HBpR4zslAS8a9-M344Xj9XMdG26OXRDTi3OIMYsOdKRrcXTl65qEHaIpQtrsSJoZPXIe7xBI_NkFxH_tBvqUp43zyjYgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set rule-group-override show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           \r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\n\
        \    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3200'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:49 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:49 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=ArqVLbWmILBMujsChgz1kM8; expires=Thu, 26-Mar-2020 19:39:49 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8aZsGDxeKKkdL1EyG_NbzkI-w2NfZUzXO8rxg3zGg1JDUPQfEVqzHuN5g2GIS0mgNF-TlFtO1w3092kDhNFxG8iTQf3lTBcGx7VhIi5m6BocoN-R9JOC1NWIkfFeGb_-qzvzd4F5Kao5Ts4A-1pUqaGmmXG2QfF2HhTL-wSi1G7MgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        {\r\n          \"ruleSetType\":\"\
        DefaultRuleSet\",\"ruleSetVersion\":\"1.0\",\"ruleGroupOverrides\":[\r\n \
        \           \r\n          ],\"anomalyScore\":0\r\n        }\r\n      ]\r\n\
        \    },\"endpointLinks\":[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3200'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:51 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:50 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AuYZbsRIYDBPnGbB6B5pP1E; expires=Thu, 26-Mar-2020 19:39:51 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8SfQLggQKxHXMqePUh2Fhbrch8igvoAI7dYcM9RbNr_uhWvTRqvhG3CnBfpfD4WufIxfnGkm3P7NdR8ILYUXkxjBcgOQTajZ_kGYndQArBzre4DzIyEYtX4V_pVBF02hLdXZcvTEjCLz4ceOVbseH954DJ4BbSMbfKWAqiIEXE-YgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {}, "properties": {"policySettings": {"enabledState":
      "Disabled", "mode": "Prevention", "defaultRedirectUrl": "https://example.com",
      "defaultCustomBlockResponseStatusCode": 429, "defaultCustomBlockResponseBody":
      "PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4="}, "rateLimitRules": {"rules":
      [{"name": "ratelimitrule1", "enabledState": "Enabled", "priority": 100, "matchConditions":
      [{"matchVariable": "RequestMethod", "operator": "Equal", "negateCondition":
      true, "matchValue": ["GET", "HEAD"], "transforms": []}], "action": "Block",
      "rateLimitThreshold": 100, "rateLimitDurationInMinutes": 1}, {"name": "ratelimitrule2",
      "enabledState": "Enabled", "priority": 200, "matchConditions": [{"matchVariable":
      "RequestMethod", "operator": "Equal", "negateCondition": false, "matchValue":
      ["PUT"], "transforms": []}, {"matchVariable": "RequestUri", "operator": "Contains",
      "negateCondition": false, "matchValue": ["/expensive/resource/"], "transforms":
      []}], "action": "Redirect", "rateLimitThreshold": 100, "rateLimitDurationInMinutes":
      5}]}, "customRules": {"rules": [{"name": "customrule1", "enabledState": "Enabled",
      "priority": 100, "matchConditions": [{"matchVariable": "RequestMethod", "operator":
      "Equal", "negateCondition": true, "matchValue": ["GET", "HEAD"], "transforms":
      []}], "action": "Block"}, {"name": "customrule2", "enabledState": "Enabled",
      "priority": 200, "matchConditions": [{"matchVariable": "RequestUri", "operator":
      "Contains", "negateCondition": false, "matchValue": [".."], "transforms": []},
      {"matchVariable": "QueryString", "operator": "Contains", "negateCondition":
      false, "matchValue": [" "], "transforms": []}], "action": "Redirect"}]}, "managedRules":
      {"managedRuleSets": []}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set remove
      Connection:
      - keep-alive
      Content-Length:
      - '1780'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3056'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:52 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:53 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=Ag5vIoKUd9RGuEoVU_z6nVA; expires=Thu, 26-Mar-2020 19:39:53 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH89gJkUZwbAFXH6OIwrsw4Uk-B6HbEVucUhIkS3oAnFIlTIdhBwLyfXzcc0xYyqIlzfTBpF5Sf2w02qiWWx4ThXXEDeUH3uKw8uWA35aW3X4g_yxSp1MPD70dVdajN1cJZmoYoxwNoqKLIsb88KC6Lgy1PndBBxUUDROwpCbPb11ggAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy managed-rule-set show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name --rule-set-type --rule-set-version
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3056'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:53 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:54 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AqqzLJedQ8lHvS_JCXniBGA; expires=Thu, 26-Mar-2020 19:39:54 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH81AY4NwJBii74elZo8koMaO8JGELG5sTpJCoR8Y3yzxBXyj62S4PxagWfuAq3UGqNJT3yLBQthgWnLUpq5rxIDUGNMAabi0dmzsGqNjQ6rYJu_dZYe0UWoSNsREBvyohSHsePLa0-HwrCUPZDBnaDko4rTjAK424pOaH140Akbh0gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule1\",\"enabledState\":\"Enabled\",\"priority\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :true,\"matchValue\":[\r\n                \"GET\",\"HEAD\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Block\"\r\n        },{\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3056'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:55 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:56 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AkyskvDmnnVKj9OaHwR8424; expires=Thu, 26-Mar-2020 19:39:56 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8LgM2s1cdYnJIIbkAh0kMS0gNz8B8BBBR-oJCV2x7q2MSMvK1LeH032V1HR843OnegMPZERHZMC30r2SGgFL1UZZB7cxL2fWBeojIVdtnVA6MX1uSUhjoREvYaBt5_1L78MxlzfjRJrkDwRDMGOH6BjkU7M1cr17NzuRFfMP0zbUgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {}, "properties": {"policySettings": {"enabledState":
      "Disabled", "mode": "Prevention", "defaultRedirectUrl": "https://example.com",
      "defaultCustomBlockResponseStatusCode": 429, "defaultCustomBlockResponseBody":
      "PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4="}, "rateLimitRules": {"rules":
      [{"name": "ratelimitrule1", "enabledState": "Enabled", "priority": 100, "matchConditions":
      [{"matchVariable": "RequestMethod", "operator": "Equal", "negateCondition":
      true, "matchValue": ["GET", "HEAD"], "transforms": []}], "action": "Block",
      "rateLimitThreshold": 100, "rateLimitDurationInMinutes": 1}, {"name": "ratelimitrule2",
      "enabledState": "Enabled", "priority": 200, "matchConditions": [{"matchVariable":
      "RequestMethod", "operator": "Equal", "negateCondition": false, "matchValue":
      ["PUT"], "transforms": []}, {"matchVariable": "RequestUri", "operator": "Contains",
      "negateCondition": false, "matchValue": ["/expensive/resource/"], "transforms":
      []}], "action": "Redirect", "rateLimitThreshold": 100, "rateLimitDurationInMinutes":
      5}]}, "customRules": {"rules": [{"name": "customrule2", "enabledState": "Enabled",
      "priority": 200, "matchConditions": [{"matchVariable": "RequestUri", "operator":
      "Contains", "negateCondition": false, "matchValue": [".."], "transforms": []},
      {"matchVariable": "QueryString", "operator": "Contains", "negateCondition":
      false, "matchValue": [" "], "transforms": []}], "action": "Redirect"}]}, "managedRules":
      {"managedRuleSets": []}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule delete
      Connection:
      - keep-alive
      Content-Length:
      - '1540'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\"\
        :200,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestUri\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"..\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"QueryString\",\"selector\":null,\"operator\":\"\
        Contains\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        \ \"\r\n              ],\"transforms\":[\r\n                \r\n         \
        \     ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n      \
        \  }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\":[\r\
        \n        \r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n\
        \  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2674'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:57 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:39:57 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AqFCNFnv6-lBq37e2kdkpsU; expires=Thu, 26-Mar-2020 19:39:58 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8UsmewFyDVmhFkuOv9Hq5HFbxeBYZSoNn7CemquodiBeIjghuNVr9w2Sm1nVJROW59SWs4ix1cVj2L8xwcIsyfp_wCZUqzpOGDi7a7mFaTpl_RjYYktovC9VkR0i9QKMgdCaCsu6H33494kLzi3hzcmPFXAWhjND7GqR8-hwMAIEgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy custom-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\"\
        :200,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestUri\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"..\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"QueryString\",\"selector\":null,\"operator\":\"\
        Contains\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        \ \"\r\n              ],\"transforms\":[\r\n                \r\n         \
        \     ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n      \
        \  }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\":[\r\
        \n        \r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n\
        \  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2674'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:39:59 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:40:00 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AnHN3WDIsiFKhpqO1OrwiBQ; expires=Thu, 26-Mar-2020 19:40:01 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH88-EkjeX7waYfbTtIUabrQEb_zaG8352Hj3c0Ze4L6QPxZV2sSkVidxbkUMzEbONdnBrL8R9PSGWmwlwo46DGvM_q9rcClP1pMUwnCGbK6OpuBAGQB_LnJXRx7P4jy2zxdScA-plrrUcVwWXnMlMcip0ViPnK0TdYfrEuF7ofTuYgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule1\"\
        ,\"enabledState\":\"Enabled\",\"priority\":100,\"rateLimitDurationInMinutes\"\
        :1,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":true,\"matchValue\":[\r\n                \"\
        GET\",\"HEAD\"\r\n              ],\"transforms\":[\r\n                \r\n\
        \              ]\r\n            }\r\n          ],\"action\":\"Block\"\r\n\
        \        },{\r\n          \"name\":\"ratelimitrule2\",\"enabledState\":\"\
        Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\":5,\"rateLimitThreshold\"\
        :100,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestMethod\",\"selector\":null,\"operator\":\"Equal\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"PUT\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"RequestUri\",\"selector\":null,\"operator\":\"Contains\"\
        ,\"negateCondition\":false,\"matchValue\":[\r\n                \"/expensive/resource/\"\
        \r\n              ],\"transforms\":[\r\n                \r\n             \
        \ ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\
        \n      ]\r\n    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n\
        \          \"name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\"\
        :200,\"matchConditions\":[\r\n            {\r\n              \"matchVariable\"\
        :\"RequestUri\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \"..\"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            },{\r\n         \
        \     \"matchVariable\":\"QueryString\",\"selector\":null,\"operator\":\"\
        Contains\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        \ \"\r\n              ],\"transforms\":[\r\n                \r\n         \
        \     ]\r\n            }\r\n          ],\"action\":\"Redirect\"\r\n      \
        \  }\r\n      ]\r\n    },\"managedRules\":{\r\n      \"managedRuleSets\":[\r\
        \n        \r\n      ]\r\n    },\"endpointLinks\":[\r\n      \r\n    ]\r\n\
        \  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2674'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:40:02 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:40:02 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=As12ydD-gAVMkcwCs5WbzTI; expires=Thu, 26-Mar-2020 19:40:02 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8DZVR7VMEpztvU7qR-h9WdHIGWTqv_6VfK7WSa4DyEE4v05Toc2g5j3SPVJDttaT5spi__AZVJsXF9KRuE-o6xCcqRIEthEMabfGUoS6ovzVhRaPR7jGnkH_7JV0DEvZADKk20vGSDW1Wv4BqoQM0OVFk-TjD6Lh_XeuVLGbTsCEgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "tags": {}, "properties": {"policySettings": {"enabledState":
      "Disabled", "mode": "Prevention", "defaultRedirectUrl": "https://example.com",
      "defaultCustomBlockResponseStatusCode": 429, "defaultCustomBlockResponseBody":
      "PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4="}, "rateLimitRules": {"rules":
      [{"name": "ratelimitrule2", "enabledState": "Enabled", "priority": 200, "matchConditions":
      [{"matchVariable": "RequestMethod", "operator": "Equal", "negateCondition":
      false, "matchValue": ["PUT"], "transforms": []}, {"matchVariable": "RequestUri",
      "operator": "Contains", "negateCondition": false, "matchValue": ["/expensive/resource/"],
      "transforms": []}], "action": "Redirect", "rateLimitThreshold": 100, "rateLimitDurationInMinutes":
      5}]}, "customRules": {"rules": [{"name": "customrule2", "enabledState": "Enabled",
      "priority": 200, "matchConditions": [{"matchVariable": "RequestUri", "operator":
      "Contains", "negateCondition": false, "matchValue": [".."], "transforms": []},
      {"matchVariable": "QueryString", "operator": "Contains", "negateCondition":
      false, "matchValue": [" "], "transforms": []}], "action": "Redirect"}]}, "managedRules":
      {"managedRuleSets": []}}, "sku": {"name": "Standard_Microsoft"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule delete
      Connection:
      - keep-alive
      Content-Length:
      - '1237'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule2\"\
        ,\"enabledState\":\"Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\"\
        :5,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        PUT\"\r\n              ],\"transforms\":[\r\n                \r\n        \
        \      ]\r\n            },{\r\n              \"matchVariable\":\"RequestUri\"\
        ,\"selector\":null,\"operator\":\"Contains\",\"negateCondition\":false,\"\
        matchValue\":[\r\n                \"/expensive/resource/\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\n      ]\r\n\
        \    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2233'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:40:03 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:40:03 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AlrsXg4Kgv1OhpAV_9obu48; expires=Thu, 26-Mar-2020 19:40:04 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8bYp4aM2p71bYM9tkFwItwHIJGI7FbGnGb-XIJSETJLSu2GT2hUhKJaIK7SNPz19mOUBaiimLn_N-XBid5UwrZ7BVTHMmWFSYdaUeQd_TU0n7vRTeK0VQWpt0GEInNPFtYiB_wr0lysuF6QdufBscAagWwYrGKcXCN9s1UdZeZAEgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy rate-limit-rule show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --policy-name -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: "{\r\n  \"name\":\"policy123\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Cdn/cdnwebapplicationfirewallpolicies/policy123\"\
        ,\"type\":\"Microsoft.Cdn/cdnwebapplicationfirewallpolicies\",\"tags\":{\r\
        \n    \r\n  },\"location\":\"Global\",\"sku\":{\r\n    \"name\":\"Standard_Microsoft\"\
        \r\n  },\"properties\":{\r\n    \"resourceState\":\"Enabled\",\"provisioningState\"\
        :\"Succeeded\",\"policySettings\":{\r\n      \"enabledState\":\"Disabled\"\
        ,\"mode\":\"Prevention\",\"defaultRedirectUrl\":\"https://example.com\",\"\
        defaultCustomBlockResponseStatusCode\":429,\"defaultCustomBlockResponseBody\"\
        :\"PGh0bWw+PGJvZHk+ZXhhbXBsZSBib2R5PC9ib2R5PjwvaHRtbD4=\"\r\n    },\"rateLimitRules\"\
        :{\r\n      \"rules\":[\r\n        {\r\n          \"name\":\"ratelimitrule2\"\
        ,\"enabledState\":\"Enabled\",\"priority\":200,\"rateLimitDurationInMinutes\"\
        :5,\"rateLimitThreshold\":100,\"matchConditions\":[\r\n            {\r\n \
        \             \"matchVariable\":\"RequestMethod\",\"selector\":null,\"operator\"\
        :\"Equal\",\"negateCondition\":false,\"matchValue\":[\r\n                \"\
        PUT\"\r\n              ],\"transforms\":[\r\n                \r\n        \
        \      ]\r\n            },{\r\n              \"matchVariable\":\"RequestUri\"\
        ,\"selector\":null,\"operator\":\"Contains\",\"negateCondition\":false,\"\
        matchValue\":[\r\n                \"/expensive/resource/\"\r\n           \
        \   ],\"transforms\":[\r\n                \r\n              ]\r\n        \
        \    }\r\n          ],\"action\":\"Redirect\"\r\n        }\r\n      ]\r\n\
        \    },\"customRules\":{\r\n      \"rules\":[\r\n        {\r\n          \"\
        name\":\"customrule2\",\"enabledState\":\"Enabled\",\"priority\":200,\"matchConditions\"\
        :[\r\n            {\r\n              \"matchVariable\":\"RequestUri\",\"selector\"\
        :null,\"operator\":\"Contains\",\"negateCondition\":false,\"matchValue\":[\r\
        \n                \"..\"\r\n              ],\"transforms\":[\r\n         \
        \       \r\n              ]\r\n            },{\r\n              \"matchVariable\"\
        :\"QueryString\",\"selector\":null,\"operator\":\"Contains\",\"negateCondition\"\
        :false,\"matchValue\":[\r\n                \" \"\r\n              ],\"transforms\"\
        :[\r\n                \r\n              ]\r\n            }\r\n          ],\"\
        action\":\"Redirect\"\r\n        }\r\n      ]\r\n    },\"managedRules\":{\r\
        \n      \"managedRuleSets\":[\r\n        \r\n      ]\r\n    },\"endpointLinks\"\
        :[\r\n      \r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2233'
      content-type:
      - application/json; odata.metadata=minimal
      date:
      - Tue, 25 Feb 2020 19:40:06 GMT
      expires:
      - '-1'
      odata-version:
      - '4.0'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - darwin
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 25 Feb 2020 19:40:05 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AiHNmmBAjhZDgx2f-IrsdvA; expires=Thu, 26-Mar-2020 19:40:06 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAABeAFzDwllzTYGDLh_qYbH8dIQaZZGNJNNd1UeUpaoc9jkmLAUMCUlPC4AqtsJUyxkaLGZWunMeIgYy6Irw5cKwTG6KiRuTFA37giIocQKnW9Szl2fAERoKf4GQA3LKT3JY_2qRiItlVbu7K2C0-9G91_h6pDeat9ov6UwdKy58hfARI-E3MPLC2c9B5Izvne4gAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.10104.13 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - cdn waf policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Darwin-19.2.0-x86_64-i386-64bit) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-cdn/4.1.0rc1 Azure-SDK-For-Python AZURECLI/2.0.81
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Cdn/CdnWebApplicationFirewallPolicies/policy123?api-version=2019-06-15-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Tue, 25 Feb 2020 19:40:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/8.5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14998'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
