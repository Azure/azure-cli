interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: [Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IlliUkFRUlljRV9tb3RXVkpLSHJ3TEJiZF85cyIsImtpZCI6IlliUkFRUlljRV9tb3RXVkpLSHJ3TEJiZF85cyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDcvIiwiaWF0IjoxNDczMjIxMjM5LCJuYmYiOjE0NzMyMjEyMzksImV4cCI6MTQ3MzIyNTEzOSwiX2NsYWltX25hbWVzIjp7Imdyb3VwcyI6InNyYzEifSwiX2NsYWltX3NvdXJjZXMiOnsic3JjMSI6eyJlbmRwb2ludCI6Imh0dHBzOi8vZ3JhcGgud2luZG93cy5uZXQvNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3L3VzZXJzLzg2N2ZiOWQwLTE0MzEtNDFjNy05NmUyLTgzNWVhNjNkNjJlMi9nZXRNZW1iZXJPYmplY3RzIn19LCJhY3IiOiIxIiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImVfZXhwIjoxMDgwMCwiZmFtaWx5X25hbWUiOiJaaGFvIiwiZ2l2ZW5fbmFtZSI6IktldmluIiwiaW5fY29ycCI6InRydWUiLCJpcGFkZHIiOiIxNjcuMjIwLjI1NS40NiIsIm5hbWUiOiJLZXZpbiBaaGFvIiwib2lkIjoiODY3ZmI5ZDAtMTQzMS00MWM3LTk2ZTItODM1ZWE2M2Q2MmUyIiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTIxNDY3NzMwODUtOTAzMzYzMjg1LTcxOTM0NDcwNy0xOTYzNTcyIiwicHVpZCI6IjEwMDMwMDAwOTBGRUNDQ0UiLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzdWIiOiJCTEc1SmxRcURabFdZNEM4QkpnNmZJcXRNelFxZ1ZVZllXemJPNjZvbFB3IiwidGlkIjoiNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3IiwidW5pcXVlX25hbWUiOiJrZXZpbnpoYUBtaWNyb3NvZnQuY29tIiwidXBuIjoia2V2aW56aGFAbWljcm9zb2Z0LmNvbSIsInZlciI6IjEuMCJ9.Pw3NoSCukcrQUNzV_hyTZGCV2xRRRF0FTpjkWy_h8JSEnLLFiTGFt4QZt8737vpxiIo2tqXAukomXIr4Zd1AjBoht55BpP5ihoMvs0vd4Iz1ZW5_pcpXV02l5ztx_BevMyNi0JZk8lmWC7tPmEGgxvr-kWEv_zImTq67o9wNyQyEfVXXJAYdw8Fd90X3fUdu4L0aXJ9A1CgBhW2lxblxLUxha_vhKYC0Z49ZaC-iMPkF5-QCQgmMytEo0TftgmiPZhupMFESKnkMaM6IPVoqgS9wpH5yGVRUnQvLAl67KeQ6tGHjeqQtQKND7PSJ8J7fe-62HpdgTBquN6ks5JiWiA]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.3 msrest_azure/0.4.2
          iothubclient/0.1.0 Azure-SDK-For-Python AZURECLI/TEST/0.0.1.dev0]
      accept-language: [en-US]
      x-ms-client-request-id: [bd469626-74b7-11e6-8f7c-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAEAO29B2AcSZYlJi9tynt/SvVK1+B0oQiAYBMk2JBAEOzBiM3mkuwdaUcjKasqgcpl
        VmVdZhZAzO2dvPfee++999577733ujudTif33/8/XGZkAWz2zkrayZ4hgKrIHz9+fB8/In7xR5dZ
        uc4/evS9X/zR2/z6Rbag3z8qqna+nlRXy7z+aPTRqi4WWX39e+XX9NWLB/OL3+f1009ev37x1Yuf
        zJ69++Rk8Xr5+3zxez1YffXgp9u7d0+ff/dsr9z97pcHn9G7TT6tljP79urZD34y+4mfeJ19cvzk
        +dlFtrv3vJ3+1E+/uHj+Uw9f/KLdi/Nn9z/Pn/zUp4t7Fd6ui4t529B7r/KLomnr6+/WRZuP0td5
        fVlM85Nqucyn7Sh9mnt/fvRLRv5YGmlL0IJxzJ6evl2+ffbd8t559cnT/ZcXL15/vv/JzuTBm/PX
        Z7/P8uTk/stvv/rJ7+z8xA/2gUlnHG+r+eX559NnD3ae3Zvszoudn/juL3raPP1yOv99Xn/ynYdv
        fvrV+fNXB9MXxcHvg7ftOELEO5jOeBTUPEC0+sHvdf5FcXrxar23l00/efOTD3bOd36v453j1eX8
        98p/+uC7v8/l273z19/ZffoVuuog+vr3PvvyXf2TB/nr+58vfuqL1eTbk+uX50/urS/u/fT5eX59
        7+7idOfzl8XBT7/F2xbRTRStdTJe5dmM3gmw/b2+/H1+0XrnJ+p3bz7Jv3P93RfHey++PXn++fTb
        ly9/6t6r7z6/9+ondw/mL3/y0/MYWe++eVM2P/GDB6vZTzz/dvHu07frt/fPf+KnmnU2/+7lw2/P
        T88+/UE1LZ6++IkdvG2xNezBGA0jy9xD7wUYP1wefHV6Xjd7D5+Xx1/tPVxmv8+9+fnn5cnv9XRV
        VlefT7/zdFLWy+ryyRX67GD88u75ZF2395vz7y5ft9fLs7KZP3h998Xz7/5ev/er8+9c3s8vV2ff
        eVN8/voLvN3DWFD6Jd//Jf8Pc/bXnIkDAAA=
    headers:
      Cache-Control: [no-cache]
      Content-Encoding: [gzip]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 07 Sep 2016 04:58:39 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: !!binary |
      eyJkZXZpY2VJZCI6ICJpb3QtZGV2aWNlLWZvci10ZXN0In0=
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Authorization: [SharedAccessSignature se=1473227920&skn=iothubowner&sig=3J2L4w8V%2FlXsysCDVsbboHDC8txMX2WYQ0JVINE20dY%3D&sr=iot-hub-for-test.azure-devices.net%252fdevices%252fiot-device-for-test]
      Connection: [keep-alive]
      Content-Length: ['35']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.3 msrest_azure/0.4.2
          iothubdeviceclient/2016-02-03 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [be8ab9d8-74b7-11e6-9cc0-40a8f04ffd53]
    method: PUT
    uri: https://iot-hub-for-test.azure-devices.net/devices/iot-device-for-test?api-version=2016-02-03
  response:
    body: {string: '{"deviceId":"iot-device-for-test","generationId":"636088211228917592","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"ujy9UZdrtAXUfyXcFWdm5uHVhB302s9eQqGZ+foPIMk=","secondaryKey":"vcIuEyMhouaFdHhTPU42kauViFCiEStb82f1V+N3heU="},"x509Thumbprint":null},"isManaged":false,"deviceProperties":null,"configuration":null,"serviceProperties":null,"lastServicePropertiesUpdatedTime":"0001-01-01T00:00:00","lastDevicePropertiesUpdatedTime":"0001-01-01T00:00:00"}'}
    headers:
      Content-Length: ['701']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 07 Sep 2016 04:58:42 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
version: 1
