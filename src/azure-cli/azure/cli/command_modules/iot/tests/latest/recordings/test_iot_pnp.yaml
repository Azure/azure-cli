interactions:
- request:
    body: '{"properties": {"name": "clitestrepo"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '39'
      Content-Type:
      - application/json-patch+json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: PUT
    uri: https://provider.azureiotrepository-test.com/repositories?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"status":"Provisioned","provisioningState":"dc3127e18f0f4573a125114baeaad98a","id":"621158b3145e471b99b3f9f4379e5026","pollBackUri":null}'
    headers:
      content-length:
      - '138'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:29 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: GET
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/status/dc3127e18f0f4573a125114baeaad98a?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"status":"Provisioned","provisioningState":"dc3127e18f0f4573a125114baeaad98a","id":"621158b3145e471b99b3f9f4379e5026","pollBackUri":null}'
    headers:
      content-length:
      - '138'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:30 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"id": "621158b3145e471b99b3f9f4379e5026", "name": "clitestrepo-updated"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '89'
      Content-Type:
      - application/json-patch+json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: PUT
    uri: https://provider.azureiotrepository-test.com/repositories?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"status":"Provisioned","provisioningState":"dc3127e18f0f4573a125114baeaad98a","id":"621158b3145e471b99b3f9f4379e5026","pollBackUri":null}'
    headers:
      content-length:
      - '138'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:34 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: GET
    uri: https://provider.azureiotrepository-test.com/repositories?api-version=2019-07-01-Preview
  response:
    body:
      string: '[{"id":"621158b3145e471b99b3f9f4379e5026","name":"clitestrepo-updated","type":"{resourceProviderNamespace}/repository","properties":{"id":"621158b3145e471b99b3f9f4379e5026","tenantId":"beea802c-319f-4438-8a03-e03255ff460e","tenantName":"beea802c-319f-4438-8a03-e03255ff460e","kind":"Repository","createdOn":"2019-07-23T17:03:29.605679Z","updatedOn":"2019-07-23T17:03:33.5354398Z"}}]'
    headers:
      content-length:
      - '382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:35 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: GET
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"id":"621158b3145e471b99b3f9f4379e5026","name":"clitestrepo-updated","type":"{resourceProviderNamespace}/repository","properties":{"id":"621158b3145e471b99b3f9f4379e5026","tenantId":"beea802c-319f-4438-8a03-e03255ff460e","tenantName":"beea802c-319f-4438-8a03-e03255ff460e","kind":"Repository","createdOn":"2019-07-23T17:03:29.605679Z","updatedOn":"2019-07-23T17:03:33.5354398Z"}}'
    headers:
      content-length:
      - '380'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:37 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: GET
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/authKeys?api-version=2019-07-01-Preview
  response:
    body:
      string: '[]'
    headers:
      content-length:
      - '2'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:40 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"userRole": "reader"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '38'
      Content-Type:
      - application/json-patch+json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: PUT
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/authKeys?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"id":"6b879e1052f64a689884abe3fb6c2428","repositoryId":"621158b3145e471b99b3f9f4379e5026","userRole":"Reader","secret":"IxOXc8uLde/huoHACf8l+UFn94GhnU5QCCwjEeMXj9lRHj7N+TngqenyTRtJ8ap0UCzJQF9L6yH0edqSosEvoA==","tenantId":"beea802c-319f-4438-8a03-e03255ff460e","tenantName":"beea802c-319f-4438-8a03-e03255ff460e","createdOn":"2019-07-23T17:03:42.0699322Z","updatedOn":"2019-07-23T17:03:42.0699322Z","connectionString":"HostName=https://repo.azureiotrepository-test.com;RepositoryId=621158b3145e471b99b3f9f4379e5026;SharedAccessKeyName=6b879e1052f64a689884abe3fb6c2428;SharedAccessKey=IxOXc8uLde/huoHACf8l+UFn94GhnU5QCCwjEeMXj9lRHj7N+TngqenyTRtJ8ap0UCzJQF9L6yH0edqSosEvoA==","serviceEndpoint":"https://repo.azureiotrepository-test.com"}'
    headers:
      content-length:
      - '735'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:42 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: GET
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/authKeys?api-version=2019-07-01-Preview
  response:
    body:
      string: '[{"id":"6b879e1052f64a689884abe3fb6c2428","repositoryId":"621158b3145e471b99b3f9f4379e5026","userRole":"Reader","secret":"IxOXc8uLde/huoHACf8l+UFn94GhnU5QCCwjEeMXj9lRHj7N+TngqenyTRtJ8ap0UCzJQF9L6yH0edqSosEvoA==","tenantId":"beea802c-319f-4438-8a03-e03255ff460e","tenantName":"beea802c-319f-4438-8a03-e03255ff460e","createdOn":"2019-07-23T17:03:42.0699322Z","updatedOn":"2019-07-23T17:03:42.0699322Z","connectionString":"HostName=https://repo.azureiotrepository-test.com;RepositoryId=621158b3145e471b99b3f9f4379e5026;SharedAccessKeyName=6b879e1052f64a689884abe3fb6c2428;SharedAccessKey=IxOXc8uLde/huoHACf8l+UFn94GhnU5QCCwjEeMXj9lRHj7N+TngqenyTRtJ8ap0UCzJQF9L6yH0edqSosEvoA==","serviceEndpoint":"https://repo.azureiotrepository-test.com"}]'
    headers:
      content-length:
      - '737'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:45 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: GET
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/authKeys/6b879e1052f64a689884abe3fb6c2428?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"id":"6b879e1052f64a689884abe3fb6c2428","repositoryId":"621158b3145e471b99b3f9f4379e5026","userRole":"Reader","secret":"IxOXc8uLde/huoHACf8l+UFn94GhnU5QCCwjEeMXj9lRHj7N+TngqenyTRtJ8ap0UCzJQF9L6yH0edqSosEvoA==","tenantId":"beea802c-319f-4438-8a03-e03255ff460e","tenantName":"beea802c-319f-4438-8a03-e03255ff460e","createdOn":"2019-07-23T17:03:42.0699322Z","updatedOn":"2019-07-23T17:03:42.0699322Z","connectionString":"HostName=https://repo.azureiotrepository-test.com;RepositoryId=621158b3145e471b99b3f9f4379e5026;SharedAccessKeyName=6b879e1052f64a689884abe3fb6c2428;SharedAccessKey=IxOXc8uLde/huoHACf8l+UFn94GhnU5QCCwjEeMXj9lRHj7N+TngqenyTRtJ8ap0UCzJQF9L6yH0edqSosEvoA==","serviceEndpoint":"https://repo.azureiotrepository-test.com"}'
    headers:
      content-length:
      - '735'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:47 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"id": "6b879e1052f64a689884abe3fb6c2428", "userRole": "admin"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '79'
      Content-Type:
      - application/json-patch+json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: PUT
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/authKeys?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"id":"6b879e1052f64a689884abe3fb6c2428","repositoryId":"621158b3145e471b99b3f9f4379e5026","userRole":"Admin","secret":"M29V+TfbN7Aqpn8nFaA5rDYrHeKrfYgw1azGiys1rkpC0APBfWnxc5llev7HGocO74j7whnLUEZmtt1J46rXPg==","tenantId":"beea802c-319f-4438-8a03-e03255ff460e","tenantName":"beea802c-319f-4438-8a03-e03255ff460e","createdOn":"2019-07-23T17:03:42.0699322Z","updatedOn":"2019-07-23T17:03:51.0218656Z","connectionString":"HostName=https://repo.azureiotrepository-test.com;RepositoryId=621158b3145e471b99b3f9f4379e5026;SharedAccessKeyName=6b879e1052f64a689884abe3fb6c2428;SharedAccessKey=M29V+TfbN7Aqpn8nFaA5rDYrHeKrfYgw1azGiys1rkpC0APBfWnxc5llev7HGocO74j7whnLUEZmtt1J46rXPg==","serviceEndpoint":"https://repo.azureiotrepository-test.com"}'
    headers:
      content-length:
      - '734'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:50 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: DELETE
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/authKeys/6b879e1052f64a689884abe3fb6c2428?api-version=2019-07-01-Preview
  response:
    body:
      string: ''
    headers:
      date:
      - Tue, 23 Jul 2019 17:03:53 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: GET
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026/authKeys?api-version=2019-07-01-Preview
  response:
    body:
      string: '[]'
    headers:
      content-length:
      - '2'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:55 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.8 digitaltwinrepositoryprovisioningservice/v1
    method: DELETE
    uri: https://provider.azureiotrepository-test.com/repositories/621158b3145e471b99b3f9f4379e5026?api-version=2019-07-01-Preview
  response:
    body:
      string: '{"status":"Deleted","provisioningState":"dc3127e18f0f4573a125114baeaad98a","id":"621158b3145e471b99b3f9f4379e5026","pollBackUri":null}'
    headers:
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 23 Jul 2019 17:03:59 GMT
      server:
      - Kestrel
      set-cookie:
      - ARRAffinity=87ca36d9eab96cb0d1b623eebad83f4ffc82d3755d0e96a20ce504b583eead85;Path=/;HttpOnly;Domain=provider.azureiotrepository-test.com
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
version: 1
