interactions:
- request:
    body: '{"location": "eastus", "sku": {"name": "Premium"}, "properties": {"adminUserEnabled":
      false, "anonymousPullEnabled": false}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr create
      Connection:
      - keep-alive
      Content-Length:
      - '124'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Creating","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":false,"dataEndpointHostNames":[],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/operationStatuses/registries-46640b06-26ef-11ec-8701-40b0343b6fb7?api-version=2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1356'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/operationStatuses/registries-46640b06-26ef-11ec-8701-40b0343b6fb7?api-version=2021-06-01-preview
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/operationStatuses/registries-46640b06-26ef-11ec-8701-40b0343b6fb7?api-version=2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":false,"dataEndpointHostNames":[],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1357'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --data-endpoint-enabled
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --data-endpoint-enabled
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":false,"dataEndpointHostNames":[],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1357'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"dataEndpointEnabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr update
      Connection:
      - keep-alive
      Content-Length:
      - '45'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --data-endpoint-enabled
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The resource connectedRegistry1
        could not be found."},"status":"Failed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '119'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"actions": ["repositories/repo1/content/read", "repositories/repo1/content/write",
      "repositories/repo1/content/delete", "repositories/repo1/metadata/read", "repositories/repo1/metadata/write",
      "repositories/repo2/content/read", "repositories/repo2/content/write", "repositories/repo2/content/delete",
      "repositories/repo2/metadata/read", "repositories/repo2/metadata/write", "gateway/connectedregistry1/config/read",
      "gateway/connectedregistry1/config/write", "gateway/connectedregistry1/message/read",
      "gateway/connectedregistry1/message/write"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      Content-Length:
      - '563'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:47.4560923+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:47.4560923+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:49:47.5605558+00:00","provisioningState":"Succeeded","actions":["repositories/repo1/content/read","repositories/repo1/content/write","repositories/repo1/content/delete","repositories/repo1/metadata/read","repositories/repo1/metadata/write","repositories/repo2/content/read","repositories/repo2/content/write","repositories/repo2/content/delete","repositories/repo2/metadata/read","repositories/repo2/metadata/write","gateway/connectedregistry1/config/read","gateway/connectedregistry1/config/write","gateway/connectedregistry1/message/read","gateway/connectedregistry1/message/write"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1231'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"scopeMapId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1",
      "status": "enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      Content-Length:
      - '296'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:47.9649764+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:47.9649764+00:00"},"properties":{"creationDate":"2021-10-06T21:49:48.0625051+00:00","provisioningState":"Creating","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1/operationStatuses/token-51efaf0a-26ef-11ec-ac2b-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '996'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1/operationStatuses/token-51efaf0a-26ef-11ec-ac2b-40b0343b6fb7?api-version=2020-11-01-preview
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1/operationStatuses/token-51efaf0a-26ef-11ec-ac2b-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:47.9649764+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:47.9649764+00:00"},"properties":{"creationDate":"2021-10-06T21:49:48.0625051+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '997'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"mode": "Registry", "parent": {"syncProperties": {"tokenId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1",
      "schedule": "* * * * *", "messageTtl": "P2D"}}, "logging": {"logLevel": "Information",
      "auditLogStatus": "Disabled"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      Content-Length:
      - '437'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -r --repository
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:59.2997704+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:59.2997704+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Registry","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1221'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --gateway --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --gateway --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map?api-version=2020-11-01-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The resource syncToken-scope-map
        could not be found."},"status":"Failed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '120'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:49:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"actions": ["repositories/repo1/content/read", "repositories/repo1/metadata/read",
      "gateway/connectedregistry2/config/read", "gateway/connectedregistry2/config/write",
      "gateway/connectedregistry2/message/read", "gateway/connectedregistry2/message/write"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      Content-Length:
      - '272'
      Content-Type:
      - application/json
      ParameterSetName:
      - -r -n --repository --gateway --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map","name":"syncToken-scope-map","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:00.2957311+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:00.2957311+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:50:00.3940791+00:00","provisioningState":"Succeeded","actions":["repositories/repo1/content/read","repositories/repo1/metadata/read","gateway/connectedregistry2/config/read","gateway/connectedregistry2/config/write","gateway/connectedregistry2/message/read","gateway/connectedregistry2/message/write"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '950'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"scopeMapId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map",
      "status": "enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      Content-Length:
      - '297'
      Content-Type:
      - application/json
      ParameterSetName:
      - -r -n --repository --gateway --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","name":"syncToken","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:00.7930128+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:00.7930128+00:00"},"properties":{"creationDate":"2021-10-06T21:50:01.3026241+00:00","provisioningState":"Creating","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken/operationStatuses/token-5a3e0ad0-26ef-11ec-aa7e-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '979'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --gateway --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken/operationStatuses/token-5a3e0ad0-26ef-11ec-aa7e-40b0343b6fb7?api-version=2020-11-01-preview
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken/operationStatuses/token-5a3e0ad0-26ef-11ec-aa7e-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --gateway --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","name":"syncToken","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:00.7930128+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:00.7930128+00:00"},"properties":{"creationDate":"2021-10-06T21:50:01.3026241+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '980'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken-scope-map?api-version=2020-11-01-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The resource clientToken-scope-map
        could not be found."},"status":"Failed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '122'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"actions": ["repositories/repo1/content/read"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      Content-Length:
      - '64'
      Content-Type:
      - application/json
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken-scope-map?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken-scope-map","name":"clientToken-scope-map","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:13.3637975+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:13.3637975+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:50:13.5920432+00:00","provisioningState":"Succeeded","actions":["repositories/repo1/content/read"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '751'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"scopeMapId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken-scope-map",
      "status": "enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      Content-Length:
      - '299'
      Content-Type:
      - application/json
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken","name":"clientToken","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:13.9885038+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:13.9885038+00:00"},"properties":{"creationDate":"2021-10-06T21:50:14.4722009+00:00","provisioningState":"Creating","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken/operationStatuses/token-61dc1408-26ef-11ec-a807-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '985'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken/operationStatuses/token-61dc1408-26ef-11ec-a807-40b0343b6fb7?api-version=2020-11-01-preview
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken/operationStatuses/token-61dc1408-26ef-11ec-a807-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken","name":"clientToken","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:13.9885038+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:13.9885038+00:00"},"properties":{"creationDate":"2021-10-06T21:50:14.4722009+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '986'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --sync-token -m --log-level -s -w --client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --sync-token -m --log-level -s -w --client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"mode": "Mirror", "parent": {"syncProperties": {"tokenId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken",
      "schedule": "0 0/10 * * *", "syncWindow": "PT4H", "messageTtl": "P2D"}}, "clientTokenIds":
      ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken"],
      "logging": {"logLevel": "Warning", "auditLogStatus": "Disabled"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry create
      Connection:
      - keep-alive
      Content-Length:
      - '702'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -r --sync-token -m --log-level -s -w --client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:26.8356424+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:26.8356424+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"0
        0/10 * * *","syncWindow":"PT4H","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Warning","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1482'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list
      Connection:
      - keep-alive
      ParameterSetName:
      - -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list
      Connection:
      - keep-alive
      ParameterSetName:
      - -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list
      Connection:
      - keep-alive
      ParameterSetName:
      - -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries?api-version=2020-11-01-preview
  response:
    body:
      string: '{"value":[{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:59.2997704+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:59.2997704+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Registry","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}},{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:26.8356424+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:26.8356424+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"0
        0/10 * * *","syncWindow":"PT4H","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Warning","auditLogStatus":"Disabled"}}}]}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '2716'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:26.8356424+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:26.8356424+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"0
        0/10 * * *","syncWindow":"PT4H","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Warning","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1482'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken","name":"clientToken","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:13.9885038+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:13.9885038+00:00"},"properties":{"creationDate":"2021-10-06T21:50:14.4722009+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '986'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken2-scope-map?api-version=2020-11-01-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The resource clientToken2-scope-map
        could not be found."},"status":"Failed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '123'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"actions": ["repositories/repo2/metadata/read"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      Content-Length:
      - '65'
      Content-Type:
      - application/json
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken2-scope-map?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken2-scope-map","name":"clientToken2-scope-map","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:33.1867668+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:33.1867668+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:50:33.4879842+00:00","provisioningState":"Succeeded","actions":["repositories/repo2/metadata/read"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '754'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"scopeMapId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken2-scope-map",
      "status": "enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      Content-Length:
      - '300'
      Content-Type:
      - application/json
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2","name":"clientToken2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:33.7992042+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:33.7992042+00:00"},"properties":{"creationDate":"2021-10-06T21:50:34.2860971+00:00","provisioningState":"Creating","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken2-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2/operationStatuses/token-6d4585f4-26ef-11ec-bfc1-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '988'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2/operationStatuses/token-6d4585f4-26ef-11ec-bfc1-40b0343b6fb7?api-version=2020-11-01-preview
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2/operationStatuses/token-6d4585f4-26ef-11ec-bfc1-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token create
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n --repository --no-passwords
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2","name":"clientToken2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:33.7992042+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:33.7992042+00:00"},"properties":{"creationDate":"2021-10-06T21:50:34.2860971+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken2-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '989'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --log-level -s --remove-client-tokens --add-client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --log-level -s --remove-client-tokens --add-client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --log-level -s --remove-client-tokens --add-client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --log-level -s --remove-client-tokens --add-client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:26.8356424+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:26.8356424+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"0
        0/10 * * *","syncWindow":"PT4H","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Warning","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1482'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"syncProperties": {"schedule": "* * * * *"}, "logging":
      {"logLevel": "Information"}, "clientTokenIds": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry update
      Connection:
      - keep-alive
      Content-Length:
      - '357'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -r --log-level -s --remove-client-tokens --add-client-tokens
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:49.2851212+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:49.2851212+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:49.2851212+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:49.2851212+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry list-client-tokens
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2","name":"clientToken2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:33.7992042+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:33.7992042+00:00"},"properties":{"creationDate":"2021-10-06T21:50:34.2860971+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/clientToken2-scope-map","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '989'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry get-settings
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --parent-protocol --generate-password -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry get-settings
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --parent-protocol --generate-password -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry get-settings
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --parent-protocol --generate-password -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry get-settings
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --parent-protocol --generate-password -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:49.2851212+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:49.2851212+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry get-settings
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --parent-protocol --generate-password -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"tokenId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken",
      "name": "password2"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry get-settings
      Connection:
      - keep-alive
      Content-Length:
      - '265'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -r --parent-protocol --generate-password -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/generateCredentials?api-version=2020-11-01-preview
  response:
    body:
      string: '{"username":"syncToken","passwords":[{"creationTime":"2021-10-06T21:50:55.7517264+00:00","name":"password2","value":"g/aKM7vqVxPAimusEQ4uE2LKpJSZvMzs"}]}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '153'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr token show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","name":"syncToken","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:00.7930128+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:00.7930128+00:00"},"properties":{"creationDate":"2021-10-06T21:50:01.3026241+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map","credentials":{"certificates":[],"passwords":[{"creationTime":"2021-10-06T21:50:55.7517264+00:00","name":"password2"}]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1051'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2","name":"connectedRegistry2","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:49.2851212+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:49.2851212+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Mirror","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"clientTokenIds":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/clientToken2"],"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -r -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry2?api-version=2020-11-01-preview
  response:
    body:
      string: ''
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 06 Oct 2021 21:50:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/syncToken","name":"syncToken","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:50:00.7930128+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:50:00.7930128+00:00"},"properties":{"creationDate":"2021-10-06T21:50:01.3026241+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/syncToken-scope-map","credentials":{"certificates":[],"passwords":[{"creationTime":"2021-10-06T21:50:55.7517264+00:00","name":"password2"}]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1051'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:50:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:59.2997704+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:59.2997704+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Registry","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1221'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries?api-version=2020-11-01-preview
  response:
    body:
      string: '{"value":[{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:59.2997704+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:59.2997704+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Registry","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}]}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1233'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:47.9649764+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:47.9649764+00:00"},"properties":{"creationDate":"2021-10-06T21:49:48.0625051+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '997'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:47.4560923+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:47.4560923+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:49:47.5605558+00:00","provisioningState":"Succeeded","actions":["repositories/repo1/content/read","repositories/repo1/content/write","repositories/repo1/content/delete","repositories/repo1/metadata/read","repositories/repo1/metadata/write","repositories/repo2/content/read","repositories/repo2/content/write","repositories/repo2/content/delete","repositories/repo2/metadata/read","repositories/repo2/metadata/write","gateway/connectedregistry1/config/read","gateway/connectedregistry1/config/write","gateway/connectedregistry1/message/read","gateway/connectedregistry1/message/write"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1231'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"actions": ["repositories/foo/metadata/write", "repositories/foo/metadata/read",
      "gateway/connectedregistry1/config/write", "gateway/connectedregistry1/message/write",
      "gateway/connectedregistry1/config/read", "repositories/foo/content/delete",
      "repositories/foo/content/read", "repositories/foo/content/write", "gateway/connectedregistry1/message/read"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      Content-Length:
      - '372'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:51:04.6302947+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:51:04.6302947+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:49:47.5605558+00:00","provisioningState":"Updating","actions":["repositories/foo/metadata/write","repositories/foo/metadata/read","gateway/connectedregistry1/config/write","gateway/connectedregistry1/message/write","gateway/connectedregistry1/config/read","repositories/foo/content/delete","repositories/foo/content/read","repositories/foo/content/write","gateway/connectedregistry1/message/read"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1/operationStatuses/token-7f641b80-26ef-11ec-b01a-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1044'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-resource/19.0.0 Python/3.7.8 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.ContainerRegistry%2Fregistries%27&api-version=2021-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/onprem/providers/Microsoft.ContainerRegistry/registries/rosanch1","name":"rosanch1","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus2euap","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2020-12-23T02:38:45.9649147Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2020-12-23T02:39:35.8736798Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","type":"Microsoft.ContainerRegistry/registries","sku":{"name":"Premium","tier":"Premium"},"location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904Z","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:28.522904Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1133'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: '{"sku":{"name":"Premium","tier":"Premium"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"eastus","tags":{},"systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:28.522904+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:43.728505+00:00"},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2021-10-06T21:49:28.522904Z","provisioningState":"Succeeded","adminUserEnabled":false,"networkRuleSet":{"defaultAction":"Allow","virtualNetworkRules":[],"ipRules":[]},"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2021-10-06T21:49:30.474175+00:00","status":"disabled"},"exportPolicy":{"status":"enabled"}},"encryption":{"status":"disabled"},"dataEndpointEnabled":true,"dataEndpointHostNames":["clireg000002.eastus.data.azurecr.io"],"privateEndpointConnections":[],"publicNetworkAccess":"Enabled","networkRuleBypassOptions":"AzureServices","zoneRedundancy":"Disabled","anonymousPullEnabled":false}}'
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1401'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/connectedRegistries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/connectedRegistries/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:59.2997704+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:59.2997704+00:00"},"properties":{"provisioningState":"Succeeded","mode":"Registry","connectionState":"Offline","activation":{"status":"Inactive"},"parent":{"syncProperties":{"tokenId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","schedule":"*
        * * * *","messageTtl":"P2D","gatewayEndpoint":"clireg000002.eastus.data.azurecr.io"}},"loginServer":{"tls":{"certificate":{}}},"logging":{"logLevel":"Information","auditLogStatus":"Disabled"}}}'
    headers:
      api-supported-versions:
      - 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1221'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1/operationStatuses/token-7f641b80-26ef-11ec-b01a-40b0343b6fb7?api-version=2020-11-01-preview
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1/operationStatuses/token-7f641b80-26ef-11ec-b01a-40b0343b6fb7?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r --remove --add
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:51:04.6302947+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:51:04.6302947+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:49:47.5605558+00:00","provisioningState":"Succeeded","actions":["repositories/foo/metadata/write","repositories/foo/metadata/read","gateway/connectedregistry1/config/write","gateway/connectedregistry1/message/write","gateway/connectedregistry1/config/read","repositories/foo/content/delete","repositories/foo/content/read","repositories/foo/content/write","gateway/connectedregistry1/message/read"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1045'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/tokens","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/tokens/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:49:47.9649764+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:49:47.9649764+00:00"},"properties":{"creationDate":"2021-10-06T21:49:48.0625051+00:00","provisioningState":"Succeeded","scopeMapId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","credentials":{"certificates":[],"passwords":[]},"status":"enabled"}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '997'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr connected-registry permissions show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -r
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1?api-version=2020-11-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/scopeMaps","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/scopeMaps/connectedRegistry1","name":"connectedRegistry1","systemData":{"createdBy":"rosanch@microsoft.com","createdByType":"User","createdAt":"2021-10-06T21:51:04.6302947+00:00","lastModifiedBy":"rosanch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-10-06T21:51:04.6302947+00:00"},"properties":{"type":"UserDefined","creationDate":"2021-10-06T21:49:47.5605558+00:00","provisioningState":"Succeeded","actions":["repositories/foo/metadata/write","repositories/foo/metadata/read","gateway/connectedregistry1/config/write","gateway/connectedregistry1/message/write","gateway/connectedregistry1/config/read","repositories/foo/content/delete","repositories/foo/content/read","repositories/foo/content/write","gateway/connectedregistry1/message/read"]}}'
    headers:
      api-supported-versions:
      - 2019-05-01-preview, 2020-11-01-preview, 2021-06-01-preview, 2021-08-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1045'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 06 Oct 2021 21:51:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g -y
      User-Agent:
      - AZURECLI/2.28.1 azsdk-python-azure-mgmt-containerregistry/8.1.0 Python/3.7.8
        (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2021-06-01-preview
  response:
    body:
      string: ''
    headers:
      api-supported-versions:
      - 2021-06-01-preview
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 06 Oct 2021 21:51:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
