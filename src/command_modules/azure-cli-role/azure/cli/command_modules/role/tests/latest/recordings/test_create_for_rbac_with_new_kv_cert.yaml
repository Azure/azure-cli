interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2018-06-29T21:02:26Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 resourcemanagementclient/2.0.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","name":"cli_test_sp_with_kv_new_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-06-29T21:02:26Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:02:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.User/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[],"assignedPlans":[],"city":null,"companyName":null,"consentProvidedForMinor":null,"country":null,"createdDateTime":"2016-01-21T22:10:16Z","creationType":null,"department":null,"dirSyncEnabled":null,"displayName":"admin3","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"admin3","immutableId":null,"isCompromised":null,"jobTitle":null,"lastDirSyncTime":null,"legalAgeGroupClassification":null,"mail":null,"mailNickname":"admin3","mobile":null,"onPremisesDistinguishedName":null,"onPremisesSecurityIdentifier":null,"otherMails":["yugangw@microsoft.com"],"passwordPolicies":"None","passwordProfile":null,"physicalDeliveryOfficeName":null,"postalCode":null,"preferredLanguage":"en-US","provisionedPlans":[],"provisioningErrors":[],"proxyAddresses":[],"refreshTokensValidFromDateTime":"2018-06-11T19:00:31Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":null,"state":null,"streetAddress":null,"surname":"sdk","telephoneNumber":null,"usageLocation":null,"userIdentities":[],"userPrincipalName":"admin3@AzureSDKTeam.onmicrosoft.com","userType":"Member"}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1428']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:02:28 GMT']
      duration: ['473189']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [WuWPPeV7dv5/89XBwAEVlawMeyvMAtJ8EugXI+UUkGg=]
      ocp-aad-session-key: [wpE7WaLoX-lPhGZSEL1Hk31XVCxjfuTeG4tdco1ymRlizrEjPKjhra3p_xxrZCAuGVwtwvHQKHykkz72Q_xn08PQjwhbQMhiM-9n_8dBxfCE0YJ7jnvWxUsZX-qEbpLp.mQ0H3iOule3sY2y8MlysMzMl4G0M31BNrfFBUNgmJjA]
      pragma: [no-cache]
      request-id: [854a93dd-61a6-4187-bc6e-b5ff44b18cad]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId": "e7e158d3-7cdc-47cd-8825-5859d7ab2b55",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [keyvault create]
      Connection: [keep-alive]
      Content-Length: ['746']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-keyvault/1.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1106']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:02:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-service-version: [1.0.0.220]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [keyvault create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-keyvault/1.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net/","provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1102']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-service-version: [1.0.0.220]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:08 GMT']
      duration: ['551253']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [MgCOFlBST+mo1KC/91F/Oo/eJDomNdlFlzbOkSzeiCA=]
      ocp-aad-session-key: [0-F8z9me_WX4701K9TVcZMNQrBVNnZ_a3tnLXTUA-eyOxzC3Lt2nt_m-zR8T_aK0gRrr2rk8we6j9zNu99zfphVcrr9Oh6jb2nE_RJEO7cgg3iriocFdyw2d-7-xErlA.XqsSGGvenIqpqVeH4jYGE_fzkyK1pWwF29mLTkSfM6I]
      pragma: [no-cache]
      request-id: [a1540be9-e3fa-4d1d-be7e-82e708eddc49]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: ''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: [0]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 29 Jun 2018 21:03:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      www-authenticate: ['Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
          resource="https://vault.azure.net"']
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 401, message: Unauthorized}
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['477']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b90e883a873e453ca852a06f2a33b019"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:11 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=b90e883a873e453ca852a06f2a33b019']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b90e883a873e453ca852a06f2a33b019"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b90e883a873e453ca852a06f2a33b019"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b90e883a873e453ca852a06f2a33b019"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b90e883a873e453ca852a06f2a33b019"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:26 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"b90e883a873e453ca852a06f2a33b019"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/baa0c1f9fb184780875877445a0c8077","kid":"https://clitest000002.vault.azure.net/keys/cert1/baa0c1f9fb184780875877445a0c8077","sid":"https://clitest000002.vault.azure.net/secrets/cert1/baa0c1f9fb184780875877445a0c8077","x5t":"ON8adhbumKBAW4RwJ6QPrJ_BbGo","cer":"MIIDQDCCAiigAwIBAgIQGnU9NaioRlaXze5y52CA1jANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwNjI5MjA1MzI4WhcNMTkwNzI5MjEwMzI4WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLEi9eGE8YJslsxSPwRHwWmVQpLL3yvajPSlmvhXcGeXHG04CQ1Gm/dqbeVLdzfBSUkRAi2bYk4p1Y8uwa5mF6+lm+nJiRMy6PVsKHYFhpr7sfMl3gMbxQ7LHG6P4mfG5esZwQTZqJg0bYOJDHG/0sKKSEuvrJ2VUUQgWG6hB7a3xfJSrtqqeZvzS6k4K6od5Qn3WIZeJX9NNwMlyVEoN8R82ZYxLjmIV2zVn2m039y5PvDMq90ZVgCzGVmz9BANsH003YeAsjkzVbym3XlbPws+0fVPwOFg0ZLfvsiDTS9RR1v6SCq5l2sd8bYI/pYfER/7ykky/VjC957HEn+kkTAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBSaOf9TGSMSFFrKLsTho5VG5vFaMzAdBgNVHQ4EFgQUmjn/UxkjEhRayi7E4aOVRubxWjMwDQYJKoZIhvcNAQELBQADggEBACjltuFa6O9YgXrmyz6AFUsSyzUr4OGM5JSpxUziuryNxPMMlh9EDmLSdO1XuoYYapM+DSKY+WDLO2ZTDGSGKhzXAkXu16XysRO8G+6vqjfHmoPQswkuY7XyzV67mpNv/+OQkGS/4Ji1mcldmlsCKchSHBixrC6AZrGkt32vsDEZDCo0Rcsz9PP1qGWHbiLcEp4mwZFodYwRcvlLTk9PbR/xf0on9LpRyteiB4hMwpIuXT1TbSCqBran1reZ6pfYQX0m4QHWCN+PhFR2f7pSt/6Yl+8kJO7HpeAuzAcmfFbv95SVKlJ+X5v4iur96B/p0iZeDyDJ6HFaaiMNb3LWRvw=","attributes":{"enabled":true,"nbf":1530305608,"exp":1564434208,"created":1530306208,"updated":1530306208,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306191,"updated":1530306191}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "displayName": "azure-cli-2018-06-29-21-03-09",
      "homepage": "http://azure-cli-2018-06-29-21-03-09", "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"],
      "keyCredentials": [{"startDate": "2018-06-29T21:03:09.541472Z", "endDate": "2019-06-29T21:03:09.541472Z",
      "value": "MIIDQDCCAiigAwIBAgIQGnU9NaioRlaXze5y52CA1jANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwNjI5MjA1MzI4WhcNMTkwNzI5MjEwMzI4WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLEi9eGE8YJslsxSPwRHwWmVQpLL3yvajPSlmvhXcGeXHG04CQ1Gm/dqbeVLdzfBSUkRAi2bYk4p1Y8uwa5mF6+lm+nJiRMy6PVsKHYFhpr7sfMl3gMbxQ7LHG6P4mfG5esZwQTZqJg0bYOJDHG/0sKKSEuvrJ2VUUQgWG6hB7a3xfJSrtqqeZvzS6k4K6od5Qn3WIZeJX9NNwMlyVEoN8R82ZYxLjmIV2zVn2m039y5PvDMq90ZVgCzGVmz9BANsH003YeAsjkzVbym3XlbPws+0fVPwOFg0ZLfvsiDTS9RR1v6SCq5l2sd8bYI/pYfER/7ykky/VjC957HEn+kkTAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBSaOf9TGSMSFFrKLsTho5VG5vFaMzAdBgNVHQ4EFgQUmjn/UxkjEhRayi7E4aOVRubxWjMwDQYJKoZIhvcNAQELBQADggEBACjltuFa6O9YgXrmyz6AFUsSyzUr4OGM5JSpxUziuryNxPMMlh9EDmLSdO1XuoYYapM+DSKY+WDLO2ZTDGSGKhzXAkXu16XysRO8G+6vqjfHmoPQswkuY7XyzV67mpNv/+OQkGS/4Ji1mcldmlsCKchSHBixrC6AZrGkt32vsDEZDCo0Rcsz9PP1qGWHbiLcEp4mwZFodYwRcvlLTk9PbR/xf0on9LpRyteiB4hMwpIuXT1TbSCqBran1reZ6pfYQX0m4QHWCN+PhFR2f7pSt/6Yl+8kJO7HpeAuzAcmfFbv95SVKlJ+X5v4iur96B/p0iZeDyDJ6HFaaiMNb3LWRvw=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['1575']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"10b9b693-b1b2-48be-b109-381306762fb0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"017334fd-bd88-4c51-adad-0bad7407a6aa","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-03-09","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-03-09","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:03:09.541472Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-06-29T21:03:09.541472Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-03-09","id":"09574f1d-162c-45b2-9153-287477d6d41f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-03-09","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2177']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:33 GMT']
      duration: ['8384866']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/10b9b693-b1b2-48be-b109-381306762fb0/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [d1JB6ucVep7/SQwUJWs6eqivZfWvC07ij1sG/PhNZn0=]
      ocp-aad-session-key: [mcSAjq7UJMK4CRuvbqMmULAg9wWbiWk2wo5XH5pxtpl6J-mRyyJr12lpKCRe175X7BKkFCzOsUQ9D85K3iqOnyBxCVGeq4ZGh22V1BsBAN09UPko4jlunnlCQJEkNWlZivB-C9fWRY3-F35fI0MiXA.gZiMqDnKP2ftXOKGlCA9S7RS6Pz-2WJmtSvwWBb2wVo]
      pragma: [no-cache]
      request-id: [a3422f87-3ac5-4f1b-b7ba-b13aa7228c4f]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"appId": "017334fd-bd88-4c51-adad-0bad7407a6aa", "accountEnabled": true}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"257f60fd-e118-46a3-b902-27235452ae9d","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-06-29-21-03-09","appId":"017334fd-bd88-4c51-adad-0bad7407a6aa","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-06-29-21-03-09","errorUrl":null,"homepage":"http://azure-cli-2018-06-29-21-03-09","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-03-09","id":"09574f1d-162c-45b2-9153-287477d6d41f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-03-09","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["017334fd-bd88-4c51-adad-0bad7407a6aa","http://cli_test_sp_with_kv_new_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1616']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:34 GMT']
      duration: ['1363074']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/257f60fd-e118-46a3-b902-27235452ae9d/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [Ejlln//HW8QHQEvfdHqbS3KozJkF5qO/py2QoUOMx9s=]
      ocp-aad-session-key: [iRCXxX3CQhmeVjclJn007K8jH-Pb1WVfxT6DgtJTaQTCT-aSJJJQpDryerzHspkUg7OVD6gTnn4qM-L3pY0e-la_wBkf6LSmLwSqGSl5aqiT_-nmgns0W6Xa7YyoipY6TmAqEjvTkQ7jNiMT8x-YOA.oamNeNT7a4sigTS6cinspLBS_fZxqstd59J3Uuhs3Dk]
      pragma: [no-cache]
      request-id: [bbd5bfd0-a7e4-4586-872a-dc956bc0eafa]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "257f60fd-e118-46a3-b902-27235452ae9d"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-01-01-preview
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal 257f60fde11846a3b90227235452ae9d
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['163']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "257f60fd-e118-46a3-b902-27235452ae9d"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"257f60fd-e118-46a3-b902-27235452ae9d","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","createdOn":"2018-06-29T21:03:44.1388484Z","updatedOn":"2018-06-29T21:03:44.1388484Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['903']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
      x-ms-request-charge: ['3']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/baa0c1f9fb184780875877445a0c8077","kid":"https://clitest000002.vault.azure.net/keys/cert1/baa0c1f9fb184780875877445a0c8077","sid":"https://clitest000002.vault.azure.net/secrets/cert1/baa0c1f9fb184780875877445a0c8077","x5t":"ON8adhbumKBAW4RwJ6QPrJ_BbGo","cer":"MIIDQDCCAiigAwIBAgIQGnU9NaioRlaXze5y52CA1jANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwNjI5MjA1MzI4WhcNMTkwNzI5MjEwMzI4WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLEi9eGE8YJslsxSPwRHwWmVQpLL3yvajPSlmvhXcGeXHG04CQ1Gm/dqbeVLdzfBSUkRAi2bYk4p1Y8uwa5mF6+lm+nJiRMy6PVsKHYFhpr7sfMl3gMbxQ7LHG6P4mfG5esZwQTZqJg0bYOJDHG/0sKKSEuvrJ2VUUQgWG6hB7a3xfJSrtqqeZvzS6k4K6od5Qn3WIZeJX9NNwMlyVEoN8R82ZYxLjmIV2zVn2m039y5PvDMq90ZVgCzGVmz9BANsH003YeAsjkzVbym3XlbPws+0fVPwOFg0ZLfvsiDTS9RR1v6SCq5l2sd8bYI/pYfER/7ykky/VjC957HEn+kkTAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBSaOf9TGSMSFFrKLsTho5VG5vFaMzAdBgNVHQ4EFgQUmjn/UxkjEhRayi7E4aOVRubxWjMwDQYJKoZIhvcNAQELBQADggEBACjltuFa6O9YgXrmyz6AFUsSyzUr4OGM5JSpxUziuryNxPMMlh9EDmLSdO1XuoYYapM+DSKY+WDLO2ZTDGSGKhzXAkXu16XysRO8G+6vqjfHmoPQswkuY7XyzV67mpNv/+OQkGS/4Ji1mcldmlsCKchSHBixrC6AZrGkt32vsDEZDCo0Rcsz9PP1qGWHbiLcEp4mwZFodYwRcvlLTk9PbR/xf0on9LpRyteiB4hMwpIuXT1TbSCqBran1reZ6pfYQX0m4QHWCN+PhFR2f7pSt/6Yl+8kJO7HpeAuzAcmfFbv95SVKlJ+X5v4iur96B/p0iZeDyDJ6HFaaiMNb3LWRvw=","attributes":{"enabled":true,"nbf":1530305608,"exp":1564434208,"created":1530306208,"updated":1530306208,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306191,"updated":1530306191}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"257f60fd-e118-46a3-b902-27235452ae9d","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-06-29-21-03-09","appId":"017334fd-bd88-4c51-adad-0bad7407a6aa","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-06-29-21-03-09","errorUrl":null,"homepage":"http://azure-cli-2018-06-29-21-03-09","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-03-09","id":"09574f1d-162c-45b2-9153-287477d6d41f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-03-09","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_new_cert000001","017334fd-bd88-4c51-adad-0bad7407a6aa"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1619']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:47 GMT']
      duration: ['464855']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [IAJInqPI4lKNkkjmRxlvRCo0yCEDsc0J29jSC990RR4=]
      ocp-aad-session-key: [NVeD04yQVSO4sCA4sFBJw6sEKOxLX9kqp72rn08l75CW8oyvgXygXmE21luRm70BLHgU4AwxmgMGl4VUCCkbkQD2xgNzTyAJQ1i977kRdan9vcST6mwyrvk3l-3GwJCK6CagDEEpTgIiVTfBPjuVgg.-GAArzlbN5c3JEfIDW1RAO3QT8QpTDhas9TLqLTAoO0]
      pragma: [no-cache]
      request-id: [8a9e1ad7-c5db-4d67-8344-cdfa1070a34d]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27017334fd-bd88-4c51-adad-0bad7407a6aa%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['161']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:47 GMT']
      duration: ['1265048']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [sddddXJCDv27jmu91AjCY4cjIA04nWQAsEkxbrysAOg=]
      ocp-aad-session-key: [GwCeVrINvsAHMBHAZvFAsO8AcXnDMPTLDNhsNkS_Yir62HzhdyHlGjbJ2FaheKcO0_vtpjvLvhyr1m3igRZtu39Rrxjc7_ZadFPTMtzeXYM1IywnQ3AfI1RfYKO74DtS336MfGC0m3pvcQeeFyDAbA.eUa9LtC6wNPJbQR7dsQv3EAUzwyxJ070nBm9VoHDCDY]
      pragma: [no-cache]
      request-id: [d050729e-01dc-4cc0-be9a-22a7d5396803]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27017334fd-bd88-4c51-adad-0bad7407a6aa%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"10b9b693-b1b2-48be-b109-381306762fb0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"017334fd-bd88-4c51-adad-0bad7407a6aa","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-03-09","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-03-09","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:03:09.541472Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-06-29T21:03:09.541472Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-03-09","id":"09574f1d-162c-45b2-9153-287477d6d41f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-03-09","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2094']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:48 GMT']
      duration: ['372002']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [WA4hwnW4NRQmQt6doFEhh+oNKUxH6DPNAeh5zWP12EE=]
      ocp-aad-session-key: [XDhZpTG-0HZXAsg9UgYbdPPRpuDNaPrsP9DXRYkAfz205LfuFZvHcE7r3b0KguRZKITh-xqQeVxDt4zT1nWXXBRWtKgic4CsbRiaRBZKn-ebJ3Umv-qzUKtojQ7jh704ynqgSKRux7vkTYapxUa6Dg.sOImnl-zJE3tlWzAJb9Sayo85Prn1LMAwvnPFKqb6dQ]
      pragma: [no-cache]
      request-id: [0459d918-9b65-4d06-b661-c2ca62cf7eb6]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/10b9b693-b1b2-48be-b109-381306762fb0?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"10b9b693-b1b2-48be-b109-381306762fb0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"017334fd-bd88-4c51-adad-0bad7407a6aa","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-03-09","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-03-09","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:03:09.541472Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-06-29T21:03:09.541472Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-03-09","id":"09574f1d-162c-45b2-9153-287477d6d41f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-03-09","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2091']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:48 GMT']
      duration: ['379911']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [fQLJJo2NQKA1MEYhE9K05hCw7w6tp5qp0L6SHCVm0xw=]
      ocp-aad-session-key: [TuefgzaDIOMsDXFcNj_4FNgdQaX6Fw2SWe5HKDNq2_steNFmrhg1mC9lWDB4S1puG4HnSalWWSotxVXCizw2v4U2sSf_ERIex1de0YL26S2kfYYsPUdfSESggUb5_2BqFXnL6LVeJOPmFiJYcBGkJg.KWjA3HcLCY1sJjlOAAZ6d2IIJTOIOib72WAHddqFPuA]
      pragma: [no-cache]
      request-id: [e1a0f20c-c883-44c9-ad2a-11f8909df84f]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['477']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4af89142132b4e2ba9442c2d005277ea"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:49 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=4af89142132b4e2ba9442c2d005277ea']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4af89142132b4e2ba9442c2d005277ea"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4af89142132b4e2ba9442c2d005277ea"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4af89142132b4e2ba9442c2d005277ea"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAyxIvXhhPGCbJbMUj8ER8FplUKSy98r2oz0pZr4V3BnlxxtOAkNRpv3am3lS3c3wUlJEQItm2JOKdWPLsGuZhevpZvpyYkTMuj1bCh2BYaa+7HzJd4DG8UOyxxuj+JnxuXrGcEE2aiYNG2DiQxxv9LCikhLr6ydlVFEIFhuoQe2t8XyUq7aqnmb80upOCuqHeUJ91iGXiV/TTcDJclRKDfEfNmWMS45iFds1Z9ptN/cuT7wzKvdGVYAsxlZs/QQDbB9NN2HgLI5M1W8pt15Wz8LPtH1T8DhYNGS377Ig00vUUdb+kgquZdrHfG2CP6WHxEf+8pJMv1YwveexxJ/pJEwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD5UGPZYdWByF+edqZ4k1ytsHNPZx3E/KV/Fn9w6+Q53l5YdschBYEQT6IR/FVq10NPIuIFwdMLU6Yqf24uuRiEka0AOqG7kI0MGmSSqJ2Zzmk7zAQt9wlggPmDicNN/RDIAGiK0xQb0gD3yg5gbcVPkBUB55fCx5ipq+r1U8y5fM9yPNpEcZL1qvAgYptfsppbtPkuYmYkv873pRBogMOWHeYFC10f3bnP7EgMR14DG+Nqa93mQTnZUM3IqwU4pLJwnbFVavoHZbuqV5QJPYXlJ4HX8XGECTt7pK4lLSfzvNJsp9gDYFJ47QbEtQblvytqsavnpPiAW6A/WnitwORA=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"4af89142132b4e2ba9442c2d005277ea"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/5cb6759772ef4998929aaadc14a48fa0","kid":"https://clitest000002.vault.azure.net/keys/cert1/5cb6759772ef4998929aaadc14a48fa0","sid":"https://clitest000002.vault.azure.net/secrets/cert1/5cb6759772ef4998929aaadc14a48fa0","x5t":"k5DXO3md7sN-Wac1E0h60McxlPM","cer":"MIIDQDCCAiigAwIBAgIQAb7TnwtZTainj91hKKJE/jANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwNjI5MjA1NDAwWhcNMTkwNzI5MjEwNDAwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLEi9eGE8YJslsxSPwRHwWmVQpLL3yvajPSlmvhXcGeXHG04CQ1Gm/dqbeVLdzfBSUkRAi2bYk4p1Y8uwa5mF6+lm+nJiRMy6PVsKHYFhpr7sfMl3gMbxQ7LHG6P4mfG5esZwQTZqJg0bYOJDHG/0sKKSEuvrJ2VUUQgWG6hB7a3xfJSrtqqeZvzS6k4K6od5Qn3WIZeJX9NNwMlyVEoN8R82ZYxLjmIV2zVn2m039y5PvDMq90ZVgCzGVmz9BANsH003YeAsjkzVbym3XlbPws+0fVPwOFg0ZLfvsiDTS9RR1v6SCq5l2sd8bYI/pYfER/7ykky/VjC957HEn+kkTAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBSaOf9TGSMSFFrKLsTho5VG5vFaMzAdBgNVHQ4EFgQUmjn/UxkjEhRayi7E4aOVRubxWjMwDQYJKoZIhvcNAQELBQADggEBABV/XxcWTP8ocO/0r9BOayiOz+xIa46IJyjWzgn+2vcAWIS+OiHhdhDmmWP+tRuIE3xsav5rIE6BqLNPcQxlFVOuW2jjoECAFqpiBd+JxSLElAil9Y/8JvJQ99HXbuA3MPHlH7OWuKDEQ00az8oFC0tVsjSTr0BJp97qghMxqWxibct1UMS4VwxZTHLsXvAbgH8eNmXPr3afucDHJ5KYvogjRWpuaCee7gciqhr7KR1wQw7I/Rz7nlmbbx4mBQxJm8eN27NthQB/qE5Dv4NFBps4Pc1hfRqFCMnvReO5xi+fFqPKPCslSH6a+q5BQOU6L8Nx5SanWU6kfHDkIYl3qXM=","attributes":{"enabled":true,"nbf":1530305640,"exp":1564434240,"created":1530306241,"updated":1530306241,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306191,"updated":1530306229}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"keyCredentials": [{"startDate": "2018-06-29T21:03:49.16447Z", "endDate":
      "2019-06-29T21:03:49.16447Z", "value": "MIIDQDCCAiigAwIBAgIQAb7TnwtZTainj91hKKJE/jANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwNjI5MjA1NDAwWhcNMTkwNzI5MjEwNDAwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLEi9eGE8YJslsxSPwRHwWmVQpLL3yvajPSlmvhXcGeXHG04CQ1Gm/dqbeVLdzfBSUkRAi2bYk4p1Y8uwa5mF6+lm+nJiRMy6PVsKHYFhpr7sfMl3gMbxQ7LHG6P4mfG5esZwQTZqJg0bYOJDHG/0sKKSEuvrJ2VUUQgWG6hB7a3xfJSrtqqeZvzS6k4K6od5Qn3WIZeJX9NNwMlyVEoN8R82ZYxLjmIV2zVn2m039y5PvDMq90ZVgCzGVmz9BANsH003YeAsjkzVbym3XlbPws+0fVPwOFg0ZLfvsiDTS9RR1v6SCq5l2sd8bYI/pYfER/7ykky/VjC957HEn+kkTAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBSaOf9TGSMSFFrKLsTho5VG5vFaMzAdBgNVHQ4EFgQUmjn/UxkjEhRayi7E4aOVRubxWjMwDQYJKoZIhvcNAQELBQADggEBABV/XxcWTP8ocO/0r9BOayiOz+xIa46IJyjWzgn+2vcAWIS+OiHhdhDmmWP+tRuIE3xsav5rIE6BqLNPcQxlFVOuW2jjoECAFqpiBd+JxSLElAil9Y/8JvJQ99HXbuA3MPHlH7OWuKDEQ00az8oFC0tVsjSTr0BJp97qghMxqWxibct1UMS4VwxZTHLsXvAbgH8eNmXPr3afucDHJ5KYvogjRWpuaCee7gciqhr7KR1wQw7I/Rz7nlmbbx4mBQxJm8eN27NthQB/qE5Dv4NFBps4Pc1hfRqFCMnvReO5xi+fFqPKPCslSH6a+q5BQOU6L8Nx5SanWU6kfHDkIYl3qXM=",
      "keyId": "88888888-0000-0000-0000-000000000004", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Length: ['1333']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/10b9b693-b1b2-48be-b109-381306762fb0?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 29 Jun 2018 21:04:06 GMT']
      duration: ['5288355']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [uHyVfaWnz1wZ+Kit9M+ndgirzc7H4vyg8f/Bx6SxLLI=]
      ocp-aad-session-key: [qtURuATgl-FdciUOc9tYQPItOQoBpZJznjul1Ub3mT3khTEaHxs7xm-Wj6NQ1wNT8JkmLTJkm-iwBpLf-MJCES5tukgQhV6GjTsXHcq3G45TtLB18s_MKZ2Gb01Kt4ufXDhdWM7AJQRQE5szZnAYWw.WX0mYCJYVbYIHe-WZBp-Bw6YQ35C-t03h2FD-Mbp4mI]
      pragma: [no-cache]
      request-id: [6cdfb276-d319-4869-96dc-45766522f32c]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/5cb6759772ef4998929aaadc14a48fa0","kid":"https://clitest000002.vault.azure.net/keys/cert1/5cb6759772ef4998929aaadc14a48fa0","sid":"https://clitest000002.vault.azure.net/secrets/cert1/5cb6759772ef4998929aaadc14a48fa0","x5t":"k5DXO3md7sN-Wac1E0h60McxlPM","cer":"MIIDQDCCAiigAwIBAgIQAb7TnwtZTainj91hKKJE/jANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwNjI5MjA1NDAwWhcNMTkwNzI5MjEwNDAwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLEi9eGE8YJslsxSPwRHwWmVQpLL3yvajPSlmvhXcGeXHG04CQ1Gm/dqbeVLdzfBSUkRAi2bYk4p1Y8uwa5mF6+lm+nJiRMy6PVsKHYFhpr7sfMl3gMbxQ7LHG6P4mfG5esZwQTZqJg0bYOJDHG/0sKKSEuvrJ2VUUQgWG6hB7a3xfJSrtqqeZvzS6k4K6od5Qn3WIZeJX9NNwMlyVEoN8R82ZYxLjmIV2zVn2m039y5PvDMq90ZVgCzGVmz9BANsH003YeAsjkzVbym3XlbPws+0fVPwOFg0ZLfvsiDTS9RR1v6SCq5l2sd8bYI/pYfER/7ykky/VjC957HEn+kkTAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBSaOf9TGSMSFFrKLsTho5VG5vFaMzAdBgNVHQ4EFgQUmjn/UxkjEhRayi7E4aOVRubxWjMwDQYJKoZIhvcNAQELBQADggEBABV/XxcWTP8ocO/0r9BOayiOz+xIa46IJyjWzgn+2vcAWIS+OiHhdhDmmWP+tRuIE3xsav5rIE6BqLNPcQxlFVOuW2jjoECAFqpiBd+JxSLElAil9Y/8JvJQ99HXbuA3MPHlH7OWuKDEQ00az8oFC0tVsjSTr0BJp97qghMxqWxibct1UMS4VwxZTHLsXvAbgH8eNmXPr3afucDHJ5KYvogjRWpuaCee7gciqhr7KR1wQw7I/Rz7nlmbbx4mBQxJm8eN27NthQB/qE5Dv4NFBps4Pc1hfRqFCMnvReO5xi+fFqPKPCslSH6a+q5BQOU6L8Nx5SanWU6kfHDkIYl3qXM=","attributes":{"enabled":true,"nbf":1530305640,"exp":1564434240,"created":1530306241,"updated":1530306241,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306191,"updated":1530306229}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"10b9b693-b1b2-48be-b109-381306762fb0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"017334fd-bd88-4c51-adad-0bad7407a6aa","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-03-09","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-03-09","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:03:49.16447Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2018-06-29T21:03:49.16447Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-03-09","id":"09574f1d-162c-45b2-9153-287477d6d41f","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-03-09 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-03-09","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2092']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:04:07 GMT']
      duration: ['453411']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [hpfDxhPDvpsezzM4Rl1qV9P5qcNnaUPXm6yGHqCYKyw=]
      ocp-aad-session-key: [aCCskSASeYysmVHm6rAGN6gkb1-V-UxA9rEH4rLMn37dNfVLntpkBi7Qst83uWTTtFjElPQpR5GNhmra31tiQia3qQ8YzEHZQnxlTdPexQuJFsoWw1Pa_SZOOzp7QluLfbpOppa-7ce0AyhR3vvGXg.Iuh5mzV1eZDK0A9aG3-b9hbyl9XPhZIyiOMeqqjoIpE]
      pragma: [no-cache]
      request-id: [19cfffbc-2037-4525-bdd5-d6b64225f657]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/10b9b693-b1b2-48be-b109-381306762fb0?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 29 Jun 2018 21:04:08 GMT']
      duration: ['2155670']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [R24SEsKL6l8WwGja0LsRtb5gfSEzPaANsccbqgL6qjQ=]
      ocp-aad-session-key: [W3jtlmdzgJYMKNhCqAho6I9hsYCtkYFrMqAfk-hnZWElHUi0ste4VBTRkMQC2Wa1xWequwseVn-fQ3Mj-SzZNmDJk1_fyl5L1uJ0BHXI6Shc7_QG42iuACGLqcY9ChvERTzAixhEFxif4qRjXNM_Ww.6r53oKiWAnh2hgtbd9Qi8Ozz5QZtqH63lvyOt25I54w]
      pragma: [no-cache]
      request-id: [395f0dda-a92d-4d68-a49a-16ea8ead73a7]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 resourcemanagementclient/2.0.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 29 Jun 2018 21:04:08 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZORVc6NUZDRVJUNVNRQ0dJUHxFOTczNDFFQzVDQ0U0RkUxLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14997']
    status: {code: 202, message: Accepted}
version: 1
