interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.RecoveryServices/vaults/clitest-vault000002''
        under resource group ''clitest.rg000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '241'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:28:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: '{"location": "westus", "properties": {"publicNetworkAccess": "Enabled",
      "monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Enabled"}, "classicAlertSettings": {"alertsForCriticalOperations": "Enabled"}}},
      "sku": {"name": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      Content-Length:
      - '262'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A28%3A22.5036943Z''\"","properties":{"provisioningState":"Provisioning","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/MjA0Nzs3MDdjNWNmOS0zYzJmLTRjNGItYTQ1ZC1kMmRjODUxN2Y3MWQ=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '652'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:28:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/MjA0Nzs3MDdjNWNmOS0zYzJmLTRjNGItYTQ1ZC1kMmRjODUxN2Y3MWQ=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/MjA0Nzs3MDdjNWNmOS0zYzJmLTRjNGItYTQ1ZC1kMmRjODUxN2Y3MWQ=\",\r\n
        \ \"name\": \"MjA0Nzs3MDdjNWNmOS0zYzJmLTRjNGItYTQ1ZC1kMmRjODUxN2Y3MWQ=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:28:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A28%3A23.6479281Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '649'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:28:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.RecoveryServices/vaults/clitest-vault000003''
        under resource group ''clitest.rg000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '241'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:28:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: '{"location": "westus", "properties": {"publicNetworkAccess": "Enabled",
      "monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Enabled"}, "classicAlertSettings": {"alertsForCriticalOperations": "Enabled"}}},
      "sku": {"name": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      Content-Length:
      - '262'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A28%3A31.0807805Z''\"","properties":{"provisioningState":"Provisioning","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '652'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:28:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=\",\r\n
        \ \"name\": \"MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:28:33 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=\",\r\n
        \ \"name\": \"MjA0NztkODUyNmM0NS01YjllLTRhMGEtYjkxNS1jZWZmOWI1NDI3OGI=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:29:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A29%3A32.042902Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:29:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_backup_encryption","date":"2023-05-15T12:28:11Z","module":"backup"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:30:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-msi/7.0.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007?api-version=2023-01-31
  response:
    body:
      string: '{"location":"westus","tags":{},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","name":"clitest-identity1000007","type":"Microsoft.ManagedIdentity/userAssignedIdentities","properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:30:36 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-msi/7.0.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007?api-version=2023-01-31
  response:
    body:
      string: '{"location":"westus","tags":{},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","name":"clitest-identity1000007","type":"Microsoft.ManagedIdentity/userAssignedIdentities","properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:30:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_backup_encryption","date":"2023-05-15T12:28:11Z","module":"backup"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:30:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-msi/7.0.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008?api-version=2023-01-31
  response:
    body:
      string: '{"location":"westus","tags":{},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","name":"clitest-identity2000008","type":"Microsoft.ManagedIdentity/userAssignedIdentities","properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e","clientId":"2e49efad-1d3f-437d-b020-8cd356029c91"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:30:53 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-msi/7.0.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008?api-version=2023-01-31
  response:
    body:
      string: '{"location":"westus","tags":{},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","name":"clitest-identity2000008","type":"Microsoft.ManagedIdentity/userAssignedIdentities","properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e","clientId":"2e49efad-1d3f-437d-b020-8cd356029c91"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:30:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A28%3A23.6479281Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '649'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:30:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "userassigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '414'
      Content-Type:
      - application/json
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:30:59 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=\",\r\n
        \ \"name\": \"NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:31:00 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=\",\r\n
        \ \"name\": \"NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:32:02 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=\",\r\n
        \ \"name\": \"NDA5NTs2ZWQ5MjRjZS04YTQyLTQxMDMtYmNiNC05ODYxMzU1ZjhhYmM=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:33:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A32%3A02.6349482Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:33:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A32%3A02.6349482Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:33:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "systemassigned,userassigned"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '53'
      Content-Type:
      - application/json
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:33:08 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=\",\r\n
        \ \"name\": \"NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:33:09 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=\",\r\n
        \ \"name\": \"NDA5NTszOWFlMmFmMi03NDQ2LTRjYTQtODRhOS1hMjU4ODE4NGM0N2Q=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:34:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A33%3A11.9113973Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1378'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:34:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A29%3A32.042902Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:34:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "userassigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '240'
      Content-Type:
      - application/json
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:34:17 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=\",\r\n
        \ \"name\": \"NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:34:17 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=\",\r\n
        \ \"name\": \"NDA5NTs2MjE2Y2EwNi05OWU5LTQwZjEtYWMwMi05NjkwMTIzNmI5NTc=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:35:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A35%3A18.1623124Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1035'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:35:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A35%3A18.1623124Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1035'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:35:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "systemassigned,userassigned"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '53'
      Content-Type:
      - application/json
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:35:23 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=\",\r\n
        \ \"name\": \"NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:35:24 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=\",\r\n
        \ \"name\": \"NDA5NTtlY2FmZTk0NC0wMWYzLTQ3YzctYmU3Mi0zOTM0YWU4M2U2NWY=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A36%3A24.6503481Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"7909ab65-9452-4a6f-851c-30786d45ed8b","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1104'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --enable-purge-protection
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ubdrportalehs/providers/Microsoft.KeyVault/vaults/ubdr-portal-df-kv","name":"ubdr-portal-df-kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vepothir-rg-ram-sub/providers/Microsoft.KeyVault/vaults/vepothir-kv-test-sub","name":"vepothir-kv-test-sub","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg4cdtv4g57x2xam3577m3hhyxqmhs6rjyrdxsnymjldty2qtzpr6svpo5u2g65ln3w/providers/Microsoft.KeyVault/vaults/clitestqotdqbucmbvuoujhc","name":"clitestqotdqbucmbvuoujhc","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sambitazurebac7145076980","name":"sambitazurebac7145076980","type":"Microsoft.KeyVault/vaults","location":"eastus2","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/AdkayethBugbash/providers/Microsoft.KeyVault/vaults/testabd","name":"testabd","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '11625'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --enable-purge-protection
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:29:49.004Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '970'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "90680173-e32e-4cf3-a1b8-d1a99ac56bbf",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      Content-Length:
      - '613'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --enable-purge-protection
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:31.358Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '999'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.8.0b2 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://clitest000004.vault.azure.net/keys/clitest-key1000005/create?api-version=7.4-preview.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.238.75;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.787.1
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA", "key_size": 2048, "key_ops": ["decrypt", "encrypt", "sign",
      "unwrapKey", "verify", "wrapKey"], "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '142'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.8.0b2 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://clitest000004.vault.azure.net/keys/clitest-key1000005/create?api-version=7.4-preview.1
  response:
    body:
      string: '{"key":{"kid":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe","kty":"RSA","key_ops":["decrypt","encrypt","sign","unwrapKey","verify","wrapKey"],"n":"v-2Rs7xUHBgyM5acZMN-biRcJDzupcEJUY6g6yaaYe7YTKjzdJvTy1Vg5sdZhTixAqzzIdjtth5V7RKN1g02uOTFxB2SOGuQmfzOBoDaERjUh0SYxFlvua6GdsC8s0Sn0N0trzESGf8JBWYC0g9fd_HjEJ4-VKZGj1zzAElzrRSFEgtADUPYg_8hZFuzT1KAIeogq8BwzQMQ9y_TI1yGXJ5N8x0QE6RAdZmiJZTqRgONFz_qsD3f7sISe7uDL5Nk87-KpMbwBuH1QLn9ypu3ZuSe2zqaFr2LCCFN6sdPlVlW8JnuWnl91SVKJBchgtdsc7gZZpb0VGawEXKT504qjQ","e":"AQAB"},"attributes":{"enabled":true,"created":1684154194,"updated":1684154194,"recoveryLevel":"CustomizedRecoverable","recoverableDays":7,"exportable":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '705'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.238.75;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.787.1
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA", "key_size": 2048, "key_ops": ["decrypt", "encrypt", "sign",
      "unwrapKey", "verify", "wrapKey"], "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '142'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.8.0b2 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://clitest000004.vault.azure.net/keys/clitest-key2000006/create?api-version=7.4-preview.1
  response:
    body:
      string: '{"key":{"kid":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b","kty":"RSA","key_ops":["decrypt","encrypt","sign","unwrapKey","verify","wrapKey"],"n":"ualh5JPF0o9vDcFTqtacrUxC1WaXRx9dc5BP8-4hE1FKKz-sp5bIUsRVbioNzqfJTtMKZgivY3ZuaVSGTvrgHWkf9G0sd1Vq_qLNsqjYfv-SBPjLxjpcBhKNxtT6hMdpEJwu34UibdS-I5LlpbPKRmtQqDDNSJQ7FHVgANYKydmS3dWavl3lvC4zpcch1KSSYqb0T7rwoLljuWpH3a-gX-SQN_O3Op2XmZZE9m-B_FZxXaDkj8ZrTd_Wf445pAHHaxs_HYkTeKo-g70aF9C0wH5CLTkE_877kej6Cq1QtN90mOWtrl4F3Uil04Ue6oO-0oDfjO4E35UsjOpN-tOQ3Q","e":"AQAB"},"attributes":{"enabled":true,"created":1684154195,"updated":1684154195,"recoveryLevel":"CustomizedRecoverable","recoverableDays":7,"exportable":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '705'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.238.75;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.787.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ubdrportalehs/providers/Microsoft.KeyVault/vaults/ubdr-portal-df-kv","name":"ubdr-portal-df-kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vepothir-rg-ram-sub/providers/Microsoft.KeyVault/vaults/vepothir-kv-test-sub","name":"vepothir-kv-test-sub","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg4cdtv4g57x2xam3577m3hhyxqmhs6rjyrdxsnymjldty2qtzpr6svpo5u2g65ln3w/providers/Microsoft.KeyVault/vaults/clitestqotdqbucmbvuoujhc","name":"clitestqotdqbucmbvuoujhc","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sambitazurebac7145076980","name":"sambitazurebac7145076980","type":"Microsoft.KeyVault/vaults","location":"eastus2","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/AdkayethBugbash/providers/Microsoft.KeyVault/vaults/testabd","name":"testabd","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '11625'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:31.358Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '999'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "90680173-e32e-4cf3-a1b8-d1a99ac56bbf",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "ce6dcb55-f22f-4596-998b-d8bb8951b3ea", "permissions": {"keys": ["get", "list",
      "unwrapKey", "wrapKey"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '785'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:37.461Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1161'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ubdrportalehs/providers/Microsoft.KeyVault/vaults/ubdr-portal-df-kv","name":"ubdr-portal-df-kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vepothir-rg-ram-sub/providers/Microsoft.KeyVault/vaults/vepothir-kv-test-sub","name":"vepothir-kv-test-sub","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg4cdtv4g57x2xam3577m3hhyxqmhs6rjyrdxsnymjldty2qtzpr6svpo5u2g65ln3w/providers/Microsoft.KeyVault/vaults/clitestqotdqbucmbvuoujhc","name":"clitestqotdqbucmbvuoujhc","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sambitazurebac7145076980","name":"sambitazurebac7145076980","type":"Microsoft.KeyVault/vaults","location":"eastus2","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/AdkayethBugbash/providers/Microsoft.KeyVault/vaults/testabd","name":"testabd","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '11625'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:37.461Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1161'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "90680173-e32e-4cf3-a1b8-d1a99ac56bbf",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "ce6dcb55-f22f-4596-998b-d8bb8951b3ea", "permissions": {"keys": ["get", "list",
      "unwrapKey", "wrapKey"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "objectId": "65ec0b29-aade-405f-8ab8-a21b4f3afe3e", "permissions": {"keys":
      ["get", "list", "unwrapKey", "wrapKey"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '957'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:39.991Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1323'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ubdrportalehs/providers/Microsoft.KeyVault/vaults/ubdr-portal-df-kv","name":"ubdr-portal-df-kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vepothir-rg-ram-sub/providers/Microsoft.KeyVault/vaults/vepothir-kv-test-sub","name":"vepothir-kv-test-sub","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg4cdtv4g57x2xam3577m3hhyxqmhs6rjyrdxsnymjldty2qtzpr6svpo5u2g65ln3w/providers/Microsoft.KeyVault/vaults/clitestqotdqbucmbvuoujhc","name":"clitestqotdqbucmbvuoujhc","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sambitazurebac7145076980","name":"sambitazurebac7145076980","type":"Microsoft.KeyVault/vaults","location":"eastus2","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/AdkayethBugbash/providers/Microsoft.KeyVault/vaults/testabd","name":"testabd","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '11625'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:39.991Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1323'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "90680173-e32e-4cf3-a1b8-d1a99ac56bbf",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "ce6dcb55-f22f-4596-998b-d8bb8951b3ea", "permissions": {"keys": ["get", "list",
      "unwrapKey", "wrapKey"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "objectId": "65ec0b29-aade-405f-8ab8-a21b4f3afe3e", "permissions": {"keys":
      ["get", "list", "unwrapKey", "wrapKey"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "objectId": "b85e4b7e-a68e-460f-b71f-9ab11ffe275d", "permissions": {"keys":
      ["get", "list", "unwrapKey", "wrapKey"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '1129'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:45.22Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1484'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ubdrportalehs/providers/Microsoft.KeyVault/vaults/ubdr-portal-df-kv","name":"ubdr-portal-df-kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vepothir-rg-ram-sub/providers/Microsoft.KeyVault/vaults/vepothir-kv-test-sub","name":"vepothir-kv-test-sub","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg4cdtv4g57x2xam3577m3hhyxqmhs6rjyrdxsnymjldty2qtzpr6svpo5u2g65ln3w/providers/Microsoft.KeyVault/vaults/clitestqotdqbucmbvuoujhc","name":"clitestqotdqbucmbvuoujhc","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sambitazurebac7145076980","name":"sambitazurebac7145076980","type":"Microsoft.KeyVault/vaults","location":"eastus2","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/AdkayethBugbash/providers/Microsoft.KeyVault/vaults/testabd","name":"testabd","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '11625'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:45.22Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1484'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "90680173-e32e-4cf3-a1b8-d1a99ac56bbf",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "ce6dcb55-f22f-4596-998b-d8bb8951b3ea", "permissions": {"keys": ["get", "list",
      "unwrapKey", "wrapKey"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "objectId": "65ec0b29-aade-405f-8ab8-a21b4f3afe3e", "permissions": {"keys":
      ["get", "list", "unwrapKey", "wrapKey"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "objectId": "b85e4b7e-a68e-460f-b71f-9ab11ffe275d", "permissions": {"keys":
      ["get", "list", "unwrapKey", "wrapKey"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "objectId": "7909ab65-9452-4a6f-851c-30786d45ed8b", "permissions": {"keys":
      ["get", "list", "unwrapKey", "wrapKey"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '1301'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-azure-mgmt-keyvault/10.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"akneema@microsoft.com","createdByType":"User","createdAt":"2023-05-15T12:29:49.004Z","lastModifiedBy":"akneema@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-15T12:36:47.837Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"90680173-e32e-4cf3-a1b8-d1a99ac56bbf","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"7909ab65-9452-4a6f-851c-30786d45ed8b","permissions":{"keys":["get","list","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1647'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.770.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A33%3A11.9113973Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1378'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"MicrosoftManaged","lastUpdateStatus":"NotEnabled","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '483'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},
      "kekIdentity": {"userAssignedIdentity": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},
      "infrastructureEncryption": "Disabled"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '415'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:36:52 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '298'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=\",\r\n
        \ \"name\": \"NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:36:53 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=\",\r\n
        \ \"name\": \"NDA5NTs5NTBjYmFiOC1kNGIwLTQyZTItYTAwMS03ZDJkMjc3NGFjZDY=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:37:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A36%3A54.3723775Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:37:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:37:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A36%3A54.3723775Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:37:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:38:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},
      "kekIdentity": {"userAssignedIdentity": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008"}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '375'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:38:02 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=\",\r\n
        \ \"name\": \"NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:38:02 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=\",\r\n
        \ \"name\": \"NDA5NTszNDUxZWUyYS1kNzcwLTQ1YmQtODAwOS01YmU2Y2YwNDc0Njk=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:39:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A39%3A03.2668043Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:39:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:39:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A39%3A03.2668043Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:39:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:39:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b"},
      "kekIdentity": {"useSystemAssignedIdentity": true}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '216'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:39:10 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '298'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=\",\r\n
        \ \"name\": \"NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:39:11 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=\",\r\n
        \ \"name\": \"NDA5NTtjOTRlZDE4Ny0yMmIzLTQ0NWItYTUwOC0yNDgzNmI1Mzc5ZDI=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:40:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A40%3A11.7347437Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:40:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '607'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:40:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '298'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A40%3A11.7347437Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:40:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '607'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:40:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '164'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:40:20 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=\",\r\n
        \ \"name\": \"NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:40:20 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=\",\r\n
        \ \"name\": \"NDA5NTsyYWIzNmRkYi00MmY2LTRhM2YtOGNkMC1jMmRkNWQzYTdiYmE=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:41:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-05-15T12%3A41%3A21.1093412Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"b85e4b7e-a68e-460f-b71f-9ab11ffe275d","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"2e49efad-1d3f-437d-b020-8cd356029c91","principalId":"65ec0b29-aade-405f-8ab8-a21b4f3afe3e"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:41:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '607'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:41:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A36%3A24.6503481Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"7909ab65-9452-4a6f-851c-30786d45ed8b","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1104'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:41:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"MicrosoftManaged","lastUpdateStatus":"NotEnabled","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '483'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:41:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b"},
      "kekIdentity": {"useSystemAssignedIdentity": true}, "infrastructureEncryption":
      "Enabled"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '255'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:41:28 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '297'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=\",\r\n
        \ \"name\": \"NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:41:29 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=\",\r\n
        \ \"name\": \"NDA5NTsyZGQ1OTVjOS0xNThhLTRmM2ItOTBiMS02NjAzYTJhYmIzZDY=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:42:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A42%3A31.4673309Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"7909ab65-9452-4a6f-851c-30786d45ed8b","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Enabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1362'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:42:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '606'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:42:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A42%3A31.4673309Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"7909ab65-9452-4a6f-851c-30786d45ed8b","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Enabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1362'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:42:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/34c908d2e95f465d90be5f7e38b1443b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '606'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:42:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},
      "kekIdentity": {"userAssignedIdentity": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '375'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:42:37 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=\",\r\n
        \ \"name\": \"NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=\",\r\n
        \ \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:42:37 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=\",\r\n
        \ \"name\": \"NDA5NTsyY2RjNWNjZi04NmNiLTQ4ZWYtOGYyMi1iNDBhNTg2MTQ4MGE=\",\r\n
        \ \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:43:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-05-15T12%3A43%3A38.8549777Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"7909ab65-9452-4a6f-851c-30786d45ed8b","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"dc77a236-027e-4365-9f6b-ee0ea03c441e","principalId":"ce6dcb55-f22f-4596-998b-d8bb8951b3ea"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},"infrastructureEncryption":"Enabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1527'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:43:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2023-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/0ad635197a1d4dd49b5ba05d4bba65fe","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '799'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:43:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup container list
      Connection:
      - keep-alive
      ParameterSetName:
      - --backup-management-type -v -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupProtectionContainers?api-version=2023-02-01&%24filter=backupManagementType+eq+%27AzureIaasVM%27+and+status+eq+%27Registered%27
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:43:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --yes
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:44:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '49'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup container list
      Connection:
      - keep-alive
      ParameterSetName:
      - --backup-management-type -v -g --query
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservicesbackup/6.0.0 Python/3.8.5
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupProtectionContainers?api-version=2023-02-01&%24filter=backupManagementType+eq+%27AzureIaasVM%27+and+status+eq+%27Registered%27
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 15 May 2023 12:44:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --yes
      User-Agent:
      - AZURECLI/2.48.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.8.5 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 15 May 2023 12:44:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '49'
    status:
      code: 200
      message: OK
version: 1
