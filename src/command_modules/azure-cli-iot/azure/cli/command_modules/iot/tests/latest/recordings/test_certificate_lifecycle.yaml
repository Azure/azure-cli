interactions:
- request:
    body: '{"location": "westus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:28:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"Name": "iot-hub-for-cert-test000003"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['60']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2017-07-01
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:28:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:28:26 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "subscriptionid": "0b1f6471-1bf0-4dda-aec3-cb9272f09590",
      "resourcegroup": "clitest.rg000002", "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['214']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2017-07-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfOTJmMmI5NDctYzdhNS00OTBlLTgzZDctYzI0N2QxN2Y1OGQ3?api-version=2017-07-01&asyncinfo']
      cache-control: [no-cache]
      content-length: ['840']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:28:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfOTJmMmI5NDctYzdhNS00OTBlLTgzZDctYzI0N2QxN2Y1OGQ3?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:29:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfOTJmMmI5NDctYzdhNS00OTBlLTgzZDctYzI0N2QxN2Y1OGQ3?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:29:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfOTJmMmI5NDctYzdhNS00OTBlLTgzZDctYzI0N2QxN2Y1OGQ3?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfOTJmMmI5NDctYzdhNS00OTBlLTgzZDctYzI0N2QxN2Y1OGQ3?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:31 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2017-07-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","resourcegroup":"clitest.rg000002","etag":"AAAAAAFcN1Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-cert-testwowa","endpoint":"sb://iothub-ns-iot-hub-fo-291271-191d8c86bc.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-cert-testwowa-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-291271-191d8c86bc.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2099']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2017-07-01
  response:
    body: {string: '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:34 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\nMIIDHTCCAgWgAwIBAgIIZYeVatUKU1AwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\nAwwYVEVTVENFUlRqYzd1cnNheW9mdWlscnhrMB4XDTE3MTIxMTAxMjgyMloXDTE3\nMTIxNTAxMjgyMlowIzEhMB8GA1UEAwwYVEVTVENFUlRqYzd1cnNheW9mdWlscnhr\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA28l7O3BFDlORAR5R4ueYM\nXlzPPVuN50IZTi+UgXDstSre9Qbhipd6tRjliUPjUug2ldo/Cvq/KN7aM0Itxyda\nw6qe8cdMTAPxzrBCmIlKjuULQEf6XbNM6cEADxAwLOX41/lHcWDTLhlpKVtMRfn1\nsA7WSmkcmWplusI5HIIP0prSMckjNPXU1ElER8rcdd/IJXY82IcbAIoexKR8qhGQ\nMtsqZnU9+uRiH9vJOCVg5U6UmFFKBa5Atc09QIyqvBly7zU78GrlRKebyaWSTRHR\nbCWofTCE1rTc/OUJ0Snjn611/GngW3xGvcT5W/6UgGHBUKWDm3yVOO3TjnMbMipv\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\nCSqGSIb3DQEBCwUAA4IBAQAMYXIpzYxd97TgQdL74R7qFAk/PQbVo9zp0bZjBJ3B\nbY6iumQi98tCr1EnuxwtsOV2qCvwCbY85H5SmgZbViZG3968SIRMBLh156H/kAwO\n+pcC4KXF6Na4SiC/q0rNerhyJtspVHEQHw/G31s0qZplCk5zkSq9lUlAjM/H1Aug\nVBRQHGDintfSQTuGGMcjvS2q/+8kaUUd5azK39zhQ4dIWvNQTG6K0DfZ59Ac1Sq0\njQWDo2Z8ytlZ2KTeHjngp9nQu0A/UYjy2y7DNL4H50udRvoFrX7Jo8zuo3f6nj8o\nqLZ+02bcqqPTxZyzk6A0cl55AzxGWUVCbcA6JukYvEDD\n-----END
      CERTIFICATE-----\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate create]
      Connection: [keep-alive]
      Content-Length: ['1177']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2017-07-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Fri, 15
        Dec 2017 01:28:22 GMT","thumbprint":"AF8020E3D894AD6EE6C579DD703A90E3F9F11E96","isVerified":false,"created":"Tue,
        12 Dec 2017 01:30:36 GMT","updated":"Tue, 12 Dec 2017 01:30:36 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAFcN5E="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['681']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2017-07-01
  response:
    body: {string: '{"value":[{"properties":{"subject":"CN=TESTCERT000001","expiry":"Fri,
        15 Dec 2017 01:28:22 GMT","thumbprint":"AF8020E3D894AD6EE6C579DD703A90E3F9F11E96","isVerified":false,"created":"Tue,
        12 Dec 2017 01:30:36 GMT","updated":"Tue, 12 Dec 2017 01:30:36 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAFcN5E="}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['693']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2017-07-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Fri, 15
        Dec 2017 01:28:22 GMT","thumbprint":"AF8020E3D894AD6EE6C579DD703A90E3F9F11E96","isVerified":false,"created":"Tue,
        12 Dec 2017 01:30:36 GMT","updated":"Tue, 12 Dec 2017 01:30:36 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAFcN5E="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['681']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate generate-verification-code]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAFcN5E=]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2017-07-01
  response:
    body: {string: '{"properties":{"verificationCode":"BA56E86EFA76FDDAFB4DDEF092CF19EBB5954A6B0A2E4885","subject":"CN=TESTCERT000001","expiry":"Fri,
        15 Dec 2017 01:28:22 GMT","thumbprint":"AF8020E3D894AD6EE6C579DD703A90E3F9F11E96","isVerified":false,"created":"Tue,
        12 Dec 2017 01:30:36 GMT","updated":"Tue, 12 Dec 2017 01:30:39 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAFcN5I="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['751']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\nMIIDAjCCAeqgAwIBAgIIHe29UrY8dz0wDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\nAwwYVEVTVENFUlRqYzd1cnNheW9mdWlscnhrMB4XDTE3MTIxMjAxMzAzOVoXDTE3\nMTIxNTAxMzAzOVowOzE5MDcGA1UEAwwwQkE1NkU4NkVGQTc2RkREQUZCNERERUYw\nOTJDRjE5RUJCNTk1NEE2QjBBMkU0ODg1MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\nMIIBCQKCAQA1vj0M5cBeTRWak39l9HpuyELpJ5jLOO5vrtgKHA11UNLu8pd79b2l\nuVlgyCmF7oY/lkwQjmVfGpWHlovPDKgzJoemw0VhIN+8J/NKqZQKYVLI54ZqWMhj\nSHSGhyEDNmdq7gbWqB7CLzfPjEoyZIssBQkdoybuX0JAuPVyO5tD4fAZdfRowTHr\nB0IS/DPy6aF2VyyIuQGklqKQboodnTKY4JWVkNWn16LogJ8J9pmwtEuF5vAygyRs\npbcKvg1Z898KWkoGsw4WjsFlQpMIhGYfp7Oc7LgbaXt5mxENjDEDsLm6cnlpt0UH\n/ZQRdbwbGmDJClBC4r/OLdctas5GJ5gJAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQA0E2aq7v/IKGTO\nFZ1axbvE5J6VqMDR0a5miT5+H4vz53QD/e23eDLV0xSx5wWBYO2wSZu3xKuf33Kb\n6ls1sBbaziCldY3HcIFOC0I7/jlV69Y9tc1SlGdohnKi4NAMsC0lQYnL3v36bxmn\nwMRNnLOpthC9Lp2eXM7FR0u0dQk7JnfQJYH9XncQj/JsxO3cOmkYNfoQdBGWNQJf\nUqXoDWLwhD7llDD8DO3flbisDen9o21b214VVEUOn2Vq6JAmYQFtKxehGGWoDOFN\nPnWNMz/KG1e00LMIzmrggxdUsIe2SEYE9N3p6eXM1y+dIIdIsxjq3Bq2a4mhHnUb\nTMmZy3fb\n-----END
      CERTIFICATE-----\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate verify]
      Connection: [keep-alive]
      Content-Length: ['1141']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAFcN5I=]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2017-07-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Fri, 15
        Dec 2017 01:28:22 GMT","thumbprint":"AF8020E3D894AD6EE6C579DD703A90E3F9F11E96","isVerified":true,"created":"Tue,
        12 Dec 2017 01:30:36 GMT","updated":"Tue, 12 Dec 2017 01:30:42 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAFcN5Q="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['680']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 12 Dec 2017 01:30:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAFcN5Q=]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 iothubclient/0.4.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2017-07-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 12 Dec 2017 01:30:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.19 msrest_azure/0.4.18 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 12 Dec 2017 01:30:44 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdIUlpDWldJSDRKTUJUSEpPVEY0U0xEV0ZCWVZKWEEyMkc3N3wyQTQxQTg0RDAxNjg5NzU5LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
version: 1
