interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-06-18T17:19:36Z"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group create
      Connection:
      - keep-alive
      Content-Length:
      - '110'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --location --name --tag
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.1.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","name":"cli_test_sp_with_kv_existing_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-06-18T17:19:36Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:19:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[],"assignedPlans":[],"city":null,"companyName":null,"consentProvidedForMinor":null,"country":null,"createdDateTime":"2016-01-21T22:10:16Z","creationType":null,"department":null,"dirSyncEnabled":null,"displayName":"admin3","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"admin3","immutableId":null,"isCompromised":null,"jobTitle":null,"lastDirSyncTime":null,"legalAgeGroupClassification":null,"mail":null,"mailNickname":"admin3","mobile":null,"onPremisesDistinguishedName":null,"onPremisesSecurityIdentifier":null,"otherMails":["yugangw@microsoft.com"],"passwordPolicies":"None","passwordProfile":null,"physicalDeliveryOfficeName":null,"postalCode":null,"preferredLanguage":"en-US","provisionedPlans":[],"provisioningErrors":[],"proxyAddresses":[],"refreshTokensValidFromDateTime":"2019-06-17T19:45:49Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":null,"state":null,"streetAddress":null,"surname":"sdk","telephoneNumber":null,"thumbnailPhoto@odata.mediaEditLink":"directoryObjects/e7e158d3-7cdc-47cd-8825-5859d7ab2b55/Microsoft.DirectoryServices.User/thumbnailPhoto","usageLocation":null,"userIdentities":[],"userPrincipalName":"admin3@AzureSDKTeam.onmicrosoft.com","userState":null,"userStateChangedOn":null,"userType":"Member"}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1579'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:19:38 GMT
      duration:
      - '533819'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - qxb+5oPfk5khbaIhIq0eSgs4N8Ph11A7dFHFBiJUmhs=
      ocp-aad-session-key:
      - DT2N0NaEQZLGR6k7JuVzQtkp5IRtv-s3JmWTA0bdVxgJ4pLy2lviyBrxou25zizIwifaRTsYgMXz1Q8Ihyem_a4IAL61JE7TD7rpigCiFPSI79GrjkQCbfx2hn1nNUB3tEMYEsqJrDlMjj57e422FQ.qVESSBkB8s3af0SrsIk8ju1t2-SjgEH2wXGSAY4j7sI
      pragma:
      - no-cache
      request-id:
      - 4f703201-e9f5-4ab2-ac58-21a025dec988
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId": "e7e158d3-7cdc-47cd-8825-5859d7ab2b55",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      Content-Length:
      - '746'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-keyvault/1.1.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:19:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.245
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-keyvault/1.1.0
        Azure-SDK-For-Python AZURECLI/2.0.66
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net/","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1102'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.245
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 18 Jun 2019 17:20:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 24}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '511'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQAnYWfDmoTidYf5JqScqfjcvkv49s6QG0lQOHVTY+R+vBltda/+53hTKsI+SytYvWdM7ySX3nJP4NlPw8KIencur35xMdhqdU99IN7AtYLspgCuo3s7S+WKYvvEYgUi7igFhFA4TkifytnX0w1m7t80oWluuQNNXpOSVM86J/6zVDcWUBxgQhRsYYLJtF5v6g7kO//MoEqmanTkyh5GhNKOYlUDosKsWM0SWm5unexkLmL0gBvg4ZeKRgEJJ26DfarQlZ2s/PD3cV2e7WgR8bQUST6bU3SKeL+LiYNxxmOAZsu69mHXtx5Hepczj82wpvuZphzwEmzAxpi9gcQzbYXw","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4c18d6ec0e734780a00a358b450923d1"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:18 GMT
      expires:
      - '-1'
      location:
      - https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=4c18d6ec0e734780a00a358b450923d1
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQAnYWfDmoTidYf5JqScqfjcvkv49s6QG0lQOHVTY+R+vBltda/+53hTKsI+SytYvWdM7ySX3nJP4NlPw8KIencur35xMdhqdU99IN7AtYLspgCuo3s7S+WKYvvEYgUi7igFhFA4TkifytnX0w1m7t80oWluuQNNXpOSVM86J/6zVDcWUBxgQhRsYYLJtF5v6g7kO//MoEqmanTkyh5GhNKOYlUDosKsWM0SWm5unexkLmL0gBvg4ZeKRgEJJ26DfarQlZ2s/PD3cV2e7WgR8bQUST6bU3SKeL+LiYNxxmOAZsu69mHXtx5Hepczj82wpvuZphzwEmzAxpi9gcQzbYXw","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4c18d6ec0e734780a00a358b450923d1"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQAnYWfDmoTidYf5JqScqfjcvkv49s6QG0lQOHVTY+R+vBltda/+53hTKsI+SytYvWdM7ySX3nJP4NlPw8KIencur35xMdhqdU99IN7AtYLspgCuo3s7S+WKYvvEYgUi7igFhFA4TkifytnX0w1m7t80oWluuQNNXpOSVM86J/6zVDcWUBxgQhRsYYLJtF5v6g7kO//MoEqmanTkyh5GhNKOYlUDosKsWM0SWm5unexkLmL0gBvg4ZeKRgEJJ26DfarQlZ2s/PD3cV2e7WgR8bQUST6bU3SKeL+LiYNxxmOAZsu69mHXtx5Hepczj82wpvuZphzwEmzAxpi9gcQzbYXw","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"4c18d6ec0e734780a00a358b450923d1"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:29 GMT
      duration:
      - '629700'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Fuw7pWZk9Llcydv7mNwwV9q9vcS0e94h6oFBoH/ulRQ=
      ocp-aad-session-key:
      - Hc47Z5x4sesVn2FACg2u9w9c3wuksYyjKa81rSPqQFOfe2mkIJzGAbSa_D40u_xrMppTqCVEXY3t7OdCc25tAB_N-DkNylr9y3CRAloTbiaThcuHg0YPR8wzfqZDZ3VtHoCifIEGDo5FJSon3VBLlw.XmBqrBwuE4vEpgmQSfTP-YxTjSzO9qGopwZPCSY1_6o
      pragma:
      - no-cache
      request-id:
      - b6678648-3743-4714-bda8-50f6fc36675a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/4f9e66d001864b5183b940361126a201","kid":"https://clitest000002.vault.azure.net/keys/cert1/4f9e66d001864b5183b940361126a201","sid":"https://clitest000002.vault.azure.net/secrets/cert1/4f9e66d001864b5183b940361126a201","x5t":"0Dg_J-bLSNPCsoxPxHninyJu6N0","cer":"MIIDQjCCAiqgAwIBAgIQTuzYjJvISTyAdAeyoJQ8sDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTAyN1oXDTIxMDYxODE3MjAyN1owHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEAoa9AN7rYyeOtprkiGi79cuNlcJN1uXhv+owujyblOqQ+4wmXJfZphviAZ3jqMx7uW1vY805Ea8tupZjb7MB+i7UP5CoyHtl97wt35fS98deyuMioPeicWwCd770kUJkFPYbPb2QUeSYWLwaGdSmtj3eciR3l6jtZ3yvYhbM34FYL0ZShgwdV8wzsI9SJGBXVeHJe2Z3gfWI2TEREcv0GBESASwnjc4Pwzis2exm2Hfpfr1WAf23mWmRg0rVmZYv22HfdYr9aUHeyZDqpxZBWdLnzhkNSFEEr982IAudpG6ETJ4tAEIx4ANsUZHSwadzY/lP9CRuGMfvg/CssZnBCRg==","attributes":{"enabled":true,"nbf":1560877827,"exp":1624036827,"created":1560878427,"updated":1560878427,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1560878418,"updated":1560878418}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2387'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:30 GMT
      duration:
      - '490088'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - IENUBJawjVCNeOFfPW1GFeJcp26vWA0p4gBL1NaxNik=
      ocp-aad-session-key:
      - WKXUagO_gtqsd-Bx3g8YT0QjhEPEkwHBoizu2FWS2vdQt05qHEsS3Ls6XnN62zCQ8EhUhFlXJyj2oz0uFWus17zTV81MUO7w9GLZQmt3XabEVISy7HR6eOns6hkUVNQg_VuiRPAKm4DQPiuEnENIig.4d3ajBASf_SKhfEHpCydIc6ibdlONF8X_JO1Z7G1pUA
      pragma:
      - no-cache
      request-id:
      - 4319ed05-15ea-4fd7-9996-65ae9d2ba3aa
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_existing_cert000001",
      "keyCredentials": [{"startDate": "2019-06-18T17:20:30.175463Z", "endDate": "2020-06-18T17:20:30.175463Z",
      "value": "MIIDQjCCAiqgAwIBAgIQTuzYjJvISTyAdAeyoJQ8sDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTAyN1oXDTIxMDYxODE3MjAyN1owHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEAoa9AN7rYyeOtprkiGi79cuNlcJN1uXhv+owujyblOqQ+4wmXJfZphviAZ3jqMx7uW1vY805Ea8tupZjb7MB+i7UP5CoyHtl97wt35fS98deyuMioPeicWwCd770kUJkFPYbPb2QUeSYWLwaGdSmtj3eciR3l6jtZ3yvYhbM34FYL0ZShgwdV8wzsI9SJGBXVeHJe2Z3gfWI2TEREcv0GBESASwnjc4Pwzis2exm2Hfpfr1WAf23mWmRg0rVmZYv22HfdYr9aUHeyZDqpxZBWdLnzhkNSFEEr982IAudpG6ETJ4tAEIx4ANsUZHSwadzY/lP9CRuGMfvg/CssZnBCRg==",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert000001",
      "identifierUris": ["http://cli_test_sp_with_kv_existing_cert000001"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1672'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"1be02cd5-f656-4cc4-8bd4-8897eacdbdfe","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"090417a8-c185-4384-aac8-55019cf5a767","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"D0383F27E6CB48D3C2B28C4FC479E29F226EE8DD","endDate":"2020-06-18T17:20:30.175463Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-18T17:20:30.175463Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"87ca50bc-b6b6-4d4a-938f-aac2a702dee5","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:30 GMT
      duration:
      - '2134133'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - itPlsAoHbG6osDHbVzYs2a+9kGEe205TaLepJuLRQYY=
      ocp-aad-session-key:
      - Ml22jjWuE4aAs0K2-6hkVLxjl_rwWNJshI6kTAx0SRthCbe_dmb8Lf9oyhUtCLX4XpSq89B07vF3vb526pX_Y2iUUGnGPcojrLQeaBslvIkaNIrPE6I88MougALc3kzjnNLno_wV9gef30_75E7bBg.wqG8PAMHuwHQ3qNzQtxYisvc-LcU_p_Tlc9X0iG-lwc
      pragma:
      - no-cache
      request-id:
      - d00e2e2d-b9ce-4138-a8e0-80733302c04f
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "090417a8-c185-4384-aac8-55019cf5a767"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"d7b864b3-48fb-4dfb-9e36-05f8681e482d","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"090417a8-c185-4384-aac8-55019cf5a767","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"87ca50bc-b6b6-4d4a-938f-aac2a702dee5","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["090417a8-c185-4384-aac8-55019cf5a767","http://cli_test_sp_with_kv_existing_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:30 GMT
      duration:
      - '2015680'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/d7b864b3-48fb-4dfb-9e36-05f8681e482d/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - DAEEhUUzhQ8pu+4OxvItbpuvqegmLWoSgzWL1kkCnyk=
      ocp-aad-session-key:
      - IkicLdXAhRfZ7rz_bvQb4oWYaTW6tbXWqRBpoxK1YoDBfABpkoQHWfDFAbM8S6oA_BQeYslugZT5vNvvG5_UB0QDi9HvJ2t_L_5FF37ZJR5V-WPyH6wwM7t7pUDfcFiW8_TMSA0Ulbt3OYda2Vpq9A.dN3rQ3Ss7PG_OgZUWcXZj-hm22flcTjEuK2VunGWhaw
      pragma:
      - no-cache
      request-id:
      - 5ceaee48-f25c-42b9-a74a-95cbe203b3a1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "d7b864b3-48fb-4dfb-9e36-05f8681e482d"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-09-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal d7b864b348fb4dfb9e3605f8681e482d
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "d7b864b3-48fb-4dfb-9e36-05f8681e482d"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"d7b864b3-48fb-4dfb-9e36-05f8681e482d","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2019-06-18T17:20:39.0423719Z","updatedOn":"2019-06-18T17:20:39.0423719Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '4'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"d7b864b3-48fb-4dfb-9e36-05f8681e482d","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"090417a8-c185-4384-aac8-55019cf5a767","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"87ca50bc-b6b6-4d4a-938f-aac2a702dee5","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert000001","090417a8-c185-4384-aac8-55019cf5a767"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2157'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:42 GMT
      duration:
      - '949851'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - B9hYoi04n3STjygYV8RwAIIPiCMo0VjVNVt/bvTUKGU=
      ocp-aad-session-key:
      - CCu0wzL8B4tQ9JjT8Bk3fsaxf6CSUgBCPSD7t7mP5wFlCoYgV37F7gRoIXbWz0MiJxGErnecUCGnnMGLRUCDFBfZw-8O7BZqKKMKCozo6wiSBM4QnUmkMoBR6EJQ-3n95I3vnBYSLYlsrwfvmAMomA.kD855YpF31nLTBUq-7Lg7WzYr1K3AZ33mbXCF7SxSW4
      pragma:
      - no-cache
      request-id:
      - 0a9efb96-b938-42c2-aa27-13cd88b6b274
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27090417a8-c185-4384-aac8-55019cf5a767%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:43 GMT
      duration:
      - '572396'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - r6LIiYvVd+TWp0L0+iGOoYEyp8LuqbVt48S1XfmMhlw=
      ocp-aad-session-key:
      - BAwtlfhZOVQGFzzO95D2BZBxmJESyp0Ger1m27EkjW5XP8z5rGcNOa83enod_Ov7vLrXMO3BBehEUkYkJ9x_gTEppaUvo-uIQDCfx54XT0bKSmUeNdv9N801Ffm4JWIXskcuXzWTsfMkgppyHHRQUQ.92T20u5ozAQYfamhA-zNngDGQHtNB1KiHHbDGKKldak
      pragma:
      - no-cache
      request-id:
      - 67ffc193-0d4c-490d-8a03-7fc06cbc4ade
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27090417a8-c185-4384-aac8-55019cf5a767%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"1be02cd5-f656-4cc4-8bd4-8897eacdbdfe","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"090417a8-c185-4384-aac8-55019cf5a767","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"D0383F27E6CB48D3C2B28C4FC479E29F226EE8DD","endDate":"2020-06-18T17:20:30.175463Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-18T17:20:30.175463Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"87ca50bc-b6b6-4d4a-938f-aac2a702dee5","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:42 GMT
      duration:
      - '735346'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - YCeo6veNZzyqH4rqbg7XRrujjIhZ2D1Pk7fkPTQFub8=
      ocp-aad-session-key:
      - epJNR65NFkfVRBKshZq_VZKWCCG6sIZmg8vq7k5Q9RqbTAzgYiIp-TQ5QckjBaYupAUzVFHBd0uGVeOi5F5Lj_NHDWNtSkvTb2qhHFBQKJp4LRAhnjj2CwzHEnMzrg-QyWYPzYxz5Phb27-qbtbi0w.cB9bfrwvSyLqwR1Dt1-JgpHPPzd2oT5dYLEM3pEDfVE
      pragma:
      - no-cache
      request-id:
      - b9800c3d-2afa-4f8b-83d9-0fe431e20f7d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"1be02cd5-f656-4cc4-8bd4-8897eacdbdfe","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"090417a8-c185-4384-aac8-55019cf5a767","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"D0383F27E6CB48D3C2B28C4FC479E29F226EE8DD","endDate":"2020-06-18T17:20:30.175463Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-18T17:20:30.175463Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"87ca50bc-b6b6-4d4a-938f-aac2a702dee5","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:43 GMT
      duration:
      - '616054'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - /ixj3U5tIdjsTF7jhrxO6gaWUFJzDmFQ2+8C7xVSngI=
      ocp-aad-session-key:
      - Ga4tl-WNVgYRoh3HVhNHeYV5pYQA7dk7UasLpx23aJrFT5uqQn3iiwxFEfzcxMlfYwktsvZI_houaAMkKJGyo2a6JiFf3yy8K8vidwt1iabzwXO2R4AVwuEg9I1dy4V2eqe5v7vrNCJ8FZFN5vgHXg.RaBAwGyvBVp0RaalKNcE36gbwu-fvFFRS0FumnAHebU
      pragma:
      - no-cache
      request-id:
      - 7d75e37d-9bba-437e-bb5b-5a02741e5dd3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/4f9e66d001864b5183b940361126a201","kid":"https://clitest000002.vault.azure.net/keys/cert1/4f9e66d001864b5183b940361126a201","sid":"https://clitest000002.vault.azure.net/secrets/cert1/4f9e66d001864b5183b940361126a201","x5t":"0Dg_J-bLSNPCsoxPxHninyJu6N0","cer":"MIIDQjCCAiqgAwIBAgIQTuzYjJvISTyAdAeyoJQ8sDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTAyN1oXDTIxMDYxODE3MjAyN1owHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEAoa9AN7rYyeOtprkiGi79cuNlcJN1uXhv+owujyblOqQ+4wmXJfZphviAZ3jqMx7uW1vY805Ea8tupZjb7MB+i7UP5CoyHtl97wt35fS98deyuMioPeicWwCd770kUJkFPYbPb2QUeSYWLwaGdSmtj3eciR3l6jtZ3yvYhbM34FYL0ZShgwdV8wzsI9SJGBXVeHJe2Z3gfWI2TEREcv0GBESASwnjc4Pwzis2exm2Hfpfr1WAf23mWmRg0rVmZYv22HfdYr9aUHeyZDqpxZBWdLnzhkNSFEEr982IAudpG6ETJ4tAEIx4ANsUZHSwadzY/lP9CRuGMfvg/CssZnBCRg==","attributes":{"enabled":true,"nbf":1560877827,"exp":1624036827,"created":1560878427,"updated":1560878427,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1560878418,"updated":1560878418}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2387'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2019-06-18T17:20:43.023654Z", "endDate":
      "2020-06-18T17:20:43.023654Z", "value": "MIIDQjCCAiqgAwIBAgIQTuzYjJvISTyAdAeyoJQ8sDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTAyN1oXDTIxMDYxODE3MjAyN1owHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEAoa9AN7rYyeOtprkiGi79cuNlcJN1uXhv+owujyblOqQ+4wmXJfZphviAZ3jqMx7uW1vY805Ea8tupZjb7MB+i7UP5CoyHtl97wt35fS98deyuMioPeicWwCd770kUJkFPYbPb2QUeSYWLwaGdSmtj3eciR3l6jtZ3yvYhbM34FYL0ZShgwdV8wzsI9SJGBXVeHJe2Z3gfWI2TEREcv0GBESASwnjc4Pwzis2exm2Hfpfr1WAf23mWmRg0rVmZYv22HfdYr9aUHeyZDqpxZBWdLnzhkNSFEEr982IAudpG6ETJ4tAEIx4ANsUZHSwadzY/lP9CRuGMfvg/CssZnBCRg==",
      "keyId": "526549ce-7a82-48fa-9694-5de96c1e3873", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1339'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Tue, 18 Jun 2019 17:20:43 GMT
      duration:
      - '2353459'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - WzhaGtBqxSLZ0hrAkiIQJ9kgl/P+rn9FQMPcJn/2zBI=
      ocp-aad-session-key:
      - 120HzDU2Hvfi7C4FfXfPPc3FITPt0Ryp7LiArdhROZZaVDQE_XqxDW-NEnEcJmAglJcMRc0l_7e8dLuzFCwSv3m2CFzBkXNWTujqwL1wxJs18mQf4-RgL3XeB3Rx4-SIffIO61k4ew3zAujZfevOAw.cqBU8Ykg4duoITIhlhfj0_gCmQ1ZJHWyd1FdoyJOfzw
      pragma:
      - no-cache
      request-id:
      - 2b34d932-0046-4f6c-b82b-74f2346f1268
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"1be02cd5-f656-4cc4-8bd4-8897eacdbdfe","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"090417a8-c185-4384-aac8-55019cf5a767","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"D0383F27E6CB48D3C2B28C4FC479E29F226EE8DD","endDate":"2020-06-18T17:20:43.023654Z","keyId":"526549ce-7a82-48fa-9694-5de96c1e3873","startDate":"2019-06-18T17:20:43.023654Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"87ca50bc-b6b6-4d4a-938f-aac2a702dee5","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:20:44 GMT
      duration:
      - '534597'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 27ZEr0h18RCw5oe/AROzipmgItY/LYG5YIwwA5EOEKk=
      ocp-aad-session-key:
      - Hf1g5vQamHnknyI-epgZvUsmY-HwWix1MWX7qgFOmwNj4INL-ettrjaHFm8E1biHraNm1EyMzQgdXJjU-kvESSxAjep7ImcRDe9qPFGqX8K6xQq1CyGEcp8fL3obfUuHJY80exEIQ_63MhaI2zvGkA.m7-yWz6uRPdEWv0g2GPEcD1XZxee1WLDxnbQB-IodQk
      pragma:
      - no-cache
      request-id:
      - 078f27ed-b700-4c09-9603-4be3692641e1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/1be02cd5-f656-4cc4-8bd4-8897eacdbdfe?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Tue, 18 Jun 2019 17:20:44 GMT
      duration:
      - '2040016'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - CLBFhp12uVA5Nnh6MG2VC8aF6kYj6BwyK0Y6WAoeTzc=
      ocp-aad-session-key:
      - DZ0NztoCqA_soVnM59dZvhTz81BUuRqNgjJIsu94ov9pjIOpIyNU7EaXSQnosy7ZnIsSksP-XQP2163ib2YjM5Nw68StKcyw9BQUQCOdr6JR6jChlutGBaKIok_RgPfKZkt_kxiy-mVTEDv492qOAA.hgXHbEx1bNb5Dl9dQR3XIGv-DjsStoct4Tg5Cu1CGRQ
      pragma:
      - no-cache
      request-id:
      - 05cfcbb8-7af7-4c09-9014-31a3f69c629f
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 6}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '510'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQAnYWfDmoTidYf5JqScqfjcvkv49s6QG0lQOHVTY+R+vBltda/+53hTKsI+SytYvWdM7ySX3nJP4NlPw8KIencur35xMdhqdU99IN7AtYLspgCuo3s7S+WKYvvEYgUi7igFhFA4TkifytnX0w1m7t80oWluuQNNXpOSVM86J/6zVDcWUBxgQhRsYYLJtF5v6g7kO//MoEqmanTkyh5GhNKOYlUDosKsWM0SWm5unexkLmL0gBvg4ZeKRgEJJ26DfarQlZ2s/PD3cV2e7WgR8bQUST6bU3SKeL+LiYNxxmOAZsu69mHXtx5Hepczj82wpvuZphzwEmzAxpi9gcQzbYXw","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"cc09bbc78fef4055bcd1423128e70aed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:45 GMT
      expires:
      - '-1'
      location:
      - https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=cc09bbc78fef4055bcd1423128e70aed
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQAnYWfDmoTidYf5JqScqfjcvkv49s6QG0lQOHVTY+R+vBltda/+53hTKsI+SytYvWdM7ySX3nJP4NlPw8KIencur35xMdhqdU99IN7AtYLspgCuo3s7S+WKYvvEYgUi7igFhFA4TkifytnX0w1m7t80oWluuQNNXpOSVM86J/6zVDcWUBxgQhRsYYLJtF5v6g7kO//MoEqmanTkyh5GhNKOYlUDosKsWM0SWm5unexkLmL0gBvg4ZeKRgEJJ26DfarQlZ2s/PD3cV2e7WgR8bQUST6bU3SKeL+LiYNxxmOAZsu69mHXtx5Hepczj82wpvuZphzwEmzAxpi9gcQzbYXw","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"cc09bbc78fef4055bcd1423128e70aed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQAnYWfDmoTidYf5JqScqfjcvkv49s6QG0lQOHVTY+R+vBltda/+53hTKsI+SytYvWdM7ySX3nJP4NlPw8KIencur35xMdhqdU99IN7AtYLspgCuo3s7S+WKYvvEYgUi7igFhFA4TkifytnX0w1m7t80oWluuQNNXpOSVM86J/6zVDcWUBxgQhRsYYLJtF5v6g7kO//MoEqmanTkyh5GhNKOYlUDosKsWM0SWm5unexkLmL0gBvg4ZeKRgEJJ26DfarQlZ2s/PD3cV2e7WgR8bQUST6bU3SKeL+LiYNxxmOAZsu69mHXtx5Hepczj82wpvuZphzwEmzAxpi9gcQzbYXw","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"cc09bbc78fef4055bcd1423128e70aed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:20:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQAnYWfDmoTidYf5JqScqfjcvkv49s6QG0lQOHVTY+R+vBltda/+53hTKsI+SytYvWdM7ySX3nJP4NlPw8KIencur35xMdhqdU99IN7AtYLspgCuo3s7S+WKYvvEYgUi7igFhFA4TkifytnX0w1m7t80oWluuQNNXpOSVM86J/6zVDcWUBxgQhRsYYLJtF5v6g7kO//MoEqmanTkyh5GhNKOYlUDosKsWM0SWm5unexkLmL0gBvg4ZeKRgEJJ26DfarQlZ2s/PD3cV2e7WgR8bQUST6bU3SKeL+LiYNxxmOAZsu69mHXtx5Hepczj82wpvuZphzwEmzAxpi9gcQzbYXw","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"cc09bbc78fef4055bcd1423128e70aed"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:21:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:06 GMT
      duration:
      - '685785'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 03tJtVtrK59o2WrrDjJFasNQO9BoGoGL+dG53QSLpQQ=
      ocp-aad-session-key:
      - 8JReeTvzSbkAmXJ_NvFlTCfoC4GdGDQoUiwS0-3zaCfPzaCWVhN194c8e5P3ny7VLRg9ItAuNgvNelXaz5XHsi48UzCjidTMzFIjM7T-k_Ooi8PIZvD2pCOqqaQ7q-lOPmOAtKkuBbf7Dp-sURK1xA.E9k8EKzI_8VOrtHmH1kstaMjDzEU6qoe5KuYWK3KKVc
      pragma:
      - no-cache
      request-id:
      - 01eeea0f-ddaa-445c-addf-64b868913722
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/635f5182b807430ba01c4034b076fc6a","kid":"https://clitest000002.vault.azure.net/keys/cert1/635f5182b807430ba01c4034b076fc6a","sid":"https://clitest000002.vault.azure.net/secrets/cert1/635f5182b807430ba01c4034b076fc6a","x5t":"966GuPVJ6NasIvZFHz0CLMEXsSk","cer":"MIIDQjCCAiqgAwIBAgIQQaJrgv3OQMePfCKAGvMIozANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTA1OFoXDTE5MTIxODE3MjA1OFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEArUd5+ANOyz7nYow25lITeC22uTEsFgcLUv4BtvSdoX1U6WzJKOArs3sau6n5sKWeXUE0oQPPlnrftSRYC8XhITmpY7prCHX9CLSOg9CfzRPxoZHSOWoGIT37n3/5FxGrdCvevxyDOai6dTF7V9F/Ao9H7jOjX6zGm+5yRf5w+ATZMVcu3Vse+GZimJRtU8SdEWe+nQPe+xaD7eS70X3wlAFoy23/TAoX0Yx6DlcisLUzGIDjqd3hM66aSa0XEjIpPNa406hKQPUiAFOH/TbGxEenm7HIQR/6fqPojssNu8sbBJ6+klQmMR6wZbCqgv4PHOxozwxApSCjdOydobbd6A==","attributes":{"enabled":true,"nbf":1560877858,"exp":1576689658,"created":1560878458,"updated":1560878458,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1560878418,"updated":1560878445}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2386'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:21:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:07 GMT
      duration:
      - '822042'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 8cABrxGeuUtXZIb4tLTbZKP7GAyp5Rz3TMI9wedexHQ=
      ocp-aad-session-key:
      - fuQ2x2RG6cCOQjtRQPZ1o0LAu-71yQ_CqYZ48uNiO07lQ8-X1BItM8b5VRdlTvYpPwCg-MEAmL_lzAzYiyfjpqLuT2L28TrllNVxWv9ZHqUjG7sZuRBb_n4z10u0io_7lvETnJ_9pydHmQZNS8WHHw.gdZdxu1AwkBkyfayLzcWKcOgoOq5Rlyd9Yn7jB5j58I
      pragma:
      - no-cache
      request-id:
      - dccb446d-ef5c-4e04-bafc-6f11eccfe1db
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_existing_cert0000012",
      "keyCredentials": [{"startDate": "2019-06-18T17:21:07.409731Z", "endDate": "2019-12-18T17:20:57.000Z",
      "value": "MIIDQjCCAiqgAwIBAgIQQaJrgv3OQMePfCKAGvMIozANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTA1OFoXDTE5MTIxODE3MjA1OFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEArUd5+ANOyz7nYow25lITeC22uTEsFgcLUv4BtvSdoX1U6WzJKOArs3sau6n5sKWeXUE0oQPPlnrftSRYC8XhITmpY7prCHX9CLSOg9CfzRPxoZHSOWoGIT37n3/5FxGrdCvevxyDOai6dTF7V9F/Ao9H7jOjX6zGm+5yRf5w+ATZMVcu3Vse+GZimJRtU8SdEWe+nQPe+xaD7eS70X3wlAFoy23/TAoX0Yx6DlcisLUzGIDjqd3hM66aSa0XEjIpPNa406hKQPUiAFOH/TbGxEenm7HIQR/6fqPojssNu8sbBJ6+klQmMR6wZbCqgv4PHOxozwxApSCjdOydobbd6A==",
      "keyId": "88888888-0000-0000-0000-000000000004", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert0000012",
      "identifierUris": ["http://cli_test_sp_with_kv_existing_cert0000012"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1672'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"8a04f88b-23cb-4cfd-9b76-92028b311f48","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"499bbbaf-fb28-40d0-9828-ad671bab446c","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"F7AE86B8F549E8D6AC22F6451F3D022CC117B129","endDate":"2019-12-18T17:20:57Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2019-06-18T17:21:07.409731Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"5ae04894-3399-46c3-8f7b-7ff59f56a5fe","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:07 GMT
      duration:
      - '2649007'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - hXM0y5tf4jtAu0XM9IyMZVs+30ozRFf/FDYUTguUD7g=
      ocp-aad-session-key:
      - kgTipTK--qm_tzWLh-_DuTzWrVmCTOHPSORPXidjTS3Pa5uI3hUfhDFwM0WbArwdoVY1V5bFYA_dbMUJt40p0MvBmsIVi_R3kFVgkK6l-tK0FEqlEQXjp0ri4RuCM7RHU5QuMg5jfH79hMcQNxO9mw.cT1dMQLV9h1JRp_tZSACuQunSVH-SdNpORLHj037Kj8
      pragma:
      - no-cache
      request-id:
      - bde8b45b-6e11-4fe0-9423-96872b447c3c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "499bbbaf-fb28-40d0-9828-ad671bab446c"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"ecb52dde-5fde-4169-8a44-c5f3680f8e1a","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"499bbbaf-fb28-40d0-9828-ad671bab446c","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"5ae04894-3399-46c3-8f7b-7ff59f56a5fe","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["499bbbaf-fb28-40d0-9828-ad671bab446c","http://cli_test_sp_with_kv_existing_cert0000012"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2162'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:08 GMT
      duration:
      - '1884151'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/ecb52dde-5fde-4169-8a44-c5f3680f8e1a/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - Fuw7pWZk9Llcydv7mNwwV9q9vcS0e94h6oFBoH/ulRQ=
      ocp-aad-session-key:
      - rOOZue7CWzEh4Ob4TKoYqNedbF-98GlX8umqlT4TU2JBZ4_FNe0Ro2eLGFlrS3kzN3SWpOVWiir8Ng_fGbnDjaOigM_d0FfJ8ZEM7Gu6HGw9HdGbKNVo1XrsjBqPAZC5G6ZWYhMnLwl1zTAfXwmLLQ.egBOBXNCFY6uhcoIHaXNNqwKkQd7brWHHPq7f-NrNvs
      pragma:
      - no-cache
      request-id:
      - c785a67c-38fd-4256-be0a-c5e16e0c686d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:21:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '13'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "ecb52dde-5fde-4169-8a44-c5f3680f8e1a"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000005?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"ecb52dde-5fde-4169-8a44-c5f3680f8e1a","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2019-06-18T17:21:22.6552844Z","updatedOn":"2019-06-18T17:21:22.6552844Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000005","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000005"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:21:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '17'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"ecb52dde-5fde-4169-8a44-c5f3680f8e1a","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"499bbbaf-fb28-40d0-9828-ad671bab446c","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"5ae04894-3399-46c3-8f7b-7ff59f56a5fe","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert0000012","499bbbaf-fb28-40d0-9828-ad671bab446c"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2165'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:39 GMT
      duration:
      - '607347'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - UOr32UtAMU+Eq0/F3AdEK7cYLW38EohupmMJWMjvI+Q=
      ocp-aad-session-key:
      - 38adHSxEFiEXZ0dFM-CouocZKBbyhDN2y4V0uiit2p3rKMcgfr_4h5lQxuiQySwX-tS_f6ZAgeVQI9cGjgGBjEPpZx4gWCoGzcIIjgcKWtzCE4nA0zmdOC7xBR51h0Vm9Z93rqHrmw2ayC_Ax5f30Q.vFePQSdhaqF-2ToVa8puQnTnsRgX1LrEjAPO38LjmYI
      pragma:
      - no-cache
      request-id:
      - 9b7e2732-0b19-4cc4-9b23-eb596fe1d094
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27499bbbaf-fb28-40d0-9828-ad671bab446c%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:39 GMT
      duration:
      - '491326'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - LgXAcbVEU6vczw1+dJY77u/nuJ5/uLYq6pT3Y4X/6fM=
      ocp-aad-session-key:
      - mfjnLTFNr_Ag1jJbtsFwh9mkDTs0zoiQl5jDd91BKlaACo7WdokNMskUIrdA7mqxQd5roMa2LC1EGtjqzk_pJtcp_S7LMZ2hXFSMjrMDsnhVKIgG5J2x3oB3SNGodnEPq8RJ5KrOthZVdmzfLINBuQ.zZtXP1xtmbdomuIdcN8N1FO3aGdS25176KU_SKGMaSY
      pragma:
      - no-cache
      request-id:
      - 97a99bd9-3044-4582-b378-bf6337ce6b79
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27499bbbaf-fb28-40d0-9828-ad671bab446c%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"8a04f88b-23cb-4cfd-9b76-92028b311f48","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"499bbbaf-fb28-40d0-9828-ad671bab446c","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"F7AE86B8F549E8D6AC22F6451F3D022CC117B129","endDate":"2019-12-18T17:20:57Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2019-06-18T17:21:07.409731Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"5ae04894-3399-46c3-8f7b-7ff59f56a5fe","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:39 GMT
      duration:
      - '690101'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Lvh0/G78olXOk4T0L5DDgaqMqxW05ALila/UzU46pxE=
      ocp-aad-session-key:
      - levQCUhJqWtx5uaGLrV7ViGhcv0NbkulZoMi330zhG1PSW5GVZJBTXyXem8Z3dODBDF5llR_SinWr2p3qTZfuMNaLDZD7UQXQcCOjonc_mJekhQDrspqAVY-tuRAV1pPGHzGiAhDiWHnpI4dvmbJJQ.m3ljLZxWK46xXI3CNNNSaQvAZrGXbCQCyzUZfzyVor4
      pragma:
      - no-cache
      request-id:
      - 047037a7-738a-44a6-bf45-2ca310daa9ba
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/8a04f88b-23cb-4cfd-9b76-92028b311f48?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"8a04f88b-23cb-4cfd-9b76-92028b311f48","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"499bbbaf-fb28-40d0-9828-ad671bab446c","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"F7AE86B8F549E8D6AC22F6451F3D022CC117B129","endDate":"2019-12-18T17:20:57Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2019-06-18T17:21:07.409731Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"5ae04894-3399-46c3-8f7b-7ff59f56a5fe","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:40 GMT
      duration:
      - '523258'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - gXfFarcv2ysN8TtqVPgD1PYEnzY+oOLIPXpP5S4Cj3o=
      ocp-aad-session-key:
      - 9LpZn-qTl4cZBojpjLMXfhk78Xp8iO4YhqQT0vGJN4exN03_JMi-RMxjwZYOOIW6NEpSddKRlMWJbrNj5QmqNNTFJW9M0kwaRyhO8YouHiTvCRytdoeIRQjAksDVzLo-GeSNxrY-WnNFlrkcgiM6uQ.ZzvC5cWy2-MeSbqlLGaDKSrlJHgQwlFOWBOzF-AS6vg
      pragma:
      - no-cache
      request-id:
      - 689ce146-3122-47ea-be03-e2aa2e47802c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/635f5182b807430ba01c4034b076fc6a","kid":"https://clitest000002.vault.azure.net/keys/cert1/635f5182b807430ba01c4034b076fc6a","sid":"https://clitest000002.vault.azure.net/secrets/cert1/635f5182b807430ba01c4034b076fc6a","x5t":"966GuPVJ6NasIvZFHz0CLMEXsSk","cer":"MIIDQjCCAiqgAwIBAgIQQaJrgv3OQMePfCKAGvMIozANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTA1OFoXDTE5MTIxODE3MjA1OFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEArUd5+ANOyz7nYow25lITeC22uTEsFgcLUv4BtvSdoX1U6WzJKOArs3sau6n5sKWeXUE0oQPPlnrftSRYC8XhITmpY7prCHX9CLSOg9CfzRPxoZHSOWoGIT37n3/5FxGrdCvevxyDOai6dTF7V9F/Ao9H7jOjX6zGm+5yRf5w+ATZMVcu3Vse+GZimJRtU8SdEWe+nQPe+xaD7eS70X3wlAFoy23/TAoX0Yx6DlcisLUzGIDjqd3hM66aSa0XEjIpPNa406hKQPUiAFOH/TbGxEenm7HIQR/6fqPojssNu8sbBJ6+klQmMR6wZbCqgv4PHOxozwxApSCjdOydobbd6A==","attributes":{"enabled":true,"nbf":1560877858,"exp":1576689658,"created":1560878458,"updated":1560878458,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1560878418,"updated":1560878445}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2386'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 18 Jun 2019 17:21:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.174.200;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2019-06-18T17:21:40.265384Z", "endDate":
      "2019-12-18T17:20:57.000Z", "value": "MIIDQjCCAiqgAwIBAgIQQaJrgv3OQMePfCKAGvMIozANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYxODE3MTA1OFoXDTE5MTIxODE3MjA1OFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAObCIB8KZmLXeLHoE/sYAvyD36+w9xeEopPQ6f0HqSwyefkksQn9b7rQTTnvj64oYxwgXsAcFJLNsVesTcShVZV2cMarhmwn2dKKsasKbtMnbqDRtfxvrD20FFK+uY0qvSqmL/tsTRybmihfaYa4MCinEy1Io8ifikl2QSPhyJ47wNopl0ebYMk/0qF886xQaJm8ko0sZl2ASQSWb2yOGqlUZKxWNLhlgH+Oo8FNwtys6VNq4YlmfYGVVm+dlSOJ1RfTGoMICtx/UYO+khe1Raea5qHl2moQFciaBD2G+xSsjzd5qqgm73UsEnzpufnLdGIpv4x/9iyvphetLb4M95ECAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFC1Rsf3BZTSSw7iHZX5E1YMfAFYiMB0GA1UdDgQWBBQtUbH9wWU0ksO4h2V+RNWDHwBWIjANBgkqhkiG9w0BAQsFAAOCAQEArUd5+ANOyz7nYow25lITeC22uTEsFgcLUv4BtvSdoX1U6WzJKOArs3sau6n5sKWeXUE0oQPPlnrftSRYC8XhITmpY7prCHX9CLSOg9CfzRPxoZHSOWoGIT37n3/5FxGrdCvevxyDOai6dTF7V9F/Ao9H7jOjX6zGm+5yRf5w+ATZMVcu3Vse+GZimJRtU8SdEWe+nQPe+xaD7eS70X3wlAFoy23/TAoX0Yx6DlcisLUzGIDjqd3hM66aSa0XEjIpPNa406hKQPUiAFOH/TbGxEenm7HIQR/6fqPojssNu8sbBJ6+klQmMR6wZbCqgv4PHOxozwxApSCjdOydobbd6A==",
      "keyId": "42b28456-499f-425c-9fbb-6b20a67d0476", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1336'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/8a04f88b-23cb-4cfd-9b76-92028b311f48?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Tue, 18 Jun 2019 17:21:41 GMT
      duration:
      - '2592620'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - +EOS4aiuOEFJVZdbhjMw16/+oK92lidT3YUz+JU856Q=
      ocp-aad-session-key:
      - U9z4HBOEJBDoJ1l8xVqnKC7dPRQNkER8pq4s1Zs9GPhr0pq2TRo8JmzQ7RTE-NwAUZL73zhxKuQFV0VhXk05Ge1XRBmjcV2YAeY6vgSGBA6gxkAWX0nV98N9wcrKTkzsDcxejcB33dfS0ogIZADIRw.5Haz_H10E4_gQOBi-QPn-23xs8hXrvnlxTLnRYlwv6U
      pragma:
      - no-cache
      request-id:
      - a2f030b2-8d3c-4b0c-bcb4-9f3b1fe0557e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"8a04f88b-23cb-4cfd-9b76-92028b311f48","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"499bbbaf-fb28-40d0-9828-ad671bab446c","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"F7AE86B8F549E8D6AC22F6451F3D022CC117B129","endDate":"2019-12-18T17:20:57Z","keyId":"42b28456-499f-425c-9fbb-6b20a67d0476","startDate":"2019-06-18T17:21:40.265384Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/8a04f88b-23cb-4cfd-9b76-92028b311f48/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"5ae04894-3399-46c3-8f7b-7ff59f56a5fe","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 18 Jun 2019 17:21:42 GMT
      duration:
      - '558058'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - iV69uKCb5MaK0i6e/qAYSNhEb9/mkPqAEJ2SdPTOYcM=
      ocp-aad-session-key:
      - xLrWdV7DFyTixfPayF29gBRI_jnPI_akIwvs7LaVNCb3ilPM1uIDJJd6Vx_z0_4Yfo3cWE3USNqtseYSu8eqFIXIhmM0GPbm9pPyDP3aEFwElq50qYOPxjghAeOS6Bvczh4Dqz0bYa4sUMzRThibYw.DCgHmZ6X_C7SD1SFKWKUZpGap5DRZbUe7KPanzHjIHA
      pragma:
      - no-cache
      request-id:
      - 7d7f533e-2d34-49f2-a2a5-dd7c34413c74
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/8a04f88b-23cb-4cfd-9b76-92028b311f48?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Tue, 18 Jun 2019 17:21:42 GMT
      duration:
      - '1864459'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - OQLywiI52PNERwXzjFjjauDsq3Wqe1LaqVZPFAotG7Q=
      ocp-aad-session-key:
      - 6bEiF0MjdJIdn8yf-2yGI96Xx3EflPyJ8rYxj3WgbbFuJdjrbE6CmXsKCm2nA5iCOx961XN0JjMBuOCNTGkAN2Erud36Q6RSuhzTMt6BDcRgjAVra0GsiqOf2DB4MZAVKbjdbCabFUnfe2iVe2SMFA.h29Z135Ft6j3pV391G8_8SJU529mlvrNHjrwjgG8KmY
      pragma:
      - no-cache
      request-id:
      - c1e19d69-f406-42e7-a646-868b74d09fdb
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --yes --no-wait
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.1.0
        Azure-SDK-For-Python AZURECLI/2.0.66
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 18 Jun 2019 17:21:43 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZFWElTVElORzo1RkNFUlROQXxDMzQzRUUwQzdDMkE3Mjc2LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
version: 1
