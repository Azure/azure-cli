interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_vnet_with_encryption000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001","name":"cli_vnet_with_encryption000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-11-17T08:49:19Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"addressSpace": {"addressPrefixes":
      ["10.0.0.0/16"]}, "enableDdosProtection": false, "enableVmProtection": false,
      "encryption": {"enabled": true, "enforcement": "AllowUnencrypted"}, "subnets":
      [{"name": "Mysubnet", "properties": {"addressPrefix": "10.0.0.0/24"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '303'
      Content-Type:
      - application/json
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1\",\r\n
        \ \"etag\": \"W/\\\"4d0393a3-07ec-40f5-8c3c-f7df08b4aced\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"b3c28277-e2c4-4cc6-987b-a181525c484a\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.0.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"4d0393a3-07ec-40f5-8c3c-f7df08b4aced\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.0.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1c39aa93-1e2b-4d9a-a5c0-41b7048c1951?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1347'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - df86f561-9925-4b84-b130-51cea19894d6
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/1c39aa93-1e2b-4d9a-a5c0-41b7048c1951?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 20570cad-2465-4a64-a0cc-ed85d7cb8ed2
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1\",\r\n
        \ \"etag\": \"W/\\\"1c8ac7c9-5686-44cf-aa4f-e07ec1348ae4\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"b3c28277-e2c4-4cc6-987b-a181525c484a\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.0.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"1c8ac7c9-5686-44cf-aa4f-e07ec1348ae4\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.0.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1349'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:31 GMT
      etag:
      - W/"1c8ac7c9-5686-44cf-aa4f-e07ec1348ae4"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - ffdc930f-db94-471d-81ed-a4a2477f9937
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_vnet_with_encryption000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001","name":"cli_vnet_with_encryption000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-11-17T08:49:19Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"addressSpace": {"addressPrefixes":
      ["10.1.0.0/16"]}, "enableDdosProtection": false, "enableVmProtection": false,
      "encryption": {"enabled": true, "enforcement": "DropUnencrypted"}, "subnets":
      [{"name": "MySubnet", "properties": {"addressPrefix": "10.1.0.0/24"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '302'
      Content-Type:
      - application/json
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2\",\r\n
        \ \"etag\": \"W/\\\"c0a0cb70-8238-4fae-9fca-529185757c54\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"87f1ad44-3ed0-4217-b3b0-9e63873ae3c2\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.1.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"MySubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2/subnets/MySubnet\",\r\n
        \       \"etag\": \"W/\\\"c0a0cb70-8238-4fae-9fca-529185757c54\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.1.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/7b49e260-e2e2-4d34-ba35-2c6bd353a52c?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1346'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - a41b7710-31aa-4e1b-bf9b-f100d8b9e55e
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/7b49e260-e2e2-4d34-ba35-2c6bd353a52c?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 4daca733-7547-47a5-ab9c-9479eaa4aa8f
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes -n -g --subnet-name --subnet-prefixes --enable-encryption
        --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2\",\r\n
        \ \"etag\": \"W/\\\"7b7cc78a-64ed-40bd-a100-6a56f1633275\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"87f1ad44-3ed0-4217-b3b0-9e63873ae3c2\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.1.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"MySubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2/subnets/MySubnet\",\r\n
        \       \"etag\": \"W/\\\"7b7cc78a-64ed-40bd-a100-6a56f1633275\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.1.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:39 GMT
      etag:
      - W/"7b7cc78a-64ed-40bd-a100-6a56f1633275"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 9b70f9b2-ce35-427b-9c53-43b1b55c039c
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1\",\r\n
        \ \"etag\": \"W/\\\"1c8ac7c9-5686-44cf-aa4f-e07ec1348ae4\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"b3c28277-e2c4-4cc6-987b-a181525c484a\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.0.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"1c8ac7c9-5686-44cf-aa4f-e07ec1348ae4\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.0.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1349'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:41 GMT
      etag:
      - W/"1c8ac7c9-5686-44cf-aa4f-e07ec1348ae4"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - a2a10646-9fa2-4b3b-b803-d51fd8e28410
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2\",\r\n
        \ \"etag\": \"W/\\\"7b7cc78a-64ed-40bd-a100-6a56f1633275\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"87f1ad44-3ed0-4217-b3b0-9e63873ae3c2\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.1.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"MySubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2/subnets/MySubnet\",\r\n
        \       \"etag\": \"W/\\\"7b7cc78a-64ed-40bd-a100-6a56f1633275\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.1.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:42 GMT
      etag:
      - W/"7b7cc78a-64ed-40bd-a100-6a56f1633275"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - dae204e8-78ef-40f4-aa56-1d0510a96035
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
        --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_vnet_with_encryption000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001","name":"cli_vnet_with_encryption000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-11-17T08:49:19Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"addressSpace": {"addressPrefixes":
      ["10.2.0.0/16"]}, "enableDdosProtection": false, "enableVmProtection": false,
      "encryption": {"enabled": false}, "subnets": [{"name": "Mysubnet", "properties":
      {"addressPrefix": "10.2.0.0/24"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '269'
      Content-Type:
      - application/json
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
        --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"6cd1be38-d0c2-4f99-b380-2020c363de33\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": false,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"6cd1be38-d0c2-4f99-b380-2020c363de33\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/e779f2f9-a365-4b8e-82ba-6c159b4d5a09?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 10ae7e3b-e112-4c30-9b7f-60bb84c0d9b1
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
        --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/e779f2f9-a365-4b8e-82ba-6c159b4d5a09?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 0f8e560a-32df-41be-9c74-5e617f98e092
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
        --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"f37b6881-c9eb-4184-9425-64dc056bae7e\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": false,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"f37b6881-c9eb-4184-9425-64dc056bae7e\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1350'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:51 GMT
      etag:
      - W/"f37b6881-c9eb-4184-9425-64dc056bae7e"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 9929bbd6-f290-4583-8297-72314e3dc895
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
        --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_vnet_with_encryption000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001","name":"cli_vnet_with_encryption000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-11-17T08:49:19Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"addressSpace": {"addressPrefixes":
      ["10.3.0.0/16"]}, "enableDdosProtection": false, "enableVmProtection": false,
      "encryption": {"enabled": true}, "subnets": [{"name": "MySubnet", "properties":
      {"addressPrefix": "10.3.0.0/24"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '268'
      Content-Type:
      - application/json
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
        --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet4?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"error\": {\r\n    \"code\": \"MustSpecifyBothEncryptionIntentAndEnforcementPolicy\",\r\n
        \   \"message\": \"Cannot encrypt VirtualNetwork /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet4
        unless both encryption intent (Enabled true or false) and enforcement policy
        (AllowUnencrypted or DropUnencrypted) are specified.\",\r\n    \"details\":
        []\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '439'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:49:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - d24d7387-3f9c-455f-97d3-eb40734858b1
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"f37b6881-c9eb-4184-9425-64dc056bae7e\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": false,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"f37b6881-c9eb-4184-9425-64dc056bae7e\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1350'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:01 GMT
      etag:
      - W/"f37b6881-c9eb-4184-9425-64dc056bae7e"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 344b1839-7b29-4b49-9a2a-3f7086bdbed4
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3",
      "location": "westus", "properties": {"addressSpace": {"addressPrefixes": ["10.2.0.0/16"]},
      "enableDdosProtection": false, "encryption": {"enabled": true, "enforcement":
      "AllowUnencrypted"}, "subnets": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet",
      "name": "Mysubnet", "properties": {"addressPrefix": "10.2.0.0/24", "delegations":
      [], "privateEndpointNetworkPolicies": "Disabled", "privateLinkServiceNetworkPolicies":
      "Enabled"}, "type": "Microsoft.Network/virtualNetworks/subnets"}], "virtualNetworkPeerings":
      []}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      Content-Length:
      - '805'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"5aaa4d44-ef97-4bb4-a37f-cc3597d714d2\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"5aaa4d44-ef97-4bb4-a37f-cc3597d714d2\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/0bd4bfa1-3b3d-477c-b3ec-3c1e7ed2c69b?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1347'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f97116b8-e799-488b-b2cf-89334721c9d3
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/0bd4bfa1-3b3d-477c-b3ec-3c1e7ed2c69b?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - a2e6959c-61d0-4103-94ca-fc180f45858c
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"1bf47b79-10fb-4aaa-b99d-807daa9af179\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"1bf47b79-10fb-4aaa-b99d-807daa9af179\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1349'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:07 GMT
      etag:
      - W/"1bf47b79-10fb-4aaa-b99d-807daa9af179"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - b0aa7274-d6e6-4664-a9dc-6b1c17b3d139
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"1bf47b79-10fb-4aaa-b99d-807daa9af179\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"AllowUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"1bf47b79-10fb-4aaa-b99d-807daa9af179\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1349'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:08 GMT
      etag:
      - W/"1bf47b79-10fb-4aaa-b99d-807daa9af179"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - c7d11137-d01f-45be-961b-cf873d12d434
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3",
      "location": "westus", "properties": {"addressSpace": {"addressPrefixes": ["10.2.0.0/16"]},
      "enableDdosProtection": false, "encryption": {"enabled": true, "enforcement":
      "DropUnencrypted"}, "subnets": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet",
      "name": "Mysubnet", "properties": {"addressPrefix": "10.2.0.0/24", "delegations":
      [], "privateEndpointNetworkPolicies": "Disabled", "privateLinkServiceNetworkPolicies":
      "Enabled"}, "type": "Microsoft.Network/virtualNetworks/subnets"}], "virtualNetworkPeerings":
      []}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      Content-Length:
      - '804'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"4ff0f1ab-93c0-4aaf-838a-08a1c9834263\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"4ff0f1ab-93c0-4aaf-838a-08a1c9834263\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/636d46a4-3909-4ce7-a017-9123a5446b6f?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1346'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 8d6c0076-89dd-4cab-ab6c-612b163065f6
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/636d46a4-3909-4ce7-a017-9123a5446b6f?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - dab7c04e-9a5b-4b56-b09f-6361a3d88d6b
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet3\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3\",\r\n
        \ \"etag\": \"W/\\\"4696b238-eefb-4776-89c1-b749e9fef644\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"8c8278ee-dfde-4e0b-a7a3-d98dd5e2da1c\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.2.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet3/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"4696b238-eefb-4776-89c1-b749e9fef644\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.2.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:14 GMT
      etag:
      - W/"4696b238-eefb-4776-89c1-b749e9fef644"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 2adde4bb-897a-40e8-b756-e7f07b987441
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_vnet_with_encryption000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001","name":"cli_vnet_with_encryption000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-11-17T08:49:19Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"addressSpace": {"addressPrefixes":
      ["10.5.0.0/16"]}, "enableDdosProtection": false, "enableVmProtection": false,
      "subnets": [{"name": "Mysubnet", "properties": {"addressPrefix": "10.5.0.0/24"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '235'
      Content-Type:
      - application/json
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet6\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6\",\r\n
        \ \"etag\": \"W/\\\"7836151b-90f3-4538-9378-595582f32b18\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"1d790c3f-1c26-4fd5-bdb5-3d65ac05324d\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.5.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"7836151b-90f3-4538-9378-595582f32b18\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.5.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5679fbbb-87e3-4036-bbc3-c4bef0eb2700?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1253'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 390ea1eb-6d48-4316-afc1-cf0376796f66
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5679fbbb-87e3-4036-bbc3-c4bef0eb2700?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 831c1418-0124-4568-a969-03baa4b06547
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet6\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6\",\r\n
        \ \"etag\": \"W/\\\"71582cfb-b4c6-4369-b953-c0f103466339\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"1d790c3f-1c26-4fd5-bdb5-3d65ac05324d\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.5.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"71582cfb-b4c6-4369-b953-c0f103466339\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.5.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1255'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:22 GMT
      etag:
      - W/"71582cfb-b4c6-4369-b953-c0f103466339"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - d9df7bfd-5e64-478e-a209-147a098fdf0f
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_vnet_with_encryption000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001","name":"cli_vnet_with_encryption000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-11-17T08:49:19Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"addressSpace": {"addressPrefixes":
      ["10.6.0.0/16"]}, "enableDdosProtection": false, "enableVmProtection": false,
      "subnets": [{"name": "Mysubnet", "properties": {"addressPrefix": "10.6.0.0/24"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '235'
      Content-Type:
      - application/json
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet7\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7\",\r\n
        \ \"etag\": \"W/\\\"28780439-e0a1-49c0-ad64-07c25e324e87\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"d4fd1c21-fd13-4c32-82c2-8d6834bc36a5\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.6.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"28780439-e0a1-49c0-ad64-07c25e324e87\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.6.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/a7e08c3f-496d-445f-8e39-6f48d6eff8d2?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1253'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 914a6a21-a722-42a9-8474-af44dd770be7
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/a7e08c3f-496d-445f-8e39-6f48d6eff8d2?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - bc40f5cd-fe55-4448-b65e-782aef3c6d05
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet7\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7\",\r\n
        \ \"etag\": \"W/\\\"7c2f98dc-dd1b-4082-a9aa-c1047076aec4\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"d4fd1c21-fd13-4c32-82c2-8d6834bc36a5\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.6.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"7c2f98dc-dd1b-4082-a9aa-c1047076aec4\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.6.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1255'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:32 GMT
      etag:
      - W/"7c2f98dc-dd1b-4082-a9aa-c1047076aec4"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 5bf0308c-6711-4228-84e5-0a278946132d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_vnet_with_encryption000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001","name":"cli_vnet_with_encryption000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-11-17T08:49:19Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"addressSpace": {"addressPrefixes":
      ["10.7.0.0/16"]}, "enableDdosProtection": false, "enableVmProtection": false,
      "subnets": [{"name": "Mysubnet", "properties": {"addressPrefix": "10.7.0.0/24"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '235'
      Content-Type:
      - application/json
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet8\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8\",\r\n
        \ \"etag\": \"W/\\\"531bde24-8906-4550-91a6-5e80aafb5444\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"feb811b0-4a61-4ae9-a205-541ea33a01b9\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.7.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"531bde24-8906-4550-91a6-5e80aafb5444\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.7.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5dbb858d-0bda-488a-ac99-54cc14e81976?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1253'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 292cc9c1-dc1e-49e0-a82d-c7a8f4f721ec
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/5dbb858d-0bda-488a-ac99-54cc14e81976?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - a00855b0-5af3-4e72-b747-93674637c521
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - --address-prefixes --name --resource-group --subnet-name --subnet-prefixes
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet8\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8\",\r\n
        \ \"etag\": \"W/\\\"1aae9334-0392-44a7-8cd9-24492237f304\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"feb811b0-4a61-4ae9-a205-541ea33a01b9\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.7.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"1aae9334-0392-44a7-8cd9-24492237f304\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.7.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1255'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:41 GMT
      etag:
      - W/"1aae9334-0392-44a7-8cd9-24492237f304"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 44672906-560a-4586-8e2c-dc5e7c9c3b4e
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet6\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6\",\r\n
        \ \"etag\": \"W/\\\"71582cfb-b4c6-4369-b953-c0f103466339\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"1d790c3f-1c26-4fd5-bdb5-3d65ac05324d\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.5.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"71582cfb-b4c6-4369-b953-c0f103466339\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.5.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1255'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:42 GMT
      etag:
      - W/"71582cfb-b4c6-4369-b953-c0f103466339"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - e565cbeb-2476-4c42-9177-49bec3d7ae9c
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6",
      "location": "westus", "properties": {"addressSpace": {"addressPrefixes": ["10.5.0.0/16"]},
      "enableDdosProtection": false, "encryption": {"enabled": true}, "subnets": [{"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6/subnets/Mysubnet",
      "name": "Mysubnet", "properties": {"addressPrefix": "10.5.0.0/24", "delegations":
      [], "privateEndpointNetworkPolicies": "Disabled", "privateLinkServiceNetworkPolicies":
      "Enabled"}, "type": "Microsoft.Network/virtualNetworks/subnets"}], "virtualNetworkPeerings":
      []}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      Content-Length:
      - '770'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --resource-group --enable-encryption
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"error\": {\r\n    \"code\": \"MustSpecifyBothEncryptionIntentAndEnforcementPolicy\",\r\n
        \   \"message\": \"Cannot encrypt VirtualNetwork /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet6
        unless both encryption intent (Enabled true or false) and enforcement policy
        (AllowUnencrypted or DropUnencrypted) are specified.\",\r\n    \"details\":
        []\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '439'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - a9c7df35-3112-4885-a64e-3694ed5b9cf1
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet7\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7\",\r\n
        \ \"etag\": \"W/\\\"7c2f98dc-dd1b-4082-a9aa-c1047076aec4\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"d4fd1c21-fd13-4c32-82c2-8d6834bc36a5\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.6.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet7/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"7c2f98dc-dd1b-4082-a9aa-c1047076aec4\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.6.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1255'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:45 GMT
      etag:
      - W/"7c2f98dc-dd1b-4082-a9aa-c1047076aec4"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 9e615c0d-6a99-4a0b-84b5-dcf7a8b417aa
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet8\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8\",\r\n
        \ \"etag\": \"W/\\\"1aae9334-0392-44a7-8cd9-24492237f304\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"feb811b0-4a61-4ae9-a205-541ea33a01b9\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.7.0.0/16\"\r\n      ]\r\n    },\r\n    \"subnets\": [\r\n
        \     {\r\n        \"name\": \"Mysubnet\",\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"1aae9334-0392-44a7-8cd9-24492237f304\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.7.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1255'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:46 GMT
      etag:
      - W/"1aae9334-0392-44a7-8cd9-24492237f304"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - a57666b4-d54a-4cff-9c96-c5aff08985ed
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8",
      "location": "westus", "properties": {"addressSpace": {"addressPrefixes": ["10.7.0.0/16"]},
      "enableDdosProtection": false, "encryption": {"enabled": true, "enforcement":
      "DropUnencrypted"}, "subnets": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8/subnets/Mysubnet",
      "name": "Mysubnet", "properties": {"addressPrefix": "10.7.0.0/24", "delegations":
      [], "privateEndpointNetworkPolicies": "Disabled", "privateLinkServiceNetworkPolicies":
      "Enabled"}, "type": "Microsoft.Network/virtualNetworks/subnets"}], "virtualNetworkPeerings":
      []}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      Content-Length:
      - '804'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet8\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8\",\r\n
        \ \"etag\": \"W/\\\"c5360373-7d44-4aeb-9f78-3bd05e007ec1\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"feb811b0-4a61-4ae9-a205-541ea33a01b9\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.7.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"c5360373-7d44-4aeb-9f78-3bd05e007ec1\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.7.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/c52234c5-cc9a-4218-9f84-69c0f6f04eb1?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1346'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 167b3340-5878-4258-813c-e2d08b4c4b7c
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/c52234c5-cc9a-4218-9f84-69c0f6f04eb1?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - dc8868a5-c7b3-4cbc-990e-ba75b0a4d667
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --enable-encryption --encryption-enforcement-policy
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet8\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8\",\r\n
        \ \"etag\": \"W/\\\"cb79a5ba-6036-4895-9d03-26564603169e\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"feb811b0-4a61-4ae9-a205-541ea33a01b9\",\r\n    \"addressSpace\": {\r\n      \"addressPrefixes\":
        [\r\n        \"10.7.0.0/16\"\r\n      ]\r\n    },\r\n    \"encryption\": {\r\n
        \     \"enabled\": true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n
        \   },\r\n    \"subnets\": [\r\n      {\r\n        \"name\": \"Mysubnet\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet8/subnets/Mysubnet\",\r\n
        \       \"etag\": \"W/\\\"cb79a5ba-6036-4895-9d03-26564603169e\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.7.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:53 GMT
      etag:
      - W/"cb79a5ba-6036-4895-9d03-26564603169e"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - b877d178-751f-44a0-9cd8-c8b501ccaa44
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "MyVnet1ToMyVnet2", "properties": {"allowForwardedTraffic": false,
      "allowGatewayTransit": false, "allowVirtualNetworkAccess": false, "remoteVirtualNetwork":
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2"},
      "useRemoteGateways": false}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet peering create
      Connection:
      - keep-alive
      Content-Length:
      - '355'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --remote-vnet --resource-group --vnet-name
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/virtualNetworkPeerings/MyVnet1ToMyVnet2?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet1ToMyVnet2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/virtualNetworkPeerings/MyVnet1ToMyVnet2\",\r\n
        \ \"etag\": \"W/\\\"85a91ec9-7a40-4ae9-afcd-dfc366ce2ed8\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\": \"34332f33-dc14-0ed1-2bcb-3fe2d566ab88\",\r\n
        \   \"peeringState\": \"Initiated\",\r\n    \"peeringSyncLevel\": \"RemoteNotInSync\",\r\n
        \   \"remoteVirtualNetwork\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2\"\r\n
        \   },\r\n    \"allowVirtualNetworkAccess\": false,\r\n    \"allowForwardedTraffic\":
        false,\r\n    \"allowGatewayTransit\": false,\r\n    \"useRemoteGateways\":
        false,\r\n    \"doNotVerifyRemoteGateways\": false,\r\n    \"peerCompleteVnets\":
        true,\r\n    \"remoteAddressSpace\": {\r\n      \"addressPrefixes\": [\r\n
        \       \"10.1.0.0/16\"\r\n      ]\r\n    },\r\n    \"remoteVirtualNetworkAddressSpace\":
        {\r\n      \"addressPrefixes\": [\r\n        \"10.1.0.0/16\"\r\n      ]\r\n
        \   },\r\n    \"remoteVirtualNetworkEncryption\": {\r\n      \"enabled\":
        true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n    },\r\n    \"routeServiceVips\":
        {}\r\n  },\r\n  \"type\": \"Microsoft.Network/virtualNetworks/virtualNetworkPeerings\"\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2503763f-ce20-4ab7-b9f8-c3b6dcc784a8?api-version=2022-01-01
      cache-control:
      - no-cache
      content-length:
      - '1338'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:50:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 0332652f-0d4f-4a47-919a-a5a3f0f96d54
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet peering create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --remote-vnet --resource-group --vnet-name
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/2503763f-ce20-4ab7-b9f8-c3b6dcc784a8?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:51:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 963b26e5-ecef-435e-8040-6bc9b0a4fe87
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet peering create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --remote-vnet --resource-group --vnet-name
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/virtualNetworkPeerings/MyVnet1ToMyVnet2?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet1ToMyVnet2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/virtualNetworkPeerings/MyVnet1ToMyVnet2\",\r\n
        \ \"etag\": \"W/\\\"b083550f-1448-4ca1-87fd-09d2f0e8d951\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\": \"34332f33-dc14-0ed1-2bcb-3fe2d566ab88\",\r\n
        \   \"peeringState\": \"Initiated\",\r\n    \"peeringSyncLevel\": \"RemoteNotInSync\",\r\n
        \   \"remoteVirtualNetwork\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2\"\r\n
        \   },\r\n    \"allowVirtualNetworkAccess\": false,\r\n    \"allowForwardedTraffic\":
        false,\r\n    \"allowGatewayTransit\": false,\r\n    \"useRemoteGateways\":
        false,\r\n    \"doNotVerifyRemoteGateways\": false,\r\n    \"peerCompleteVnets\":
        true,\r\n    \"remoteAddressSpace\": {\r\n      \"addressPrefixes\": [\r\n
        \       \"10.1.0.0/16\"\r\n      ]\r\n    },\r\n    \"remoteVirtualNetworkAddressSpace\":
        {\r\n      \"addressPrefixes\": [\r\n        \"10.1.0.0/16\"\r\n      ]\r\n
        \   },\r\n    \"remoteVirtualNetworkEncryption\": {\r\n      \"enabled\":
        true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n    },\r\n    \"routeServiceVips\":
        {}\r\n  },\r\n  \"type\": \"Microsoft.Network/virtualNetworks/virtualNetworkPeerings\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1339'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:51:05 GMT
      etag:
      - W/"b083550f-1448-4ca1-87fd-09d2f0e8d951"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 6b84ac44-8613-4ca4-9f49-687762ce9d90
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet peering show
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --vnet-name -g
      User-Agent:
      - AZURECLI/2.42.0 (AAZ) azsdk-python-core/1.24.0 Python/3.8.10 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/virtualNetworkPeerings/MyVnet1ToMyVnet2?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"MyVnet1ToMyVnet2\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet1/virtualNetworkPeerings/MyVnet1ToMyVnet2\",\r\n
        \ \"etag\": \"W/\\\"b083550f-1448-4ca1-87fd-09d2f0e8d951\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\": \"34332f33-dc14-0ed1-2bcb-3fe2d566ab88\",\r\n
        \   \"peeringState\": \"Initiated\",\r\n    \"peeringSyncLevel\": \"RemoteNotInSync\",\r\n
        \   \"remoteVirtualNetwork\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_vnet_with_encryption000001/providers/Microsoft.Network/virtualNetworks/MyVnet2\"\r\n
        \   },\r\n    \"allowVirtualNetworkAccess\": false,\r\n    \"allowForwardedTraffic\":
        false,\r\n    \"allowGatewayTransit\": false,\r\n    \"useRemoteGateways\":
        false,\r\n    \"doNotVerifyRemoteGateways\": false,\r\n    \"peerCompleteVnets\":
        true,\r\n    \"remoteAddressSpace\": {\r\n      \"addressPrefixes\": [\r\n
        \       \"10.1.0.0/16\"\r\n      ]\r\n    },\r\n    \"remoteVirtualNetworkAddressSpace\":
        {\r\n      \"addressPrefixes\": [\r\n        \"10.1.0.0/16\"\r\n      ]\r\n
        \   },\r\n    \"remoteVirtualNetworkEncryption\": {\r\n      \"enabled\":
        true,\r\n      \"enforcement\": \"DropUnencrypted\"\r\n    },\r\n    \"routeServiceVips\":
        {}\r\n  },\r\n  \"type\": \"Microsoft.Network/virtualNetworks/virtualNetworkPeerings\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1339'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Nov 2022 08:51:06 GMT
      etag:
      - W/"b083550f-1448-4ca1-87fd-09d2f0e8d951"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 68d1d53e-9fa4-4ccc-9cc2-e3b50a9960e9
    status:
      code: 200
      message: OK
version: 1
