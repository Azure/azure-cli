interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [consumption usage list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 consumptionmanagementclient/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails?$expand=additionalProperties&$filter=usageEnd%20le%202017-04-01T23%3A59%3A59Z&$top=5&api-version=2017-04-24-preview
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/7f1979870a1c8ce554d49e6b96f63b77","type":"Microsoft.Consumption/usageDetails","name":"7f1979870a1c8ce554d49e6b96f63b77","tags":{"AccountName":"abcd","PoolName":"hjkl","MeteredService":"Compute","MeteredServiceType":"External","CloudServiceName":"304F6604-3F74-4D34-88CB-9CE0AFE7FAE2-CloudService","PoolSubscriptionId":"7122b0e6-cf8f-4ce6-9bd3-d700ed2bcc03"},"properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-01T00:00:00Z","usageEnd":"2017-04-01T23:59:59Z","instanceName":"abcd","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/abcdef/providers/Microsoft.Batch/batchAccounts/abcd","instanceLocation":"krsouth","currency":"USD","usageQuantity":0.000409,"billableQuantity":0.0,"pretaxCost":0.0,"isEstimated":false,"meterId":"fe167397-a38d-43c3-9bb3-8e2907e56a41"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/3ced89abbf2314ccd60e52ea1eff6a5d","type":"Microsoft.Consumption/usageDetails","name":"3ced89abbf2314ccd60e52ea1eff6a5d","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-01T00:00:00Z","usageEnd":"2017-04-01T23:59:59Z","instanceName":"SSSSS","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NewSearchGroup/providers/Microsoft.HDInsight/clusters/SSSSS","instanceLocation":"westus","currency":"USD","usageQuantity":72.0,"billableQuantity":72.0,"pretaxCost":23.040066737827358281677367044,"isEstimated":false,"meterId":"fa9dc70f-f562-44af-b965-b4576aefed95","additionalProperties":{"ClusterName":"SSSSS","HdInsightVersion":"3.5.1000.0.9492416","Tier":"standard","SurCharge":"None"}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/f073faab81b39d755c0441dbdfa1aa29","type":"Microsoft.Consumption/usageDetails","name":"f073faab81b39d755c0441dbdfa1aa29","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-01T00:00:00Z","usageEnd":"2017-04-01T23:59:59Z","instanceName":"bextsa001","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/bextresourcegroup1/providers/Microsoft.Storage/storageAccounts/bextsa001","instanceLocation":"uswest","currency":"USD","usageQuantity":1.9505,"billableQuantity":1.9505,"pretaxCost":0.0006642238575724244085666318,"isEstimated":false,"meterId":"f8c187bb-5a47-46ae-b874-f186d207fff4"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/d770dabe9b8b335cd0419f017c795760","type":"Microsoft.Consumption/usageDetails","name":"d770dabe9b8b335cd0419f017c795760","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-01T00:00:00Z","usageEnd":"2017-04-01T23:59:59Z","instanceName":"bextsa001","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/bextresourcegroup1/providers/Microsoft.Storage/storageAccounts/bextsa001","instanceLocation":"uswest","currency":"USD","usageQuantity":0.3553,"billableQuantity":0.3553,"pretaxCost":0.0001289871261414728140970147,"isEstimated":false,"meterId":"d3824379-dc7e-472b-9e67-3f4a7eadc05b"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/853d0912a303ea936ef2f3bfb25e2998","type":"Microsoft.Consumption/usageDetails","name":"853d0912a303ea936ef2f3bfb25e2998","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-01T00:00:00Z","usageEnd":"2017-04-01T23:59:59Z","instanceName":"bextsa001","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/bextresourcegroup1/providers/Microsoft.Storage/storageAccounts/bextsa001","instanceLocation":"uswest","currency":"USD","usageQuantity":0.086986,"billableQuantity":0.086986,"pretaxCost":0.0021698113207547169811320755,"isEstimated":false,"meterId":"c1635534-1c1d-4fc4-b090-88fc2672ef87"}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5048']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 17 May 2017 01:56:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
version: 1
