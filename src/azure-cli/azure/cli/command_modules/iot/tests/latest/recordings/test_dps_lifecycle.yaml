interactions:
- request:
    body: '{"name": "iot000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-07-01-preview
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:39:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-resource/8.0.1 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2020-04-13T16:39:21Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '428'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:39:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '570'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2019-07-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","resourcegroup":"clitest.rg000001","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZjhiMTQ2NjAtN2RjYy00ZGU3LWIwNWEtMjVlYzBiMjRkZTMy?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1154'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:39:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZjhiMTQ2NjAtN2RjYy00ZGU3LWIwNWEtMjVlYzBiMjRkZTMy?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:39:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZjhiMTQ2NjAtN2RjYy00ZGU3LWIwNWEtMjVlYzBiMjRkZTMy?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:40:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZjhiMTQ2NjAtN2RjYy00ZGU3LWIwNWEtMjVlYzBiMjRkZTMy?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:40:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2019-07-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","resourcegroup":"clitest.rg000001","etag":"AAAAAAzJC7w=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotreip7bx-3245353-7d96d43334.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1657'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:40:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "dps000002"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2018-01-22
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-resource/8.0.1 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2020-04-13T16:39:21Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '428'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {}, "sku": {"name": "S1", "capacity":
      1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '78'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfOGEyNjdhYjQtMzgzMy00ODZmLTk4NmMtMTM5N2JiZDVmNDM2?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '640'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfOGEyNjdhYjQtMzgzMy00ODZmLTk4NmMtMTM5N2JiZDVmNDM2?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVKQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps list
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"etag":"AAAAAALAVKQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '844'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps show
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVKQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -n --set
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVKQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "etag": "AAAAAALAVKQ=", "properties":
      {"state": "Active", "provisioningState": "Succeeded", "iotHubs": [], "allocationPolicy":
      "GeoLatency"}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      Content-Length:
      - '214'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -n --set
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVKQ=","name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZjI2MDczOWMtMmE3NS00YTZlLThlZWMtN2Y4NGI3M2M2OWRi?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '682'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:41:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --set
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZjI2MDczOWMtMmE3NS00YTZlLThlZWMtN2Y4NGI3M2M2OWRi?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --set
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVRM=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVRM=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '229'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVRM=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=", "secondaryKey":
      "qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}, {"keyName": "policy000004", "rights": "EnrollmentRead"}]},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      Content-Length:
      - '443'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentRead"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfOGYxYWJiNTMtNDVlMC00MzRmLWIzNTktMmViZWRmMzNmNTUz?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1087'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfOGYxYWJiNTMtNDVlMC00MzRmLWIzNTktMmViZWRmMzNmNTUz?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVUg=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVUg=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000004/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentRead"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '182'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy list
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVUg=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentRead"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '412'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy show
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVUg=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy show
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000004/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentRead"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '182'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVUg=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentRead"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '412'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVUg=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:42:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=", "secondaryKey":
      "qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}, {"keyName": "policy000004", "primaryKey": "kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=",
      "secondaryKey": "mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=", "rights": "EnrollmentWrite"}]},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      Content-Length:
      - '570'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNDA2MzExNmItZThkZi00NjM3LThkNDEtYzU4NjNhOTQ5YjA3?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1088'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNDA2MzExNmItZThkZi00NjM3LThkNDEtYzU4NjNhOTQ5YjA3?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVcQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVcQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy update
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n -r
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000004/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentWrite"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '183'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVcQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"kJBcgMkXIFW9DezbcFnh/x1Wx/haMC+XMuhnH7kUVpk=","secondaryKey":"mVNaTc9tPy9zDA9VtwTQU/DLqEHIORr6esl59JZ1SVw=","rights":"EnrollmentWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '413'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVcQ=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=", "secondaryKey":
      "qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}]}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '378'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfY2NhMzZjN2MtNjAyOC00ODBlLWI1NmQtZjBiZGJiOGI1NGEy?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '904'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:43:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfY2NhMzZjN2MtNjAyOC00ODBlLWI1NmQtZjBiZGJiOGI1NGEy?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVi4=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVi4=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps access-policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g --dps-name -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"yzrXW6UjJ/OXCV/k9nN9OvJpE1Z+WRVlOb72CvavMqM=","secondaryKey":"qJfxei+KgELHVWF7l685/ztMgv/6g7gC/V7DM2DhvA0=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '229'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --name -p
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2018-01-22
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIE30zJpCCG7AwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3MyMB4XDTIwMDQxMjE2NDQwOVoXDTIw\r\nMDQxNjE2NDQwOVowIzEhMB8GA1UEAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3My\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA1J0NOjjAhx9IBtbYeYONE\r\nPkuTvmT1+pWn22fOC9vWoAH+d7DAdJLJGtxLmvv0y3HwMb4bzbaPJ9aXM/x9X67+\r\nlymunSYuBlEHqSj6sNlPn0qFUHJZnI0iIkD1vydZ/JKMiUOsKlbDLdjiCJHNKoVU\r\nJfaWRp6RA5PvkQtcf+HCEUjIIzqmCOMAeCtx3Bnxd5Ex773kWjJUjD0Eh9gayOrr\r\nSoD7vueZhDOII9VbT/jRfiV+BaZdIXWMya1dHRd/8FjozbX9Ii1fYZo20EVCEbCK\r\nscWNPXy+x9qVAeZwPJ6LrJBwKO+J/srwbeyIL9tizkMEnVQU9mvxSM+besr+qe8v\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQATx8jT7juT+rq+/I9kUbtj/DHtqn4W1N5WK4tZcdeR\r\nIxiE11ZnlAbbIsFvuFyDHUCEtD8JLxRi6jKcqcernnMwp9jRVENWbCxyuRQo6K3I\r\nM3eYIrtfngandddw5EPXONyl3CN1KVUR6CJeZSp780sOcnsc0aTUCsI9g6Dpkaj1\r\nkacDTS+SpAthg4qmdy0VGFZzIHlfTR/qAdg5cHxiemcZmLIX5rMDHMdLMqd9PaOk\r\nesbiTFFgvWDUHo8VXHZacwjJ5yTA30QFkzL7lBohgsZDsD5cItYk/mDscT1FGdTO\r\n+v9rZqGclDSWDLRqK+lez/k3Zb5944dQOvfPG33vCRDj\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1215'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --name -p
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000006","expiry":"Thu, 16 Apr 2020
        16:44:09 GMT","thumbprint":"D7214E0A407F6C4E7048DB8A8875BCD4E72AC9FE","isVerified":false,"created":"Mon,
        13 Apr 2020 16:44:11 GMT","updated":"Mon, 13 Apr 2020 16:44:11 GMT","certificate":"-----BEGIN
        CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIE30zJpCCG7AwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3MyMB4XDTIwMDQxMjE2NDQwOVoXDTIw\r\nMDQxNjE2NDQwOVowIzEhMB8GA1UEAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3My\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA1J0NOjjAhx9IBtbYeYONE\r\nPkuTvmT1+pWn22fOC9vWoAH+d7DAdJLJGtxLmvv0y3HwMb4bzbaPJ9aXM/x9X67+\r\nlymunSYuBlEHqSj6sNlPn0qFUHJZnI0iIkD1vydZ/JKMiUOsKlbDLdjiCJHNKoVU\r\nJfaWRp6RA5PvkQtcf+HCEUjIIzqmCOMAeCtx3Bnxd5Ex773kWjJUjD0Eh9gayOrr\r\nSoD7vueZhDOII9VbT/jRfiV+BaZdIXWMya1dHRd/8FjozbX9Ii1fYZo20EVCEbCK\r\nscWNPXy+x9qVAeZwPJ6LrJBwKO+J/srwbeyIL9tizkMEnVQU9mvxSM+besr+qe8v\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQATx8jT7juT+rq+/I9kUbtj/DHtqn4W1N5WK4tZcdeR\r\nIxiE11ZnlAbbIsFvuFyDHUCEtD8JLxRi6jKcqcernnMwp9jRVENWbCxyuRQo6K3I\r\nM3eYIrtfngandddw5EPXONyl3CN1KVUR6CJeZSp780sOcnsc0aTUCsI9g6Dpkaj1\r\nkacDTS+SpAthg4qmdy0VGFZzIHlfTR/qAdg5cHxiemcZmLIX5rMDHMdLMqd9PaOk\r\nesbiTFFgvWDUHo8VXHZacwjJ5yTA30QFkzL7lBohgsZDsD5cItYk/mDscT1FGdTO\r\n+v9rZqGclDSWDLRqK+lez/k3Zb5944dQOvfPG33vCRDj\r\n-----END
        CERTIFICATE-----\r\n"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAALAVmA="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1833'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate list
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000006","expiry":"Thu,
        16 Apr 2020 16:44:09 GMT","thumbprint":"D7214E0A407F6C4E7048DB8A8875BCD4E72AC9FE","isVerified":false,"created":"Mon,
        13 Apr 2020 16:44:11 GMT","updated":"Mon, 13 Apr 2020 16:44:11 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAALAVmA="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '651'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate show
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --name
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000006","expiry":"Thu, 16 Apr 2020
        16:44:09 GMT","thumbprint":"D7214E0A407F6C4E7048DB8A8875BCD4E72AC9FE","isVerified":false,"created":"Mon,
        13 Apr 2020 16:44:11 GMT","updated":"Mon, 13 Apr 2020 16:44:11 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAALAVmA="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '639'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --name -p --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2018-01-22
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000006","expiry":"Thu,
        16 Apr 2020 16:44:09 GMT","thumbprint":"D7214E0A407F6C4E7048DB8A8875BCD4E72AC9FE","isVerified":false,"created":"Mon,
        13 Apr 2020 16:44:11 GMT","updated":"Mon, 13 Apr 2020 16:44:11 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAALAVmA="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '651'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIE30zJpCCG7AwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3MyMB4XDTIwMDQxMjE2NDQwOVoXDTIw\r\nMDQxNjE2NDQwOVowIzEhMB8GA1UEAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3My\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA1J0NOjjAhx9IBtbYeYONE\r\nPkuTvmT1+pWn22fOC9vWoAH+d7DAdJLJGtxLmvv0y3HwMb4bzbaPJ9aXM/x9X67+\r\nlymunSYuBlEHqSj6sNlPn0qFUHJZnI0iIkD1vydZ/JKMiUOsKlbDLdjiCJHNKoVU\r\nJfaWRp6RA5PvkQtcf+HCEUjIIzqmCOMAeCtx3Bnxd5Ex773kWjJUjD0Eh9gayOrr\r\nSoD7vueZhDOII9VbT/jRfiV+BaZdIXWMya1dHRd/8FjozbX9Ii1fYZo20EVCEbCK\r\nscWNPXy+x9qVAeZwPJ6LrJBwKO+J/srwbeyIL9tizkMEnVQU9mvxSM+besr+qe8v\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQATx8jT7juT+rq+/I9kUbtj/DHtqn4W1N5WK4tZcdeR\r\nIxiE11ZnlAbbIsFvuFyDHUCEtD8JLxRi6jKcqcernnMwp9jRVENWbCxyuRQo6K3I\r\nM3eYIrtfngandddw5EPXONyl3CN1KVUR6CJeZSp780sOcnsc0aTUCsI9g6Dpkaj1\r\nkacDTS+SpAthg4qmdy0VGFZzIHlfTR/qAdg5cHxiemcZmLIX5rMDHMdLMqd9PaOk\r\nesbiTFFgvWDUHo8VXHZacwjJ5yTA30QFkzL7lBohgsZDsD5cItYk/mDscT1FGdTO\r\n+v9rZqGclDSWDLRqK+lez/k3Zb5944dQOvfPG33vCRDj\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate update
      Connection:
      - keep-alive
      Content-Length:
      - '1215'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAALAVmA=
      ParameterSetName:
      - --dps-name -g --name -p --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000006","expiry":"Thu, 16 Apr 2020
        16:44:09 GMT","thumbprint":"D7214E0A407F6C4E7048DB8A8875BCD4E72AC9FE","isVerified":false,"created":"Mon,
        13 Apr 2020 16:44:11 GMT","updated":"Mon, 13 Apr 2020 16:44:14 GMT","certificate":"-----BEGIN
        CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIE30zJpCCG7AwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3MyMB4XDTIwMDQxMjE2NDQwOVoXDTIw\r\nMDQxNjE2NDQwOVowIzEhMB8GA1UEAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3My\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA1J0NOjjAhx9IBtbYeYONE\r\nPkuTvmT1+pWn22fOC9vWoAH+d7DAdJLJGtxLmvv0y3HwMb4bzbaPJ9aXM/x9X67+\r\nlymunSYuBlEHqSj6sNlPn0qFUHJZnI0iIkD1vydZ/JKMiUOsKlbDLdjiCJHNKoVU\r\nJfaWRp6RA5PvkQtcf+HCEUjIIzqmCOMAeCtx3Bnxd5Ex773kWjJUjD0Eh9gayOrr\r\nSoD7vueZhDOII9VbT/jRfiV+BaZdIXWMya1dHRd/8FjozbX9Ii1fYZo20EVCEbCK\r\nscWNPXy+x9qVAeZwPJ6LrJBwKO+J/srwbeyIL9tizkMEnVQU9mvxSM+besr+qe8v\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQATx8jT7juT+rq+/I9kUbtj/DHtqn4W1N5WK4tZcdeR\r\nIxiE11ZnlAbbIsFvuFyDHUCEtD8JLxRi6jKcqcernnMwp9jRVENWbCxyuRQo6K3I\r\nM3eYIrtfngandddw5EPXONyl3CN1KVUR6CJeZSp780sOcnsc0aTUCsI9g6Dpkaj1\r\nkacDTS+SpAthg4qmdy0VGFZzIHlfTR/qAdg5cHxiemcZmLIX5rMDHMdLMqd9PaOk\r\nesbiTFFgvWDUHo8VXHZacwjJ5yTA30QFkzL7lBohgsZDsD5cItYk/mDscT1FGdTO\r\n+v9rZqGclDSWDLRqK+lez/k3Zb5944dQOvfPG33vCRDj\r\n-----END
        CERTIFICATE-----\r\n"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAALAVm4="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1833'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAALAVm4=
      ParameterSetName:
      - --dps-name -g -n --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005/generateVerificationCode?api-version=2018-01-22
  response:
    body:
      string: '{"properties":{"verificationCode":"1D8CAF2932600F7DE11856D77162811EB2D04F3F35BD346A","subject":"TESTCERT000006","expiry":"Thu,
        16 Apr 2020 16:44:09 GMT","thumbprint":"D7214E0A407F6C4E7048DB8A8875BCD4E72AC9FE","isVerified":false,"created":"Mon,
        13 Apr 2020 16:44:11 GMT","updated":"Mon, 13 Apr 2020 16:44:16 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAALAVnI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '709'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIII+35fRIHMXMwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlR2enBob2ZteWN2cnYzc3MyMB4XDTIwMDQxMjE2NDQxNloXDTIw\r\nMDQxNjE2NDQxNlowOzE5MDcGA1UEAwwwMUQ4Q0FGMjkzMjYwMEY3REUxMTg1NkQ3\r\nNzE2MjgxMUVCMkQwNEYzRjM1QkQzNDZBMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQA7kTluw8xzX8YhmWHAC34sZ5RNdR8JOZGSxaobQJOsAHJswIVrDUU3\r\n6Giwyfp1vSCdFTMfLFlE0M4wcQ4NIqlsWo+nWlOWgDcZ31T8ZDtUgTJXAGAtvXAy\r\nuVIpUNVBiX+EQ6B7PnAucUk8sw8cu6/vfNcDtkpC3Av6MmSotsodJHa/TRP7+EU+\r\nPPQfEv8TcOqdpqnFJ1XUgKOpdTFallWFopwYPU4UqSFNakA9oFnpX/V3RdTWu5Oh\r\nk1ghX74JRVsxUJdEmb9QAq2pbwCRgwXXGeQEGe0XLQxVQlFeCv1CTe/06q0SH12K\r\nHtJmsswQPOCGh5KmGbWBqA8ze75mCYM7AgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAwzKonAgPTbveU\r\nehUpOBjHbZJjo2BP6h/cYZjLq72Kko/awWjiN1yCF8CtDz+PLshT39x12AoFE/pa\r\nUXsMFT+Yl2y6HOM5cXf0ZNIF/gYIwR4+mIeLw6FApuJRAjgd1VyELAf/na09/flD\r\nG7EMuGrneuCcGOrYKjDw1z/K4oQ7AZHWeUbJZf74mtW/YavYnj/o9cgn5hbGa24w\r\nC7g0vj3g0gXCpceDC5qa7fRvtH9BUErf2H7769DlbHJEQTQgcsumIYxaofKLczvC\r\nGbEX3PfMxCli5ETghbmt2+W0vKb5OsFVRlVFBxqJGYShzpSd5hy4Xl0MB9zsuNsd\r\nDR3J+YVC\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1179'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAALAVnI=
      ParameterSetName:
      - --dps-name -g -n -p --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005/verify?api-version=2018-01-22
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000006","expiry":"Thu, 16 Apr 2020
        16:44:09 GMT","thumbprint":"D7214E0A407F6C4E7048DB8A8875BCD4E72AC9FE","isVerified":true,"created":"Mon,
        13 Apr 2020 16:44:11 GMT","updated":"Mon, 13 Apr 2020 16:44:17 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAALAVnQ="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '638'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAALAVnQ=
      ParameterSetName:
      - --dps-name -g --name --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 13 Apr 2020 16:44:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-07-01-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","resourcegroup":"clitest.rg000001","etag":"AAAAAAzJC7w=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotreip7bx-3245353-7d96d43334.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1669'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/listkeys?api-version=2019-07-01-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"HY2qlevQvi5VzPNU0cT089cdLkoVenDW8+CO/pxNx08=","secondaryKey":"PzTda7OWpyNxedRgntIs0eCR0hImJevTcxnU4DKOH9o=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"R5epxD12ipJLB2p6owGIBkvnpNiMgv3mkZINWPayonE=","secondaryKey":"m4c4OmRiSkbiWuxlDmOwT1hag5Nzd4S/pgwnSmKWKBg=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"fpaXOC8W/QPRC7wdEGAjp6JtRwWfInsdg5I+/UpDo8M=","secondaryKey":"mPA/tGJNDnzuEfxz6K091w03pCdQQWfAguGXu08Z8AQ=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"+31bQ1z9Mh55qqQlo7++6nhKITppZx4pauS3GA2b+ww=","secondaryKey":"J6JKTWOGvdlaqwZQbDRSr81x/73M3i9zUXC0HoUdtGs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"YIkX2hwfaQMW2TYuQKEeG7E6rGQ0sIIU/RKFVDDq8MI=","secondaryKey":"1VSEVNol8jQZcxjXaEyyevRz138i7LjUmSLka8OrtsY=","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '905'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "etag": "AAAAAAzJC7w=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "HY2qlevQvi5VzPNU0cT089cdLkoVenDW8+CO/pxNx08=",
      "secondaryKey": "PzTda7OWpyNxedRgntIs0eCR0hImJevTcxnU4DKOH9o=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "R5epxD12ipJLB2p6owGIBkvnpNiMgv3mkZINWPayonE=",
      "secondaryKey": "m4c4OmRiSkbiWuxlDmOwT1hag5Nzd4S/pgwnSmKWKBg=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "fpaXOC8W/QPRC7wdEGAjp6JtRwWfInsdg5I+/UpDo8M=",
      "secondaryKey": "mPA/tGJNDnzuEfxz6K091w03pCdQQWfAguGXu08Z8AQ=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "+31bQ1z9Mh55qqQlo7++6nhKITppZx4pauS3GA2b+ww=",
      "secondaryKey": "J6JKTWOGvdlaqwZQbDRSr81x/73M3i9zUXC0HoUdtGs=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "YIkX2hwfaQMW2TYuQKEeG7E6rGQ0sIIU/RKFVDDq8MI=",
      "secondaryKey": "1VSEVNol8jQZcxjXaEyyevRz138i7LjUmSLka8OrtsY=", "rights": "RegistryWrite"},
      {"keyName": "key000007", "rights": "RegistryWrite"}], "ipFilterRules": [], "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName":
      ""}}, "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601":
      "PT1M", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '1974'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - '{''IF-MATCH'': ''AAAAAAzJC7w=''}'
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2019-07-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","resourcegroup":"clitest.rg000001","etag":"AAAAAAzJC7w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"HY2qlevQvi5VzPNU0cT089cdLkoVenDW8+CO/pxNx08=","secondaryKey":"PzTda7OWpyNxedRgntIs0eCR0hImJevTcxnU4DKOH9o=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"R5epxD12ipJLB2p6owGIBkvnpNiMgv3mkZINWPayonE=","secondaryKey":"m4c4OmRiSkbiWuxlDmOwT1hag5Nzd4S/pgwnSmKWKBg=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"fpaXOC8W/QPRC7wdEGAjp6JtRwWfInsdg5I+/UpDo8M=","secondaryKey":"mPA/tGJNDnzuEfxz6K091w03pCdQQWfAguGXu08Z8AQ=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"+31bQ1z9Mh55qqQlo7++6nhKITppZx4pauS3GA2b+ww=","secondaryKey":"J6JKTWOGvdlaqwZQbDRSr81x/73M3i9zUXC0HoUdtGs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"YIkX2hwfaQMW2TYuQKEeG7E6rGQ0sIIU/RKFVDDq8MI=","secondaryKey":"1VSEVNol8jQZcxjXaEyyevRz138i7LjUmSLka8OrtsY=","rights":"RegistryWrite"},{"keyName":"key000007","primaryKey":"kUVC855eGbSDz6h8pzfJkJ4lYSQ6nKJCb/WBifUlw3s=","secondaryKey":"TvscXHDbgaHRy9jNLIGNY3h/OBnvw/k8ZpBVwpjPyjg=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotreip7bx-3245353-7d96d43334.servicebus.windows.net/","internalAuthorizationPolicies":[{"KeyName":"scaleunitsend-63e1e6cf-c46a-46a4-ae9c-e85b3bac7004-iothub","PrimaryKey":"jTEciKXQ57pfCvUVXeaPD5gEd+s6DilvFQPOS+6K5Dk=","SecondaryKey":"gZMe8f7l3WYA7kLH2AVcgxTXSQaKugtNiOhRnHU2ggM=","ClaimType":"SharedAccessKey","ClaimValue":"None","Rights":["Send"],"CreatedTime":"Mon,
        13 Apr 2020 16:40:46 GMT","ModifiedTime":"Mon, 13 Apr 2020 16:40:46 GMT"},{"KeyName":"owner-50de76f8-e9b0-4e7f-aab1-a118d9d92021-iothub","PrimaryKey":"nauMObwXGj32ggF2JsdzNWFIGxgBG5Knqre/B1gUXsc=","SecondaryKey":"MKZFTgx/OHCbKOWPFQbhlOTQKPu216FopA1J1YZVunA=","ClaimType":"SharedAccessKey","ClaimValue":"None","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        13 Apr 2020 16:40:46 GMT","ModifiedTime":"Mon, 13 Apr 2020 16:40:46 GMT"}],"authorizationPolicies":[{"KeyName":"iothubowner","PrimaryKey":"HY2qlevQvi5VzPNU0cT089cdLkoVenDW8+CO/pxNx08=","SecondaryKey":"PzTda7OWpyNxedRgntIs0eCR0hImJevTcxnU4DKOH9o=","ClaimType":"SharedAccessKey","ClaimValue":"None","Rights":["Listen"],"CreatedTime":"Mon,
        13 Apr 2020 16:40:46 GMT","ModifiedTime":"Mon, 13 Apr 2020 16:40:46 GMT"},{"KeyName":"service","PrimaryKey":"R5epxD12ipJLB2p6owGIBkvnpNiMgv3mkZINWPayonE=","SecondaryKey":"m4c4OmRiSkbiWuxlDmOwT1hag5Nzd4S/pgwnSmKWKBg=","ClaimType":"SharedAccessKey","ClaimValue":"None","Rights":["Listen"],"CreatedTime":"Mon,
        13 Apr 2020 16:40:46 GMT","ModifiedTime":"Mon, 13 Apr 2020 16:40:46 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNDIxZmNkYzAtOGRjYi00ZGI3LWJiODItNGFkMjFiNGQ4MDU4?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4292'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNDIxZmNkYzAtOGRjYi00ZGI3LWJiODItNGFkMjFiNGQ4MDU4?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2019-07-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","resourcegroup":"clitest.rg000001","etag":"AAAAAAzJD3c=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotreip7bx-3245353-7d96d43334.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1657'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/IotHubKeys/iothubowner/listkeys?api-version=2019-07-01-preview
  response:
    body:
      string: '{"keyName":"iothubowner","primaryKey":"HY2qlevQvi5VzPNU0cT089cdLkoVenDW8+CO/pxNx08=","secondaryKey":"PzTda7OWpyNxedRgntIs0eCR0hImJevTcxnU4DKOH9o=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - --name -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothub/0.11.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2019-07-01-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","resourcegroup":"clitest.rg000001","etag":"AAAAAAzJD3c=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotreip7bx-3245353-7d96d43334.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1669'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --connection-string -l
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVi4=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --connection-string -l
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVi4=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:44:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [{"connectionString":
      "HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=HY2qlevQvi5VzPNU0cT089cdLkoVenDW8+CO/pxNx08=",
      "location": "westus"}], "allocationPolicy": "GeoLatency"}, "sku": {"name": "S1",
      "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub create
      Connection:
      - keep-alive
      Content-Length:
      - '311'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --connection-string -l
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=HY2qlevQvi5VzPNU0cT089cdLkoVenDW8+CO/pxNx08=","location":"westus"}],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNjY1YjlhZGUtYjkzMC00OGEzLWE5MGQtYzJkZDdjYjMxNmVk?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '891'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --connection-string -l
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNjY1YjlhZGUtYjkzMC00OGEzLWE5MGQtYzJkZDdjYjMxNmVk?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --connection-string -l
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVug=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --connection-string -l
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVug=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub list
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVug=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub show
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVug=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub --allocation-weight --apply-allocation-policy
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVug=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub --allocation-weight --apply-allocation-policy
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAVug=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [{"applyAllocationPolicy":
      true, "allocationWeight": 10, "connectionString": "HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****",
      "location": "westus"}], "allocationPolicy": "GeoLatency"}, "sku": {"name": "S1",
      "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub update
      Connection:
      - keep-alive
      Content-Length:
      - '326'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub --allocation-weight --apply-allocation-policy
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZTVmMDIyM2ItMmVkMC00YTA0LWI1OTYtNDYzZmYxOWU0ZmE5?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '902'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:45:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --linked-hub --allocation-weight --apply-allocation-policy
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZTVmMDIyM2ItMmVkMC00YTA0LWI1OTYtNDYzZmYxOWU0ZmE5?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:46:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --linked-hub --allocation-weight --apply-allocation-policy
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAV/A=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1078'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:46:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub update
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub --allocation-weight --apply-allocation-policy
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAV/A=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1078'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:46:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub show
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAV/A=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1078'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:46:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub delete
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAV/A=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1078'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:46:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub delete
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAV/A=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1078'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:46:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency"}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub delete
      Connection:
      - keep-alive
      Content-Length:
      - '125'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZDg3ZTc4MzItNTgyZi00ZGUwLTg0ZGUtN2JjM2YzNTIxYTI0?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '660'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:46:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZDg3ZTc4MzItNTgyZi00ZGUwLTg0ZGUtN2JjM2YzNTIxYTI0?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:47:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:47:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps linked-hub delete
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --dps-name -g --linked-hub
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: '{"etag":"AAAAAALAWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000EAFB5"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"820b737c-cdd7-46bf-9ead-f144ba6e9d1e","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '836'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:47:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmMyYzdhYzYtOGI3Ny00MWFjLTljYzEtMTA0NzY1MWU5ZTkw?api-version=2018-01-22&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:47:14 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmMyYzdhYzYtOGI3Ny00MWFjLTljYzEtMTA0NzY1MWU5ZTkw?api-version=2018-01-22
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.13 msrest_azure/0.6.3
        azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python AZURECLI/2.3.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmMyYzdhYzYtOGI3Ny00MWFjLTljYzEtMTA0NzY1MWU5ZTkw?api-version=2018-01-22&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 13 Apr 2020 16:47:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
