interactions:
- request:
    body: '{"tags": {"date": "2018-03-23T22:21:44Z", "cause": "automation", "product":
      "azurecli"}, "location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","name":"cli_test_sp_with_kv_new_cert000001","location":"westus","tags":{"date":"2018-03-23T22:21:44Z","cause":"automation","product":"azurecli"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:21:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.User/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[],"assignedPlans":[],"city":null,"companyName":null,"consentProvidedForMinor":null,"country":null,"creationType":null,"department":null,"dirSyncEnabled":null,"displayName":"admin3","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"admin3","immutableId":null,"isCompromised":null,"jobTitle":null,"lastDirSyncTime":null,"legalAgeGroupClassification":null,"mail":null,"mailNickname":"admin3","mobile":null,"onPremisesDistinguishedName":null,"onPremisesSecurityIdentifier":null,"otherMails":["yugangw@microsoft.com"],"passwordPolicies":"None","passwordProfile":null,"physicalDeliveryOfficeName":null,"postalCode":null,"preferredLanguage":"en-US","provisionedPlans":[],"provisioningErrors":[],"proxyAddresses":[],"refreshTokensValidFromDateTime":"2018-03-11T18:35:28Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":null,"state":null,"streetAddress":null,"surname":"sdk","telephoneNumber":null,"usageLocation":null,"userIdentities":[],"userPrincipalName":"admin3@AzureSDKTeam.onmicrosoft.com","userType":"Member"}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1387']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:21:46 GMT']
      duration: ['516004']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [cLyvU3O8ZUHAvmjMvKrFcIIEwrInuHwzeMh0tDW5BVk=]
      ocp-aad-session-key: [rbYK87yI9191uSODfRKrGPTTWqIpXFtZxAtOFCZc96jl26QmleuoN4ivgPQXRUJZYGHJIJFIUhfs7kRC6B5n2DIvdgYmP0L9og-q_-WQmE3zmZgvuKgEanPw8p6Xdv_PHlx9f0Eo94D-nWKHdVvBnO60venz4nKSVQG52iRgpN_-QN6sQrkjSVDjjr3cYbBbjdwQ6PehDiCsoNEwGlYQwg.C25WvrQ2uL5NWtfnQ_2VdHDsCm1Q6c9k_ipVHVDQikI]
      pragma: [no-cache]
      request-id: [aac589fd-ce26-42ac-a6f0-48d798eed701]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
      "accessPolicies": [{"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId":
      "e7e158d3-7cdc-47cd-8825-5859d7ab2b55", "permissions": {"secrets": ["get", "list",
      "set", "delete", "backup", "restore", "recover"], "certificates": ["get", "list",
      "delete", "create", "import", "update", "managecontacts", "getissuers", "listissuers",
      "setissuers", "deleteissuers", "manageissuers", "recover"], "keys": ["get",
      "create", "delete", "list", "update", "import", "backup", "restore", "recover"],
      "storage": ["get", "list", "delete", "set", "update", "regeneratekey", "setsas",
      "listsas", "getsas", "deletesas"]}}], "sku": {"family": "A", "name": "standard"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [keyvault create]
      Connection: [keep-alive]
      Content-Length: ['746']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultmanagementclient/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2016-10-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"keys":["get","create","delete","list","update","import","backup","restore","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1106']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:21:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-service-version: [1.0.0.212]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:21:54 GMT']
      duration: ['900865']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [gkzsLeMnNX5MBrbEJaZ8vPZibER/4Ly6FEdhXhYlNVM=]
      ocp-aad-session-key: [FST8X7lF1r4XpTHEDO-OrjyPQY1hn8QE-ahTo3OrR2WBiTg-yIwYMMp9rRV7secTh4wLVDrwZ8ocWQNtDDGX4E5YfN_oq-j1b6QVO_qjxQJFdE_bL6PUy8zut4gWl7j51RIndEas9rAwDlMCr7uOh8nV4bGLW79_q4KqoE32OW-0miPsK2sGoX2QK1n-A1ITyoojNhQVZk5yRdcu4a0sqA.awZIUJZ4_dEpLJw5Mfp3w8CnH-o9NT8001xwlKnFvbE]
      pragma: [no-cache]
      request-id: [036980c2-1d92-47e5-a417-f42b826e9958]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"policy": {"lifetime_actions": [{"action": {"action_type": "AutoRenew"},
      "trigger": {"days_before_expiry": 90}}], "issuer": {"name": "Self"}, "secret_props":
      {"contentType": "application/x-pkcs12"}, "key_props": {"kty": "RSA", "key_size":
      2048, "exportable": true, "reuse_key": true}, "x509_props": {"subject": "CN=KeyVault
      Generated", "key_usage": ["cRLSign", "dataEncipherment", "digitalSignature",
      "keyEncipherment", "keyAgreement", "keyCertSign"], "validity_months": 13}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['477']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 23 Mar 2018 22:21:54 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      www-authenticate: ['Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
          resource="https://vault.azure.net"']
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 401, message: Unauthorized}
- request:
    body: '{"policy": {"lifetime_actions": [{"action": {"action_type": "AutoRenew"},
      "trigger": {"days_before_expiry": 90}}], "issuer": {"name": "Self"}, "secret_props":
      {"contentType": "application/x-pkcs12"}, "key_props": {"kty": "RSA", "key_size":
      2048, "exportable": true, "reuse_key": true}, "x509_props": {"subject": "CN=KeyVault
      Generated", "key_usage": ["cRLSign", "dataEncipherment", "digitalSignature",
      "keyEncipherment", "keyAgreement", "keyCertSign"], "validity_months": 13}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['477']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"f6a8ea6b0e084f0282b615c2935fe14a"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:21:55 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=f6a8ea6b0e084f0282b615c2935fe14a']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"f6a8ea6b0e084f0282b615c2935fe14a"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:21:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"f6a8ea6b0e084f0282b615c2935fe14a"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"f6a8ea6b0e084f0282b615c2935fe14a"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"f6a8ea6b0e084f0282b615c2935fe14a"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/82b751164c11498f9f4bb62b8ed526f0","kid":"https://clitest000002.vault.azure.net/keys/cert1/82b751164c11498f9f4bb62b8ed526f0","sid":"https://clitest000002.vault.azure.net/secrets/cert1/82b751164c11498f9f4bb62b8ed526f0","x5t":"jRuSzgwVQqDjkmMwjWR2TI1vPq8","cer":"MIIDQDCCAiigAwIBAgIQRUeH9VBvSvS1yaaXbA3thDANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwMzIzMjIxMjA5WhcNMTkwNDIzMjIyMjA5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDtpKrxlay5qK85Rk5mO9EaSw6ALTLriWJ4UoEGFmbh61vbVHgEehFLQh9Y1AnE7ilbLtPYuCQuL41INLGXUmsVZ5zj1WkEnj/LeeWluK3+0JQN+W7nbB448wpGVYI1VDJj786lmH5C5/O0RSJeLn44KvG5Uml9GXEIrUtZMoINx6ccSU3mEv8vIksseT3NZyfylt6zVMeJIgGfNA+5Yr17t5IkbUNxqMTskr2O3RL8Y7Q2aLRrAeIhAgnl4HCioIXoAcr9WYwTkFgN10tLC2oGvPrTw5EdyzwTjPYBQkgHLagPqVy7bkgBU87yNkB5ZCbc48kt7Rt3/eNQ/2OFt1RzAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRvSoluFIPUNAWyp9Bc+T31oDr1ZDAdBgNVHQ4EFgQUb0qJbhSD1DQFsqfQXPk99aA69WQwDQYJKoZIhvcNAQELBQADggEBAAFcxr7SqBAK/Je7x+VLA4erdDV2MXNDUOyGDMpU2QwzOwyVGMezDsSzmUe3xqePg4yYPI0DaONe73PnMXgVjyb/qTxQC5ne5m8LTV0pxcuCBy4DeDI7JA/3LU81pIN7+E7XtWCZQw6V+HSgXdguboWSjBiQHKh7V9JwwYpVcuGtwqtTPL+jsDzUQElJgoFj//jGyKj29Oi7rYxJp3FhyU0SBG2xM4lu/agnrKpkzxSdMBJaWb9VWu8m5lZhHonsYpiRaPZ+wQBAUP7TJrEq3gqXPXciKhduIP4Sxcqfkb3l7L0VTNPYzjE+N7UBkydbXErOBrdshEJDSWcwAx595PM=","attributes":{"enabled":true,"nbf":1521843129,"exp":1556058129,"created":1521843729,"updated":1521843729,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1521843715,"updated":1521843715}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"keyCredentials": [{"usage": "Verify", "endDate": "2019-03-23T22:21:54.43376Z",
      "startDate": "2018-03-23T22:21:54.43376Z", "value": "MIIDQDCCAiigAwIBAgIQRUeH9VBvSvS1yaaXbA3thDANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwMzIzMjIxMjA5WhcNMTkwNDIzMjIyMjA5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDtpKrxlay5qK85Rk5mO9EaSw6ALTLriWJ4UoEGFmbh61vbVHgEehFLQh9Y1AnE7ilbLtPYuCQuL41INLGXUmsVZ5zj1WkEnj/LeeWluK3+0JQN+W7nbB448wpGVYI1VDJj786lmH5C5/O0RSJeLn44KvG5Uml9GXEIrUtZMoINx6ccSU3mEv8vIksseT3NZyfylt6zVMeJIgGfNA+5Yr17t5IkbUNxqMTskr2O3RL8Y7Q2aLRrAeIhAgnl4HCioIXoAcr9WYwTkFgN10tLC2oGvPrTw5EdyzwTjPYBQkgHLagPqVy7bkgBU87yNkB5ZCbc48kt7Rt3/eNQ/2OFt1RzAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRvSoluFIPUNAWyp9Bc+T31oDr1ZDAdBgNVHQ4EFgQUb0qJbhSD1DQFsqfQXPk99aA69WQwDQYJKoZIhvcNAQELBQADggEBAAFcxr7SqBAK/Je7x+VLA4erdDV2MXNDUOyGDMpU2QwzOwyVGMezDsSzmUe3xqePg4yYPI0DaONe73PnMXgVjyb/qTxQC5ne5m8LTV0pxcuCBy4DeDI7JA/3LU81pIN7+E7XtWCZQw6V+HSgXdguboWSjBiQHKh7V9JwwYpVcuGtwqtTPL+jsDzUQElJgoFj//jGyKj29Oi7rYxJp3FhyU0SBG2xM4lu/agnrKpkzxSdMBJaWb9VWu8m5lZhHonsYpiRaPZ+wQBAUP7TJrEq3gqXPXciKhduIP4Sxcqfkb3l7L0VTNPYzjE+N7UBkydbXErOBrdshEJDSWcwAx595PM=",
      "type": "AsymmetricX509Cert", "keyId": "88888888-0000-0000-0000-000000000001"}],
      "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"], "displayName":
      "azure-cli-2018-03-23-22-21-54", "homepage": "http://azure-cli-2018-03-23-22-21-54",
      "availableToOtherTenants": false}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['1573']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"7f0a90a6-31e9-4f2d-b94b-029442e27aaa","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"7a3aadf2-962b-4cc5-aedd-b028c371f760","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-23-22-21-54","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-23-22-21-54","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-23T22:21:54.43376Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-03-23T22:21:54.43376Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-23-22-21-54","id":"4028b223-7448-4e07-9662-6db68106756e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-23-22-21-54","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2100']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:22:12 GMT']
      duration: ['4396845']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/7f0a90a6-31e9-4f2d-b94b-029442e27aaa/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [OzArKxpPSemSWWoFLWW7BNCbp+jQjreuu63QDSj69JM=]
      ocp-aad-session-key: [Pop7wFR56tAJJfcTi45tE5U4NGNto70oKQQ0e6g_OeOssnpbastQvbmQrQUjuHvCaWtzvMU8-WwFYnN6bqhy10H9mueHa4Wnv2iPo6piPhIP3UeVuuWzzOw6uOruQfmzC07ziIRANxGF55_VdelrLaLKs4xMr9p3CYsBjuzJfaUe58zt_JtZsVwBJAJcBWt3PI9hkfcXnvlHMGZ13hO2FQ.3C2rxeE3svW3pszQaGSg6Qz6rNSzDJnzy0lJEEDhfFk]
      pragma: [no-cache]
      request-id: [32c70275-c121-4f4c-bf4f-a6b46745801a]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"appId": "7a3aadf2-962b-4cc5-aedd-b028c371f760", "accountEnabled": true}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"23de1106-eb2e-42fc-82a9-32c85f76e5be","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-03-23-22-21-54","appId":"7a3aadf2-962b-4cc5-aedd-b028c371f760","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-03-23-22-21-54","errorUrl":null,"homepage":"http://azure-cli-2018-03-23-22-21-54","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-23-22-21-54","id":"4028b223-7448-4e07-9662-6db68106756e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-23-22-21-54","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["7a3aadf2-962b-4cc5-aedd-b028c371f760","http://cli_test_sp_with_kv_new_cert000001"],"servicePrincipalType":"Application","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1584']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:22:12 GMT']
      duration: ['3905656']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/23de1106-eb2e-42fc-82a9-32c85f76e5be/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [jiQYHpwXA/8aWIVzHitgpzL1Z4R3iT5ZL0iACZUtt88=]
      ocp-aad-session-key: [iF9HMZUrPWl_NSybcwcxAdLgm_bbbh51nEjd4eYoiaSzgOL_ho-W38_eHjCKwUhffvB67m9WCSa7DyI087TocJ78wwFRCSdXVQiuvt_hnR3ONHO_1dPU_u_J9YuHPOAGzFtKhUMrndZKJSni5kOtHpGRnx_JxZufDOc_tJIEfslrLjU84jz8zUp3TLXhQOtdBJSI5y7pe3EFSGQj_e63Og.S9jM3386tPS7GEUpjQvvjqD8rMEbpATFMkZu1awzoQE]
      pragma: [no-cache]
      request-id: [2b4ae111-7a99-4b6b-a904-a67fde22c181]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['733']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"principalId": "23de1106-eb2e-42fc-82a9-32c85f76e5be",
      "roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-01-01-preview
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal 23de1106eb2e42fc82a932c85f76e5be
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['163']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['733']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"principalId": "23de1106-eb2e-42fc-82a9-32c85f76e5be",
      "roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"23de1106-eb2e-42fc-82a9-32c85f76e5be","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","createdOn":"2018-03-23T22:22:21.6087598Z","updatedOn":"2018-03-23T22:22:21.6087598Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['903']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-charge: ['4']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/82b751164c11498f9f4bb62b8ed526f0","kid":"https://clitest000002.vault.azure.net/keys/cert1/82b751164c11498f9f4bb62b8ed526f0","sid":"https://clitest000002.vault.azure.net/secrets/cert1/82b751164c11498f9f4bb62b8ed526f0","x5t":"jRuSzgwVQqDjkmMwjWR2TI1vPq8","cer":"MIIDQDCCAiigAwIBAgIQRUeH9VBvSvS1yaaXbA3thDANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwMzIzMjIxMjA5WhcNMTkwNDIzMjIyMjA5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDtpKrxlay5qK85Rk5mO9EaSw6ALTLriWJ4UoEGFmbh61vbVHgEehFLQh9Y1AnE7ilbLtPYuCQuL41INLGXUmsVZ5zj1WkEnj/LeeWluK3+0JQN+W7nbB448wpGVYI1VDJj786lmH5C5/O0RSJeLn44KvG5Uml9GXEIrUtZMoINx6ccSU3mEv8vIksseT3NZyfylt6zVMeJIgGfNA+5Yr17t5IkbUNxqMTskr2O3RL8Y7Q2aLRrAeIhAgnl4HCioIXoAcr9WYwTkFgN10tLC2oGvPrTw5EdyzwTjPYBQkgHLagPqVy7bkgBU87yNkB5ZCbc48kt7Rt3/eNQ/2OFt1RzAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRvSoluFIPUNAWyp9Bc+T31oDr1ZDAdBgNVHQ4EFgQUb0qJbhSD1DQFsqfQXPk99aA69WQwDQYJKoZIhvcNAQELBQADggEBAAFcxr7SqBAK/Je7x+VLA4erdDV2MXNDUOyGDMpU2QwzOwyVGMezDsSzmUe3xqePg4yYPI0DaONe73PnMXgVjyb/qTxQC5ne5m8LTV0pxcuCBy4DeDI7JA/3LU81pIN7+E7XtWCZQw6V+HSgXdguboWSjBiQHKh7V9JwwYpVcuGtwqtTPL+jsDzUQElJgoFj//jGyKj29Oi7rYxJp3FhyU0SBG2xM4lu/agnrKpkzxSdMBJaWb9VWu8m5lZhHonsYpiRaPZ+wQBAUP7TJrEq3gqXPXciKhduIP4Sxcqfkb3l7L0VTNPYzjE+N7UBkydbXErOBrdshEJDSWcwAx595PM=","attributes":{"enabled":true,"nbf":1521843129,"exp":1556058129,"created":1521843729,"updated":1521843729,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1521843715,"updated":1521843715}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"23de1106-eb2e-42fc-82a9-32c85f76e5be","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-03-23-22-21-54","appId":"7a3aadf2-962b-4cc5-aedd-b028c371f760","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-03-23-22-21-54","errorUrl":null,"homepage":"http://azure-cli-2018-03-23-22-21-54","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-23-22-21-54","id":"4028b223-7448-4e07-9662-6db68106756e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-23-22-21-54","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_new_cert000001","7a3aadf2-962b-4cc5-aedd-b028c371f760"],"servicePrincipalType":"Application","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1587']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:22:25 GMT']
      duration: ['737791']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [rLLlWiOftajaOmMivivfxhUqher3EwvOBi6RzUx9ve8=]
      ocp-aad-session-key: [TPGY9VnvVXEBlfpDWEqCh7Y-SNg65Oly2lBOmHbRJGdYKcGMwmPRlk9dIJp6VZZfk-jB1UMFhHnmstZks1et5YDact8_hvNe4J39fYmvZDYSaRL2k6Q_TlkKcFpA15tAw4dP7NqWXeliHUivB0N-wigyvYHMiqn5dqTj7I_AG-QZU5AqGTdyr5GNJoL9Mpq-L5ZcRsubKxrXxxmbA8Gk8w.Xp0Z6mkdrmgNIdTS4Mdnq-blYUv5HAcH9EqNw0U7jGM]
      pragma: [no-cache]
      request-id: [8def4690-86ec-4e3e-becd-74d978272a35]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%277a3aadf2-962b-4cc5-aedd-b028c371f760%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['161']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:22:25 GMT']
      duration: ['646832']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [iaSFgYC+tqsHdxf0PYhhSBaccCVQl9a2v/hX0IE9E2Q=]
      ocp-aad-session-key: [RnJ-_-oBc6zvZZeW8T-TXjrMHKc2aIcte-OZJun5oNcvwDl3eHhCbqs3fX_khmmGCcg8IyvgzP8tnzsMvWdGyiOGxm2XwZvWY5oxN-1BARDPscbc3rSuHjBFRagb569E1M1PckoA4L77EZrTdaBl2vVwYqoR1NYXjX0sdXTZQ6BV9Lmg1ezEAUXA23SV43wqHSK6capMrJx2ip2fO5IBsA.mHl4hQDIMcn8F1KUDlhFAGLU-WU2-DK_e9ytoXVwUOs]
      pragma: [no-cache]
      request-id: [97bbadb6-26a0-4ff7-b077-abfd788cbe03]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%277a3aadf2-962b-4cc5-aedd-b028c371f760%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"7f0a90a6-31e9-4f2d-b94b-029442e27aaa","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"7a3aadf2-962b-4cc5-aedd-b028c371f760","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-23-22-21-54","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-23-22-21-54","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-23T22:21:54.43376Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-03-23T22:21:54.43376Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-23-22-21-54","id":"4028b223-7448-4e07-9662-6db68106756e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-23-22-21-54","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2017']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:22:25 GMT']
      duration: ['777850']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [4kR7F9XX00MMFj+yL7ZqD+YBck1tk4wDiYdllHaEkyU=]
      ocp-aad-session-key: [et3SWmo-w5e_Lr3TrgcFhjjV0sB3xTNSOuXdOSFaIhCSOw8kyC83rUdxW-Gxlue0OgwWrmKlOx9sWGasbZQq9mtBtOSTu5-OB6ypNANZMVRmdowsCCra-2fgtwUajxUtQCfwutrIzD-S1xhQpLYcu1e_cxE62BRC1w2BR-VFhl4tBHj9r-63exqpCM8aw2VfIbm4qYfPSCKIY9gaFVYzKw.JQiO2yZQSNVajowtQ3bvilxrZ9qqhD6gOdN2hxy7Hss]
      pragma: [no-cache]
      request-id: [5e02345c-5b49-4670-81de-c2cc2b6c3016]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/7f0a90a6-31e9-4f2d-b94b-029442e27aaa?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"7f0a90a6-31e9-4f2d-b94b-029442e27aaa","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"7a3aadf2-962b-4cc5-aedd-b028c371f760","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-23-22-21-54","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-23-22-21-54","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-23T22:21:54.43376Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-03-23T22:21:54.43376Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-23-22-21-54","id":"4028b223-7448-4e07-9662-6db68106756e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-23-22-21-54","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2014']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:22:26 GMT']
      duration: ['603791']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [0BNkoVPP79rXJmIEJtaSPJVeI7dd7M/PIQtOUh/IqQs=]
      ocp-aad-session-key: [d8nENg2zc2KBdU1OBRPgWyezge0ytriHcQDCLw6Pj7Z9m9LevuNzCcAS9uU8Xsn2LAzOaBfbbSZ3ULBjqQJigmeZpYe0p53UFosOU9ZnqonXDqTzCFbLp0MHVJDCImgsRB497bTlEJubV3Rcg_gXB9u8mz-mD4iIzVWRqaeMSpKhjs9rVWi0WyNcwiaQBxj9i9LiIJym-mDdwkyubppgew.LmW6GrDIXnXcZBNHJ9OyiV3dSWc7rmeFPmubQJwtpzQ]
      pragma: [no-cache]
      request-id: [29ec1af5-4db0-48a5-96cb-4bbde2ec40bb]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"policy": {"lifetime_actions": [{"action": {"action_type": "AutoRenew"},
      "trigger": {"days_before_expiry": 90}}], "issuer": {"name": "Self"}, "secret_props":
      {"contentType": "application/x-pkcs12"}, "key_props": {"kty": "RSA", "key_size":
      2048, "exportable": true, "reuse_key": true}, "x509_props": {"subject": "CN=KeyVault
      Generated", "key_usage": ["cRLSign", "dataEncipherment", "digitalSignature",
      "keyEncipherment", "keyAgreement", "keyCertSign"], "validity_months": 13}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['477']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"ad9a041712b440ebb4963d3e5e7e22b3"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:27 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=ad9a041712b440ebb4963d3e5e7e22b3']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"ad9a041712b440ebb4963d3e5e7e22b3"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"ad9a041712b440ebb4963d3e5e7e22b3"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"ad9a041712b440ebb4963d3e5e7e22b3"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7aSq8ZWsuaivOUZOZjvRGksOgC0y64lieFKBBhZm4etb21R4BHoRS0IfWNQJxO4pWy7T2LgkLi+NSDSxl1JrFWec49VpBJ4/y3nlpbit/tCUDflu52weOPMKRlWCNVQyY+/OpZh+QufztEUiXi5+OCrxuVJpfRlxCK1LWTKCDcenHElN5hL/LyJLLHk9zWcn8pbes1THiSIBnzQPuWK9e7eSJG1DcajE7JK9jt0S/GO0Nmi0awHiIQIJ5eBwoqCF6AHK/VmME5BYDddLSwtqBrz608ORHcs8E4z2AUJIBy2oD6lcu25IAVPO8jZAeWQm3OPJLe0bd/3jUP9jhbdUcwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBALdFCmIRcoypIUeMuzzFTdu2m4jhHAC0a7YxYv1xgY5H3QjgkuUr3UVgNIaGSsXlxEWyH0HUk3v6RbBHu8NwWzgQvrfdEP0DD5J9HQxHOGWgn0FUTyPOK06/6fDMe4tdeOZ60JThRgHTqMCxX81LsUveAbZjVUznLCI9DTDwGsnJ8rMyUY8w71SVDWOlEfkkQAg2Kxsf805TEHuWJ0Vp9RqrE9eGUSu2Fghu+okqAfjVTtnnv3uWuDCShgnFsifPVnwRimdG/u8Z+fpM5VuQpSRe4jKkqvxJABoS/ecdVrU9X414xlhfgu/JqvCVUiApiXme9RDmPdNYrrKuBPbUoZw=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"ad9a041712b440ebb4963d3e5e7e22b3"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/1cf65075e6684ab28b7eedaf40dbe5e9","kid":"https://clitest000002.vault.azure.net/keys/cert1/1cf65075e6684ab28b7eedaf40dbe5e9","sid":"https://clitest000002.vault.azure.net/secrets/cert1/1cf65075e6684ab28b7eedaf40dbe5e9","x5t":"1nVQMCgruoEuMfejQAM4E303o48","cer":"MIIDQDCCAiigAwIBAgIQeoMilK2VRFKjhzlhx/VPATANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwMzIzMjIxMjM5WhcNMTkwNDIzMjIyMjM5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDtpKrxlay5qK85Rk5mO9EaSw6ALTLriWJ4UoEGFmbh61vbVHgEehFLQh9Y1AnE7ilbLtPYuCQuL41INLGXUmsVZ5zj1WkEnj/LeeWluK3+0JQN+W7nbB448wpGVYI1VDJj786lmH5C5/O0RSJeLn44KvG5Uml9GXEIrUtZMoINx6ccSU3mEv8vIksseT3NZyfylt6zVMeJIgGfNA+5Yr17t5IkbUNxqMTskr2O3RL8Y7Q2aLRrAeIhAgnl4HCioIXoAcr9WYwTkFgN10tLC2oGvPrTw5EdyzwTjPYBQkgHLagPqVy7bkgBU87yNkB5ZCbc48kt7Rt3/eNQ/2OFt1RzAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRvSoluFIPUNAWyp9Bc+T31oDr1ZDAdBgNVHQ4EFgQUb0qJbhSD1DQFsqfQXPk99aA69WQwDQYJKoZIhvcNAQELBQADggEBAOubgVtOP3FTWHJ63kYuPFCjmgCaqMkU5CmvK+A2dDfbsqPZMQR9f4CZNtA5k4T0oaIbA6NUcpy9TEjseWTUu3HRPzd56fX+oCmXXCrasnO7lFE++vxxRteSr+YQswdViMXFvWiMqex0RktTYtgnM7rO8Wqz5zlZ2GrFckjE50nDoN13GYXSy8NDZXwGthOphDthXteQFVrQbYE/wKrzDmINIVdnTeTsjSlfZfW4c+XFLepWTSYqxolTcYRxIa6fiwLvEjBwlXFvqYxGLHvYSqc1Puq8V257fZO2DtHr9hlc71nLJVxMsBZU8jKBXMLHHcp1aiaG5cDVcwPqRt9I0Dc=","attributes":{"enabled":true,"nbf":1521843159,"exp":1556058159,"created":1521843760,"updated":1521843760,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1521843715,"updated":1521843747}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"keyCredentials": [{"usage": "Verify", "endDate": "2019-03-23T22:22:26.8763909999999999Z",
      "startDate": "2018-03-23T22:22:26.8763909999999999Z", "value": "MIIDQDCCAiigAwIBAgIQeoMilK2VRFKjhzlhx/VPATANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwMzIzMjIxMjM5WhcNMTkwNDIzMjIyMjM5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDtpKrxlay5qK85Rk5mO9EaSw6ALTLriWJ4UoEGFmbh61vbVHgEehFLQh9Y1AnE7ilbLtPYuCQuL41INLGXUmsVZ5zj1WkEnj/LeeWluK3+0JQN+W7nbB448wpGVYI1VDJj786lmH5C5/O0RSJeLn44KvG5Uml9GXEIrUtZMoINx6ccSU3mEv8vIksseT3NZyfylt6zVMeJIgGfNA+5Yr17t5IkbUNxqMTskr2O3RL8Y7Q2aLRrAeIhAgnl4HCioIXoAcr9WYwTkFgN10tLC2oGvPrTw5EdyzwTjPYBQkgHLagPqVy7bkgBU87yNkB5ZCbc48kt7Rt3/eNQ/2OFt1RzAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRvSoluFIPUNAWyp9Bc+T31oDr1ZDAdBgNVHQ4EFgQUb0qJbhSD1DQFsqfQXPk99aA69WQwDQYJKoZIhvcNAQELBQADggEBAOubgVtOP3FTWHJ63kYuPFCjmgCaqMkU5CmvK+A2dDfbsqPZMQR9f4CZNtA5k4T0oaIbA6NUcpy9TEjseWTUu3HRPzd56fX+oCmXXCrasnO7lFE++vxxRteSr+YQswdViMXFvWiMqex0RktTYtgnM7rO8Wqz5zlZ2GrFckjE50nDoN13GYXSy8NDZXwGthOphDthXteQFVrQbYE/wKrzDmINIVdnTeTsjSlfZfW4c+XFLepWTSYqxolTcYRxIa6fiwLvEjBwlXFvqYxGLHvYSqc1Puq8V257fZO2DtHr9hlc71nLJVxMsBZU8jKBXMLHHcp1aiaG5cDVcwPqRt9I0Dc=",
      "type": "AsymmetricX509Cert", "keyId": "88888888-0000-0000-0000-000000000004"}]}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Length: ['1355']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/7f0a90a6-31e9-4f2d-b94b-029442e27aaa?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 23 Mar 2018 22:22:44 GMT']
      duration: ['3293917']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [0Q0+d3Yu09v2FGPlMfYZ/BTC0Ihh5m2y2EcbAoNX6hw=]
      ocp-aad-session-key: [RHruL4A_THkzDG-y8RUC-LKW25me70oqPxwmi2_b-j1u8e4KmwFDtJWhmKC_2JUQ6MlJne4Sk3SVQBiJkJ1mp9-5UQNDGlZtCRJmc92xlgR9GSzzxq9ICedlyLkGfdfgcI4hft9mdCorMxtcaT0vYpJ4eUQtu2BVAgkB8BfPrHowpWG4bplapYncif0PuqE56zqZKGJ8nV-gvTmd9Eri5A.7dD2KEhZ1k1dp6-WWpj7rolK5qAafToQoor_SWYwQhk]
      pragma: [no-cache]
      request-id: [7b48765b-c59d-4acf-a4dc-ecbd9acb679c]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 keyvaultclient/0.3.7 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/1cf65075e6684ab28b7eedaf40dbe5e9","kid":"https://clitest000002.vault.azure.net/keys/cert1/1cf65075e6684ab28b7eedaf40dbe5e9","sid":"https://clitest000002.vault.azure.net/secrets/cert1/1cf65075e6684ab28b7eedaf40dbe5e9","x5t":"1nVQMCgruoEuMfejQAM4E303o48","cer":"MIIDQDCCAiigAwIBAgIQeoMilK2VRFKjhzlhx/VPATANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwMzIzMjIxMjM5WhcNMTkwNDIzMjIyMjM5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDtpKrxlay5qK85Rk5mO9EaSw6ALTLriWJ4UoEGFmbh61vbVHgEehFLQh9Y1AnE7ilbLtPYuCQuL41INLGXUmsVZ5zj1WkEnj/LeeWluK3+0JQN+W7nbB448wpGVYI1VDJj786lmH5C5/O0RSJeLn44KvG5Uml9GXEIrUtZMoINx6ccSU3mEv8vIksseT3NZyfylt6zVMeJIgGfNA+5Yr17t5IkbUNxqMTskr2O3RL8Y7Q2aLRrAeIhAgnl4HCioIXoAcr9WYwTkFgN10tLC2oGvPrTw5EdyzwTjPYBQkgHLagPqVy7bkgBU87yNkB5ZCbc48kt7Rt3/eNQ/2OFt1RzAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRvSoluFIPUNAWyp9Bc+T31oDr1ZDAdBgNVHQ4EFgQUb0qJbhSD1DQFsqfQXPk99aA69WQwDQYJKoZIhvcNAQELBQADggEBAOubgVtOP3FTWHJ63kYuPFCjmgCaqMkU5CmvK+A2dDfbsqPZMQR9f4CZNtA5k4T0oaIbA6NUcpy9TEjseWTUu3HRPzd56fX+oCmXXCrasnO7lFE++vxxRteSr+YQswdViMXFvWiMqex0RktTYtgnM7rO8Wqz5zlZ2GrFckjE50nDoN13GYXSy8NDZXwGthOphDthXteQFVrQbYE/wKrzDmINIVdnTeTsjSlfZfW4c+XFLepWTSYqxolTcYRxIa6fiwLvEjBwlXFvqYxGLHvYSqc1Puq8V257fZO2DtHr9hlc71nLJVxMsBZU8jKBXMLHHcp1aiaG5cDVcwPqRt9I0Dc=","attributes":{"enabled":true,"nbf":1521843159,"exp":1556058159,"created":1521843760,"updated":1521843760,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1521843715,"updated":1521843747}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 23 Mar 2018 22:22:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.0.234;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.842]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"7f0a90a6-31e9-4f2d-b94b-029442e27aaa","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"7a3aadf2-962b-4cc5-aedd-b028c371f760","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-23-22-21-54","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-23-22-21-54","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-23T22:22:26.876391Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2018-03-23T22:22:26.876391Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-23-22-21-54","id":"4028b223-7448-4e07-9662-6db68106756e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-23-22-21-54 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-23-22-21-54","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2019']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 23 Mar 2018 22:22:44 GMT']
      duration: ['775840']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [h+esbaLTSiS9YLokkl24LFY9a9LP+eEjl6OwhEIXn+4=]
      ocp-aad-session-key: [vPUoCHkSs12he0iY2tCdmfEDNViv6MyKoHSLrOZMGR2WXRIRfebJDv94O8W-45_ELkDDBB3To8PA-UVunT9bYzxwYDLjw0CvqaUCfebRRzIhD9y20u2lKd-XU2otSG4pNJDKANtLMf4y79tsyA_cxreuTJL4unq6jEr8E_EontcrO18S32ohCAlTqU_xpAqzYpHkKvJGof-MunAmu_W6XQ.GeY4YPlqPcAy9DF3mOZMcFO2OUK_My5TBazpu8gWtDI]
      pragma: [no-cache]
      request-id: [054b602d-eff7-4013-a34e-650d9dc3957d]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 azure-graphrbac/0.40.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/7f0a90a6-31e9-4f2d-b94b-029442e27aaa?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 23 Mar 2018 22:22:45 GMT']
      duration: ['4208827']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [DkxRvOYJe34PpHb++ztXbhG18r2misdc/T+HYxh8N+I=]
      ocp-aad-session-key: [KwnVwdDdNbPsYQ8iCqoHmt9HzrkpvFeZgwIEIcZoU2xEBme7meiXe9DS0U0gUlEwEyd6Vu9JeI0JDaAVdWOFP3NjCDuyLq_C2dAHKJLTXlxL5MZvl5Mx3tdrk1BjeJ0MeULnICcgOoI8Zaii22eAzU_5UBX9B_oVJO98r6S0VtU6a0O7W0yec4uMOLmzzDcHbxzT_hmF2rdVOQvY-oMrfw.vokCw0PyK15zOmSS0LsAy3jkca9HfGWqPbjfHVj63Fs]
      pragma: [no-cache]
      request-id: [4b44d6ba-eca9-4eaf-a6ab-a6c398d22710]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.27
          msrest_azure/0.4.23 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 23 Mar 2018 22:22:46 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZORVc6NUZDRVJUNEpZV1pBWnw3N0UwMzQwRjNGRDY0RTI4LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 202, message: Accepted}
version: 1
