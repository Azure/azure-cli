interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2F84d1dc3d-cdcd-4bdd-9f5d-9290b7d1a3f2%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/84d1dc3d-cdcd-4bdd-9f5d-9290b7d1a3f2/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 08 Nov 2019 02:47:20 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AnL53VYmLXxDsOahAMwsppg; expires=Sun, 08-Dec-2019 02:47:20 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAACQN9QBRU3jT6bcBQLZNUj7dQH_BFklhvnwDOyI2854elzaDiHLIm36WNiwY0D4k-iBEY3mowDfqC3gaeVLjIrOMg4eTTg4U1KnADL9afSQX2weaZGGBEpm7EOSAXmmVwbyzOwyMC2pjwE1iXM9oC8Ew6SIdw1xH029JoQrEHrXJW5xk7uhrkiXBec63V59-EIgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.9645.7 - WST ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"appliedScopeType": "Single", "appliedScopes": ["/subscriptions/00000000-0000-0000-0000-000000000000"],
      "instanceFlexibility": "Off"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - reservations reservation update
      Connection:
      - keep-alive
      Content-Length:
      - '150'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --reservation-order-id --reservation-id -t -s --instance-flexibility
      User-Agent:
      - python/3.7.5 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-reservations/0.6.0 Azure-SDK-For-Python AZURECLI/2.0.76
      accept-language:
      - en-US
    method: PATCH
    uri: https://api-dogfood.resources.windows-int.net/providers/Microsoft.Capacity/reservationOrders/c2152650-9ae0-4cc1-bd6c-afd872f297fd/reservations/9cd38589-b906-46b0-a7da-0e0349d9078f?api-version=2019-04-01
  response:
    body:
      string: '{"sku":{"name":"Standard_D1"},"id":"/providers/microsoft.capacity/reservationOrders/c2152650-9ae0-4cc1-bd6c-afd872f297fd/reservations/9cd38589-b906-46b0-a7da-0e0349d9078f","type":"Microsoft.Capacity/reservationOrders/reservations","name":"c2152650-9ae0-4cc1-bd6c-afd872f297fd/9cd38589-b906-46b0-a7da-0e0349d9078f","etag":4,"location":"westus","properties":{"appliedScopes":["/subscriptions/00000000-0000-0000-0000-000000000000"],"appliedScopeType":"Single","quantity":1,"provisioningState":"Succeeded","expiryDate":"2022-11-08","displayName":"CLCICLCICLCI","effectiveDateTime":"2019-11-08T02:47:25.887759Z","lastUpdatedDateTime":"2019-11-08T02:47:30.340889Z","reservedResourceType":"VirtualMachines","instanceFlexibility":"Off","skuDescription":"Reserved
        VM Instance, Standard_D1, US West, 3 Years","splitProperties":{"splitSource":"/providers/microsoft.capacity/reservationOrders/c2152650-9ae0-4cc1-bd6c-afd872f297fd/reservations/b230225a-2c2d-4352-a810-d16a63ac4f0c"},"renew":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '985'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 08 Nov 2019 02:47:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-writes:
      - '1198'
      x-ms-test:
      - '{"contact":"xishan","scenarios":"AeoEmailTest,CSZ,GtmRiPurchase","retention":"2/6/2020
        2:24:46 AM"}'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.2
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2F84d1dc3d-cdcd-4bdd-9f5d-9290b7d1a3f2%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/84d1dc3d-cdcd-4bdd-9f5d-9290b7d1a3f2/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - private, max-age=86400
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 08 Nov 2019 02:47:31 GMT
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      set-cookie:
      - fpc=AmHHU9V8ZT1LmbphZdXhsnc; expires=Sun, 08-Dec-2019 02:47:31 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAACQN9QBRU3jT6bcBQLZNUj7w0-zoPVaNep58klHHXXxtvR-8JltrvQwiiNWAJIXxXgQXLeLt855-29rDBpsTq1yVtp2FQzCwYgssnP0DjvH3VYX-hwLKE5Cyjlg5x4ituyakazzYyTexDiDr6fd1lkp2gcclMYsJN8TBjYvnjQkE4zA4Fuj1KekciP7viHIpqcgAA;
        domain=.login.windows.net; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; SameSite=None; secure; HttpOnly
      - stsservicecookie=estscorp; path=/; SameSite=None; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.9645.7 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"appliedScopeType": "Shared", "instanceFlexibility": "Off"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - reservations reservation update
      Connection:
      - keep-alive
      Content-Length:
      - '76'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --reservation-order-id --reservation-id -t --instance-flexibility
      User-Agent:
      - python/3.7.5 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-reservations/0.6.0 Azure-SDK-For-Python AZURECLI/2.0.76
      accept-language:
      - en-US
    method: PATCH
    uri: https://api-dogfood.resources.windows-int.net/providers/Microsoft.Capacity/reservationOrders/c2152650-9ae0-4cc1-bd6c-afd872f297fd/reservations/9cd38589-b906-46b0-a7da-0e0349d9078f?api-version=2019-04-01
  response:
    body:
      string: '{"sku":{"name":"Standard_D1"},"id":"/providers/microsoft.capacity/reservationOrders/c2152650-9ae0-4cc1-bd6c-afd872f297fd/reservations/9cd38589-b906-46b0-a7da-0e0349d9078f","type":"Microsoft.Capacity/reservationOrders/reservations","name":"c2152650-9ae0-4cc1-bd6c-afd872f297fd/9cd38589-b906-46b0-a7da-0e0349d9078f","etag":6,"location":"westus","properties":{"appliedScopeType":"Shared","quantity":1,"provisioningState":"Succeeded","expiryDate":"2022-11-08","displayName":"CLCICLCICLCI","effectiveDateTime":"2019-11-08T02:47:53.9772521Z","lastUpdatedDateTime":"2019-11-08T02:47:56.0557658Z","reservedResourceType":"VirtualMachines","instanceFlexibility":"Off","skuDescription":"Reserved
        VM Instance, Standard_D1, US West, 3 Years","splitProperties":{"splitSource":"/providers/microsoft.capacity/reservationOrders/c2152650-9ae0-4cc1-bd6c-afd872f297fd/reservations/b230225a-2c2d-4352-a810-d16a63ac4f0c"},"renew":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '915'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 08 Nov 2019 02:47:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-writes:
      - '1199'
      x-ms-test:
      - '{"contact":"xishan","scenarios":"AeoEmailTest,CSZ,GtmRiPurchase","retention":"2/6/2020
        2:24:46 AM"}'
    status:
      code: 200
      message: OK
version: 1
