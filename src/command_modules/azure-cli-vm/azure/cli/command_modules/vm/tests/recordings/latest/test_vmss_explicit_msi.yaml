interactions:
- request:
    body: !!python/unicode '{"location": "westcentralus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['57']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westcentralus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['225']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:48:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [identity create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westcentralus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['225']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:48:18 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"location": "westcentralus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [identity create]
      Connection: [keep-alive]
      Content-Length: ['29']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 azure-mgmt-msi/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1?api-version=2015-08-31-preview
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1","name":"id1","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westcentralus","tags":{},"properties":{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","principalId":"1d798018-eaa2-49bc-935c-17a50528c4b2","clientId":"d9b80187-338c-4489-8f81-d92eab6ae639","clientSecretUrl":"https://control-westcentralus.identity.azure.net/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1/credentials?tid=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a&oid=1d798018-eaa2-49bc-935c-17a50528c4b2&aid=d9b80187-338c-4489-8f81-d92eab6ae639"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['789']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:48:32 GMT']
      expires: ['-1']
      location: [/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1]
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [identity create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westcentralus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['225']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:48:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"location": "westcentralus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [identity create]
      Connection: [keep-alive]
      Content-Length: ['29']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 azure-mgmt-msi/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2?api-version=2015-08-31-preview
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2","name":"id2","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westcentralus","tags":{},"properties":{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","principalId":"363b8057-dbb3-42f8-abca-54a06d0a5503","clientId":"434f9e3c-d3e9-4097-8a61-6166a54be575","clientSecretUrl":"https://control-westcentralus.identity.azure.net/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2/credentials?tid=54826b22-38d6-4fb2-bad9-b7b93a3e9c5a&oid=363b8057-dbb3-42f8-abca-54a06d0a5503&aid=434f9e3c-d3e9-4097-8a61-6166a54be575"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['789']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:48:51 GMT']
      expires: ['-1']
      location: [/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2]
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westcentralus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['225']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:48:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [close]
      Host: [raw.githubusercontent.com]
      User-Agent: [Python-urllib/2.7]
    method: GET
    uri: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/arm-compute/quickstart-templates/aliases.json
  response:
    body: {string: !!python/unicode "{\n  \"$schema\":\"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json\"\
        ,\n  \"contentVersion\":\"1.0.0.0\",\n  \"parameters\":{},\n  \"variables\"\
        :{},\n  \"resources\":[],\n\n  \"outputs\":{\n    \"aliases\":{\n      \"\
        type\":\"object\",\n      \"value\":{\n\n        \"Linux\":{\n          \"\
        CentOS\":{\n            \"publisher\":\"OpenLogic\",\n            \"offer\"\
        :\"CentOS\",\n            \"sku\":\"7.3\",\n            \"version\":\"latest\"\
        \n          },\n          \"CoreOS\":{\n            \"publisher\":\"CoreOS\"\
        ,\n            \"offer\":\"CoreOS\",\n            \"sku\":\"Stable\",\n  \
        \          \"version\":\"latest\"\n          },\n          \"Debian\":{\n\
        \            \"publisher\":\"credativ\",\n            \"offer\":\"Debian\"\
        ,\n            \"sku\":\"8\",\n            \"version\":\"latest\"\n      \
        \    },\n          \"openSUSE-Leap\": {\n            \"publisher\":\"SUSE\"\
        ,\n            \"offer\":\"openSUSE-Leap\",\n            \"sku\":\"42.2\"\
        ,\n            \"version\": \"latest\"\n          },\n          \"RHEL\":{\n\
        \            \"publisher\":\"RedHat\",\n            \"offer\":\"RHEL\",\n\
        \            \"sku\":\"7.3\",\n            \"version\":\"latest\"\n      \
        \    },\n          \"SLES\":{\n            \"publisher\":\"SUSE\",\n     \
        \       \"offer\":\"SLES\",\n            \"sku\":\"12-SP2\",\n           \
        \ \"version\":\"latest\"\n          },\n          \"UbuntuLTS\":{\n      \
        \      \"publisher\":\"Canonical\",\n            \"offer\":\"UbuntuServer\"\
        ,\n            \"sku\":\"16.04-LTS\",\n            \"version\":\"latest\"\n\
        \          }\n        },\n\n        \"Windows\":{\n          \"Win2016Datacenter\"\
        :{\n            \"publisher\":\"MicrosoftWindowsServer\",\n            \"\
        offer\":\"WindowsServer\",\n            \"sku\":\"2016-Datacenter\",\n   \
        \         \"version\":\"latest\"\n          },\n          \"Win2012R2Datacenter\"\
        :{\n            \"publisher\":\"MicrosoftWindowsServer\",\n            \"\
        offer\":\"WindowsServer\",\n            \"sku\":\"2012-R2-Datacenter\",\n\
        \            \"version\":\"latest\"\n          },\n          \"Win2012Datacenter\"\
        :{\n            \"publisher\":\"MicrosoftWindowsServer\",\n            \"\
        offer\":\"WindowsServer\",\n            \"sku\":\"2012-Datacenter\",\n   \
        \         \"version\":\"latest\"\n          },\n          \"Win2008R2SP1\"\
        :{\n            \"publisher\":\"MicrosoftWindowsServer\",\n            \"\
        offer\":\"WindowsServer\",\n            \"sku\":\"2008-R2-SP1\",\n       \
        \     \"version\":\"latest\"\n          }\n        }\n      }\n    }\n  }\n\
        }\n"}
    headers:
      accept-ranges: [bytes]
      access-control-allow-origin: ['*']
      cache-control: [max-age=300]
      connection: [close]
      content-length: ['2235']
      content-security-policy: [default-src 'none'; style-src 'unsafe-inline'; sandbox]
      content-type: [text/plain; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:48:59 GMT']
      etag: ['"d6824855d13e27c5258a680eb60f635d088fd05e"']
      expires: ['Fri, 22 Dec 2017 15:53:59 GMT']
      source-age: ['0']
      strict-transport-security: [max-age=31536000]
      vary: ['Authorization,Accept-Encoding']
      via: [1.1 varnish]
      x-cache: [MISS]
      x-cache-hits: ['0']
      x-content-type-options: [nosniff]
      x-fastly-request-id: [0f1de02250fa99364e6fbe9d3b81c55b12267af8]
      x-frame-options: [deny]
      x-geo-block-list: ['']
      x-github-request-id: ['DE0E:5F84:73BA90:7B50DE:5A3D296B']
      x-served-by: [cache-sea1038-SEA]
      x-timer: ['S1513957739.313567,VS0,VE27']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 networkmanagementclient/1.7.0 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks?api-version=2017-11-01
  response:
    body: {string: !!python/unicode '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:49:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 authorizationmanagementclient/0.30.0 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Authorization/roleDefinitions?api-version=2015-07-01&$filter=roleName%20eq%20%27reader%27
  response:
    body: {string: !!python/unicode '{"value":[{"properties":{"roleName":"Reader","type":"BuiltInRole","description":"Lets
        you view everything, but not make any changes.","assignableScopes":["/"],"permissions":[{"actions":["*/read"],"notActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-08-19T00:03:56.0652623Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7","type":"Microsoft.Authorization/roleDefinitions","name":"acdd72a7-3385-48ef-bd42-f606fba81ae7"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['578']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:49:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"properties": {"mode": "Incremental", "parameters": {},
      "template": {"parameters": {}, "outputs": {"VMSS": {"type": "object", "value":
      "[reference(resourceId(''Microsoft.Compute/virtualMachineScaleSets'', ''vmss1''),providers(''Microsoft.Compute'',
      ''virtualMachineScaleSets'').apiVersions[0])]"}}, "variables": {}, "contentVersion":
      "1.0.0.0", "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
      "resources": [{"name": "vmss1VNET", "tags": {}, "apiVersion": "2015-06-15",
      "location": "westcentralus", "dependsOn": [], "type": "Microsoft.Network/virtualNetworks",
      "properties": {"subnets": [{"name": "vmss1Subnet", "properties": {"addressPrefix":
      "10.0.0.0/24"}}], "addressSpace": {"addressPrefixes": ["10.0.0.0/16"]}}}, {"sku":
      {"name": "Basic"}, "name": "vmss1LBPublicIP", "tags": {}, "apiVersion": "2017-11-01",
      "location": "westcentralus", "dependsOn": [], "type": "Microsoft.Network/publicIPAddresses",
      "properties": {"publicIPAllocationMethod": "Dynamic"}}, {"sku": {"name": "Basic"},
      "name": "vmss1LB", "tags": {}, "apiVersion": "2017-11-01", "location": "westcentralus",
      "dependsOn": ["Microsoft.Network/virtualNetworks/vmss1VNET", "Microsoft.Network/publicIpAddresses/vmss1LBPublicIP"],
      "type": "Microsoft.Network/loadBalancers", "properties": {"frontendIPConfigurations":
      [{"name": "loadBalancerFrontEnd", "properties": {"publicIPAddress": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/publicIPAddresses/vmss1LBPublicIP"}}}],
      "inboundNatPools": [{"name": "vmss1LBNatPool", "properties": {"protocol": "tcp",
      "backendPort": 22, "frontendIPConfiguration": {"id": "[concat(resourceId(''Microsoft.Network/loadBalancers'',
      ''vmss1LB''), ''/frontendIPConfigurations/'', ''loadBalancerFrontEnd'')]"},
      "frontendPortRangeStart": "50000", "frontendPortRangeEnd": "50119"}}], "backendAddressPools":
      [{"name": "vmss1LBBEPool"}]}}, {"name": "26e89b8a-7d86-4812-be06-9f79791bd87e",
      "type": "Microsoft.Authorization/roleAssignments", "properties": {"scope": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001",
      "roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7",
      "principalId": "[reference(''/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1/providers/Microsoft.ManagedIdentity/Identities/default'',
      ''2015-08-31-PREVIEW'').principalId]"}, "apiVersion": "2015-07-01", "dependsOn":
      ["Microsoft.Compute/virtualMachineScaleSets/vmss1"]}, {"sku": {"capacity": 1,
      "name": "Standard_D1_v2"}, "name": "vmss1", "tags": {}, "apiVersion": "2017-12-01",
      "location": "westcentralus", "dependsOn": ["Microsoft.Network/virtualNetworks/vmss1VNET",
      "Microsoft.Network/loadBalancers/vmss1LB"], "type": "Microsoft.Compute/virtualMachineScaleSets",
      "properties": {"overprovision": true, "virtualMachineProfile": {"storageProfile":
      {"imageReference": {"sku": "16.04-LTS", "publisher": "Canonical", "version":
      "latest", "offer": "UbuntuServer"}, "osDisk": {"caching": "ReadWrite", "managedDisk":
      {"storageAccountType": null}, "createOption": "FromImage"}}, "extensionProfile":
      {"extensions": [{"name": "ManagedIdentityExtensionForLinux", "properties": {"publisher":
      "Microsoft.ManagedIdentity", "typeHandlerVersion": "1.0", "settings": {"port":
      50342}, "type": "ManagedIdentityExtensionForLinux", "autoUpgradeMinorVersion":
      true}}]}, "osProfile": {"computerNamePrefix": "vmss1bd60", "adminUsername":
      "travisprescott", "linuxConfiguration": {"ssh": {"publicKeys": [{"path": "/home/travisprescott/.ssh/authorized_keys",
      "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==
      trpresco@microsoft.com\n"}]}, "disablePasswordAuthentication": true}}, "networkProfile":
      {"networkInterfaceConfigurations": [{"name": "vmss1bd60Nic", "properties": {"primary":
      "true", "ipConfigurations": [{"name": "vmss1bd60IPConfig", "properties": {"subnet":
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet"},
      "loadBalancerInboundNatPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool"}],
      "loadBalancerBackendAddressPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool"}]}}]}}]}},
      "singlePlacementGroup": true, "upgradePolicy": {"mode": "manual"}}, "identity":
      {"type": "SystemAssigned,UserAssigned", "identityIds": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1"]}}]}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Length: ['5642']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Resources/deployments/vmss_deploy_gjWy0sknGUa9f1h3BP5LmHIVHfHVPGCF","name":"vmss_deploy_gjWy0sknGUa9f1h3BP5LmHIVHfHVPGCF","properties":{"templateHash":"12526463605504588491","parameters":{},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2017-12-22T15:49:17.7656274Z","duration":"PT0.8122377S","correlationId":"e8ef5af3-fa20-4393-af5a-a2c3345c11ce","providers":[{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"virtualNetworks","locations":["westcentralus"]},{"resourceType":"publicIPAddresses","locations":["westcentralus"]},{"resourceType":"loadBalancers","locations":["westcentralus"]}]},{"namespace":"Microsoft.Authorization","resourceTypes":[{"resourceType":"roleAssignments","locations":[null]}]},{"namespace":"Microsoft.Compute","resourceTypes":[{"resourceType":"virtualMachineScaleSets","locations":["westcentralus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"vmss1VNET"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/publicIPAddresses/vmss1LBPublicIP","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"vmss1LBPublicIP"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB","resourceType":"Microsoft.Network/loadBalancers","resourceName":"vmss1LB"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1","resourceType":"Microsoft.Compute/virtualMachineScaleSets","resourceName":"vmss1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1/providers/Microsoft.ManagedIdentity/Identities/default","resourceType":"Microsoft.Compute/virtualMachineScaleSets/providers/Identities","resourceName":"vmss1/Microsoft.ManagedIdentity/default","apiVersion":"2015-08-31-PREVIEW"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Authorization/roleAssignments/26e89b8a-7d86-4812-be06-9f79791bd87e","resourceType":"Microsoft.Authorization/roleAssignments","resourceName":"26e89b8a-7d86-4812-be06-9f79791bd87e"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"vmss1VNET"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB","resourceType":"Microsoft.Network/loadBalancers","resourceName":"vmss1LB"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1","resourceType":"Microsoft.Compute/virtualMachineScaleSets","resourceName":"vmss1"}]}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/vmss_deploy_gjWy0sknGUa9f1h3BP5LmHIVHfHVPGCF/operationStatuses/08586876491285242471?api-version=2017-05-10']
      cache-control: [no-cache]
      content-length: ['3334']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:49:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586876491285242471?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:49:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586876491285242471?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:50:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586876491285242471?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:50:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586876491285242471?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:51:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Resources/deployments/vmss_deploy_gjWy0sknGUa9f1h3BP5LmHIVHfHVPGCF","name":"vmss_deploy_gjWy0sknGUa9f1h3BP5LmHIVHfHVPGCF","properties":{"templateHash":"12526463605504588491","parameters":{},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2017-12-22T15:51:33.1791409Z","duration":"PT2M16.2257512S","correlationId":"e8ef5af3-fa20-4393-af5a-a2c3345c11ce","providers":[{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"virtualNetworks","locations":["westcentralus"]},{"resourceType":"publicIPAddresses","locations":["westcentralus"]},{"resourceType":"loadBalancers","locations":["westcentralus"]}]},{"namespace":"Microsoft.Authorization","resourceTypes":[{"resourceType":"roleAssignments","locations":[null]}]},{"namespace":"Microsoft.Compute","resourceTypes":[{"resourceType":"virtualMachineScaleSets","locations":["westcentralus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"vmss1VNET"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/publicIPAddresses/vmss1LBPublicIP","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"vmss1LBPublicIP"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB","resourceType":"Microsoft.Network/loadBalancers","resourceName":"vmss1LB"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1","resourceType":"Microsoft.Compute/virtualMachineScaleSets","resourceName":"vmss1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1/providers/Microsoft.ManagedIdentity/Identities/default","resourceType":"Microsoft.Compute/virtualMachineScaleSets/providers/Identities","resourceName":"vmss1/Microsoft.ManagedIdentity/default","apiVersion":"2015-08-31-PREVIEW"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Authorization/roleAssignments/26e89b8a-7d86-4812-be06-9f79791bd87e","resourceType":"Microsoft.Authorization/roleAssignments","resourceName":"26e89b8a-7d86-4812-be06-9f79791bd87e"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"vmss1VNET"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB","resourceType":"Microsoft.Network/loadBalancers","resourceName":"vmss1LB"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1","resourceType":"Microsoft.Compute/virtualMachineScaleSets","resourceName":"vmss1"}],"outputs":{"vmss":{"type":"Object","value":{"singlePlacementGroup":true,"upgradePolicy":{"mode":"Manual","automaticOSUpgrade":false},"virtualMachineProfile":{"osProfile":{"computerNamePrefix":"vmss1bd60","adminUsername":"travisprescott","linuxConfiguration":{"disablePasswordAuthentication":true,"ssh":{"publicKeys":[{"path":"/home/travisprescott/.ssh/authorized_keys","keyData":"ssh-rsa
        AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==
        trpresco@microsoft.com\n"}]}},"secrets":[]},"storageProfile":{"osDisk":{"createOption":"FromImage","caching":"ReadWrite","managedDisk":{"storageAccountType":"Standard_LRS"}},"imageReference":{"publisher":"Canonical","offer":"UbuntuServer","sku":"16.04-LTS","version":"latest"}},"networkProfile":{"networkInterfaceConfigurations":[{"name":"vmss1bd60Nic","properties":{"primary":true,"enableAcceleratedNetworking":false,"dnsSettings":{"dnsServers":[]},"enableIPForwarding":false,"ipConfigurations":[{"name":"vmss1bd60IPConfig","properties":{"subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet"},"privateIPAddressVersion":"IPv4","loadBalancerBackendAddressPools":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool"}],"loadBalancerInboundNatPools":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool"}]}}]}}]},"extensionProfile":{"extensions":[{"properties":{"publisher":"Microsoft.ManagedIdentity","type":"ManagedIdentityExtensionForLinux","typeHandlerVersion":"1.0","autoUpgradeMinorVersion":true,"settings":{"port":50342}},"name":"ManagedIdentityExtensionForLinux"}]}},"provisioningState":"Succeeded","overprovision":true,"uniqueId":"7bb56125-f47b-466e-bd66-1163d31fc438"}}},"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Authorization/roleAssignments/26e89b8a-7d86-4812-be06-9f79791bd87e"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/publicIPAddresses/vmss1LBPublicIP"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET"}]}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['6813']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:51:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4044']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:51:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;194,Microsoft.Compute/GetVMScaleSet30Min;930']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4044']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:51:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;193,Microsoft.Compute/GetVMScaleSet30Min;929']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"sku": {"tier": "Standard", "capacity": 1, "name": "Standard_D1_v2"},
      "location": "westcentralus", "properties": {"singlePlacementGroup": true, "overprovision":
      true, "virtualMachineProfile": {"storageProfile": {"imageReference": {"sku":
      "16.04-LTS", "publisher": "Canonical", "version": "latest", "offer": "UbuntuServer"},
      "osDisk": {"caching": "ReadWrite", "managedDisk": {"storageAccountType": "Standard_LRS"},
      "createOption": "FromImage"}}, "extensionProfile": {"extensions": [{"properties":
      {"publisher": "Microsoft.ManagedIdentity", "typeHandlerVersion": "1.0", "settings":
      {"port": 50342}, "type": "ManagedIdentityExtensionForLinux", "autoUpgradeMinorVersion":
      true}, "name": "ManagedIdentityExtensionForLinux"}]}, "osProfile": {"secrets":
      [], "adminUsername": "travisprescott", "computerNamePrefix": "vmss1bd60", "linuxConfiguration":
      {"ssh": {"publicKeys": [{"path": "/home/travisprescott/.ssh/authorized_keys",
      "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==
      trpresco@microsoft.com\n"}]}, "disablePasswordAuthentication": true}}, "networkProfile":
      {"networkInterfaceConfigurations": [{"properties": {"enableAcceleratedNetworking":
      false, "dnsSettings": {"dnsServers": []}, "ipConfigurations": [{"properties":
      {"subnet": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet"},
      "loadBalancerInboundNatPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool"}],
      "loadBalancerBackendAddressPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool"}],
      "privateIPAddressVersion": "IPv4"}, "name": "vmss1bd60IPConfig"}], "primary":
      true}, "name": "vmss1bd60Nic"}]}}, "upgradePolicy": {"automaticOSUpgrade": false,
      "mode": "Manual"}}, "identity": {"type": "SystemAssigned, UserAssigned", "identityIds":
      ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2",
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1"]},
      "tags": {}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Length: ['3096']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Updating\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2\"\
        ,\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/ffb4ac24-a3b7-42ae-b7b8-559aceefbbb0?api-version=2017-12-01']
      cache-control: [no-cache]
      content-length: ['4204']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:51:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/CreateVMScaleSet3Min;38,Microsoft.Compute/CreateVMScaleSet30Min;191,Microsoft.Compute/VmssQueuedVMOperations;3600']
      x-ms-ratelimit-remaining-subscription-writes: ['1188']
      x-ms-request-charge: ['0']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/ffb4ac24-a3b7-42ae-b7b8-559aceefbbb0?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"startTime\": \"2017-12-22T15:51:51.1824369+00:00\"\
        ,\r\n  \"endTime\": \"2017-12-22T15:52:18.104681+00:00\",\r\n  \"status\"\
        : \"Succeeded\",\r\n  \"name\": \"ffb4ac24-a3b7-42ae-b7b8-559aceefbbb0\"\r\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['183']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:52:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetOperation3Min;11983,Microsoft.Compute/GetOperation30Min;23902']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2\"\
        ,\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4205']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:52:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;189,Microsoft.Compute/GetVMScaleSet30Min;925']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2\"\
        ,\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4205']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:52:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;188,Microsoft.Compute/GetVMScaleSet30Min;924']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"sku": {"tier": "Standard", "capacity": 1, "name": "Standard_D1_v2"},
      "location": "westcentralus", "properties": {"singlePlacementGroup": true, "overprovision":
      true, "virtualMachineProfile": {"storageProfile": {"imageReference": {"sku":
      "16.04-LTS", "publisher": "Canonical", "version": "latest", "offer": "UbuntuServer"},
      "osDisk": {"caching": "ReadWrite", "managedDisk": {"storageAccountType": "Standard_LRS"},
      "createOption": "FromImage"}}, "extensionProfile": {"extensions": [{"properties":
      {"publisher": "Microsoft.ManagedIdentity", "typeHandlerVersion": "1.0", "settings":
      {"port": 50342}, "type": "ManagedIdentityExtensionForLinux", "autoUpgradeMinorVersion":
      true}, "name": "ManagedIdentityExtensionForLinux"}]}, "osProfile": {"secrets":
      [], "adminUsername": "travisprescott", "computerNamePrefix": "vmss1bd60", "linuxConfiguration":
      {"ssh": {"publicKeys": [{"path": "/home/travisprescott/.ssh/authorized_keys",
      "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==
      trpresco@microsoft.com\n"}]}, "disablePasswordAuthentication": true}}, "networkProfile":
      {"networkInterfaceConfigurations": [{"properties": {"enableAcceleratedNetworking":
      false, "dnsSettings": {"dnsServers": []}, "ipConfigurations": [{"properties":
      {"subnet": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet"},
      "loadBalancerInboundNatPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool"}],
      "loadBalancerBackendAddressPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool"}],
      "privateIPAddressVersion": "IPv4"}, "name": "vmss1bd60IPConfig"}], "primary":
      true}, "name": "vmss1bd60Nic"}]}}, "upgradePolicy": {"automaticOSUpgrade": false,
      "mode": "Manual"}}, "identity": {"type": "SystemAssigned, UserAssigned", "identityIds":
      ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2",
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1"]},
      "tags": {}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Length: ['3096']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Updating\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2\"\
        ,\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/f177a94c-5691-4ef8-8e60-d29cf4fa90c5?api-version=2017-12-01']
      cache-control: [no-cache]
      content-length: ['4204']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:52:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/CreateVMScaleSet3Min;38,Microsoft.Compute/CreateVMScaleSet30Min;190,Microsoft.Compute/VmssQueuedVMOperations;3600']
      x-ms-ratelimit-remaining-subscription-writes: ['1182']
      x-ms-request-charge: ['0']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/f177a94c-5691-4ef8-8e60-d29cf4fa90c5?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"startTime\": \"2017-12-22T15:52:42.0733887+00:00\"\
        ,\r\n  \"endTime\": \"2017-12-22T15:52:42.3390098+00:00\",\r\n  \"status\"\
        : \"Succeeded\",\r\n  \"name\": \"f177a94c-5691-4ef8-8e60-d29cf4fa90c5\"\r\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['184']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:53:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetOperation3Min;11987,Microsoft.Compute/GetOperation30Min;23900']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss assign-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2\"\
        ,\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4205']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:53:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;183,Microsoft.Compute/GetVMScaleSet30Min;919']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2\"\
        ,\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4205']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:53:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;182,Microsoft.Compute/GetVMScaleSet30Min;918']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"instanceIds": ["*"]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss update-instances]
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1/manualupgrade?api-version=2017-12-01
  response:
    body: {string: !!python/unicode ''}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/dc4fb776-1454-41ab-a0b5-b4c2b2477f4a?api-version=2017-12-01']
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 22 Dec 2017 15:53:39 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/dc4fb776-1454-41ab-a0b5-b4c2b2477f4a?monitor=true&api-version=2017-12-01']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/VMScaleSetActions3Min;239,Microsoft.Compute/VMScaleSetActions30Min;1197,Microsoft.Compute/VMScaleSetBatchedVMRequests5Min;1197,Microsoft.Compute/VmssQueuedVMOperations;3599']
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
      x-ms-request-charge: ['1']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss update-instances]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/dc4fb776-1454-41ab-a0b5-b4c2b2477f4a?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"startTime\": \"2017-12-22T15:53:40.3381679+00:00\"\
        ,\r\n  \"endTime\": \"2017-12-22T15:53:44.6036854+00:00\",\r\n  \"status\"\
        : \"Succeeded\",\r\n  \"name\": \"dc4fb776-1454-41ab-a0b5-b4c2b2477f4a\"\r\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['184']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:54:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetOperation3Min;11993,Microsoft.Compute/GetOperation30Min;23898']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2\"\
        ,\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4205']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:54:19 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;183,Microsoft.Compute/GetVMScaleSet30Min;916']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"sku": {"tier": "Standard", "capacity": 1, "name": "Standard_D1_v2"},
      "location": "westcentralus", "properties": {"singlePlacementGroup": true, "overprovision":
      true, "virtualMachineProfile": {"storageProfile": {"imageReference": {"sku":
      "16.04-LTS", "publisher": "Canonical", "version": "latest", "offer": "UbuntuServer"},
      "osDisk": {"caching": "ReadWrite", "managedDisk": {"storageAccountType": "Standard_LRS"},
      "createOption": "FromImage"}}, "extensionProfile": {"extensions": [{"properties":
      {"publisher": "Microsoft.ManagedIdentity", "typeHandlerVersion": "1.0", "settings":
      {"port": 50342}, "type": "ManagedIdentityExtensionForLinux", "autoUpgradeMinorVersion":
      true}, "name": "ManagedIdentityExtensionForLinux"}]}, "osProfile": {"secrets":
      [], "adminUsername": "travisprescott", "computerNamePrefix": "vmss1bd60", "linuxConfiguration":
      {"ssh": {"publicKeys": [{"path": "/home/travisprescott/.ssh/authorized_keys",
      "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==
      trpresco@microsoft.com\n"}]}, "disablePasswordAuthentication": true}}, "networkProfile":
      {"networkInterfaceConfigurations": [{"properties": {"enableAcceleratedNetworking":
      false, "dnsSettings": {"dnsServers": []}, "ipConfigurations": [{"properties":
      {"subnet": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet"},
      "loadBalancerInboundNatPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool"}],
      "loadBalancerBackendAddressPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool"}],
      "privateIPAddressVersion": "IPv4"}, "name": "vmss1bd60IPConfig"}], "primary":
      true}, "name": "vmss1bd60Nic"}]}}, "upgradePolicy": {"automaticOSUpgrade": false,
      "mode": "Manual"}}, "identity": {"type": "SystemAssigned, UserAssigned", "identityIds":
      ["/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2"]},
      "tags": {}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Length: ['2942']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Updating\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/fbf6f173-8675-40a5-8570-4dd18a52839a?api-version=2017-12-01']
      cache-control: [no-cache]
      content-length: ['4043']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:54:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/CreateVMScaleSet3Min;37,Microsoft.Compute/CreateVMScaleSet30Min;189,Microsoft.Compute/VmssQueuedVMOperations;3600']
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
      x-ms-request-charge: ['0']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/fbf6f173-8675-40a5-8570-4dd18a52839a?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"startTime\": \"2017-12-22T15:54:22.8993675+00:00\"\
        ,\r\n  \"endTime\": \"2017-12-22T15:54:24.1961726+00:00\",\r\n  \"status\"\
        : \"Succeeded\",\r\n  \"name\": \"fbf6f173-8675-40a5-8570-4dd18a52839a\"\r\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['184']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:55:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetOperation3Min;11994,Microsoft.Compute/GetOperation30Min;23919']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4044']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:55:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;181,Microsoft.Compute/GetVMScaleSet30Min;932']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4044']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:55:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;180,Microsoft.Compute/GetVMScaleSet30Min;931']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned, UserAssigned\",\r\n    \"principalId\"\
        : \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\",\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\"\
        ,\r\n    \"identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4044']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:55:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;179,Microsoft.Compute/GetVMScaleSet30Min;930']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"sku": {"tier": "Standard", "capacity": 1, "name": "Standard_D1_v2"},
      "location": "westcentralus", "properties": {"singlePlacementGroup": true, "overprovision":
      true, "virtualMachineProfile": {"storageProfile": {"imageReference": {"sku":
      "16.04-LTS", "publisher": "Canonical", "version": "latest", "offer": "UbuntuServer"},
      "osDisk": {"caching": "ReadWrite", "managedDisk": {"storageAccountType": "Standard_LRS"},
      "createOption": "FromImage"}}, "extensionProfile": {"extensions": [{"properties":
      {"publisher": "Microsoft.ManagedIdentity", "typeHandlerVersion": "1.0", "settings":
      {"port": 50342}, "type": "ManagedIdentityExtensionForLinux", "autoUpgradeMinorVersion":
      true}, "name": "ManagedIdentityExtensionForLinux"}]}, "osProfile": {"secrets":
      [], "adminUsername": "travisprescott", "computerNamePrefix": "vmss1bd60", "linuxConfiguration":
      {"ssh": {"publicKeys": [{"path": "/home/travisprescott/.ssh/authorized_keys",
      "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==
      trpresco@microsoft.com\n"}]}, "disablePasswordAuthentication": true}}, "networkProfile":
      {"networkInterfaceConfigurations": [{"properties": {"enableAcceleratedNetworking":
      false, "dnsSettings": {"dnsServers": []}, "ipConfigurations": [{"properties":
      {"subnet": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet"},
      "loadBalancerInboundNatPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool"}],
      "loadBalancerBackendAddressPools": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool"}],
      "privateIPAddressVersion": "IPv4"}, "name": "vmss1bd60IPConfig"}], "primary":
      true}, "name": "vmss1bd60Nic"}]}}, "upgradePolicy": {"automaticOSUpgrade": false,
      "mode": "Manual"}}, "identity": {"type": "SystemAssigned"}, "tags": {}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Length: ['2757']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Updating\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\": \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\"\
        ,\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\",\r\n    \"\
        identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/25d30711-1e92-4ec2-a1e1-471b6cec6070?api-version=2017-12-01']
      cache-control: [no-cache]
      content-length: ['4029']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:55:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/CreateVMScaleSet3Min;37,Microsoft.Compute/CreateVMScaleSet30Min;191,Microsoft.Compute/VmssQueuedVMOperations;3600']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-charge: ['0']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westcentralus/operations/25d30711-1e92-4ec2-a1e1-471b6cec6070?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"startTime\": \"2017-12-22T15:55:28.7476601+00:00\"\
        ,\r\n  \"endTime\": \"2017-12-22T15:55:29.9827802+00:00\",\r\n  \"status\"\
        : \"Succeeded\",\r\n  \"name\": \"25d30711-1e92-4ec2-a1e1-471b6cec6070\"\r\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['184']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:56:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetOperation3Min;11994,Microsoft.Compute/GetOperation30Min;23917']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss remove-identity]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\": \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\"\
        ,\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\",\r\n    \"\
        identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4030']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:56:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;182,Microsoft.Compute/GetVMScaleSet30Min;925']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [vmss show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 computemanagementclient/3.1.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1?api-version=2017-12-01
  response:
    body: {string: !!python/unicode "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D1_v2\"\
        ,\r\n    \"tier\": \"Standard\",\r\n    \"capacity\": 1\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Manual\",\r\n      \"automaticOSUpgrade\": false\r\n  \
        \  },\r\n    \"virtualMachineProfile\": {\r\n      \"osProfile\": {\r\n  \
        \      \"computerNamePrefix\": \"vmss1bd60\",\r\n        \"adminUsername\"\
        : \"travisprescott\",\r\n        \"linuxConfiguration\": {\r\n          \"\
        disablePasswordAuthentication\": true,\r\n          \"ssh\": {\r\n       \
        \     \"publicKeys\": [\r\n              {\r\n                \"path\": \"\
        /home/travisprescott/.ssh/authorized_keys\",\r\n                \"keyData\"\
        : \"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDBaoge9zybnViQvRAgwTnO6yshWCxJxcTKYAPj79TWjBZ1h21hGLs5L/UWhgAGG6Hcd+ID1IHSbTWTL/8HGug8/x07IzgiiCWXh9htPGhNAE/LdNoMXl1ahjABHj9s/NxNkbK4Z/1SFFPGScIJw5hKiDrQ0j4NNMPW1O37Ln2h/Txr9KTAqT75miJN+mamH3Ijcm4ox0Xjy4mOPrjg+27a1PtYFTJ6w5mOUyr1gLCtuDvfI96vioMzClbzGX3lw4vqUAA9I86Agmko+FIS33q+OwGBA0T79OhMOHSqZkd6WEqAqlTREnubXXe15VBCtRjz4A1hhvQj8hDtCiRQwCV/OCG+HvCp2K/RfTkYlROLtFxDRruXXuHNoPsAsJYVV3P5zk96fO56piPNYqhoY6nSNCZDe/NRkWGVDwR55kBRESOzm7jPvxzZZZSplXoKG8yqCybD+LjtpbznL8Vz94JrbjOCSqD3JKAHKnP6+fBsF8FdAcxN4ujqVKoIqX1RDQEoM/fBqp1Z2YUg4E+fg3LUAgDdLi7ds8KjBFn1o7ZCbZ129O7aBCLdMMrsTx8kxRmdOGhCFXjajwLbZNr+ivN4l8KcNEMYPHpHkE9qpopBnah01i/4/Kiubsj4UDf6CHD8LAg1CHoibodG0O7LJvTo5/cmgTo+NXlzPezS4T2YtQ==\
        \ trpresco@microsoft.com\\n\"\r\n              }\r\n            ]\r\n    \
        \      }\r\n        },\r\n        \"secrets\": []\r\n      },\r\n      \"\
        storageProfile\": {\r\n        \"osDisk\": {\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadWrite\",\r\n          \"\
        managedDisk\": {\r\n            \"storageAccountType\": \"Standard_LRS\"\r\
        \n          }\r\n        },\r\n        \"imageReference\": {\r\n         \
        \ \"publisher\": \"Canonical\",\r\n          \"offer\": \"UbuntuServer\",\r\
        \n          \"sku\": \"16.04-LTS\",\r\n          \"version\": \"latest\"\r\
        \n        }\r\n      },\r\n      \"networkProfile\": {\"networkInterfaceConfigurations\"\
        :[{\"name\":\"vmss1bd60Nic\",\"properties\":{\"primary\":true,\"enableAcceleratedNetworking\"\
        :false,\"dnsSettings\":{\"dnsServers\":[]},\"enableIPForwarding\":false,\"\
        ipConfigurations\":[{\"name\":\"vmss1bd60IPConfig\",\"properties\":{\"subnet\"\
        :{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/vmss1VNET/subnets/vmss1Subnet\"\
        },\"privateIPAddressVersion\":\"IPv4\",\"loadBalancerBackendAddressPools\"\
        :[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/backendAddressPools/vmss1LBBEPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/loadBalancers/vmss1LB/inboundNatPools/vmss1LBNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.ManagedIdentity\",\r\n              \"type\": \"ManagedIdentityExtensionForLinux\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : true,\r\n              \"settings\": {\"port\":50342}\r\n            },\r\
        \n            \"name\": \"ManagedIdentityExtensionForLinux\"\r\n         \
        \ }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\
        ,\r\n    \"overprovision\": true,\r\n    \"uniqueId\": \"7bb56125-f47b-466e-bd66-1163d31fc438\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westcentralus\",\r\n  \"tags\": {},\r\n  \"identity\":\
        \ {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\": \"96bd1fc8-9da9-4dee-af0a-f8f001f9c1ea\"\
        ,\r\n    \"tenantId\": \"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a\",\r\n    \"\
        identityIds\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/microsoft.managedidentity/userassignedidentities/id2\"\
        \r\n    ]\r\n  },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/virtualMachineScaleSets/vmss1\"\
        ,\r\n  \"name\": \"vmss1\"\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['4030']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 22 Dec 2017 15:56:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-resource: ['Microsoft.Compute/GetVMScaleSet3Min;181,Microsoft.Compute/GetVMScaleSet30Min;924']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.12 (Darwin-17.2.0-x86_64-i386-64bit) requests/2.18.4
          msrest/0.4.22 msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.24]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: !!python/unicode ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 22 Dec 2017 15:56:20 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkczR00yRUtWTk1PLVdFU1RDRU5UUkFMVVMiLCJqb2JMb2NhdGlvbiI6Indlc3RjZW50cmFsdXMifQ?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 202, message: Accepted}
version: 1
