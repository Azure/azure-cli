interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_cert%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['166']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:56:54 GMT']
      Duration: ['573672']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [k0Lxm/e1cciLCNI8XaKeo7ZoeSIUwJOpT1pcDAQuX5k=]
      ocp-aad-session-key: [ghitfPHjzY6CgvsCKJvJfTwHGMDMNKR9YgQMlbLt63oLSbiAPtKkAqDqu6gw4jqnzsvVP4XWTRlXVjXOL_PFkwLzra6r8Bvnf_grLQC2DgFvMAY3yXqHwNS-qkfm3Y-VDKWAWOkiW7GvxTN5wZPfRYJDFQFsJfSHfPuQZLVGpbJ3hnT6fonteMWTKawJHDJGAwf7ySfwvt9bmZh_tGqAlA.1Hd3swEIPelEdrsTlFYu8LqUJxJ7xLt1ONWDmcdgvVk]
      request-id: [31bcd2bd-2f6b-4131-9618-dca8f0b96add]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 200, message: OK}
- request:
    body: '{"displayName": "azure-cli-2017-05-03-17-56-55", "availableToOtherTenants":
      false, "identifierUris": ["http://cli_create_rbac_sp_cert"], "keyCredentials":
      [{"endDate": "2018-05-03T17:56:55.48300299999999996Z", "value": "MIICnTCCAYUCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\nbjAeFw0xNzA1MDMxNzU2NTVaFw0xODA1MDQxODU2NTVaMBQxEjAQBgNVBAMMCUNM\nSS1Mb2dpbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANb2kPM8Fe8v\nItnrM5WCXk7T555NgwAI3SZSDRl0QCsV8PP5Dwzc2irf52TOxHGdOrEJbA4u8wBJ\n52Aaq3PbyySwC43IivWBN87kJKEBrUrSssGWA8WMGZZJVSBcVYQtzZ5P3iN8l1B+\n1GYuENK4DMo2QiPSiPApXHnIdtwqRIDFx86ZhwVN24hlQRcHUESPtwE1Yf7pTXJK\nmr+tWwDzOs0dpKo0FQRYVlHOh6k7zVUN7ZbeyDUIpgPAL5l/yh5UdrEJOrWGaebA\n582gPcTlC1Dj21AFe3txHV/OmpLZcV+g3wTURFlIiZ4XkDZNTpJn8PGNhQobtPYh\nskhXAgHiIlkCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEAKG0Y5bcOgB/JaIDRvYO1\nybC2xltXpu+NxoHb9YV3cPIU7dxg38s15u27cqkqIg+fSC4dt87KBDgOtnHu325M\ngjzJF3cB9Nmg0t69fWr//oWo29JEeru3RLl1XYc1RiK+cwd3sQDcN/dD6YxK430T\nf3rbUgARuKJ98vXJr5TW7zSGS88KUvylc3JyP26C5ThRdkF8bfqRm1YanHCuKdgf\n21SC9TPQVSQsuE+OXgmK+lY3aUuSjbTPdks9c+JvpEcdqTVT8O88zRaGLgZT57Ib\njtOVyBR/oijpJ+nHalipYgsxbH7zTXfhHrohoklQOYPD5rS8aU6cpkCfhw01iujg\nDQ==",
      "type": "AsymmetricX509Cert", "usage": "Verify", "startDate": "2017-05-03T17:56:55.48300299999999996Z",
      "keyId": "03b63d55-d389-43cf-a455-2b8be85d148e"}], "homepage": "http://azure-cli-2017-05-03-17-56-55"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['1363']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"33f58e1a-766b-486d-92c1-6347f65a7989","deletionTimestamp":null,"addIns":[],"appId":"ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2017-05-03-17-56-55","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2017-05-03-17-56-55","identifierUris":["http://cli_create_rbac_sp_cert"],"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-05-03T17:56:55.483003Z","keyId":"03b63d55-d389-43cf-a455-2b8be85d148e","startDate":"2017-05-03T17:56:55.483003Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2017-05-03-17-56-55","id":"7cb5db26-ecce-40f7-b9ca-4eebc3b01977","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2017-05-03-17-56-55","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['1651']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:56:55 GMT']
      Duration: ['6300036']
      Expires: ['-1']
      Location: ['https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/33f58e1a-766b-486d-92c1-6347f65a7989/Microsoft.DirectoryServices.Application']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [bdSjyBxb/Xan5z5KSh24SAEMgas7pEbid5F00vbB9aw=]
      ocp-aad-session-key: [_e2QWmfhdMszA3SHN8YYHmQ492CY49olODRoIhA-f18MNNq85KZIJepoxzZ-xNQWQ0ffFHfnv3oeJAr5aA30EA7deoz0-cLVQnHWDEPWIsP3xJM3pn5GEEQV7Yw3FUonPi0o5hL2HW5v_E-t0oXwvv0V5qkX2RsZojFsekoMzdbAP9E5YitT0qIaLvqmtGpN5Z9rl0rGbwLruGYwmJdbAA.b20JbZ67zQ12wGbzl4HTHYzymH86FNUTtjXJByGVtEU]
      request-id: [1bae4352-2496-4fd4-af3b-722f5032df42]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 201, message: Created}
- request:
    body: '{"accountEnabled": true, "appId": "ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"3758d7f9-3cc9-4a62-9593-241568086941","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2017-05-03-17-56-55","appId":"ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2017-05-03-17-56-55","errorUrl":null,"homepage":"http://azure-cli-2017-05-03-17-56-55","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2017-05-03-17-56-55","id":"7cb5db26-ecce-40f7-b9ca-4eebc3b01977","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2017-05-03-17-56-55","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658","http://cli_create_rbac_sp_cert"],"servicePrincipalType":"Application","tags":[]}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['1510']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:56:56 GMT']
      Duration: ['3395860']
      Expires: ['-1']
      Location: ['https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/3758d7f9-3cc9-4a62-9593-241568086941/Microsoft.DirectoryServices.ServicePrincipal']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [S8BVC5QgprwvABy7UnGmxpotnaXSBTIsAJbO/jDfjbA=]
      ocp-aad-session-key: [N4TKQaeRxVPwEoE3hzMLqz-CbhTib9ohkUw0sA9qfqNz-RpBgvBG8EHXJiwxG3UzyD900dO75rvsdBoM4ms7Dd0WFEou25ElENFnN3tGfIcQHjPycRWfTJVQNzC_2LWfZ0zZdMvqhsfLWZatrf6A6FYLb-amaTjcouK3K-p6trNYUVqvJUDIew_bFFILOJAfQvS4Ja2s-JpzED-m1KmzGg.3-TK1amF3HbzchmssZntAihAZvixPouVvmqqUmePtf8]
      request-id: [48b9b489-746d-457d-a4a4-2672cc850ac3]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e629a79c-3029-11e7-8c81-a0b3ccf7272a]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:56:56 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      content-length: ['696']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/0b1f6471-1bf0-4dda-aec3-cb9272f09590/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "3758d7f9-3cc9-4a62-9593-241568086941"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e642b262-3029-11e7-9ebd-a0b3ccf7272a]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/09b8a742-2861-4f61-92df-16bfa4a6ccaf?api-version=2015-07-01
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal 3758d7f93cc94a629593241568086941
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['163']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:56:57 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e9a33e42-3029-11e7-953a-a0b3ccf7272a]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:57:03 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      content-length: ['696']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/0b1f6471-1bf0-4dda-aec3-cb9272f09590/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "3758d7f9-3cc9-4a62-9593-241568086941"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e9d4de5a-3029-11e7-98a0-a0b3ccf7272a]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/777a1199-82ad-469c-9fb6-ad418c237141?api-version=2015-07-01
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal 3758d7f93cc94a629593241568086941
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['163']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:57:03 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ed09e606-3029-11e7-8026-a0b3ccf7272a]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:57:08 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      content-length: ['696']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/0b1f6471-1bf0-4dda-aec3-cb9272f09590/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "3758d7f9-3cc9-4a62-9593-241568086941"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ed278582-3029-11e7-be8c-a0b3ccf7272a]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/ab3f6192-c080-4e59-bfda-f6916236dcff?api-version=2015-07-01
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"3758d7f9-3cc9-4a62-9593-241568086941","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/subscriptions/0b1f6471-1bf0-4dda-aec3-cb9272f09590/providers/Microsoft.Authorization/roleAssignments/ab3f6192-c080-4e59-bfda-f6916236dcff","type":"Microsoft.Authorization/roleAssignments","name":"ab3f6192-c080-4e59-bfda-f6916236dcff"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['686']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:57:10 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [eeb39b08-3029-11e7-a686-a0b3ccf7272a]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_cert/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:57:11 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      content-length: ['696']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/0b1f6471-1bf0-4dda-aec3-cb9272f09590/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "3758d7f9-3cc9-4a62-9593-241568086941"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 authorizationmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [eecbe268-3029-11e7-b3d7-a0b3ccf7272a]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_cert/providers/Microsoft.Authorization/roleAssignments/79bd1b23-7bfe-4ce3-9de2-c71e065c3563?api-version=2015-07-01
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"3758d7f9-3cc9-4a62-9593-241568086941","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_cert","createdOn":"2017-05-03T17:57:12.0211858Z","updatedOn":"2017-05-03T17:57:12.0211858Z","createdBy":null,"updatedBy":"5963f50c-7c43-405c-af7e-53294de76abd"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_cert/providers/Microsoft.Authorization/roleAssignments/79bd1b23-7bfe-4ce3-9de2-c71e065c3563","type":"Microsoft.Authorization/roleAssignments","name":"79bd1b23-7bfe-4ce3-9de2-c71e065c3563"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['776']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Wed, 03 May 2017 17:57:13 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Set-Cookie: [x-ms-gateway-slice=productionb; path=/]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_cert%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_cert%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"3758d7f9-3cc9-4a62-9593-241568086941","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2017-05-03-17-56-55","appId":"ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2017-05-03-17-56-55","errorUrl":null,"homepage":"http://azure-cli-2017-05-03-17-56-55","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2017-05-03-17-56-55","id":"7cb5db26-ecce-40f7-b9ca-4eebc3b01977","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2017-05-03-17-56-55","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://cli_create_rbac_sp_cert","ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658"],"servicePrincipalType":"Application","tags":[]}]}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['1513']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:57:12 GMT']
      Duration: ['945963']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [TJ/xKag4M2mTYYn3oFmzro7Z2/Yt3ZkfYZ6omhAf2Kg=]
      ocp-aad-session-key: [Bd-65V61yK1OY3Nu0ZgaK-uTKtSvsjHSb7u28PlwYLGPUgn-THLhZ04RY42IRWDMGbmVw9ZnivZeiqu5FQHQs8U5sRhafztOZv5-6k2uu6SWuOIHpddWHo4wHzxNyaf2mnQX-p6UjrUUnI0eFCHxRet7P40_JGJW6uGskBh2SNt0Rs4DRxoylNnYnufmK5-el7fAg2LhvdzwWpqB4uHdLA.e8fooVDarAogz-mxMvMFiIt0oAII8ti_oRDZxIKP5Go]
      request-id: [ea44fbcc-c238-4f45-8fc9-65bc46d98f84]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[]}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['161']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:57:13 GMT']
      Duration: ['629209']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [s1h9g+7tMsW4wU/rKe36/J3fhFslXHwAiAI2ZsDti5I=]
      ocp-aad-session-key: [mwJfcYUspu5Bq0I3_Agj4mJqNHI821afJOL8X8drP8DSJ2A8DbiZpd5_XRWADD3nO0sig5VTH_fdf5iuks9mZmjhyIPWzcIhf7GaardTg_xJr_RPGtHCVCUyvoQ0n10OAU6suyhETYwhfOGErDw2HNwndfuCUUR9kE_goo3MSgNagKvHVkL1rvZqm8rjizeWIMLk25Zp30FAS8hl9WW5mw.6ltqUybrF17owmuMCVbf4tz0L9LOvTgYMeRVdWYU3HM]
      request-id: [1fab35ce-1ff4-4368-aec7-afe5dc6821c4]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"33f58e1a-766b-486d-92c1-6347f65a7989","deletionTimestamp":null,"addIns":[],"appId":"ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2017-05-03-17-56-55","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2017-05-03-17-56-55","identifierUris":["http://cli_create_rbac_sp_cert"],"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-05-03T17:56:55.483003Z","keyId":"03b63d55-d389-43cf-a455-2b8be85d148e","startDate":"2017-05-03T17:56:55.483003Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2017-05-03-17-56-55","id":"7cb5db26-ecce-40f7-b9ca-4eebc3b01977","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2017-05-03-17-56-55","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null}]}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['1654']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:57:13 GMT']
      Duration: ['661172']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [Km1ubV4XVihTTZ0FrEpSoQSdIyTJOWSdg4kF/k2AVzc=]
      ocp-aad-session-key: [VyPqSkCH71RHzO9p7Aaqkf-euGjG7Nbm-r82H-HO1E6pmoVsk1f2E_CVHK-r9iSaNWjUQIwORIxmAvT5fAPvRo-sPVxxQyjFIITkX0sK9Z6GxvWBwBYdGOIhu3XDd2X6Kgah7ILf5nwPNQ-_WD1OPmYHQlxJK6C5A67nnoTlH44DZbY5hFBpGRr3kAcfZGA2vk7WRIGGbPmFz-flIlivvQ.FkWAT4YPI7BzoZayvl_E4y4we81HxoTj2G6sSr0_8nY]
      request-id: [fce9ada7-e891-4379-bcc0-7c34810daab4]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/33f58e1a-766b-486d-92c1-6347f65a7989?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"33f58e1a-766b-486d-92c1-6347f65a7989","deletionTimestamp":null,"addIns":[],"appId":"ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2017-05-03-17-56-55","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2017-05-03-17-56-55","identifierUris":["http://cli_create_rbac_sp_cert"],"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-05-03T17:56:55.483003Z","keyId":"03b63d55-d389-43cf-a455-2b8be85d148e","startDate":"2017-05-03T17:56:55.483003Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2017-05-03-17-56-55","id":"7cb5db26-ecce-40f7-b9ca-4eebc3b01977","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2017-05-03-17-56-55","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['1651']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:57:12 GMT']
      Duration: ['725700']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [NpQGIDnQ0ZuxSOBGzhZR5N570W/O27a3aqPTkZbWeVs=]
      ocp-aad-session-key: [crVdRpwRT_2GZ5PqRuM9zANSuy-ZXeHF213RhAzIy6n7tljawZSoBTJVZ_OfPksa5yxjEn0VFPaWgl7U1qphSSf0rM-E9Venf-Bw-SvAG3VpvYKlRA4oVzHL36S8FHxEM3c1vLgEHN7xM0Gf48KEaVMhIp6UrpOhJaKIWZTqr6Pj9e6P3Lwoiixa6gHUhi3pHayiBlYehWRAbh6fa7i3IA.IgjvN-tbxcfi9MxmpjBZvcHwFcCwKBpr_5KHw_wlnvM]
      request-id: [3917fc22-0018-47c8-8e7e-307ff2fce98c]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 200, message: OK}
- request:
    body: '{"keyCredentials": [{"endDate": "2018-05-03T17:57:14.114813Z", "value":
      "MIICnTCCAYUCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\nbjAeFw0xNzA1MDMxNzU3MTRaFw0xODA1MDQxODU3MTRaMBQxEjAQBgNVBAMMCUNM\nSS1Mb2dpbjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMwxCSFaSLE0\ndiV9Y9h46PBnQ2kPRZLXpcjyWSfDTnB8XftsYzfw8B8MkWhT+MPWcsMnX+bAQfHD\nL/vpnOs/nsGrcmj4gnGPwULqK7gXbfip3f2xXM39Q/M7VaI/Cv3LflHqLeRnchvR\nl2wp/JzlFJaaTprwxmaWWvgKw6SvEqpLAGVAdXgYiCR49Cf8iVhhVup9XFTUFiKn\nSjq84UvpCAHIfQdRpXmasE/zemgKyEX1uAva/38yIU3e8bvnQveF0VvV/gCwVNSP\nYAb3m6ZBhiResXmgMbROf8cAWyKf2vkoT1cr3mvkYFHt815xgWqg/KR+ZNHs6ICB\niPbwbvnBoVkCAwEAATANBgkqhkiG9w0BAQUFAAOCAQEABDnqFPF/pMIDXGdM6+Bu\nsYe6BjAp+a9xf5EYvHkTtMi2dH/NGNxZoWoaF7UvVDhGFRdFeyC3rVgEFtAd57Ov\n9QYkbZpksRZUMhFrIyyLgg+k9Uy6kbfZGQTGq6OZpVVM6qBcSj07ZYyrvgGBK+G6\nAVuZhfxvihohDzpFCc6qRA+rdAdWRk9y5vQZbKHVKZeccg70oHse3twRQ2znZRmA\nwZfPuSkYlHcfCCZua2tYsECVMv+zrHBk8qpHjGARDqPgzv7mm1yBRW+hMphKJki6\ng4x+TnHzgIuEF6/bBoQA2HCNrcGqtGuAWGOQvufZ9cQq48/OPrXYgrl7gXeFAmc4\nNg==",
      "type": "AsymmetricX509Cert", "usage": "Verify", "startDate": "2017-05-03T17:57:14.114813Z",
      "keyId": "184b2106-90cf-4517-b375-68151e752fcb"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Length: ['1147']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/33f58e1a-766b-486d-92c1-6347f65a7989?api-version=1.6
  response:
    body: {string: ''}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      DataServiceVersion: [1.0;]
      Date: ['Wed, 03 May 2017 17:57:14 GMT']
      Duration: ['2033310']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [PYwxym7pwiJKTX9pMlU7TPE11z9OunOht914SMB3jo0=]
      ocp-aad-session-key: [o4F6UbWEyIRVtL_YEAXKei42DtFTUcDRB_HJGU275pCkt_273BZTnhdTO4bef_h-hvKw-0dCMcwzoTJ4jdwaAIhvdK8LPfIutDt8_Moz1G8HHh4Twj6Yo2Nytj_OT5EweripLXIIv82QI9MkD4wVe5Q3KOpgTkL4Koh50OtTDDenE6xVVi22GNU1aVcWFem9YW8K6ITMzNfoBnjmsp71Pg.FV7rG6z9TfAMsNIYV6FWMuBRfpEgq10CVEWtJ4inFgA]
      request-id: [9d79f05b-e575-488a-b72a-64e44c7e86d2]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_cert%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"33f58e1a-766b-486d-92c1-6347f65a7989","deletionTimestamp":null,"addIns":[],"appId":"ecfc5c81-c9fc-4ddf-a80a-87d4a44bb658","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2017-05-03-17-56-55","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2017-05-03-17-56-55","identifierUris":["http://cli_create_rbac_sp_cert"],"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-05-03T17:57:14.114813Z","keyId":"184b2106-90cf-4517-b375-68151e752fcb","startDate":"2017-05-03T17:57:14.114813Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2017-05-03-17-56-55","id":"7cb5db26-ecce-40f7-b9ca-4eebc3b01977","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2017-05-03-17-56-55 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2017-05-03-17-56-55","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null}]}'}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      Content-Length: ['1654']
      Content-Type: [application/json;odata=minimalmetadata;streaming=true;charset=utf-8]
      DataServiceVersion: [3.0;]
      Date: ['Wed, 03 May 2017 17:57:14 GMT']
      Duration: ['1685594']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [2mzsumD7v4laEobzcd1BLO71t/RyrMmpEcVHR0ySBgI=]
      ocp-aad-session-key: [vudd5r4SKhPspQgZ59zr_zQanVR2AbWTlldERinF278a_c6nJ3vch8u5UgN2QuX40X5jOPEYKG856SDgNshzBYvWw-DbiQXCSBTCpUIRqLZHI8VRsQ3vmORkbYC-66807LIRMP5zG7UIH9p2UL3g4L06eiL51XJzWn-XRUmqB6EpJPcXqvVYYzCUpDdhU1FcQ0pDHz472Xpr8880_3e59A.BvX0g1LFHgx6HI5itfJYzEAZlsIkIc29MP3caWx5W_M]
      request-id: [5046a49e-386e-4d45-974a-a23be2bda2d5]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 graphrbacmanagementclient/0.30.0rc6 Azure-SDK-For-Python
          AZURECLI/2.0.4+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3e67d9e-3029-11e7-9101-a0b3ccf7272a]
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/33f58e1a-766b-486d-92c1-6347f65a7989?api-version=1.6
  response:
    body: {string: ''}
    headers:
      Access-Control-Allow-Origin: ['*']
      Cache-Control: [no-cache]
      DataServiceVersion: [1.0;]
      Date: ['Wed, 03 May 2017 17:57:15 GMT']
      Duration: ['4689520']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET, ASP.NET]
      ocp-aad-diagnostics-server-name: [WJ9iNj7ky7Q0raKkGm6593SGt4ZAaZkDQgVPLNeXP0c=]
      ocp-aad-session-key: [2SUYl1jhkRj0swoZKQfRKta7Xp8MfdUf4h4ZfSRd_nTof7pm3nWllONRW90z5hI2LER6bPPNRFuiKitSlIVRbQsrTKPEr5plMGsr7KXvxHCRb-h-fCd6mDqBEn_nTzRd8UQXbn8K1X8Kp-p40Hp5yxllXJvrVOK-qt0GHBUxxf3PWfKe3jb8XptIlaNPbjzeEMb12O38V7VYpzySlFF6QA.1SAP9nQZ9OP5A3Ya-xbTVPKYg7eDYaG1jad9t4Q7Mq8]
      request-id: [a5f304e2-329d-4ad2-b752-2f21bd49feb3]
      x-ms-dirapi-data-contract-version: ['1.6']
    status: {code: 204, message: No Content}
version: 1
