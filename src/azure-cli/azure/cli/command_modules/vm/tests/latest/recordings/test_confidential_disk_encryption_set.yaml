interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name -g --sku --enable-purge-protection --retention-days --enable-rbac-authorization
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_confidential_disk_encryption_set_000001?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001","name":"cli_test_confidential_disk_encryption_set_000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_confidential_disk_encryption_set","date":"2025-07-14T05:05:30Z","module":"vm"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '435'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:05:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 5456D875FD1544B7A7D79E8C1D787158 Ref B: BN1AA2051014047 Ref C: 2025-07-14T05:05:32Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name -g --sku --enable-purge-protection --retention-days --enable-rbac-authorization
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2024-11-01
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.KeyVault/vaults/vault-000002''
        under resource group ''cli_test_confidential_disk_encryption_set_000001''
        was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '258'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:05:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
      x-msedge-ref:
      - 'Ref A: 1E31BF21A34B499A9F16255F603D910F Ref B: BN1AA2051012023 Ref C: 2025-07-14T05:05:32Z'
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name -g --sku --enable-purge-protection --retention-days --enable-rbac-authorization
      User-Agent:
      - python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35) AZURECLI/2.75.0
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://graph.microsoft.com/v1.0/me
  response:
    body:
      string: '{"error":{"code":"BadRequest","message":"/me request is only valid
        with delegated authentication flow.","innerError":{"date":"2025-07-14T05:05:33","request-id":"a257f88f-2681-412f-9a1d-f81410a5dfa6","client-request-id":"a257f88f-2681-412f-9a1d-f81410a5dfa6"}}}'
    headers:
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Mon, 14 Jul 2025 05:05:32 GMT
      request-id:
      - a257f88f-2681-412f-9a1d-f81410a5dfa6
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"East US","Slice":"E","Ring":"5","ScaleUnit":"009","RoleInstance":"BL6PEPF00035BAD"}}'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name -g --sku --enable-purge-protection --retention-days --enable-rbac-authorization
      User-Agent:
      - python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35) AZURECLI/2.75.0
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=servicePrincipalNames%2Fany%28c%3Ac%20eq%20%27780b0786-4007-4688-8198-cfe48ee40b16%27%29
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals","value":[{"id":"c713b965-a548-4034-a880-1613a7fcaa90","deletedDateTime":null,"accountEnabled":true,"alternativeNames":[],"appDisplayName":"azure-cli-bami-test","appDescription":null,"appId":"780b0786-4007-4688-8198-cfe48ee40b16","applicationTemplateId":null,"appOwnerOrganizationId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","appRoleAssignmentRequired":false,"createdDateTime":"2025-07-03T02:31:20Z","description":null,"disabledByMicrosoftStatus":null,"displayName":"azure-cli-bami-test","homepage":null,"loginUrl":null,"logoutUrl":null,"managedIdentityResourceId":null,"microsoftPolicyGroup":null,"notes":null,"notificationEmailAddresses":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyThumbprint":null,"replyUrls":[],"servicePrincipalNames":["780b0786-4007-4688-8198-cfe48ee40b16"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":["HideApp","WindowsAzureActiveDirectoryIntegratedApp"],"tokenEncryptionKeyId":null,"tokensRevocationDateTime":null,"appMetadata":null,"samlSingleSignOnSettings":null,"addIns":[],"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[],"oauth2PermissionScopes":[],"passwordCredentials":[],"resourceSpecificApplicationPermissions":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1466'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:05:32 GMT
      odata-version:
      - '4.0'
      request-id:
      - e054bf0e-33c3-4708-b3c2-838d4ada9dba
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"East US","Slice":"E","Ring":"5","ScaleUnit":"010","RoleInstance":"MN1PEPF000278C3"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"tenantId": "213e87ed-8e08-4eb4-a63c-c073058f7b00",
      "sku": {"family": "A", "name": "Premium"}, "accessPolicies": [{"tenantId": "213e87ed-8e08-4eb4-a63c-c073058f7b00",
      "objectId": "c713b965-a548-4034-a880-1613a7fcaa90", "permissions": {"keys":
      ["all"], "secrets": ["all"], "certificates": ["all"], "storage": ["all"]}}],
      "enableSoftDelete": true, "softDeleteRetentionInDays": 7, "enableRbacAuthorization":
      false, "enablePurgeProtection": true, "networkAcls": {"bypass": "AzureServices",
      "defaultAction": "Allow"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      Content-Length:
      - '551'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name -g --sku --enable-purge-protection --retention-days --enable-rbac-authorization
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"780b0786-4007-4688-8198-cfe48ee40b16","createdByType":"Application","createdAt":"2025-07-14T05:05:34.249Z","lastModifiedBy":"780b0786-4007-4688-8198-cfe48ee40b16","lastModifiedByType":"Application","lastModifiedAt":"2025-07-14T05:05:34.249Z"},"properties":{"sku":{"family":"A","name":"Premium"},"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","accessPolicies":[{"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","objectId":"c713b965-a548-4034-a880-1613a7fcaa90","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net","provisioningState":"RegisteringDns","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1177'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:05:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.183.0
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/88973aeb-c42d-47c7-9425-20860b38932a
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 8460C3ECE47840768F6DA92B55AD347E Ref B: BN1AA2051012029 Ref C: 2025-07-14T05:05:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name -g --sku --enable-purge-protection --retention-days --enable-rbac-authorization
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"780b0786-4007-4688-8198-cfe48ee40b16","createdByType":"Application","createdAt":"2025-07-14T05:05:34.249Z","lastModifiedBy":"780b0786-4007-4688-8198-cfe48ee40b16","lastModifiedByType":"Application","lastModifiedAt":"2025-07-14T05:05:34.249Z"},"properties":{"sku":{"family":"A","name":"Premium"},"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","accessPolicies":[{"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","objectId":"c713b965-a548-4034-a880-1613a7fcaa90","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"RegisteringDns","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1178'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:05:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.183.0
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: F7A9FD12376B4E18BF83F50B0CED77E1 Ref B: BN1AA2051015031 Ref C: 2025-07-14T05:05:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name -g --sku --enable-purge-protection --retention-days --enable-rbac-authorization
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"780b0786-4007-4688-8198-cfe48ee40b16","createdByType":"Application","createdAt":"2025-07-14T05:05:34.249Z","lastModifiedBy":"780b0786-4007-4688-8198-cfe48ee40b16","lastModifiedByType":"Application","lastModifiedAt":"2025-07-14T05:05:34.249Z"},"properties":{"sku":{"family":"A","name":"Premium"},"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","accessPolicies":[{"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","objectId":"c713b965-a548-4034-a880-1613a7fcaa90","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1173'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.183.0
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: D76618DE154F4EB9AF8978B3D84F65B4 Ref B: BN1AA2051012027 Ref C: 2025-07-14T05:06:07Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"780b0786-4007-4688-8198-cfe48ee40b16","createdByType":"Application","createdAt":"2025-07-14T05:05:34.249Z","lastModifiedBy":"780b0786-4007-4688-8198-cfe48ee40b16","lastModifiedByType":"Application","lastModifiedAt":"2025-07-14T05:05:34.249Z"},"properties":{"sku":{"family":"A","name":"Premium"},"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","accessPolicies":[{"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","objectId":"c713b965-a548-4034-a880-1613a7fcaa90","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1173'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.183.0
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: D7AB60E5C964434E997A27BCB6BE80FE Ref B: BN1AA2051012027 Ref C: 2025-07-14T05:06:08Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      ParameterSetName:
      - --vault-name --name --ops --kty --size --exportable --policy
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://vault-000002.vault.azure.net/keys/key-000003/create?api-version=7.6-preview.2
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/213e87ed-8e08-4eb4-a63c-c073058f7b00",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=52.232.192.234;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.2497.1
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA-HSM", "key_size": 3072, "attributes": {"enabled": true, "exportable":
      true}, "key_ops": ["wrapKey", "unwrapKey"], "release_policy": {"data": "eyJhbnlPZiI6IFt7ImFsbE9mIjogW3siY2xhaW0iOiAieC1tcy1hdHRlc3RhdGlvbi10eXBlIiwgImVxdWFscyI6ICJzZXZzbnB2bSJ9LCB7ImNsYWltIjogIngtbXMtY29tcGxpYW5jZS1zdGF0dXMiLCAiZXF1YWxzIjogImF6dXJlLWNvbXBsaWFudC1jdm0ifV0sICJhdXRob3JpdHkiOiAiaHR0cHM6Ly9zaGFyZWRldXMuZXVzLmF0dGVzdC5henVyZS5uZXQvIn0sIHsiYWxsT2YiOiBbeyJjbGFpbSI6ICJ4LW1zLWF0dGVzdGF0aW9uLXR5cGUiLCAiZXF1YWxzIjogInNldnNucHZtIn0sIHsiY2xhaW0iOiAieC1tcy1jb21wbGlhbmNlLXN0YXR1cyIsICJlcXVhbHMiOiAiYXp1cmUtY29tcGxpYW50LWN2bSJ9XSwgImF1dGhvcml0eSI6ICJodHRwczovL3NoYXJlZHd1cy53dXMuYXR0ZXN0LmF6dXJlLm5ldC8ifSwgeyJhbGxPZiI6IFt7ImNsYWltIjogIngtbXMtYXR0ZXN0YXRpb24tdHlwZSIsICJlcXVhbHMiOiAic2V2c25wdm0ifSwgeyJjbGFpbSI6ICJ4LW1zLWNvbXBsaWFuY2Utc3RhdHVzIiwgImVxdWFscyI6ICJhenVyZS1jb21wbGlhbnQtY3ZtIn1dLCAiYXV0aG9yaXR5IjogImh0dHBzOi8vc2hhcmVkbmV1Lm5ldS5hdHRlc3QuYXp1cmUubmV0LyJ9LCB7ImFsbE9mIjogW3siY2xhaW0iOiAieC1tcy1hdHRlc3RhdGlvbi10eXBlIiwgImVxdWFscyI6ICJzZXZzbnB2bSJ9LCB7ImNsYWltIjogIngtbXMtY29tcGxpYW5jZS1zdGF0dXMiLCAiZXF1YWxzIjogImF6dXJlLWNvbXBsaWFudC1jdm0ifV0sICJhdXRob3JpdHkiOiAiaHR0cHM6Ly9zaGFyZWR3ZXUud2V1LmF0dGVzdC5henVyZS5uZXQvIn1dLCAidmVyc2lvbiI6ICIxLjAuMCJ9"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key create
      Connection:
      - keep-alive
      Content-Length:
      - '1250'
      Content-Type:
      - application/json
      ParameterSetName:
      - --vault-name --name --ops --kty --size --exportable --policy
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://vault-000002.vault.azure.net/keys/key-000003/create?api-version=7.6-preview.2
  response:
    body:
      string: '{"key":{"kid":"https://vault-000002.vault.azure.net/keys/key-000003/a2f5a0d249684e2bb30a473f006c0144","kty":"RSA-HSM","key_ops":["wrapKey","unwrapKey"],"n":"qWwlQHeF16XgGjfmxrEuI-Ou1v2xSgDi5G-wYdnPVVFREyYgR240yushi5qoKCn8-s2G-yQElPDqz5z8JARDAm2Pjq6BnT2NcKZ2IJwiRcWi1gEV2V4LVdMy2D8Jxu37Ozx7CE-QfpOF2H9XVeX4e8Y8_pkzIeniWGwL_JSVxP3gibJJOxNQUU2b1GZ_jxbDGVBUw9u0yycI9m9Q5uvimHv0BWzxSvDD-9b-qOgv49ayQKZQMIwkpgGGPRDzoH2SUVptK2EJdUpITC80Yd0P41gJbhRQS418-d7Exd2a_xgza68znuOVYafYl830_jsbgX7xQXy6C-KEUcsmpBfVe6WkaJnV22lU4ByU6pc7iIWxKDkeVHH1eKLm2rscC2EbhoIycc0guXQyzToFvFoZQ3dFnhUJSvaHv5EINU0IF8Z5KLnl-c6d84vrfAIbgF-1TETXByfWJWFx9C6L7Oc9peK-fg-HSJeRlGD0GYP9u2skTYNJ0rZqDV6FJ_yieOin","e":"AQAB"},"attributes":{"enabled":true,"created":1752469571,"updated":1752469571,"recoveryLevel":"CustomizedRecoverable","recoverableDays":7,"exportable":true,"hsmPlatform":"2"},"release_policy":{"contentType":"application/json;
        charset=utf-8","data":"eyJ2ZXJzaW9uIjoiMS4wLjAiLCJhbnlPZiI6W3siYXV0aG9yaXR5IjoiaHR0cHM6Ly9zaGFyZWRldXMuZXVzLmF0dGVzdC5henVyZS5uZXQvIiwiYWxsT2YiOlt7ImNsYWltIjoieC1tcy1hdHRlc3RhdGlvbi10eXBlIiwiZXF1YWxzIjoic2V2c25wdm0ifSx7ImNsYWltIjoieC1tcy1jb21wbGlhbmNlLXN0YXR1cyIsImVxdWFscyI6ImF6dXJlLWNvbXBsaWFudC1jdm0ifV19LHsiYXV0aG9yaXR5IjoiaHR0cHM6Ly9zaGFyZWR3dXMud3VzLmF0dGVzdC5henVyZS5uZXQvIiwiYWxsT2YiOlt7ImNsYWltIjoieC1tcy1hdHRlc3RhdGlvbi10eXBlIiwiZXF1YWxzIjoic2V2c25wdm0ifSx7ImNsYWltIjoieC1tcy1jb21wbGlhbmNlLXN0YXR1cyIsImVxdWFscyI6ImF6dXJlLWNvbXBsaWFudC1jdm0ifV19LHsiYXV0aG9yaXR5IjoiaHR0cHM6Ly9zaGFyZWRuZXUubmV1LmF0dGVzdC5henVyZS5uZXQvIiwiYWxsT2YiOlt7ImNsYWltIjoieC1tcy1hdHRlc3RhdGlvbi10eXBlIiwiZXF1YWxzIjoic2V2c25wdm0ifSx7ImNsYWltIjoieC1tcy1jb21wbGlhbmNlLXN0YXR1cyIsImVxdWFscyI6ImF6dXJlLWNvbXBsaWFudC1jdm0ifV19LHsiYXV0aG9yaXR5IjoiaHR0cHM6Ly9zaGFyZWR3ZXUud2V1LmF0dGVzdC5henVyZS5uZXQvIiwiYWxsT2YiOlt7ImNsYWltIjoieC1tcy1hdHRlc3RhdGlvbi10eXBlIiwiZXF1YWxzIjoic2V2c25wdm0ifSx7ImNsYWltIjoieC1tcy1jb21wbGlhbmNlLXN0YXR1cyIsImVxdWFscyI6ImF6dXJlLWNvbXBsaWFudC1jdm0ifV19XX0","immutable":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1977'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=52.232.192.234;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.2497.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --key-url --encryption-type
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_confidential_disk_encryption_set_000001?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001","name":"cli_test_confidential_disk_encryption_set_000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_confidential_disk_encryption_set","date":"2025-07-14T05:05:30Z","module":"vm"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '435'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: AACB47F2E1E6461994FFED61B84D8E73 Ref B: BN1AA2051012029 Ref C: 2025-07-14T05:06:11Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "SystemAssigned"}, "location": "westus", "properties":
      {"activeKey": {"keyUrl": "https://vault-000002.vault.azure.net/keys/key-000003/a2f5a0d249684e2bb30a473f006c0144"},
      "encryptionType": "ConfidentialVmEncryptedWithCustomerKey"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      Content-Length:
      - '252'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --key-url --encryption-type
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004?api-version=2023-04-02
  response:
    body:
      string: "{\r\n  \"location\": \"westus\",\r\n  \"identity\": {\r\n    \"type\":
        \"SystemAssigned\"\r\n  },\r\n  \"properties\": {\r\n    \"activeKey\": {\r\n
        \     \"keyUrl\": \"https://vault-000002.vault.azure.net/keys/key-000003/a2f5a0d249684e2bb30a473f006c0144\"\r\n
        \   },\r\n    \"encryptionType\": \"ConfidentialVmEncryptedWithCustomerKey\",\r\n
        \   \"provisioningState\": \"Updating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/82a7c4af-2506-493b-85b9-f2420c43e005?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880663745198308&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=Kw0ve91U5gwal1nRUXnazjIy4g1Z7ZyFnObWNkS_WvVI7SGfjnAGXLOjoVSzygIOiNnVOneEV7l4r5yu6sBMsOgczO1_uNhM-AqQaGYOjjZK9v5WVR_7jMC-LBpv_70XxIGdWFkmhWQ_2z7Gr-uehX5NodYZqNkjcmqpHnAp_iNrWsAV92qeYWD3LYbq2I413_boHuBEbHXHCD_yOBSpaokyNHaHLXD6ZQ_mfM6GnXjXHl7WRjUHphdCw1qOjTTtt-_O0oKvWW2CitLpVVlmMbgpIEsSAXCqHGLXua0DtkREvTpS9xKZxy4DUduYGmll3VJePx5YtEQKYRKHWwTuPw&h=1QN5uZR6cf9G6ZBk77st7mh9E12qBTsTlp0WelVC_sA
      cache-control:
      - no-cache
      content-length:
      - '341'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:14 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/82a7c4af-2506-493b-85b9-f2420c43e005?p=98b95826-9f92-41ba-82e9-438afe89cae9&monitor=true&api-version=2023-04-02&t=638880663745354596&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=b4qJmlE3uIp6TVkatcLoUc7C_BNKO_7X8PlmvKF4LyaYUill6sPQEqGLXiyCbyLtl-xOndU5SsvFciTT4gP-D7h8db71xytgTomLZ3ZiOrQg4WpyKAMTwLMmQo_Turw7l9L9x48dCZhwcKVxaYHZMi5rZF1lwBEZmBncgMmFBMibeiLpuwWRU1-sUecKsPufGEEhk3msM4bNYKUgqUg-TarrVMDefr3TK6tU-Qo7nX8ZEeGXYp_NeB9OVH2-gGHqag9iQyGllYVn6tGuCd5kFjADXZo8r4utbly-_a9s072DzjvCXEX8DCUN4z1kFy2MBpK6YmrKZdbf4e0RJ8dx-w&h=BrQJE5ln9FgCi7ZWg_VV2pXAtunV5RdPc6fYGEiiJJI
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/b4e1fe63-469a-41b9-a636-11a59ee7b8fe
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/HighCostDiskEncryptionSet3Min;96,Microsoft.Compute/HighCostDiskEncryptionSet30Min;294
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 0F9C84C6618341A4BEC54F7A9548EB04 Ref B: BN1AA2051014039 Ref C: 2025-07-14T05:06:12Z'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --key-url --encryption-type
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/82a7c4af-2506-493b-85b9-f2420c43e005?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880663745198308&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=Kw0ve91U5gwal1nRUXnazjIy4g1Z7ZyFnObWNkS_WvVI7SGfjnAGXLOjoVSzygIOiNnVOneEV7l4r5yu6sBMsOgczO1_uNhM-AqQaGYOjjZK9v5WVR_7jMC-LBpv_70XxIGdWFkmhWQ_2z7Gr-uehX5NodYZqNkjcmqpHnAp_iNrWsAV92qeYWD3LYbq2I413_boHuBEbHXHCD_yOBSpaokyNHaHLXD6ZQ_mfM6GnXjXHl7WRjUHphdCw1qOjTTtt-_O0oKvWW2CitLpVVlmMbgpIEsSAXCqHGLXua0DtkREvTpS9xKZxy4DUduYGmll3VJePx5YtEQKYRKHWwTuPw&h=1QN5uZR6cf9G6ZBk77st7mh9E12qBTsTlp0WelVC_sA
  response:
    body:
      string: "{\r\n  \"startTime\": \"2025-07-14T05:06:14.4517177+00:00\",\r\n  \"endTime\":
        \"2025-07-14T05:06:14.4986427+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"properties\": {\r\n    \"output\": {\r\n  \"name\": \"des-000004\",\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\",\r\n
        \ \"type\": \"Microsoft.Compute/diskEncryptionSets\",\r\n  \"location\": \"westus\",\r\n
        \ \"identity\": {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\":
        \"29cf62fc-2c08-45b4-b359-928a67c07387\",\r\n    \"tenantId\": \"213e87ed-8e08-4eb4-a63c-c073058f7b00\"\r\n
        \ },\r\n  \"properties\": {\r\n    \"activeKey\": {\r\n      \"keyUrl\": \"https://vault-000002.vault.azure.net/keys/key-000003/a2f5a0d249684e2bb30a473f006c0144\"\r\n
        \   },\r\n    \"encryptionType\": \"ConfidentialVmEncryptedWithCustomerKey\",\r\n
        \   \"provisioningState\": \"Succeeded\"\r\n  }\r\n}\r\n  },\r\n  \"name\":
        \"82a7c4af-2506-493b-85b9-f2420c43e005\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '946'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/5d27514f-4da6-45af-b381-defcc5ad72b2
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49989,Microsoft.Compute/GetOperation30Min;399954
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: A6E13732B2C74F36B767BE71324E48CC Ref B: BN1AA2051015029 Ref C: 2025-07-14T05:06:14Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --key-url --encryption-type
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004?api-version=2023-04-02
  response:
    body:
      string: "{\r\n  \"name\": \"des-000004\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\",\r\n
        \ \"type\": \"Microsoft.Compute/diskEncryptionSets\",\r\n  \"location\": \"westus\",\r\n
        \ \"identity\": {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\":
        \"29cf62fc-2c08-45b4-b359-928a67c07387\",\r\n    \"tenantId\": \"213e87ed-8e08-4eb4-a63c-c073058f7b00\"\r\n
        \ },\r\n  \"properties\": {\r\n    \"activeKey\": {\r\n      \"keyUrl\": \"https://vault-000002.vault.azure.net/keys/key-000003/a2f5a0d249684e2bb30a473f006c0144\"\r\n
        \   },\r\n    \"encryptionType\": \"ConfidentialVmEncryptedWithCustomerKey\",\r\n
        \   \"provisioningState\": \"Succeeded\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;14985,Microsoft.Compute/LowCostGet30Min;119967
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 26C9EE492AA14459B327345EB07F3A9F Ref B: BN1AA2051012021 Ref C: 2025-07-14T05:06:15Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004?api-version=2023-04-02
  response:
    body:
      string: "{\r\n  \"name\": \"des-000004\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\",\r\n
        \ \"type\": \"Microsoft.Compute/diskEncryptionSets\",\r\n  \"location\": \"westus\",\r\n
        \ \"identity\": {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\":
        \"29cf62fc-2c08-45b4-b359-928a67c07387\",\r\n    \"tenantId\": \"213e87ed-8e08-4eb4-a63c-c073058f7b00\"\r\n
        \ },\r\n  \"properties\": {\r\n    \"activeKey\": {\r\n      \"keyUrl\": \"https://vault-000002.vault.azure.net/keys/key-000003/a2f5a0d249684e2bb30a473f006c0144\"\r\n
        \   },\r\n    \"encryptionType\": \"ConfidentialVmEncryptedWithCustomerKey\",\r\n
        \   \"provisioningState\": \"Succeeded\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;14984,Microsoft.Compute/LowCostGet30Min;119966
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 650281C6DBF749BC9AB3ACA60A4E49CE Ref B: BN1AA2051012037 Ref C: 2025-07-14T05:06:15Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"780b0786-4007-4688-8198-cfe48ee40b16","createdByType":"Application","createdAt":"2025-07-14T05:05:34.249Z","lastModifiedBy":"780b0786-4007-4688-8198-cfe48ee40b16","lastModifiedByType":"Application","lastModifiedAt":"2025-07-14T05:05:34.249Z"},"properties":{"sku":{"family":"A","name":"Premium"},"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","accessPolicies":[{"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","objectId":"c713b965-a548-4034-a880-1613a7fcaa90","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1173'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.183.0
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: B7621B2096CE4BC0A91B26F0E920F412 Ref B: BN1AA2051015027 Ref C: 2025-07-14T05:06:16Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "213e87ed-8e08-4eb4-a63c-c073058f7b00",
      "sku": {"family": "A", "name": "Premium"}, "accessPolicies": [{"tenantId": "213e87ed-8e08-4eb4-a63c-c073058f7b00",
      "objectId": "c713b965-a548-4034-a880-1613a7fcaa90", "permissions": {"keys":
      ["all"], "secrets": ["all"], "certificates": ["all"], "storage": ["all"]}},
      {"tenantId": "213e87ed-8e08-4eb4-a63c-c073058f7b00", "objectId": "29cf62fc-2c08-45b4-b359-928a67c07387",
      "permissions": {"keys": ["get", "unwrapKey", "wrapKey"]}}], "vaultUri": "https://vault-000002.vault.azure.net/",
      "enabledForDeployment": false, "enabledForDiskEncryption": false, "enabledForTemplateDeployment":
      false, "enableSoftDelete": true, "softDeleteRetentionInDays": 7, "enableRbacAuthorization":
      false, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '883'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"780b0786-4007-4688-8198-cfe48ee40b16","createdByType":"Application","createdAt":"2025-07-14T05:05:34.249Z","lastModifiedBy":"780b0786-4007-4688-8198-cfe48ee40b16","lastModifiedByType":"Application","lastModifiedAt":"2025-07-14T05:06:17.043Z"},"properties":{"sku":{"family":"A","name":"Premium"},"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","accessPolicies":[{"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","objectId":"c713b965-a548-4034-a880-1613a7fcaa90","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"213e87ed-8e08-4eb4-a63c-c073058f7b00","objectId":"29cf62fc-2c08-45b4-b359-928a67c07387","permissions":{"keys":["get","unwrapKey","wrapKey"]}}],"enabledForDeployment":false,"enabledForDiskEncryption":false,"enabledForTemplateDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enableRbacAuthorization":false,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1328'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 2.2.183.0
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/b79cddba-fa31-4896-a8a2-647cbcc6c411
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 04D8B1704C14493A908F12030E1EAF07 Ref B: BN1AA2051013025 Ref C: 2025-07-14T05:06:16Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --assignee --role --scope
      User-Agent:
      - python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35) AZURECLI/2.75.0
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=servicePrincipalNames%2Fany%28c%3Ac%20eq%20%2729cf62fc-2c08-45b4-b359-928a67c07387%27%29
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '92'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:31 GMT
      odata-version:
      - '4.0'
      request-id:
      - 2e20e29d-9197-427f-8e04-d31c7f01a499
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"East US","Slice":"E","Ring":"5","ScaleUnit":"006","RoleInstance":"BL6PEPF0001B997"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"ids": ["29cf62fc-2c08-45b4-b359-928a67c07387"], "types": ["user", "group",
      "servicePrincipal", "directoryObjectPartnerReference"]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '132'
      Content-Type:
      - application/json
      ParameterSetName:
      - --assignee --role --scope
      User-Agent:
      - python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35) AZURECLI/2.75.0
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://graph.microsoft.com/v1.0/directoryObjects/getByIds
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#directoryObjects","value":[{"@odata.type":"#microsoft.graph.servicePrincipal","id":"29cf62fc-2c08-45b4-b359-928a67c07387","deletedDateTime":null,"accountEnabled":true,"alternativeNames":["isExplicit=False","/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004"],"appDisplayName":null,"appDescription":null,"appId":"eb784643-bd3c-4dba-b43f-1a975a94ca02","applicationTemplateId":null,"appOwnerOrganizationId":null,"appRoleAssignmentRequired":false,"createdDateTime":"2025-07-14T05:06:13Z","description":null,"disabledByMicrosoftStatus":null,"displayName":"des-000004","homepage":null,"loginUrl":null,"logoutUrl":null,"managedIdentityResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004","microsoftPolicyGroup":null,"notes":null,"notificationEmailAddresses":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyThumbprint":null,"replyUrls":[],"servicePrincipalNames":["eb784643-bd3c-4dba-b43f-1a975a94ca02","https://identity.azure.net/cMeFyEkBcYHWK6mzDLSikw+D2TZ0T93lQLK+heMz/u4="],"servicePrincipalType":"ManagedIdentity","signInAudience":null,"tags":[],"tokenEncryptionKeyId":null,"tokensRevocationDateTime":null,"appMetadata":{"version":1,"data":[{"key":"Identity","value":"eyJ2ZXJzaW9uIjoyLCJyZXNvdXJjZUlkIjoiL3N1YnNjcmlwdGlvbnMvNjAzMGZiOWEtNmVkNy00NDE0LWIzNzktYWZkNTU4YTk1NGU2L3Jlc291cmNlZ3JvdXBzL2NsaV90ZXN0X2NvbmZpZGVudGlhbF9kaXNrX2VuY3J5cHRpb25fc2V0X2IzdmNlbnFmbm53YmFhdTNwaWhnbmZwcXJ2YXVpeGlzby9wcm92aWRlcnMvTWljcm9zb2Z0LkNvbXB1dGUvZGlza0VuY3J5cHRpb25TZXRzL2Rlcy01c2l0bDJnajVhc2hwN2VnIiwibG9jYXRpb24iOiJ3ZXN0dXMiLCJlbmNyeXB0ZWREYXRhIjoiTUlJVnRBWUpLb1pJaHZjTkFRY0RvSUlWcFRDQ0ZhRUNBUUl4Z2dFeW9vSUJMZ0lCQkRDQjhRUlVUQUFBQUFBQUFBQUJBQUFBUzBSVFN3WUFBQUJyQVFBQURBQUFBQmdBQUFBcGdWVUllMlBXYk52Q0lsbmp6a2pySUFBQUFEcEtsdWlOanNveU02RmkwZXl0RXV1U19CMHpVSzE0YTJEX0gxOVFwYzdXTUlHWUJna3JCZ0VFQVlJM1NnRXdnWW9HQ2lzR0FRUUJnamRLQVEwd2ZEQjZNSGdNQkVSVFZGTU1jSFZ6ZDJWemRDMWthMlJ6TG1SclpITXVZMjl5WlM1M2FXNWtiM2R6TG01bGREdG9kSFJ3T2k4dmMyTm9aVzFoY3k1NGJXeHpiMkZ3TG05eVp5OTNjeTh5TURBMUx6QTFMMmxrWlc1MGFYUjVMMk5zWVdsdGN5OXVZVzFsTzIxcGNuQXRjSEp2WkMxa2JYTnBMV1JyWkhNd0N3WUpZSVpJQVdVREJBRXRCQ2dKMFBiQlBueXl3cnZXQ3F5MzN0Mlk2UVdzejA4UGk2dUcyZ3RQbjl4WlVha2xuSjU4OVdjbk1JSVVaQVlKS29aSWh2Y05BUWNCTUI0R0NXQ0dTQUZsQXdRQkxqQVJCQXdVLUItSWh6VzF0SEF4SWRvQ0FSQ0FnaFExY0htdC00bUQ4TThnRG93anJIMktPSHMxcDlSX2pKOHlmdHJxOVJOdm5YSGJ5VTR5c1BDbmhJOUJOb3MzT1k0SEtPbkpudDZieVRBR0FqdWlka09pYkRsaGxKOUptQVVsSlVkWHFOdTNlMUoydVh2VjVQalJFWEk3YlNwaElPVEtTY3c0MEllZ3B5aUFsYXNVTlFFMmhGdG9OcDdWbU5XenpyZU00R29DOHk0bVBaX2RaWl9WWEhlZ0hJRTRhVTlDcTVwNTVRd2pzeFRoalBZNkdGZXFUbTJ5S2NSTFM5d2F2RW9xOEtpOHQtN3JzaXp0d1dqVGJZVHk0QWJsc2VheDJDSHFqeXdDcmJObTctc0FuUDcwSUJGRjdxVlRFblhiUVExbEUxWkFacEk1VEowaG5QZ0tJSzlueFA1NkYzMzRDLWRuajQ0TEtLZjFrZjRvb25SM0otWmxNVFJTTFdzellyNGNQV084MnZkRVU0ekJxcXdJTEo4b1RpbFFvS1VsR2NwUGt6UFhEOTV5XzlFZm1lVkprS3dtVG9tV3Rwalc4RDJ3M01FS2lWV1NyWDRPS0xweHhQbHBGNDYxVnVKaE1aU3hjemkta3phcjIxZG1TTEtVbnc0TWliYTl2ZjJJVWJjTURTTlU0cW4wbWhEYWFDSVdXOWdaUU9yWXB3bnJkcmRwUVdtWWtfSzB2bnh4UzJBQ1pUd25XdllvSEtMeS15cVVIeFl0YzhWYl9YV2ltMnhFSHc0RW94SURDbGZaVXNIODl3cDQ4RTEyS01UbUUtS0ZIcEMydmh0ZEpNOWFMcm13UWlqRFVNa0VtUGI3OVVFVkxGd0NycktPS1VSSFM5UmpuNk5IT1k5TTNic2NJVHkza2g2aU1FZWJZRFJVMU1OMFBueFJMUHpZTmx2UDdWUldRenpMbDNoeWtzRk1vWkhIeDE1WmJDRFJTQ1hOTG1nbWN4NXRtMEtNTU1meUdoeWt6ek8wMkpCRF9NVU10WTdKM2tSeXVvSG5CWGVETm55Z09Qdjd6OC1ZOWVPMXpKa2JmeXpibnRfS0EyRkJjaWJjQXVfbVhPT0VtSHRzVEdkamRaZ2dPV09sMzFqRzltOG54bGxsV1RHa3hvRXZ0M0xyVG9wSFprdUw3WjB6bDdYU0I2aEtNaUotNjctT1ZQUjNIS1pwd21iVnRrN0RodGlsazNFZjYtOElfWFN5LVc2bnhKNWRqZVUyQjA4M2tCNFUtcEE5cWhGLVI3M0R0MHJKdkN0ZmoxSDRZOUpRMEtrYTJQcU14Q1RadzVrQ2NueWxOeng0d3VfZ0ljaFVWYVZDbGNJYks1Y1pnVXFySVZRZW9aaGZzV1VEem1SYVNidTRmeTNhM3RRUUdzM3hfY2NQZHdFYjdudXQ0ZVNOWDdibll1bTNKaEQ2T0dWaC1FWmswRlVmb3NydUJrMnlXYUVTa2Y1aFZIVFJyYkJtUnY1Q0tKQzJRQUFEeU9uLV9KdWs5MDZBZzlYMmR2Nk1TMnM0cE5XMHNvc1ZRTktTWno3QkE1UmdmaGF2MVVvU0NwNnhZVXhaRGt5YzM0MzRZM2ZvMHh0eHpYaFhYSG93dmFuQkNRZi02c3NpM2ZyUF9ITTFqLWNGUHI5LXRBQThRQlZoTzZxSzlKVVI0dEtrXzFOV2dqZVdZVnlBcHdhVkQ1UGhCSjBvbWotWnpOTmozS0t6dUlrcy1IN2pLc0FEYjZIU3RsS3o3ZDBXZjdrdUNETlBaUFdRTzc1VXJySHVKLVN6dG1QNkpaV0dWbXphVjVwTWppN0JfTzVCcUVJU2UzSGZyMWFOU09NSEU4T0NIYUIyQ2toWEJsb0JUN2V2MXVtblQ1OWNwWk9KNHhhTUwxVmg5VTNGZUstN2d3aUNlVURMQ2lKM1JxMm5FcnhuU25QT0dTRmlPTU9LNXVjTXRBbUp0UkZHdU9MUm94Nkg4azlwV19aVlR4X25HOUowdHk3TDV4cWdFZUc5dE02U0xsMUNjbWMyMUpMNVlJd2duRFJXWjdBeFVQNmZES3NOTndiRnJtQk9hdXNBdW9mTHd5Qk91dWtIb3VzdllHLUc5UGJ5M1diclFwVm1YWDhDa214b3dheEQ5aUVZSUlSOVFlUEpmQnZZa2NzR2FJc191Mngydm1zcXBKWVo3eUhNUkJyVDBHTXJGX21zeTEwRXA1NVlZbVppMnc4RnlqdFZPV0o3UFJPZDJPTjk5aHBJM1o5SnBOeWF0Zjd4Vy1Fem9Ra21CRG43QWdod3Z6WElPQjIyemRubWVnVTRFeHk2S0hZXzJRSGZXQ2VISDdiN2lEVW9teWhCd0pEV1poNVZySGhwa2xCOEpHUmdMSlVzU3BFUHlSRHVQc3JHOWxDR1NONUpYeG03c01KNlZ3WmJMMDU0dHZqQ2NUYlVubXpKLXNZLV92TERlb2dtbUE5dEdiRzZCQldwaFVWaHpXckUzYVhvdzl5VmZnTnZGejdXanVmcEJvQ0ZBU291T0Vod0JYUS1rYUpvTVBfQnpIbEJoeE00ZVJNMEE2YXpTbnEzSkkwakZrcklzZXl3ZVpCNloySks3ZlZ5OTlhbGJFcloxcUlQbkdUT1ZlTFVWMnBGdTZhV3I0c3ZCZDAtdGR6WW1rbFlJdDYtOWhhWmhhY3RuZGg4eGNTbnprNGI0NDhsZnZmeXRQS3QwWExUWThQLUJSMFNTaTlvbEFtMmJoTFZBRDBzOE9NUENqcjhlRF9ta0h0YVE1T2xiVnZjdzU4QnVWc0NxWmFzekRZRjFac3kwdW9DWTFMa3NqbjF3SW9XRV9pcENmWGF3Zy16cnpkVTVKdVJocXVIdlRnTS1nUWs5bVRac2M3dGl0cGZTWUJ4NTJ6NVQ5cGd3Qno3aF9rWGJyTTlHLWtFb3R4eDdzVUM0enVBUzhCaVJiaGNYaGMtWEltc0hkYzJTOWdxMTNMQzFwY3hEclNWVHdOUzZtV01Fck5CTDNuRTdqaGJzUGNLX3VacEhSemxEMVBVbTBOWTRyTnphalNuQzdicjJTMnVjX2tUM1hLdmNqdXpSN1RNLVdUY3BqRHRUa3ByUkM3Y0dGbV9xWWlhXzIwOTZteXNwSTVEVEJfSERTUEd5VDRvSjNZVHJ2R2h2QzUydjYxd18zV2lCd1V3SDNydjdHNVZtWWE4NkgtYUpXVFZKTEQ5bE1jcGg2LTFmREN1SUdNNTRMWFhlTkFQX1VPejAtLVhPcXlGUnZYREcxWUhwYVpPcVdMUjk5ck5Tdl9maUpwTVd5b2liY3pLQWVEdzlmM05LVHlyRXo2dnlUdU1Ud1Q4UUU4THBVejdvSmc5YUpCSVZwN0RYSHN0TzVzQllzRVlWcGdrTjRBUUxRTENjZlNIYnVkemgwb2JEYWtUbF8wUEkxWnhaQ0xsR1FRaWNUM3ZxREs4ZnE3X2lmX1ppTGU2M09UdG52Tm9KTTNhQllTT2c4TmRIUkF5WTc2QmNlTmtQYzR1TWdQa2dxQm9DSW15TEZNVENkTUM0S1k0aHRmeTZBaEdsVFUtcmktQzlpOW5udHktMHNDVjFFWGtqajdjcFhGQk10LXJIdGl3aVhSX1Q1bzFJcFZ5WlE5N2YtVWI4OU5UbjlROUhGcDZhcXhiVFo0VEVqb1dFTGdOVmJvMkVST19nTDl0TDBDS0tuQzh1VkJoTW1ZQ25WWmJaWkZVbXBLODFkZ0F5RURtT2xkc0FNMTBaa2sxY0ZmN2k1Y2tlUWdOSmlfSjFWRktUTDFQMzFTTGRsLVZlSTdGWmJtcTJFdlZrMlVoVjJUS2p3VGxybVF6bXZVdk1xZFpVU3l6ckx6WmY0c0pPYlNId0V3d2l0bGcwemRXUVQ2VmNIWENyWVdEQjE5LVdxOVNjOE1CbUxjR2VwT05WRGowQmFOZ01OZ2t6U00tSjN3N05ZR1ZTVzBiRXJsRW82QVh4bHd6WnRFZkkwekVTbmVXdlhUa2dXUWwwc05Ya1ZNYXNXaUhISnF2aEp5cEE3WnYzU3BiTGg4M3dZMF9vWHZqbEZwb05xcUMxT1FSN3p1X08ycW5aclFlMVJmUWhWU25iSVhNVTJFWXVWb2paR29DYnh2cEQxeE5ZOGhEaDM0VU9TREQyOHhPRE5JZ0x0ckVjYUZTWlQzZTNuMDl0di14MlRfR1ZPN0lQUENnVHVaZmZsaGdRcEpTdW5QQ1ZLR0tQWTRVR3RkckxTQ094ZnhxRlpvbzF4VUQ2Ylo3RDl4TE50ZW90cnc2Z2QyV2FIeG9KV190dVhickdYY2dtSTRYUThGOTJwVUhjemdxeTZpYko3cVQ3cV9aQW9Oc0tMM0xLbjZIZTNxYnVjYnhoZ3FMX0ZZLTBIV1FaSklaZnNWQi1aQ2lSSFI5MkpZb0JtTXNVMGY1RHA3OThwNmlmdjBTMWJlTUd1cUdFN2E2UUpNRFc3dE80U25KY2dFUjNYTXBHTHBDMEl4Q2xGeG96WDlEd3A5bnVMYlFEcUNoUDlwaTdmMlc5VDBPMUJZeUo4QjVWa0dNQmFieU5DWHlYa0p0amZSdHhLYkJfR1pweHVUb0I0RUl2QzVsWWJPS1ZkWUEtWURyQm9FWlZQXzU3YmlqZVE1WXpHUWV4TmQ3U21faHlINnVoQ0VlblZfVU1rVXp1V1NSSVlvWmIxdnF1RXVxak52OTgzVVZUZi1iYVhFXzY5Q3VMb1lmSkh1Q3Ytcm9WaVhCbzBLN3h5Rjl5amtXTWhMcGlpeUttODNfTkVCSERCTFF2ejA4UkxnUE9ncG1KQlU4djVuaUlMdHIwZHRCUWlPd3Q5Y1BHSEIyZGUzZDg0TVFxbnNZRkJiVFp2eUN5dDhEOEJwdXpnb3JtT2l0QkpFQ1ItYjZyamxac1lqeXNGa1hDRllzTE5ZZ2stbHhWcDExTm5EdzlmcEZ6emVMZDM1NE43bGdVX19TcV9yNzYzTFRoNmltSzJXQU9PWnR3bVlMX0ZIdjdjWEZSSHpBR3VtQmI4aWw0dXhWUFZJQksySURUVENKXzJyZV9DYXFtVXZWLXlqR015ZkYzd3o5NlFyWEFjZjViTEJGYTczejdVc1ZnTlJZVTNKdWdmM1pFX1Y5UnJsTE5xbzcyc1lwZjRIVndQRG83UWhoMXVyTXhucWZOZjFIYnVfNlpfdWpmSzdlMWJNeDlmSlB3U1p4dGVLNjBhVkcyR2U2WWJBb3lOWFZ3QUdfNFRzNjZnVEt2aVR0Z0lNR296Wk84VUIyZTR2cERhZ0hIWHpRYklDUXA2OGtxMmlBUnRsNm1hMzdvRGgwcnhhMzI0R0V1NmdUQkhXS2MxNXZFT0NlME16TDFqNFQ2Ulc3TWVWX3V6ME5qNmlLRHdyQXV6a25leW8wcWo4dEg0cU0zTFpodmRtNnlCSy1oOGxwNXQ0UFR3WG8xRHctUHRpN1lmSXBVbEItaGxqYTMyQnc2RUo4dy1aOHpiYmpSUnhPTmVYVkJjbFd5WFhMY2ZiVGJJdnl1RVFzNlNBNWRsWWF3czhqWDdqeHB0TXFCdjNQVmZBcy1Fa05vRWNMVmRyTnJLSXNmZWNIZU43a2ZEQk9vQ3RBbXo1cm1CZXpHY0NBcktsb2ZZUHZub0Q2c0tkX3Z2djBGa2labHd6M085WmJQMzdEV2JUUU03UDhLdnhXME5Mczh0MXpGeEJSM2RCcldGNkxiS2FWNzJDMW5SZFpmUFdSeUpMYXVyRGhBRGlEM0JuaTNYUU5OMC1BMEdteUd0cm1oS2xZMG9SZUR3YnhJQWQ2SFBvTkNycUZ5YWZnTlp5NnRFVURHWlMta09RQ002YllST05DZ0JtTXJQc0hsV2JPa0lKbXJKekljYkk2VXRtLXlIUnRieF80TG1yM2twVmQyNVUyeVZaM2Q4dVhGUVNqM21RdnJzamhmMGpYNE1MM09BWU1iU1BycmJ1U1JMV1U1NjFGbi1CMUQyT3ZiUDZNenVpMHZoY2h6aTlfTm5BVTRWamZMS013cW9YNTZjSEFBbS1oVFhtdkxSOE1SUHRzSkY1ZlVPcmNnMmlVb25hUzREOWVFamYteWtEaFJpZVhxajMzYXFKZU1mdWdsQmVCbEUzS1gxT0ZCWEk2YlpHcm84TzVhWTdNSlJHTDdDU2tDM0pTQzBMR1NsLXNPLUE4WW5Nd3kwMjJ0UVp2SUdLRXhRY1FJdTN0UmlEWkdwT0VhdVJ2cm5yRUJjbnoxYi1reVRjMHhDekl0MjJCRVNKSEQyQjhJMlo4X2hTT0dKa01VdE10UU5ELVdOZjI5bWlqeTgtV052ZE0yLTBHZXNzWm4waDVpT1ZRN3FzYmNUd2tDUTFaS2t5SVlCdVY5S0x6TTNMYVRWNkppaVpuOFZtOXhQZ3o0bEQ5RXppM0FnQTBpcFdaWU01cXRZYnJHeFBiWFphdjhSSHVqRGFtTktXSThlR0FvLThqWVRnMFBabWdTS3VqUktiTkRaVVBQcUpwU1k3OWt4QXYxVDIzbWlreW9mUlp0YzljSjNCUVpEZTlyMkszM1Y5RnRBYzVSeUs0YkVGREcxQjd3MW5oSlJkaGR6em92eHVocC15R3FhLVNHVktwaERSczlLTXhaZWtiVnJ6dlFVX3RVSjlXa0FER1FpX3F5Tk9PaFdpb3RIMTF2TVU0RDBhWUFjMnpMbkhLTU9Rb3liT1FOQjJvbDRDb0NnN1lxcUhPTG1RUXI0c3FkTTNXckt2YVpla3FyQW1kSi1ISEJQSkFkMERJVTFnVFd1VHRENGhyNGJDZVQ3bC1nOFVVOFJNb1JKeTRUMEJibndRNVpINEJfRlRyMm5rSGdHdDB6WXZWanNtdXBCa2hnX3F4UUxUcXFKMWxrVGNSYmZwTk11Q3Y4eG5qclhCYXc1ZG11clFNUlZvX0Y1TDkzZVRhSlFIb3BrOUJoNWp2eEJXSlI2dFZvdlZSU3B3ZUJZMW9tcDZFaHZYMzdic2tWMXFIdmhPQ2ttdmVaTGJ4Rnl5WFJsZUpFdllvUWd4MnNXdmdBaEVpUzV4NFdtbkVZX2lZamFQaW52cHNfYjFJZTNOWkU0VzRWNFJxNnJ5VkpHd1NDbHd0X1Q4S2Z3Z2lqLXE2QThXV1pMNmRvejlQc2NscGt0S001RDkwdEI0b2w4ZkotbVNObGNubFpMWlV5Z2ctWm80U1g5bTdUSVpQaGlCOTFHcWFrVDRFUnJYbmw1TEc2MzVHTnVkRWhFMDlxMm1kYkFNRFFITjVuSWJ5TUtQZV9zNmNYa1J6MDI2UXlLQ2p0QnhuRHRRZVI4SGpTUEx3R0lNbVpxQk9RR2tIejI0REFHX0lrVHJrMWUzelEteGRyUG9tYzhMWHFaaFpGak5Hc21Cd2JIMXI5UU5RS0R4cEFVQ2NoMVdDV2xPU1RRb2phZDNwTFZsQm5TZEU0TXJkLW1uU0FDd2JQUHFmNFd5MGI5TGhGQ0pSOGI2WlNoMjRDVzFkVy0zdmlDdkpVY3dWN0VHaERaeGIwTEF3ejl6c3FDNHRaUk1NRW9XNEVjS19kNVJsZFBVMGZUT1ZSTnhCYkRXemRZSGppN1hjaFRJaVFRQWdqZS16VnBqMFkzblhwSGJONEJhaDJwLVo1bm1sdmN1SXQ0aEl2YW5JNnhLTEJ2djVkLTdMc0ZUaTQ5c1NRcGo1YU1LQXVLZDJaVE9VUXdnUTVpd0pKS3AzMzZhSHRTNmp2bXNiVkhidnN2d0hTajRxMVV6TWpfa1Rmb0dBbDNUY0JRVE1vY2hBVHlpQmZ0bVBQTXpPaEZiZGVuWDdYbEFCUHplMWZwamxvNFFCYkdsZVVLRnEyUGVPb1lSd2NFWGdkd0ZRMWthcVUzM3g1bmJfcHJ2dWU4MFR5REFkZnNSbjBaNkxkSzdjVHlWd3Rma3BRZDVBaDNmY0JHaDFvSkp4NTNVRVBfQm1MWEtoVG1lcHdQUjh3RHRKR2ZQZTBHc2MwZmxlbjhsRU9NYktUZ1lsbFRZd2JnTHpLd1ZGZ0RYd3lxS1drcTIxaFluRVhkWkhmU3diZGVTcG15Z0ZMal9IM1lKU3JwbmliakU2dVFYQzNGczUxMW1XZkQ0Ul8wV3R4VlBHeTJqNjAyYkJDUUh4Q19MSmR1eU8tZ3BYc1JYT2tKUXpMVkRuRGt4c2FvekkzNy01UFBweEZudFpwTzdfR21sdzUtOThFUmdoNHRQX0xsMmVXaUJDRTNDZnFjVnNzOTlZSXhNZVRTX19RV3VKMlVCdHkxblBULXhlcEh3VW1nTlVvZnBROG5LbnZlcm1nWUFDblIxMGFPQjU2UWNMZUVodmpCcUhDd2lOVkg3Skw1RmlpRkpBTm9SRzhkdzdzbFh2S3IzSHFmaG5LMFhHX0JDVDJULWUzQUpheW5pZ0lVa05TT2pIU2h4VXRaVHpFM3RiSkxjYzBUcmZsdDNhSXp4Rlo3UUgyeWlxZ1ZkbVJxRWZTblVtYXExLXBMOEVhOG5HUG11YUhpR0hPb2c0Q1dYb3lvbGdIVGY1YTJvUnpGZDJJZ3Nkc3cyZ2ZyVlFXeXh4YlZ6enhGT2FyM2tnZHZFMzk4Z2RvVks3XzQzMUdyWW5NTGlUdTRhUUtjMDdWOXllLVZmWjg3WThfcXBLUFlLbVhHVVZvZ3ZjMW4wOHhKamZ0U0ltcEx5enlYUEZTTXBGZkFVUS0wWkpzNmhwekoxNURrRldxUUg2eWxOeS1QY0NBWExvRXlIbG1JQWlHRTROWlFlMTlURFQ1Q1BaS01sdXpfQVFNQWFidU1yNHJWVzZ2eGdtX0ZJMEhKd3JrYmU4NEFRSHpqM0lPa2I5QmpVVXFuQTVaTlBvQ2lGMVdsWHl1eXlwcGJMS1ZNWFIxa1QyRHpfeVhsLWt5WjJOX1NlYVdvWDFkUTRUYWN5YjNqTTlRMkE1N3BnSDA0eDRoTkk0LWdTZG85YTJGZ1FGZGJKVnhkeHFQdFJhem1LSWVmU3dMQ2V3bUhIb182RHc2T1V2Z2hJRVdnVzkxNHhyVG9KcTdGMDVZbm16QjdlaHR2dF9WV2NqVTZUU2hFdjdzTWpGNko4b0tGRmtQZ3d3NE9VMUZLaXBjZl9OeVliamgxSDlaWXR6NjFocmhGNFNFLWFYOVpudW9JRHBsZm9XY25FMGFnQmFORVBDem5WZXhXWmMtMmtTYmxaRktQNGp1ZyIsImRhdGFFbmNyeXB0aW9uS2V5IjpudWxsLCJ0YWdzIjoie30iLCJrZWtpZCI6bnVsbCwiaXYiOm51bGx9"}]},"info":null,"samlSingleSignOnSettings":null,"addIns":[],"appRoles":[],"keyCredentials":[{"customKeyIdentifier":"B89336B71E4A474616EC521DA7265ECDC6EEEC3A","displayName":"CN=eb784643-bd3c-4dba-b43f-1a975a94ca02,
        DC=213e87ed-8e08-4eb4-a63c-c073058f7b00","endDateTime":"2025-10-12T05:01:00Z","key":null,"keyId":"c550ea61-ea12-4de5-81de-9843a0a4684b","startDateTime":"2025-07-14T05:01:00Z","type":"AsymmetricX509Cert","usage":"Verify"}],"oauth2PermissionScopes":[],"passwordCredentials":[],"resourceSpecificApplicationPermissions":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12460'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:31 GMT
      location:
      - https://graph.microsoft.com
      odata-version:
      - '4.0'
      request-id:
      - 3e125dac-48b2-4d0f-b825-362bf93b5a47
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"East US","Slice":"E","Ring":"5","ScaleUnit":"006","RoleInstance":"BL6PEPF0001B992"}}'
      x-ms-resource-unit:
      - '3'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --assignee --role --scope
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Reader%27&api-version=2022-05-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Reader","type":"BuiltInRole","description":"View
        all resources, but does not allow you to make any changes.","assignableScopes":["/"],"permissions":[{"actions":["*/read"],"notActions":[],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2021-11-11T20:13:47.8628684Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7","type":"Microsoft.Authorization/roleDefinitions","name":"acdd72a7-3385-48ef-bd42-f606fba81ae7"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '627'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/30f50f3e-0013-48ef-a677-13ddf8fe03f5
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: E46C9D78E9164F188497E43E1897CFAA Ref B: BN1AA2051014031 Ref C: 2025-07-14T05:06:33Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7",
      "principalId": "29cf62fc-2c08-45b4-b359-928a67c07387", "principalType": "ServicePrincipal"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '270'
      Content-Type:
      - application/json
      ParameterSetName:
      - --assignee --role --scope
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000001?api-version=2022-04-01
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7","principalId":"29cf62fc-2c08-45b4-b359-928a67c07387","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002","condition":null,"conditionVersion":null,"createdOn":"2025-07-14T05:06:34.1768774Z","updatedOn":"2025-07-14T05:06:34.5301588Z","createdBy":null,"updatedBy":"c713b965-a548-4034-a880-1613a7fcaa90","delegatedManagedIdentityResourceId":null,"description":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.KeyVault/vaults/vault-000002/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000001","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000001"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1049'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/eb6c12e9-79c3-4c8f-9fd9-95caae5ea8e2
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: E646F32DC3054FD89816F84EC6AB67B6 Ref B: BN1AA2051012039 Ref C: 2025-07-14T05:06:34Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_confidential_disk_encryption_set_000001?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001","name":"cli_test_confidential_disk_encryption_set_000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_confidential_disk_encryption_set","date":"2025-07-14T05:05:30Z","module":"vm"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '435'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 33AECE2A42E54B0BA7708AD689D1E03C Ref B: BN1AA2051012035 Ref C: 2025-07-14T05:06:51Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/publishers/MicrosoftWindowsServer/artifacttypes/vmimage/offers/windows-cvm/skus/2022-datacenter-cvm/versions?$top=1&$orderby=name%20desc&api-version=2024-11-01
  response:
    body:
      string: "[\r\n  {\r\n    \"location\": \"westus\",\r\n    \"name\": \"20348.469.220106\",\r\n
        \   \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n
        \ }\r\n]"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/f8ab6f82-4c9c-47cd-a13c-8df0424602f8
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/ListVMImagesVersionsFromLocation3Min;15999,Microsoft.Compute/ListVMImagesVersionsFromLocation30Min;43998
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: CF4BC8C49BA74F8B82E61EDF435A6E13 Ref B: BN1AA2051014009 Ref C: 2025-07-14T05:06:52Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/publishers/MicrosoftWindowsServer/artifacttypes/vmimage/offers/windows-cvm/skus/2022-datacenter-cvm/versions/20348.469.220106?api-version=2024-11-01
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n    \"architecture\":
        \"x64\",\r\n    \"replicaType\": \"Managed\",\r\n    \"replicaCount\": 10,\r\n
        \   \"disallowed\": {\r\n      \"vmDiskType\": \"Unmanaged\"\r\n    },\r\n
        \   \"automaticOSUpgradeProperties\": {\r\n      \"automaticOSUpgradeSupported\":
        false\r\n    },\r\n    \"imageDeprecationStatus\": {\r\n      \"imageState\":
        \"Active\"\r\n    },\r\n    \"features\": [\r\n      {\r\n        \"name\":
        \"SecurityType\",\r\n        \"value\": \"TrustedLaunchAndConfidentialVmSupported\"\r\n
        \     }\r\n    ],\r\n    \"osDiskImage\": {\r\n      \"operatingSystem\":
        \"Windows\",\r\n      \"sizeInGb\": 16\r\n    },\r\n    \"dataDiskImages\":
        []\r\n  },\r\n  \"location\": \"westus\",\r\n  \"name\": \"20348.469.220106\",\r\n
        \ \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '911'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/5aa0eddc-12bc-4aa2-adb8-3a2ab142a8c5
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetVMImageFromLocation3Min;12999,Microsoft.Compute/GetVMImageFromLocation30Min;73997
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 43230E5BFCB944989844777D011080FD Ref B: BN1AA2051013027 Ref C: 2025-07-14T05:06:52Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"creationData": {"createOption":
      "FromImage", "imageReference": {"id": "/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106"}},
      "hyperVGeneration": "V2", "securityProfile": {"secureVMDiskEncryptionSetId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004",
      "securityType": "ConfidentialVM_DiskEncryptedWithCustomerKey"}}, "sku": {"name":
      "Premium_LRS"}, "tags": {}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      Content-Length:
      - '699'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d1-000005?api-version=2023-04-02
  response:
    body:
      string: "{\r\n  \"name\": \"d1-000005\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d1-000005\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"westus\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\"\r\n  },\r\n
        \ \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n    \"creationData\":
        {\r\n      \"createOption\": \"FromImage\",\r\n      \"imageReference\": {\r\n
        \       \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n
        \     }\r\n    },\r\n    \"securityProfile\": {\r\n      \"securityType\":
        \"ConfidentialVM_DiskEncryptedWithCustomerKey\",\r\n      \"secureVMDiskEncryptionSetId\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\"\r\n
        \   },\r\n    \"provisioningState\": \"Updating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/887f6917-8821-49c0-bb0a-66056051e1be?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880664143172235&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=kcKRDO8vK8EL87SyZUipvpvewqwr5BhAh9W-8HGhAAixxFjlmvXQ4qL2lNWdVtIKzAeFTzkd3YHc01LZ5mwsNSDu-jvO2Dx4rmYWYkhbrplhco9wzbXbhir7oWwwoLmmmSl5epecdZVUUWh-8yy7M9V-DNDHOdEsF-0mjtSKFDwVnHrYEpcqvFOWwUTsryrKQs4ECDZVWk24ulA6A5BXpOxjdTlmNHDujmNqLFkxsUs9aMLM6aJx17SMMfcAEeg2KAgehKYWG-qEQFMMoIicGGyTfo9bK6AcaJ8mGZnofu0q1jrJosxDxl2MefLhXFX1iHi7Ea-XiVgoNjD8PuW6NA&h=9t_TLSmT8VNJXSQLkW5l3i99E_ePCZNEEKqYztWnA9U
      cache-control:
      - no-cache
      content-length:
      - '1076'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:54 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/887f6917-8821-49c0-bb0a-66056051e1be?p=98b95826-9f92-41ba-82e9-438afe89cae9&monitor=true&api-version=2023-04-02&t=638880664143172235&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=kcKRDO8vK8EL87SyZUipvpvewqwr5BhAh9W-8HGhAAixxFjlmvXQ4qL2lNWdVtIKzAeFTzkd3YHc01LZ5mwsNSDu-jvO2Dx4rmYWYkhbrplhco9wzbXbhir7oWwwoLmmmSl5epecdZVUUWh-8yy7M9V-DNDHOdEsF-0mjtSKFDwVnHrYEpcqvFOWwUTsryrKQs4ECDZVWk24ulA6A5BXpOxjdTlmNHDujmNqLFkxsUs9aMLM6aJx17SMMfcAEeg2KAgehKYWG-qEQFMMoIicGGyTfo9bK6AcaJ8mGZnofu0q1jrJosxDxl2MefLhXFX1iHi7Ea-XiVgoNjD8PuW6NA&h=9t_TLSmT8VNJXSQLkW5l3i99E_ePCZNEEKqYztWnA9U
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/d39a82f8-7bcf-43dd-86e5-f1184f021421
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/CreateUpdateDisks3Min;2998,Microsoft.Compute/CreateUpdateDisks30Min;24996
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: BD20E179900440EB917B8B1EF090C63E Ref B: BN1AA2051014051 Ref C: 2025-07-14T05:06:52Z'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/887f6917-8821-49c0-bb0a-66056051e1be?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880664143172235&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=kcKRDO8vK8EL87SyZUipvpvewqwr5BhAh9W-8HGhAAixxFjlmvXQ4qL2lNWdVtIKzAeFTzkd3YHc01LZ5mwsNSDu-jvO2Dx4rmYWYkhbrplhco9wzbXbhir7oWwwoLmmmSl5epecdZVUUWh-8yy7M9V-DNDHOdEsF-0mjtSKFDwVnHrYEpcqvFOWwUTsryrKQs4ECDZVWk24ulA6A5BXpOxjdTlmNHDujmNqLFkxsUs9aMLM6aJx17SMMfcAEeg2KAgehKYWG-qEQFMMoIicGGyTfo9bK6AcaJ8mGZnofu0q1jrJosxDxl2MefLhXFX1iHi7Ea-XiVgoNjD8PuW6NA&h=9t_TLSmT8VNJXSQLkW5l3i99E_ePCZNEEKqYztWnA9U
  response:
    body:
      string: "{\r\n  \"startTime\": \"2025-07-14T05:06:53.4521891+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"887f6917-8821-49c0-bb0a-66056051e1be\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:06:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/61ca3fb7-5cea-4d6a-a896-d05387d7a3b0
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49989,Microsoft.Compute/GetOperation30Min;399952
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: C2BED893076A4E0C87BA59DAC65ABC33 Ref B: BN1AA2051014017 Ref C: 2025-07-14T05:06:54Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/887f6917-8821-49c0-bb0a-66056051e1be?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880664143172235&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=kcKRDO8vK8EL87SyZUipvpvewqwr5BhAh9W-8HGhAAixxFjlmvXQ4qL2lNWdVtIKzAeFTzkd3YHc01LZ5mwsNSDu-jvO2Dx4rmYWYkhbrplhco9wzbXbhir7oWwwoLmmmSl5epecdZVUUWh-8yy7M9V-DNDHOdEsF-0mjtSKFDwVnHrYEpcqvFOWwUTsryrKQs4ECDZVWk24ulA6A5BXpOxjdTlmNHDujmNqLFkxsUs9aMLM6aJx17SMMfcAEeg2KAgehKYWG-qEQFMMoIicGGyTfo9bK6AcaJ8mGZnofu0q1jrJosxDxl2MefLhXFX1iHi7Ea-XiVgoNjD8PuW6NA&h=9t_TLSmT8VNJXSQLkW5l3i99E_ePCZNEEKqYztWnA9U
  response:
    body:
      string: "{\r\n  \"startTime\": \"2025-07-14T05:06:53.4521891+00:00\",\r\n  \"endTime\":
        \"2025-07-14T05:07:00.8898277+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"properties\": {\r\n    \"output\": {\r\n  \"name\": \"d1-000005\",\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d1-000005\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"westus\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\",\r\n    \"tier\":
        \"Premium\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V2\",\r\n    \"supportedCapabilities\": {\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"FromImage\",\r\n      \"imageReference\": {\r\n        \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n
        \     }\r\n    },\r\n    \"diskSizeGB\": 16,\r\n    \"diskIOPSReadWrite\":
        120,\r\n    \"diskMBpsReadWrite\": 25,\r\n    \"encryption\": {\r\n      \"type\":
        \"EncryptionAtRestWithPlatformKey\"\r\n    },\r\n    \"networkAccessPolicy\":
        \"AllowAll\",\r\n    \"securityProfile\": {\r\n      \"securityType\": \"ConfidentialVM_DiskEncryptedWithCustomerKey\",\r\n
        \     \"secureVMDiskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2025-07-14T05:06:53.4834394+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 17181966336,\r\n
        \   \"uniqueId\": \"6d2ae99e-13b5-4ef5-8d92-97db892ad17b\",\r\n    \"tier\":
        \"P3\"\r\n  }\r\n}\r\n  },\r\n  \"name\": \"887f6917-8821-49c0-bb0a-66056051e1be\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1862'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/23ed1779-db2e-435f-b3fc-2ec8b45fa3fe
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49987,Microsoft.Compute/GetOperation30Min;399950
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 6DB91E71DC0D4295B78D564E7B29C961 Ref B: BN1AA2051013051 Ref C: 2025-07-14T05:07:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d1-000005?api-version=2023-04-02
  response:
    body:
      string: "{\r\n  \"name\": \"d1-000005\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d1-000005\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"westus\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\",\r\n    \"tier\":
        \"Premium\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V2\",\r\n    \"supportedCapabilities\": {\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"FromImage\",\r\n      \"imageReference\": {\r\n        \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n
        \     }\r\n    },\r\n    \"diskSizeGB\": 16,\r\n    \"diskIOPSReadWrite\":
        120,\r\n    \"diskMBpsReadWrite\": 25,\r\n    \"encryption\": {\r\n      \"type\":
        \"EncryptionAtRestWithPlatformKey\"\r\n    },\r\n    \"networkAccessPolicy\":
        \"AllowAll\",\r\n    \"securityProfile\": {\r\n      \"securityType\": \"ConfidentialVM_DiskEncryptedWithCustomerKey\",\r\n
        \     \"secureVMDiskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2025-07-14T05:06:53.4834394+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 17181966336,\r\n
        \   \"uniqueId\": \"6d2ae99e-13b5-4ef5-8d92-97db892ad17b\",\r\n    \"tier\":
        \"P3\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;14983,Microsoft.Compute/LowCostGet30Min;119963
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 365F7C5CA6884991AF15D6018CDA7A9E Ref B: BN1AA2051012019 Ref C: 2025-07-14T05:07:05Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_confidential_disk_encryption_set_000001?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001","name":"cli_test_confidential_disk_encryption_set_000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_confidential_disk_encryption_set","date":"2025-07-14T05:05:30Z","module":"vm"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '435'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: EBC1D3AE7F5744C987BA612781B118B5 Ref B: BN1AA2051013021 Ref C: 2025-07-14T05:07:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/publishers/MicrosoftWindowsServer/artifacttypes/vmimage/offers/windows-cvm/skus/2022-datacenter-cvm/versions?$top=1&$orderby=name%20desc&api-version=2024-11-01
  response:
    body:
      string: "[\r\n  {\r\n    \"location\": \"westus\",\r\n    \"name\": \"20348.469.220106\",\r\n
        \   \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n
        \ }\r\n]"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/5d0fc127-a245-4002-9f1a-58dc49466ea4
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/ListVMImagesVersionsFromLocation3Min;15998,Microsoft.Compute/ListVMImagesVersionsFromLocation30Min;43997
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 616FD472BD0642538D81DDF606B2D281 Ref B: BN1AA2051014035 Ref C: 2025-07-14T05:07:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/publishers/MicrosoftWindowsServer/artifacttypes/vmimage/offers/windows-cvm/skus/2022-datacenter-cvm/versions/20348.469.220106?api-version=2024-11-01
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n    \"architecture\":
        \"x64\",\r\n    \"replicaType\": \"Managed\",\r\n    \"replicaCount\": 10,\r\n
        \   \"disallowed\": {\r\n      \"vmDiskType\": \"Unmanaged\"\r\n    },\r\n
        \   \"automaticOSUpgradeProperties\": {\r\n      \"automaticOSUpgradeSupported\":
        false\r\n    },\r\n    \"imageDeprecationStatus\": {\r\n      \"imageState\":
        \"Active\"\r\n    },\r\n    \"features\": [\r\n      {\r\n        \"name\":
        \"SecurityType\",\r\n        \"value\": \"TrustedLaunchAndConfidentialVmSupported\"\r\n
        \     }\r\n    ],\r\n    \"osDiskImage\": {\r\n      \"operatingSystem\":
        \"Windows\",\r\n      \"sizeInGb\": 16\r\n    },\r\n    \"dataDiskImages\":
        []\r\n  },\r\n  \"location\": \"westus\",\r\n  \"name\": \"20348.469.220106\",\r\n
        \ \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '911'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/659e0ab7-3f08-42d8-902a-89af1f3d3424
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetVMImageFromLocation3Min;12997,Microsoft.Compute/GetVMImageFromLocation30Min;73995
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 35E59D8FB61B494BB1834B9A6008B4DD Ref B: BN1AA2051015053 Ref C: 2025-07-14T05:07:06Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"creationData": {"createOption":
      "FromImage", "imageReference": {"id": "/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106"}},
      "hyperVGeneration": "V2", "securityProfile": {"secureVMDiskEncryptionSetId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004",
      "securityType": "ConfidentialVM_DiskEncryptedWithCustomerKey"}}, "sku": {"name":
      "Premium_LRS"}, "tags": {}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      Content-Length:
      - '699'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d2-000006?api-version=2023-04-02
  response:
    body:
      string: "{\r\n  \"name\": \"d2-000006\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d2-000006\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"westus\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\"\r\n  },\r\n
        \ \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n    \"creationData\":
        {\r\n      \"createOption\": \"FromImage\",\r\n      \"imageReference\": {\r\n
        \       \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n
        \     }\r\n    },\r\n    \"securityProfile\": {\r\n      \"securityType\":
        \"ConfidentialVM_DiskEncryptedWithCustomerKey\",\r\n      \"secureVMDiskEncryptionSetId\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\"\r\n
        \   },\r\n    \"provisioningState\": \"Updating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/d7142446-4ce5-4e20-88a6-35c6e208b444?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880664279409132&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=P8TCaLbsMlKXHgHo_Vg5m7rCARgznS75UWq4p0FPQJt1vGCJrMZfOH92aN0iyM2DcQ3UdbZgyw6wOB4Mv7v-6o2qCLah1UwW7XDoZkUXmSvvm0XooO0tjo2zLnJ5x9AVwxX3WJPqDufb2R8xbEWpCI5zjp8l2TGWgrXZF3kKbrqnZbtNGbxT5cisF_iwsFiSMfzyCE5ACd5t7vkidfxN5Q2RoRE_vFvb54FlXziMLbYWgXNHimPL_QKuxZ9dELqHEFqVjiZjRDo6ES8VHw7jvSKfZung4-WfDos0XUuskJ4pOVYlESKfLFw80-rjRaUoaRXF3lsgBBfYKFdkNlsDow&h=xVn3xmlqbzHmpPFFmm2KHjq26_kAH-SHudO6WoFRFZY
      cache-control:
      - no-cache
      content-length:
      - '1076'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:07 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/d7142446-4ce5-4e20-88a6-35c6e208b444?p=98b95826-9f92-41ba-82e9-438afe89cae9&monitor=true&api-version=2023-04-02&t=638880664279409132&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=P8TCaLbsMlKXHgHo_Vg5m7rCARgznS75UWq4p0FPQJt1vGCJrMZfOH92aN0iyM2DcQ3UdbZgyw6wOB4Mv7v-6o2qCLah1UwW7XDoZkUXmSvvm0XooO0tjo2zLnJ5x9AVwxX3WJPqDufb2R8xbEWpCI5zjp8l2TGWgrXZF3kKbrqnZbtNGbxT5cisF_iwsFiSMfzyCE5ACd5t7vkidfxN5Q2RoRE_vFvb54FlXziMLbYWgXNHimPL_QKuxZ9dELqHEFqVjiZjRDo6ES8VHw7jvSKfZung4-WfDos0XUuskJ4pOVYlESKfLFw80-rjRaUoaRXF3lsgBBfYKFdkNlsDow&h=xVn3xmlqbzHmpPFFmm2KHjq26_kAH-SHudO6WoFRFZY
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/eda47ba6-556b-485f-87d3-f729b185b304
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/CreateUpdateDisks3Min;2997,Microsoft.Compute/CreateUpdateDisks30Min;24995
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 4E56EB81E4D145739FFCFEF8C07EEEF3 Ref B: BN1AA2051012031 Ref C: 2025-07-14T05:07:06Z'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/d7142446-4ce5-4e20-88a6-35c6e208b444?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880664279409132&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=P8TCaLbsMlKXHgHo_Vg5m7rCARgznS75UWq4p0FPQJt1vGCJrMZfOH92aN0iyM2DcQ3UdbZgyw6wOB4Mv7v-6o2qCLah1UwW7XDoZkUXmSvvm0XooO0tjo2zLnJ5x9AVwxX3WJPqDufb2R8xbEWpCI5zjp8l2TGWgrXZF3kKbrqnZbtNGbxT5cisF_iwsFiSMfzyCE5ACd5t7vkidfxN5Q2RoRE_vFvb54FlXziMLbYWgXNHimPL_QKuxZ9dELqHEFqVjiZjRDo6ES8VHw7jvSKfZung4-WfDos0XUuskJ4pOVYlESKfLFw80-rjRaUoaRXF3lsgBBfYKFdkNlsDow&h=xVn3xmlqbzHmpPFFmm2KHjq26_kAH-SHudO6WoFRFZY
  response:
    body:
      string: "{\r\n  \"startTime\": \"2025-07-14T05:07:07.8586597+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d7142446-4ce5-4e20-88a6-35c6e208b444\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/9e5a734b-0a8b-421b-a2bd-4cb8769e6d0a
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49986,Microsoft.Compute/GetOperation30Min;399949
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 6364ED0E911248469484993728014DEA Ref B: BN1AA2051014011 Ref C: 2025-07-14T05:07:08Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/westus/DiskOperations/d7142446-4ce5-4e20-88a6-35c6e208b444?p=98b95826-9f92-41ba-82e9-438afe89cae9&api-version=2023-04-02&t=638880664279409132&c=MIIHhzCCBm-gAwIBAgITHgbIFmDY79XLPJrDjgAABsgWYDANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDYwHhcNMjUwNDE3MDcxODAyWhcNMjUxMDE0MDcxODAyWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMmXL0h9ESvC4b92QYV7yPeOyC8nGJyORFUoUm7UdBjxDbKTdSt8SfTfQkW5HjszhiwurE_fjCMlYj9_ymGSwiuCaKmitW7pcXF-WPgkAU2dKPUrSPqJAyeDDvG5SbZOmYYKHttoh0ZCPxadX4ljJ_k6BiE0-a-tSIYI__abusYKDqLuE9uYszi2Ra_hhLOH8qi2TBg71Jc7Dasa4RRwHnwfYbhpKL0tyMrBwyvMUGO00Q_Lx0iRvtIyWhp0HLppX7M2gzHCkh37uEJaggrcqn2T1QHSLgt2AuneElzaS8_if-JVZWv8ZdwCW8Oa-9JXQCzDSFKFP-2yMm1KPtualuUCAwEAAaOCBHQwggRwMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHLBggrBgEFBQcBAQSCAb0wggG5MGMGCCsGAQUFBzAChldodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MFMGCCsGAQUFBzAChkdodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAyLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDA2LmNydDBTBggrBgEFBQcwAoZHaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMi5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwNi5jcnQwUwYIKwYBBQUHMAKGR2h0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDIuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3J0MB0GA1UdDgQWBBSJ3ygYgt4NuGG8mfdBelaS0ABH_DAOBgNVHQ8BAf8EBAMCBaAwggEmBgNVHR8EggEdMIIBGTCCARWgggERoIIBDYY_aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JshjFodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDYuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBTxRmjG8cPwKy19i2rhsvm-NfzRQTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAI2X3AiLN4s7W-C4ho0tyyAJfaEptV5HLxJHbIHK4awoIyOC8pp8Ay2pGHpXZlTZAhmvEJBKPbB0dVv_cphT1EjWF5rgvvLTBfp9Roo8PqmTQxmvMefBGXnYPmtPgtKMi5nwH1Y4xayGTzvIjIz1ZwYW5_hkF8jKx3e9bGDWPlgyHm3bRRRSgD650gZ7x69myyaDo4tX8FNWbLk-7PYxKiDBeLyle73_kab63klBJc7ep-O2AIxEtxi2DhDGLlGADWVwyYhEhlcFAhxXcOjCETnpsvDfOiK7XD3hnEkdKsChwTT9Gp6wEmn6xu59Qm2DenO3AMiv6vEyP2-7F-bR5G4&s=P8TCaLbsMlKXHgHo_Vg5m7rCARgznS75UWq4p0FPQJt1vGCJrMZfOH92aN0iyM2DcQ3UdbZgyw6wOB4Mv7v-6o2qCLah1UwW7XDoZkUXmSvvm0XooO0tjo2zLnJ5x9AVwxX3WJPqDufb2R8xbEWpCI5zjp8l2TGWgrXZF3kKbrqnZbtNGbxT5cisF_iwsFiSMfzyCE5ACd5t7vkidfxN5Q2RoRE_vFvb54FlXziMLbYWgXNHimPL_QKuxZ9dELqHEFqVjiZjRDo6ES8VHw7jvSKfZung4-WfDos0XUuskJ4pOVYlESKfLFw80-rjRaUoaRXF3lsgBBfYKFdkNlsDow&h=xVn3xmlqbzHmpPFFmm2KHjq26_kAH-SHudO6WoFRFZY
  response:
    body:
      string: "{\r\n  \"startTime\": \"2025-07-14T05:07:07.8586597+00:00\",\r\n  \"endTime\":
        \"2025-07-14T05:07:08.9523735+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"properties\": {\r\n    \"output\": {\"name\":\"d2-000006\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d2-000006\",\"type\":\"Microsoft.Compute/disks\",\"location\":\"westus\",\"tags\":{},\"sku\":{\"name\":\"Premium_LRS\",\"tier\":\"Premium\"},\"properties\":{\"osType\":\"Windows\",\"hyperVGeneration\":\"V2\",\"supportedCapabilities\":{\"architecture\":\"x64\"},\"creationData\":{\"createOption\":\"FromImage\",\"imageReference\":{\"id\":\"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"}},\"diskSizeGB\":16,\"diskIOPSReadWrite\":120,\"diskMBpsReadWrite\":25,\"encryption\":{\"type\":\"EncryptionAtRestWithPlatformKey\"},\"networkAccessPolicy\":\"AllowAll\",\"securityProfile\":{\"securityType\":\"ConfidentialVM_DiskEncryptedWithCustomerKey\",\"secureVMDiskEncryptionSetId\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\"},\"publicNetworkAccess\":\"Enabled\",\"timeCreated\":\"2025-07-14T05:07:07.8586597+00:00\",\"provisioningState\":\"Succeeded\",\"diskState\":\"Unattached\",\"diskSizeBytes\":17181966336,\"uniqueId\":\"837db042-e65b-44c3-ad06-1cce4f8d2543\",\"tier\":\"P3\"}}\r\n
        \ },\r\n  \"name\": \"d7142446-4ce5-4e20-88a6-35c6e208b444\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1587'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - appId=780b0786-4007-4688-8198-cfe48ee40b16,tenantId=213e87ed-8e08-4eb4-a63c-c073058f7b00,objectId=c713b965-a548-4034-a880-1613a7fcaa90/eastus/78704066-201d-4a31-871c-3ebd0d4d2191
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49983,Microsoft.Compute/GetOperation30Min;399946
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: B8AD4349D5754933845F11D74993510A Ref B: BN1AA2051013045 Ref C: 2025-07-14T05:07:18Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --security-type --hyper-v-generation --secure-vm-disk-encryption-set
        --image-reference
      User-Agent:
      - AZURECLI/2.75.0 azsdk-python-core/1.31.0 Python/3.12.11 (Linux-6.8.0-1031-azure-x86_64-with-glibc2.35)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d2-000006?api-version=2023-04-02
  response:
    body:
      string: "{\r\n  \"name\": \"d2-000006\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/disks/d2-000006\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"westus\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\",\r\n    \"tier\":
        \"Premium\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V2\",\r\n    \"supportedCapabilities\": {\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"FromImage\",\r\n      \"imageReference\": {\r\n        \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/westus/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/windows-cvm/Skus/2022-datacenter-cvm/Versions/20348.469.220106\"\r\n
        \     }\r\n    },\r\n    \"diskSizeGB\": 16,\r\n    \"diskIOPSReadWrite\":
        120,\r\n    \"diskMBpsReadWrite\": 25,\r\n    \"encryption\": {\r\n      \"type\":
        \"EncryptionAtRestWithPlatformKey\"\r\n    },\r\n    \"networkAccessPolicy\":
        \"AllowAll\",\r\n    \"securityProfile\": {\r\n      \"securityType\": \"ConfidentialVM_DiskEncryptedWithCustomerKey\",\r\n
        \     \"secureVMDiskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_confidential_disk_encryption_set_000001/providers/Microsoft.Compute/diskEncryptionSets/des-000004\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2025-07-14T05:07:07.8586597+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 17181966336,\r\n
        \   \"uniqueId\": \"837db042-e65b-44c3-ad06-1cce4f8d2543\",\r\n    \"tier\":
        \"P3\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 14 Jul 2025 05:07:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;14978,Microsoft.Compute/LowCostGet30Min;119958
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: CD2DF25804BE442B98FC8096BCE0D50D Ref B: BN1AA2051015011 Ref C: 2025-07-14T05:07:18Z'
    status:
      code: 200
      message: OK
version: 1
