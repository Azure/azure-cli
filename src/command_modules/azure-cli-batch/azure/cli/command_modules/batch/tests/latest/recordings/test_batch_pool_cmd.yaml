interactions:
- request:
    body: '{"tags": {"cause": "automation", "date": "2018-08-29T05:21:38Z", "product":
      "azurecli"}, "location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.46]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"cause":"automation","date":"2018-08-29T05:21:38Z","product":"azurecli"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 29 Aug 2018 05:21:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: '{"location": "japanwest"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Length: ['25']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-batch/5.0.1 Azure-SDK-For-Python AZURECLI/2.0.46]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-09-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 29 Aug 2018 05:21:41 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/e072c018-c788-4789-a3e5-5ef865de2172?api-version=2017-09-01']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-batch/5.0.1 Azure-SDK-For-Python AZURECLI/2.0.46]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/e072c018-c788-4789-a3e5-5ef865de2172?api-version=2017-09-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"poolAllocationMode":"BatchService"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['568']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 29 Aug 2018 05:21:58 GMT']
      etag: ['"0x8D60D6F57A0C93D"']
      expires: ['-1']
      last-modified: ['Wed, 29 Aug 2018 05:21:58 GMT']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account keys list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-batch/5.0.1 Azure-SDK-For-Python AZURECLI/2.0.46]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/listKeys?api-version=2017-09-01
  response:
    body: {string: '{"accountName":"clibatch000002","primary":"npMn2bIdiY7cYnTANvm+oNyRTrKnm2v58bwCvqgkPcVX9sVQf2GeRfRdhYKOUpwHFnzRbhFgd6HcO1Trrg/g4g==","secondary":"EFusr7rqAiGOAfn053cjPa7I8Rb817eN7nC+LFsbKOJGHie077lSBMGpAf9+r1OPHvXfsLhenuXw8GX4ljMIVg=="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['246']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 29 Aug 2018 05:21:59 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-batch/5.0.1 Azure-SDK-For-Python AZURECLI/2.0.46]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-09-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"poolAllocationMode":"BatchService"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['568']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 29 Aug 2018 05:22:03 GMT']
      etag: ['"0x8D60D6F4E1177B8"']
      expires: ['-1']
      last-modified: ['Wed, 29 Aug 2018 05:21:42 GMT']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"vmSize": "small", "cloudServiceConfiguration": {"targetOSVersion": "*",
      "osFamily": "4"}, "startTask": {"waitForSuccess": true, "userIdentity": {"autoUser":
      {"scope": "task", "elevationLevel": "admin"}}, "commandLine": "cmd /c echo test"},
      "id": "xplatCreatedPool", "targetDedicatedNodes": 0}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['294']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchksrc2yiuucgy3k54.japanwest.batch.azure.com/pools/xplatCreatedPool']
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:07 GMT']
      etag: ['0x8D60D6F5D1F7E4F']
      last-modified: ['Wed, 29 Aug 2018 05:22:07 GMT']
      location: ['https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool']
      request-id: [22f93f09-5b01-454d-990c-c2056e394399]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 201, message: Created}
- request:
    body: '{"vmSize": "Standard_A1", "virtualMachineConfiguration": {"imageReference":
      {"publisher": "a", "offer": "b", "sku": "c"}, "nodeAgentSKUId": "batch.node.windows
      amd64"}, "id": "pool_image1"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['189']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\",\"code\":\"InvalidPropertyValue\",\"message\":{\r\n
        \   \"lang\":\"en-US\",\"value\":\"The value provided for one of the properties
        in the request body is invalid.\\nRequestId:47ef305f-8f62-4d0e-a12a-7dc7c9a420e6\\nTime:2018-08-29T05:22:08.5816165Z\"\r\n
        \ },\"values\":[\r\n    {\r\n      \"key\":\"PropertyName\",\"value\":\"imageReference\"\r\n
        \   },{\r\n      \"key\":\"Reason\",\"value\":\"The specified imageReference
        with publisher a offer b sku c is not supported.\"\r\n    }\r\n  ]\r\n}"}
    headers:
      content-length: ['600']
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:08 GMT']
      request-id: [47ef305f-8f62-4d0e-a12a-7dc7c9a420e6]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 400, message: The value provided for one of the properties in the
        request body is invalid.}
- request:
    body: '{"vmSize": "Standard_A1", "virtualMachineConfiguration": {"imageReference":
      {"virtualMachineImageId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Compute/images/custom_image"},
      "nodeAgentSKUId": "batch.node.windows amd64"}, "id": "pool_image1"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['296']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\",\"code\":\"InvalidPropertyValue\",\"message\":{\r\n
        \   \"lang\":\"en-US\",\"value\":\"The value provided for one of the properties
        in the request body is invalid.\\nRequestId:7c556ee0-7a78-468d-aac4-4f594aa84cf4\\nTime:2018-08-29T05:22:10.6377595Z\"\r\n
        \ },\"values\":[\r\n    {\r\n      \"key\":\"PropertyName\",\"value\":\"virtualMachineImageId\"\r\n
        \   },{\r\n      \"key\":\"PropertyValue\",\"value\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Compute/images/custom_image\"\r\n
        \   },{\r\n      \"key\":\"Reason\",\"value\":\"The specified virtualMachineImageId
        is in a different subscription and cannot be used with the current Batch account
        in subscription f30ef677-64a9-4768-934f-5fbbc0e1ad27\"\r\n    }\r\n  ]\r\n}"}
    headers:
      content-length: ['870']
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:09 GMT']
      request-id: [7c556ee0-7a78-468d-aac4-4f594aa84cf4]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 400, message: The value provided for one of the properties in the
        request body is invalid.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\",\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\",\"eTag\":\"0x8D60D6F5D1F7E4F\",\"lastModified\":\"2018-08-29T05:22:07.4379855Z\",\"creationTime\":\"2018-08-29T05:22:07.4379855Z\",\"state\":\"active\",\"stateTransitionTime\":\"2018-08-29T05:22:07.4379855Z\",\"allocationState\":\"steady\",\"allocationStateTransitionTime\":\"2018-08-29T05:22:07.5249752Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\":0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\":{\r\n
        \   \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n      \"autoUser\":{\r\n
        \       \"scope\":\"task\",\"elevationLevel\":\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n
        \ },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \ }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:12 GMT']
      etag: ['0x8D60D6F5D1F7E4F']
      last-modified: ['Wed, 29 Aug 2018 05:22:07 GMT']
      request-id: [bdef627e-31a6-4d9b-96e1-961d5fcb128f]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"targetLowPriorityNodes": 3, "targetDedicatedNodes": 5}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['56']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/resize?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchksrc2yiuucgy3k54.japanwest.batch.azure.com/pools/xplatCreatedPool/resize']
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:13 GMT']
      etag: ['0x8D60D6F60C75F1F']
      last-modified: ['Wed, 29 Aug 2018 05:22:13 GMT']
      request-id: [1a8bd29c-5371-4a68-9c70-298da736f307]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\",\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\",\"eTag\":\"0x8D60D6F60C75F1F\",\"lastModified\":\"2018-08-29T05:22:13.5713567Z\",\"creationTime\":\"2018-08-29T05:22:07.4379855Z\",\"state\":\"active\",\"stateTransitionTime\":\"2018-08-29T05:22:07.4379855Z\",\"allocationState\":\"resizing\",\"allocationStateTransitionTime\":\"2018-08-29T05:22:13.5713567Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\":0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\":3,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\":{\r\n
        \   \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n      \"autoUser\":{\r\n
        \       \"scope\":\"task\",\"elevationLevel\":\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n
        \ },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \ }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:14 GMT']
      etag: ['0x8D60D6F60C75F1F']
      last-modified: ['Wed, 29 Aug 2018 05:22:13 GMT']
      request-id: [2646605a-b9f2-4a04-8eaf-7e993506c4e9]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/nodecounts?api-version=2018-08-01.7.0&maxresults=10&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#poolnodecounts\",\"value\":[\r\n
        \   {\r\n      \"poolId\":\"xplatCreatedPool\",\"dedicated\":{\r\n        \"creating\":0,\"idle\":0,\"leavingPool\":0,\"offline\":0,\"preempted\":0,\"rebooting\":0,\"reimaging\":0,\"running\":0,\"starting\":0,\"startTaskFailed\":0,\"unusable\":0,\"unknown\":0,\"waitingForStartTask\":0,\"total\":0\r\n
        \     },\"lowPriority\":{\r\n        \"creating\":0,\"idle\":0,\"leavingPool\":0,\"offline\":0,\"preempted\":0,\"rebooting\":0,\"reimaging\":0,\"running\":0,\"starting\":0,\"startTaskFailed\":0,\"unusable\":0,\"unknown\":0,\"waitingForStartTask\":0,\"total\":0\r\n
        \     }\r\n    }\r\n  ]\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:16 GMT']
      request-id: [f74ffa51-337b-4a17-bc9d-4fd21c0d496e]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchksrc2yiuucgy3k54.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize']
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:22:17 GMT']
      etag: ['0x8D60D6F6300A8E9']
      last-modified: ['Wed, 29 Aug 2018 05:22:17 GMT']
      request-id: [b0774072-20d2-451c-950c-4c4317d14916]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\",\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\",\"eTag\":\"0x8D60D6F6300A8E9\",\"lastModified\":\"2018-08-29T05:22:17.3022441Z\",\"creationTime\":\"2018-08-29T05:22:07.4379855Z\",\"state\":\"active\",\"stateTransitionTime\":\"2018-08-29T05:22:07.4379855Z\",\"allocationState\":\"steady\",\"allocationStateTransitionTime\":\"2018-08-29T05:22:56.1312911Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\":0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\":3,\"resizeErrors\":[\r\n
        \   {\r\n      \"code\":\"ResizeStopped\",\"message\":\"Desired number of
        dedicated nodes could not be allocated due to a stop resize operation\"\r\n
        \   },{\r\n      \"code\":\"ResizeStopped\",\"message\":\"Desired number of
        low priority nodes could not be allocated due to a stop resize operation\"\r\n
        \   }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\":{\r\n
        \   \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n      \"autoUser\":{\r\n
        \       \"scope\":\"task\",\"elevationLevel\":\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n
        \ },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \ }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:24:19 GMT']
      etag: ['0x8D60D6F6300A8E9']
      last-modified: ['Wed, 29 Aug 2018 05:22:17 GMT']
      request-id: [7decfbd2-1464-457e-b095-92fb982ab39b]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"metadata": [], "startTask": {"waitForSuccess": true, "commandLine": "cmd
      /c echo updated"}, "certificateReferences": [], "applicationPackageReferences":
      []}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2018-08-01.7.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchksrc2yiuucgy3k54.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:24:20 GMT']
      etag: ['0x8D60D6FAC6E52B9']
      last-modified: ['Wed, 29 Aug 2018 05:24:20 GMT']
      request-id: [10f3e901-f1de-4bde-b5b8-4c07e403c825]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\",\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\",\"eTag\":\"0x8D60D6FAC6E52B9\",\"lastModified\":\"2018-08-29T05:24:20.4946105Z\",\"creationTime\":\"2018-08-29T05:22:07.4379855Z\",\"state\":\"active\",\"stateTransitionTime\":\"2018-08-29T05:22:07.4379855Z\",\"allocationState\":\"steady\",\"allocationStateTransitionTime\":\"2018-08-29T05:22:56.1312911Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\":0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\":3,\"resizeErrors\":[\r\n
        \   {\r\n      \"code\":\"ResizeStopped\",\"message\":\"Desired number of
        dedicated nodes could not be allocated due to a stop resize operation\"\r\n
        \   },{\r\n      \"code\":\"ResizeStopped\",\"message\":\"Desired number of
        low priority nodes could not be allocated due to a stop resize operation\"\r\n
        \   }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\":{\r\n
        \   \"commandLine\":\"cmd /c echo updated\",\"userIdentity\":{\r\n      \"autoUser\":{\r\n
        \       \"elevationLevel\":\"nonadmin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n
        \ },\"certificateReferences\":[\r\n    \r\n  ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n
        \   \"nodeFillType\":\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n
        \   \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \ }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:24:21 GMT']
      etag: ['0x8D60D6FAC6E52B9']
      last-modified: ['Wed, 29 Aug 2018 05:24:20 GMT']
      request-id: [e6badceb-ecb6-4d29-b798-2619b64c7ff9]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"metadata": [{"name": "a", "value": "b"}, {"name": "c", "value": "d"}],
      "startTask": {"commandLine": "hostname"}, "certificateReferences": [], "applicationPackageReferences":
      []}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2018-08-01.7.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchksrc2yiuucgy3k54.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:24:23 GMT']
      etag: ['0x8D60D6FAE332AEF']
      last-modified: ['Wed, 29 Aug 2018 05:24:23 GMT']
      request-id: [fc966fb3-6efd-4a11-9aa7-67faeb411d40]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-08-01.7.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\",\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\",\"eTag\":\"0x8D60D6FAE332AEF\",\"lastModified\":\"2018-08-29T05:24:23.4623727Z\",\"creationTime\":\"2018-08-29T05:22:07.4379855Z\",\"state\":\"active\",\"stateTransitionTime\":\"2018-08-29T05:22:07.4379855Z\",\"allocationState\":\"steady\",\"allocationStateTransitionTime\":\"2018-08-29T05:22:56.1312911Z\",\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\":0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\":3,\"resizeErrors\":[\r\n
        \   {\r\n      \"code\":\"ResizeStopped\",\"message\":\"Desired number of
        dedicated nodes could not be allocated due to a stop resize operation\"\r\n
        \   },{\r\n      \"code\":\"ResizeStopped\",\"message\":\"Desired number of
        low priority nodes could not be allocated due to a stop resize operation\"\r\n
        \   }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\":{\r\n
        \   \"commandLine\":\"hostname\",\"userIdentity\":{\r\n      \"autoUser\":{\r\n
        \       \"elevationLevel\":\"nonadmin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":false\r\n
        \ },\"certificateReferences\":[\r\n    \r\n  ],\"metadata\":[\r\n    {\r\n
        \     \"name\":\"a\",\"value\":\"b\"\r\n    },{\r\n      \"name\":\"c\",\"value\":\"d\"\r\n
        \   }\r\n  ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n
        \ },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n
        \ }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:24:24 GMT']
      etag: ['0x8D60D6FAE332AEF']
      last-modified: ['Wed, 29 Aug 2018 05:24:23 GMT']
      request-id: [d28d74f5-3ee5-4add-92ed-56268dfad48a]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-batch/5.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-08-01.7.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceversion: ['3.0']
      date: ['Wed, 29 Aug 2018 05:24:24 GMT']
      request-id: [c4a2667b-a3e2-453b-a315-5dc57b9c28db]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.46]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 29 Aug 2018 05:24:25 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdTVFJITVlQV0ROSU9XNUJMVE5HMjI3R080SUs1REtPS0lPNXxBOTg3RDc1RkVEM0Y0QUU3LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
