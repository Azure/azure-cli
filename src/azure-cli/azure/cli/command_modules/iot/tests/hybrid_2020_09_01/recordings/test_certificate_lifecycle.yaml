interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-resource/10.2.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2020-09-25T17:18:44Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:18:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '570'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-07-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"d34bd6cc-8d7e-451b-ace3-cd05c69f82d0","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfODJlOGVmNjAtYjAwOC00M2JlLThlOWMtYTgzMWNmZjczMjFj?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1210'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:18:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfODJlOGVmNjAtYjAwOC00M2JlLThlOWMtYTgzMWNmZjczMjFj?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:19:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfODJlOGVmNjAtYjAwOC00M2JlLThlOWMtYTgzMWNmZjczMjFj?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:19:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfODJlOGVmNjAtYjAwOC00M2JlLThlOWMtYTgzMWNmZjczMjFj?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfODJlOGVmNjAtYjAwOC00M2JlLThlOWMtYTgzMWNmZjczMjFj?api-version=2019-07-01-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-07-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"d34bd6cc-8d7e-451b-ace3-cd05c69f82d0","resourcegroup":"clitest.rg000002","etag":"AAAAAnivglw=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-cert-testil7t","endpoint":"sb://iothub-ns-iot-hub-fo-4836776-65736dea2e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1746'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-07-01-preview
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIUoqYGf9OjmowDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQ0cmpzeWNzaTU3dTQzejN3MB4XDTIwMDkyNDE3MTg0NFoXDTIw\r\nMDkyODE3MTg0NFowIzEhMB8GA1UEAwwYVEVTVENFUlQ0cmpzeWNzaTU3dTQzejN3\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQArBrZ2X3G5L7r9sLpWof6s\r\nPYNpuRDVTuVvdF7YHUb8Pq6peTLpaCCZSvsHlgoZbI7ta/6pxzerEpdIilyEzuY3\r\nhZNNLmk0nQWCtMOObQieEoPRGaa0GPBFKa56xaVFNNBE8p5WDETKWGwN2T/aLwzF\r\nEtLpKchW24WU7zmc9JhKVqAyazCjMTevnkF4bIEbDxbvq1yLj9uNnhC73LPoNLAF\r\n3thT9DaUQGeYTDEEiqpOIA6TJk9dzRNjfWPoVA9YD5hr+yMkJGSvBwxX8oV46IT0\r\nDPh7zKoaMzg8oycL5fVlZQASo/s4XvbSTZGMm6+AaBuJ8AvNkL8gvUFWPSYeh7Il\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAH0qomx2r+S4IhGDtnQ4CCVIUgFVLEa3WDGkx1zHG6\r\nmqe1fVb7E/kjdG67JU4UrzP57PMuQfNZ6IWWklnSa1hGP/b9ElZ6D1x6cAm5aASu\r\n2Th7pq0cw1pkKJare8auRpRwHSpmIQ8lTidwK7rHLh9iMWsG3HEy18/xKa5nZwlQ\r\n9zeP9awPyWXzc6y/NB+JcSfdMklbvRmM7N9TTj9k3IVJZHD1M3YlG/Nb46ft5xTy\r\nQFDPvciwkbamZ2lhF9MINqSoD4A75WUj8dacbia7CuGQRp4hVtCNZByvngG8eg8h\r\nCYVwXNxi4crKPNl/7igg9iCzgDDG+qIBGhxbXzx0et2K\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1215'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-07-01-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 28 Sep 2020
        17:18:44 GMT","thumbprint":"92798545EE93B4236BFEFFE323D8C3656BF91EFD","isVerified":false,"created":"Fri,
        25 Sep 2020 17:20:55 GMT","updated":"Fri, 25 Sep 2020 17:20:55 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAnixnzA="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-07-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Mon,
        28 Sep 2020 17:18:44 GMT","thumbprint":"92798545EE93B4236BFEFFE323D8C3656BF91EFD","isVerified":false,"created":"Fri,
        25 Sep 2020 17:20:55 GMT","updated":"Fri, 25 Sep 2020 17:20:55 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAnixnzA="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '709'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-07-01-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 28 Sep 2020
        17:18:44 GMT","thumbprint":"92798545EE93B4236BFEFFE323D8C3656BF91EFD","isVerified":false,"created":"Fri,
        25 Sep 2020 17:20:55 GMT","updated":"Fri, 25 Sep 2020 17:20:55 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAnixnzA="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAnixnzA=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2019-07-01-preview
  response:
    body:
      string: '{"properties":{"verificationCode":"60017E64246A50CB06C5D0D77DD3BFB6B3FCA78511E6344A","subject":"TESTCERT000001","expiry":"Mon,
        28 Sep 2020 17:18:44 GMT","thumbprint":"92798545EE93B4236BFEFFE323D8C3656BF91EFD","isVerified":false,"created":"Fri,
        25 Sep 2020 17:20:55 GMT","updated":"Fri, 25 Sep 2020 17:20:57 GMT","certificate":"MIIDHTCCAgWgAwIBAgIIUoqYGf9OjmowDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UEAwwYVEVTVENFUlQ0cmpzeWNzaTU3dTQzejN3MB4XDTIwMDkyNDE3MTg0NFoXDTIwMDkyODE3MTg0NFowIzEhMB8GA1UEAwwYVEVTVENFUlQ0cmpzeWNzaTU3dTQzejN3MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQArBrZ2X3G5L7r9sLpWof6sPYNpuRDVTuVvdF7YHUb8Pq6peTLpaCCZSvsHlgoZbI7ta/6pxzerEpdIilyEzuY3hZNNLmk0nQWCtMOObQieEoPRGaa0GPBFKa56xaVFNNBE8p5WDETKWGwN2T/aLwzFEtLpKchW24WU7zmc9JhKVqAyazCjMTevnkF4bIEbDxbvq1yLj9uNnhC73LPoNLAF3thT9DaUQGeYTDEEiqpOIA6TJk9dzRNjfWPoVA9YD5hr+yMkJGSvBwxX8oV46IT0DPh7zKoaMzg8oycL5fVlZQASo/s4XvbSTZGMm6+AaBuJ8AvNkL8gvUFWPSYeh7IlAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sNMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAH0qomx2r+S4IhGDtnQ4CCVIUgFVLEa3WDGkx1zHG6mqe1fVb7E/kjdG67JU4UrzP57PMuQfNZ6IWWklnSa1hGP/b9ElZ6D1x6cAm5aASu2Th7pq0cw1pkKJare8auRpRwHSpmIQ8lTidwK7rHLh9iMWsG3HEy18/xKa5nZwlQ9zeP9awPyWXzc6y/NB+JcSfdMklbvRmM7N9TTj9k3IVJZHD1M3YlG/Nb46ft5xTyQFDPvciwkbamZ2lhF9MINqSoD4A75WUj8dacbia7CuGQRp4hVtCNZByvngG8eg8hCYVwXNxi4crKPNl/7igg9iCzgDDG+qIBGhxbXzx0et2K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAnixnzs="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1833'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIIO+FCNUvgUZAwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQ0cmpzeWNzaTU3dTQzejN3MB4XDTIwMDkyNDE3MjA1OFoXDTIw\r\nMDkyODE3MjA1OFowOzE5MDcGA1UEAwwwNjAwMTdFNjQyNDZBNTBDQjA2QzVEMEQ3\r\nN0REM0JGQjZCM0ZDQTc4NTExRTYzNDRBMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQAq5dU58LoJd8f1UaYGYasVi4p7pbZeYmP/csXD8hgrQtnTX3FL4WD0\r\nVnH2ewUMB841OjNFaauasvmiIlw6dHNvdQSvXMx27jweh+dxGv1jokTTXY53EfGs\r\n+nX8bdQKmu4JrdwC+qEk+ZMRPC9wdLUPiQ4kTIc2AfjA9zc1Amezc1TfyrFR50Ay\r\nV1PfChQEVIPdu4pIrmZ/XZKjvbfSJ82Rrc+iJrjcm66fXQrox29IHKZAmgsJL/cV\r\nXU49G6ZCQGr9gABTHWTnfPKmHLWFcxh5IguTv/PEgskGl1Zq2uQ5SKo7AKUzs83p\r\n0PmIvrnaJVV26HAna0uoaK2hdtjE1IObAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAmvVhDJHq8b1dX\r\nGbhKTUX0JhBD8G0LtygwS73H7UTK7gPsHeccUrXgru2fHJ0irukcDtzlGjTKeWbr\r\n8haFF3u59HxTonYGa3jhqDVPpFY8X/nzLLtfVPnecjiOklWSkjp8Dc+eZ+n/I+PY\r\ne401udzB9sEc2+im5fQ/sSeuXEnFcaOkC3kUOnKCbXrUFcz8IsaaSgG7o0FbFhm6\r\nH6OBxFRqghU6S7/bJkceTeJBFeMl27q/2MmcNsizoM8kVF8PWRu+iRQebTkwnLMo\r\naOkrpQBuHRH2K3nuZkKFbnUeRxq/MErS97Y2zgleQ3/QtW62BRGT6urX17Y61OFE\r\nRWN7ZCjy\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1179'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAnixnzs=
      ParameterSetName:
      - --hub-name -g -n -p --etag
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2019-07-01-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 28 Sep 2020
        17:18:44 GMT","thumbprint":"92798545EE93B4236BFEFFE323D8C3656BF91EFD","isVerified":true,"created":"Fri,
        25 Sep 2020 17:20:55 GMT","updated":"Fri, 25 Sep 2020 17:20:58 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAnixn0E="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '696'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 25 Sep 2020 17:20:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAnixn0E=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-07-01-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 25 Sep 2020 17:20:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
