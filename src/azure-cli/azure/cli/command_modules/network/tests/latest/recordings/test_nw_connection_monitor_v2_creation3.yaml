interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/networkWatchers?api-version=2022-01-01
  response:
    body:
      string: '{"value":[{"name":"NetworkWatcher_westus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westus","etag":"W/\"2f330891-d619-4d17-9cab-4c7ea597831e\"","type":"Microsoft.Network/networkWatchers","location":"westus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus","etag":"W/\"f7e92abd-65db-4adf-a2ec-7941130a35c2\"","type":"Microsoft.Network/networkWatchers","location":"eastus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope/providers/Microsoft.Network/networkWatchers/nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope","etag":"W/\"b098d3bc-75c5-4566-a0ee-1072da189dbc\"","type":"Microsoft.Network/networkWatchers","location":"westeurope","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2","etag":"W/\"39f3133a-0016-4aa5-943b-203a0b9ac4f3\"","type":"Microsoft.Network/networkWatchers","location":"eastus2","properties":{"provisioningState":"Deleting","runningOperationIds":[]}},{"name":"NetworkWatcher_westcentralus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westcentralus","etag":"W/\"2f363d7b-b86d-4a5e-8fff-0eede96ac7ee\"","type":"Microsoft.Network/networkWatchers","location":"westcentralus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_westus2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westus2","etag":"W/\"7e93220d-ee08-4844-85e4-eb67550bda5d\"","type":"Microsoft.Network/networkWatchers","location":"westus2","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_uksouth","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_uksouth","etag":"W/\"b44ee4a0-66d6-47bc-aad7-b1bdebcd2e31\"","type":"Microsoft.Network/networkWatchers","location":"uksouth","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_norwayeast","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/SanthoshRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_norwayeast","etag":"W/\"86450203-330c-4541-9800-60bc81e5100a\"","type":"Microsoft.Network/networkWatchers","location":"norwayeast","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_italynorth","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_italynorth","etag":"W/\"4b23f718-e5df-40f9-9301-a1eaca92c618\"","type":"Microsoft.Network/networkWatchers","location":"italynorth","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_centraluseuap","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_centraluseuap","etag":"W/\"65ac48a9-a6a0-4a2f-9697-aef2034caff8\"","type":"Microsoft.Network/networkWatchers","location":"centraluseuap","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus2euap","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2euap","etag":"W/\"a2758f60-2022-450e-a3da-95109b7f2d2a\"","type":"Microsoft.Network/networkWatchers","location":"eastus2euap","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4379'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 17:22:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - 760f616b-f24b-43d9-b226-74b3f2953bc0
      - 6413c33f-9bbd-4428-b7b1-ba38bab43e2b
      - f3f01744-9fc6-413f-adab-87c5e3a87634
      - 520aab22-10f5-4a8e-b9d6-7cb9eeeaea8c
      - 66f42770-b5d2-4299-aced-9d94923f624d
      - dc6f3706-03ab-4fd9-9d55-7c67e751fae9
      - 60c4a302-9843-4a55-bbb8-7e551defbbc4
      - 8eb528b1-ed96-474d-8ab6-bee79391583e
      - e60cc469-4a7a-425b-a9b6-fbdbb8e8415c
      - 0c36d5a5-2edc-4944-a462-4d9965739da9
      - 80126f15-24d6-4b72-852e-89983bd3e646
      x-msedge-ref:
      - 'Ref A: 937861EAA4D340EA89E34DEC12C19620 Ref B: MAA201060516031 Ref C: 2024-06-03T17:22:43Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus2", "properties": {"endpoints": [{"name": "aks-private-vnet",
      "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet",
      "type": "AzureVNet"}, {"name": "aks-vnet-29306067", "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MC_aks-managed-natgw-rg_aks-managed-natgw_eastus2/providers/Microsoft.Network/virtualNetworks/aks-vnet-29306067",
      "type": "AzureVNet"}, {"name": "aks-azure-cni-vnet", "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet",
      "type": "AzureVNet"}], "outputs": [], "testConfigurations": [{"httpConfiguration":
      {"method": "Get", "port": 80, "requestHeaders": [], "validStatusCodeRanges":
      ["200", "201"]}, "name": "httptestconfig", "protocol": "Http", "testFrequencySec":
      "60"}, {"name": "tcptestconfig", "protocol": "Tcp", "tcpConfiguration": {"port":
      80}, "testFrequencySec": "60"}, {"icmpConfiguration": {}, "name": "icmptestconfig",
      "protocol": "Icmp", "testFrequencySec": "60"}], "testGroups": [{"destinations":
      ["aks-azure-cni-vnet", "aks-vnet-29306067"], "name": "tg13", "sources": ["aks-private-vnet",
      "aks-vnet-29306067"], "testConfigurations": ["httptestconfig", "tcptestconfig"]},
      {"destinations": ["aks-azure-cni-vnet", "aks-vnet-29306067"], "name": "tg23",
      "sources": ["aks-private-vnet", "aks-azure-cni-vnet"], "testConfigurations":
      ["tcptestconfig", "icmptestconfig"]}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      Content-Length:
      - '1564'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-06?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"cmv2-06\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-06\",\r\n
        \ \"etag\": \"W/\\\"dac56200-3e16-436b-a7ca-26f64bf73eea\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\": \"197f7aef-617f-4b66-b2f8-81ee96eff622\",\r\n
        \   \"endpoints\": [\r\n      {\r\n        \"name\": \"aks-private-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet\"\r\n
        \     },\r\n      {\r\n        \"name\": \"aks-vnet-29306067\",\r\n        \"type\":
        \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MC_aks-managed-natgw-rg_aks-managed-natgw_eastus2/providers/Microsoft.Network/virtualNetworks/aks-vnet-29306067\"\r\n
        \     },\r\n      {\r\n        \"name\": \"aks-azure-cni-vnet\",\r\n        \"type\":
        \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet\"\r\n
        \     }\r\n    ],\r\n    \"testConfigurations\": [\r\n      {\r\n        \"name\":
        \"httptestconfig\",\r\n        \"testFrequencySec\": 60,\r\n        \"protocol\":
        \"Http\",\r\n        \"httpConfiguration\": {\r\n          \"port\": 80,\r\n
        \         \"method\": \"Get\",\r\n          \"requestHeaders\": [],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"tcptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Tcp\",\r\n        \"tcpConfiguration\":
        {\r\n          \"port\": 80,\r\n          \"disableTraceRoute\": false\r\n
        \       }\r\n      },\r\n      {\r\n        \"name\": \"icmptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Icmp\",\r\n        \"icmpConfiguration\":
        {\r\n          \"disableTraceRoute\": false\r\n        }\r\n      }\r\n    ],\r\n
        \   \"testGroups\": [\r\n      {\r\n        \"name\": \"tg13\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"httptestconfig\",\r\n
        \         \"tcptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-vnet-29306067\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      },\r\n      {\r\n        \"name\": \"tg23\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"tcptestconfig\",\r\n
        \         \"icmptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-azure-cni-vnet\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      }\r\n    ],\r\n    \"outputs\": [],\r\n    \"connectionMonitorType\":
        \"MultiEndpoint\"\r\n  },\r\n  \"type\": \"Microsoft.Network/networkWatchers/connectionMonitors\",\r\n
        \ \"location\": \"eastus2\"\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/01091fc0-2b0c-4398-9912-a89f80f4d695?api-version=2022-01-01&t=638530321671889867&c=MIIHpTCCBo2gAwIBAgITfwM-U27xkVO5ZxEd0gAEAz5TbjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE2MjMzNzExWhcNMjUwNTExMjMzNzExWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALekh1SsD5YeM3m83hvG-czLoQb1wEsGP79EqOxfXV4QQMJO2SMlOF2eeKC337_o-IYPk6Vi3AdztUvTe3M_ggpP5b40i6gMP7zbuXhfxvJdROvIICmg9JdkZz0wzrK00mphiUvl0JgqbsSpjPnjGBzgyCqUYZ-6lNa4WSWGn0WntPckDJ_pSv7THFCPRwJtbUnd1NcWSmFKrZDfryfs2bX_KNFPvElhRMENyMFAN7YfwgnSrSPT6AvWFF3hxUFbk3Er0uC5oelbPRhUdS0UOmeqw_KwCyg_ufIxBTtHBmndApilRL79Jqxb3PDNSDoqaEkfxbLK4eIXXj4Kgxq8mC0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBQhALrtGfEhkE4vdSrNyyiBHPHxkTAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAJbtPeySUcF6P9MPrRgueyNyTqb3ASxwCamajuvL7jp2bFZ_UEvdFKOgyqnAdEntfz2AmaLzIasVQkYTcZ-gAAGrD5zBgRQNqgiBgIcGwTfr5Po9sukWOETbODbicTgaCe_6AKPaHj_iBZtzyMPgr1FW6rk1hyRVKKRZCOU0YpadjGyNlCTKdwlOnivtNly3IfgUeNsfGIXfaBkZcxxHXgBvfqGqSJirwnBM6_fvPvECAHWUYMK8aBqBM26iUG4AID7nkSe07XCxqBuDqdGpvivjAf9c_X_76vLSUuMwjz0NddvN2-SXEuEnsuvy1HLYAG6LUFmnySCJdlHgTHwU4Jg&s=FS6tlcxLcXqK7PTOIA7MYBf6M4rc6AQEvZQrqrnJtDafKa6GG9IGhu7VIyxFgyaHYDINFvCyQDSoHzLYlIc8hVsqD0Nb-VIAdlSIqGFWY61APDT61mRxm2sIEeVp2xQcvadLieGemml3MalmV6Bb5JcJRb0TjFcTupScfo_ybTuI9AWGg8lF0lQgqiBD5Rz7TKn_YgQytjPLWXmPuvqEfSnTC4gcQNSqmBl5ZDQ51WLRPL0JamRss2PJAQ89gUU2KJ4BmPPa-C5_2Yq6A2in-VH2B-CaQ1oH4_xMWndjTSDFcrJ5AkRpYM31T6xlYOfvNe7Ka0wS_HwqmldgNyugDA&h=L4g6NFEgjT5wzTL-hOSpSz73KiX2KI725ncOsFMQPzk
      cache-control:
      - no-cache
      content-length:
      - '2972'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 17:22:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 36eb617a-4148-41eb-b497-4573d8754254
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: EE352362FEAA48C09BA7CA171B09F930 Ref B: MAA201060516047 Ref C: 2024-06-03T17:22:45Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/01091fc0-2b0c-4398-9912-a89f80f4d695?api-version=2022-01-01&t=638530321671889867&c=MIIHpTCCBo2gAwIBAgITfwM-U27xkVO5ZxEd0gAEAz5TbjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE2MjMzNzExWhcNMjUwNTExMjMzNzExWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALekh1SsD5YeM3m83hvG-czLoQb1wEsGP79EqOxfXV4QQMJO2SMlOF2eeKC337_o-IYPk6Vi3AdztUvTe3M_ggpP5b40i6gMP7zbuXhfxvJdROvIICmg9JdkZz0wzrK00mphiUvl0JgqbsSpjPnjGBzgyCqUYZ-6lNa4WSWGn0WntPckDJ_pSv7THFCPRwJtbUnd1NcWSmFKrZDfryfs2bX_KNFPvElhRMENyMFAN7YfwgnSrSPT6AvWFF3hxUFbk3Er0uC5oelbPRhUdS0UOmeqw_KwCyg_ufIxBTtHBmndApilRL79Jqxb3PDNSDoqaEkfxbLK4eIXXj4Kgxq8mC0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBQhALrtGfEhkE4vdSrNyyiBHPHxkTAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAJbtPeySUcF6P9MPrRgueyNyTqb3ASxwCamajuvL7jp2bFZ_UEvdFKOgyqnAdEntfz2AmaLzIasVQkYTcZ-gAAGrD5zBgRQNqgiBgIcGwTfr5Po9sukWOETbODbicTgaCe_6AKPaHj_iBZtzyMPgr1FW6rk1hyRVKKRZCOU0YpadjGyNlCTKdwlOnivtNly3IfgUeNsfGIXfaBkZcxxHXgBvfqGqSJirwnBM6_fvPvECAHWUYMK8aBqBM26iUG4AID7nkSe07XCxqBuDqdGpvivjAf9c_X_76vLSUuMwjz0NddvN2-SXEuEnsuvy1HLYAG6LUFmnySCJdlHgTHwU4Jg&s=FS6tlcxLcXqK7PTOIA7MYBf6M4rc6AQEvZQrqrnJtDafKa6GG9IGhu7VIyxFgyaHYDINFvCyQDSoHzLYlIc8hVsqD0Nb-VIAdlSIqGFWY61APDT61mRxm2sIEeVp2xQcvadLieGemml3MalmV6Bb5JcJRb0TjFcTupScfo_ybTuI9AWGg8lF0lQgqiBD5Rz7TKn_YgQytjPLWXmPuvqEfSnTC4gcQNSqmBl5ZDQ51WLRPL0JamRss2PJAQ89gUU2KJ4BmPPa-C5_2Yq6A2in-VH2B-CaQ1oH4_xMWndjTSDFcrJ5AkRpYM31T6xlYOfvNe7Ka0wS_HwqmldgNyugDA&h=L4g6NFEgjT5wzTL-hOSpSz73KiX2KI725ncOsFMQPzk
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 17:22:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f182305f-6035-469e-8e71-c43867e2fe97
      x-msedge-ref:
      - 'Ref A: 65F86909B7A44C0DB62F006A2109E0A4 Ref B: MAA201060516047 Ref C: 2024-06-03T17:22:47Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/01091fc0-2b0c-4398-9912-a89f80f4d695?api-version=2022-01-01&t=638530321671889867&c=MIIHpTCCBo2gAwIBAgITfwM-U27xkVO5ZxEd0gAEAz5TbjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE2MjMzNzExWhcNMjUwNTExMjMzNzExWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALekh1SsD5YeM3m83hvG-czLoQb1wEsGP79EqOxfXV4QQMJO2SMlOF2eeKC337_o-IYPk6Vi3AdztUvTe3M_ggpP5b40i6gMP7zbuXhfxvJdROvIICmg9JdkZz0wzrK00mphiUvl0JgqbsSpjPnjGBzgyCqUYZ-6lNa4WSWGn0WntPckDJ_pSv7THFCPRwJtbUnd1NcWSmFKrZDfryfs2bX_KNFPvElhRMENyMFAN7YfwgnSrSPT6AvWFF3hxUFbk3Er0uC5oelbPRhUdS0UOmeqw_KwCyg_ufIxBTtHBmndApilRL79Jqxb3PDNSDoqaEkfxbLK4eIXXj4Kgxq8mC0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBQhALrtGfEhkE4vdSrNyyiBHPHxkTAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAJbtPeySUcF6P9MPrRgueyNyTqb3ASxwCamajuvL7jp2bFZ_UEvdFKOgyqnAdEntfz2AmaLzIasVQkYTcZ-gAAGrD5zBgRQNqgiBgIcGwTfr5Po9sukWOETbODbicTgaCe_6AKPaHj_iBZtzyMPgr1FW6rk1hyRVKKRZCOU0YpadjGyNlCTKdwlOnivtNly3IfgUeNsfGIXfaBkZcxxHXgBvfqGqSJirwnBM6_fvPvECAHWUYMK8aBqBM26iUG4AID7nkSe07XCxqBuDqdGpvivjAf9c_X_76vLSUuMwjz0NddvN2-SXEuEnsuvy1HLYAG6LUFmnySCJdlHgTHwU4Jg&s=FS6tlcxLcXqK7PTOIA7MYBf6M4rc6AQEvZQrqrnJtDafKa6GG9IGhu7VIyxFgyaHYDINFvCyQDSoHzLYlIc8hVsqD0Nb-VIAdlSIqGFWY61APDT61mRxm2sIEeVp2xQcvadLieGemml3MalmV6Bb5JcJRb0TjFcTupScfo_ybTuI9AWGg8lF0lQgqiBD5Rz7TKn_YgQytjPLWXmPuvqEfSnTC4gcQNSqmBl5ZDQ51WLRPL0JamRss2PJAQ89gUU2KJ4BmPPa-C5_2Yq6A2in-VH2B-CaQ1oH4_xMWndjTSDFcrJ5AkRpYM31T6xlYOfvNe7Ka0wS_HwqmldgNyugDA&h=L4g6NFEgjT5wzTL-hOSpSz73KiX2KI725ncOsFMQPzk
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 17:22:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 0c647bae-9271-4cc4-ab2d-b2b32fb19099
      x-msedge-ref:
      - 'Ref A: 326FE4E9B1084D508F4D187F0F8D7B56 Ref B: MAA201060516047 Ref C: 2024-06-03T17:22:58Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-06?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"cmv2-06\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-06\",\r\n
        \ \"etag\": \"W/\\\"3c9ccbf5-5ed8-47be-b8f2-5be4025d4aea\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\": \"197f7aef-617f-4b66-b2f8-81ee96eff622\",\r\n
        \   \"endpoints\": [\r\n      {\r\n        \"name\": \"aks-private-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet\"\r\n
        \     },\r\n      {\r\n        \"name\": \"aks-vnet-29306067\",\r\n        \"type\":
        \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MC_aks-managed-natgw-rg_aks-managed-natgw_eastus2/providers/Microsoft.Network/virtualNetworks/aks-vnet-29306067\"\r\n
        \     },\r\n      {\r\n        \"name\": \"aks-azure-cni-vnet\",\r\n        \"type\":
        \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet\"\r\n
        \     }\r\n    ],\r\n    \"testConfigurations\": [\r\n      {\r\n        \"name\":
        \"httptestconfig\",\r\n        \"testFrequencySec\": 60,\r\n        \"protocol\":
        \"Http\",\r\n        \"httpConfiguration\": {\r\n          \"port\": 80,\r\n
        \         \"method\": \"Get\",\r\n          \"requestHeaders\": [],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"tcptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Tcp\",\r\n        \"tcpConfiguration\":
        {\r\n          \"port\": 80,\r\n          \"disableTraceRoute\": false\r\n
        \       }\r\n      },\r\n      {\r\n        \"name\": \"icmptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Icmp\",\r\n        \"icmpConfiguration\":
        {\r\n          \"disableTraceRoute\": false\r\n        }\r\n      }\r\n    ],\r\n
        \   \"testGroups\": [\r\n      {\r\n        \"name\": \"tg13\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"httptestconfig\",\r\n
        \         \"tcptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-vnet-29306067\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      },\r\n      {\r\n        \"name\": \"tg23\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"tcptestconfig\",\r\n
        \         \"icmptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-azure-cni-vnet\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      }\r\n    ],\r\n    \"outputs\": [\r\n      {\r\n        \"type\":
        \"Workspace\",\r\n        \"workspaceSettings\": {\r\n          \"workspaceResourceId\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/defaultresourcegroup-eus2/providers/microsoft.operationalinsights/workspaces/defaultworkspace-9cece3e3-0f7d-47ca-af0e-9772773f90b7-eus2\"\r\n
        \       }\r\n      }\r\n    ],\r\n    \"startTime\": \"2024-06-03T17:22:50.5228497Z\",\r\n
        \   \"connectionMonitorType\": \"MultiEndpoint\"\r\n  },\r\n  \"type\": \"Microsoft.Network/networkWatchers/connectionMonitors\",\r\n
        \ \"location\": \"eastus2\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3359'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 17:22:59 GMT
      etag:
      - W/"3c9ccbf5-5ed8-47be-b8f2-5be4025d4aea"
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - df2f7a54-308a-47e5-af1f-0b4cc1d3eebe
      x-msedge-ref:
      - 'Ref A: 60105BAD89C94404B4EA7890CE3104EB Ref B: MAA201060516047 Ref C: 2024-06-03T17:22:59Z'
    status:
      code: 200
      message: OK
version: 1
