interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-01-31T17:14:51Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [--location --name --tag]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.56]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-01-31T17:14:51Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 31 Jan 2019 17:14:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"location": "japanwest"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Length: ['25']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g -l]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-mgmt-batch/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.56]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2018-12-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Thu, 31 Jan 2019 17:14:53 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/61b7bbfc-e8d8-47e8-80d4-bb1fbd499891?api-version=2018-12-01']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g -l]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-mgmt-batch/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.56]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/61b7bbfc-e8d8-47e8-80d4-bb1fbd499891?api-version=2018-12-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"poolAllocationMode":"BatchService"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['568']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 31 Jan 2019 17:15:09 GMT']
      etag: ['"0x8D6879FA79A6173"']
      expires: ['-1']
      last-modified: ['Thu, 31 Jan 2019 17:15:10 GMT']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-mgmt-batch/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.56]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2018-12-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":100,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"poolAllocationMode":"BatchService"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['568']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 31 Jan 2019 17:15:11 GMT']
      etag: ['"0x8D6879F9E2C3CC1"']
      expires: ['-1']
      last-modified: ['Thu, 31 Jan 2019 17:14:54 GMT']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account keys list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g --query -o]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-mgmt-batch/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.56]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/listKeys?api-version=2018-12-01
  response:
    body: {string: '{"accountName":"clibatch000002","primary":"hI5jih3xrbzyl1fixf/uu3eJSpnDkJxA9F+KNzIyeUAGlG4GueaUQAvcnmgjgc5GfDVVTdMJJRVkJqqT3cc9KQ==","secondary":"f4Zo1LL8CWjgZOP5sFTtbzQK8nsbiTBNPKYjqMMD7hFMx0RgBcY+scr3nCYIi/qlJGGT9WnP3xi5hS8zbT5ByA=="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['246']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 31 Jan 2019 17:15:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: '{"id": "xplatCreatedPool", "vmSize": "small", "cloudServiceConfiguration":
      {"osFamily": "4"}, "targetDedicatedNodes": 0, "startTask": {"commandLine": "cmd
      /c echo test", "userIdentity": {"autoUser": {"scope": "task", "elevationLevel":
      "admin"}}, "waitForSuccess": true}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['270']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:12 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchxwyieox4jbyb4yll.japanwest.batch.azure.com/pools/xplatCreatedPool']
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:13 GMT']
      etag: ['0x8D6879FA9733292']
      last-modified: ['Thu, 31 Jan 2019 17:15:13 GMT']
      location: ['https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool']
      request-id: [cceea4bc-9e83-4f28-b394-50fde003a605]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 201, message: Created}
- request:
    body: '{"id": "pool_image1", "vmSize": "Standard_A1", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "a", "offer": "b", "sku": "c"}, "nodeAgentSKUId":
      "batch.node.windows amd64"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['189']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:13 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidPropertyValue\",\"message\":{\r\n    \"lang\":\"en-US\"\
        ,\"value\":\"The value provided for one of the properties in the request body\
        \ is invalid.\\nRequestId:5ac0f377-2eeb-4bc5-adff-4aa5debe2001\\nTime:2019-01-31T17:15:13.9232666Z\"\
        \r\n  },\"values\":[\r\n    {\r\n      \"key\":\"PropertyName\",\"value\"\
        :\"imageReference\"\r\n    },{\r\n      \"key\":\"Reason\",\"value\":\"The\
        \ specified imageReference with publisher a offer b sku c is not supported.\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      content-length: ['600']
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:13 GMT']
      request-id: [5ac0f377-2eeb-4bc5-adff-4aa5debe2001]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 400, message: The value provided for one of the properties in the
        request body is invalid.}
- request:
    body: '{"id": "pool_image1", "vmSize": "Standard_A1", "virtualMachineConfiguration":
      {"imageReference": {"virtualMachineImageId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Compute/images/custom_image"},
      "nodeAgentSKUId": "batch.node.windows amd64"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['296']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:14 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidPropertyValue\",\"message\":{\r\n    \"lang\":\"en-US\"\
        ,\"value\":\"The value provided for one of the properties in the request body\
        \ is invalid.\\nRequestId:bcd556f1-896b-48f1-9f49-60ad74ff5dd1\\nTime:2019-01-31T17:15:15.5914808Z\"\
        \r\n  },\"values\":[\r\n    {\r\n      \"key\":\"PropertyName\",\"value\"\
        :\"virtualMachineImageId\"\r\n    },{\r\n      \"key\":\"PropertyValue\",\"\
        value\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Compute/images/custom_image\"\
        \r\n    },{\r\n      \"key\":\"Reason\",\"value\":\"The specified virtualMachineImageId\
        \ is in a different subscription and cannot be used with the current Batch\
        \ account in subscription 677f962b-9abf-4423-a27b-0c2f4094dcec\"\r\n    }\r\
        \n  ]\r\n}"}
    headers:
      content-length: ['870']
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:15 GMT']
      request-id: [bcd556f1-896b-48f1-9f49-60ad74ff5dd1]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 400, message: The value provided for one of the properties in the
        request body is invalid.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:15 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D6879FA9733292\",\"lastModified\":\"2019-01-31T17:15:13.1952786Z\"\
        ,\"creationTime\":\"2019-01-31T17:15:13.1952786Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2019-01-31T17:15:13.1952786Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2019-01-31T17:15:13.6632801Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n    \
        \  \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\":\"admin\"\
        \r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n \
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"osVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:16 GMT']
      etag: ['0x8D6879FA9733292']
      last-modified: ['Thu, 31 Jan 2019 17:15:13 GMT']
      request-id: [7a0a2901-4e86-41f1-8841-8dd73fcb11f6]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicatedNodes": 5, "targetLowPriorityNodes": 3}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['56']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:16 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/resize?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchxwyieox4jbyb4yll.japanwest.batch.azure.com/pools/xplatCreatedPool/resize']
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:16 GMT']
      etag: ['0x8D6879FABAD853E']
      last-modified: ['Thu, 31 Jan 2019 17:15:16 GMT']
      request-id: [df36ddb4-9b7e-4c4d-a7de-2432e2882627]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:17 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D6879FABAD853E\",\"lastModified\":\"2019-01-31T17:15:16.932947Z\"\
        ,\"creationTime\":\"2019-01-31T17:15:13.1952786Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2019-01-31T17:15:13.1952786Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2019-01-31T17:15:16.932947Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n    \
        \  \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\":\"admin\"\
        \r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n \
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"osVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:17 GMT']
      etag: ['0x8D6879FABAD853E']
      last-modified: ['Thu, 31 Jan 2019 17:15:16 GMT']
      request-id: [63fb5fde-acbc-4a4a-936d-c5c63c5142f4]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:18 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/nodecounts?api-version=2018-12-01.8.0&maxresults=10&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#poolnodecounts\"\
        ,\"value\":[\r\n    {\r\n      \"poolId\":\"xplatCreatedPool\",\"dedicated\"\
        :{\r\n        \"creating\":0,\"idle\":0,\"leavingPool\":0,\"offline\":0,\"\
        preempted\":0,\"rebooting\":0,\"reimaging\":0,\"running\":0,\"starting\":0,\"\
        startTaskFailed\":0,\"unusable\":0,\"unknown\":0,\"waitingForStartTask\":0,\"\
        total\":0\r\n      },\"lowPriority\":{\r\n        \"creating\":0,\"idle\"\
        :0,\"leavingPool\":0,\"offline\":0,\"preempted\":0,\"rebooting\":0,\"reimaging\"\
        :0,\"running\":0,\"starting\":0,\"startTaskFailed\":0,\"unusable\":0,\"unknown\"\
        :0,\"waitingForStartTask\":0,\"total\":0\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:17 GMT']
      request-id: [c7bb5e8c-2c61-4ef8-b401-236c0fedc673]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:15:18 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchxwyieox4jbyb4yll.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize']
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:15:19 GMT']
      etag: ['0x8D6879FABAD853E']
      last-modified: ['Thu, 31 Jan 2019 17:15:16 GMT']
      request-id: [623c14aa-747e-4ff9-bded-f56f5a220c76]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:17:19 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D6879FABAD853E\",\"lastModified\":\"2019-01-31T17:15:16.932947Z\"\
        ,\"creationTime\":\"2019-01-31T17:15:13.1952786Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2019-01-31T17:15:13.1952786Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2019-01-31T17:15:22.2296949Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"osVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:17:19 GMT']
      etag: ['0x8D6879FABAD853E']
      last-modified: ['Thu, 31 Jan 2019 17:15:16 GMT']
      request-id: [09fa911a-f8f9-409c-b413-f2be5dbfd6e8]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"commandLine": "cmd /c echo updated", "waitForSuccess":
      true}, "certificateReferences": [], "applicationPackageReferences": [], "metadata":
      []}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:17:20 GMT']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2018-12-01.8.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchxwyieox4jbyb4yll.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:17:20 GMT']
      etag: ['0x8D6879FF57093C2']
      last-modified: ['Thu, 31 Jan 2019 17:17:20 GMT']
      request-id: [a7c65785-5b85-4e8e-a29e-8babc4a9c936]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:17:20 GMT']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-12-01.8.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D6879FF57093C2\",\"lastModified\":\"2019-01-31T17:17:20.6849474Z\"\
        ,\"creationTime\":\"2019-01-31T17:15:13.1952786Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2019-01-31T17:15:13.1952786Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2019-01-31T17:15:22.2296949Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo updated\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"elevationLevel\":\"nonadmin\"\r\n\
        \      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n  },\"\
        certificateReferences\":[\r\n    \r\n  ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\"\
        :{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"cloudServiceConfiguration\"\
        :{\r\n    \"osFamily\":\"4\",\"osVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:17:21 GMT']
      etag: ['0x8D6879FF57093C2']
      last-modified: ['Thu, 31 Jan 2019 17:17:20 GMT']
      request-id: [1560a62b-770e-4e21-862e-e1834f99521a]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"commandLine": "hostname"}, "certificateReferences": [],
      "applicationPackageReferences": [], "metadata": [{"name": "a", "value": "b"},
      {"name": "c", "value": "d"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:17:21 GMT']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2018-12-01.8.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchxwyieox4jbyb4yll.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:17:22 GMT']
      etag: ['0x8D6879FF645AAE7']
      last-modified: ['Thu, 31 Jan 2019 17:17:22 GMT']
      request-id: [31779fea-6e57-46b5-aa30-730ac65b181a]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:17:22 GMT']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-12-01.8.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D6879FF645AAE7\",\"lastModified\":\"2019-01-31T17:17:22.0814567Z\"\
        ,\"creationTime\":\"2019-01-31T17:15:13.1952786Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2019-01-31T17:15:13.1952786Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2019-01-31T17:15:22.2296949Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"hostname\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"elevationLevel\":\"nonadmin\"\r\n\
        \      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":false\r\n  },\"\
        certificateReferences\":[\r\n    \r\n  ],\"metadata\":[\r\n    {\r\n     \
        \ \"name\":\"a\",\"value\":\"b\"\r\n    },{\r\n      \"name\":\"c\",\"value\"\
        :\"d\"\r\n    }\r\n  ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n\
        \    \"nodeFillType\":\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n\
        \    \"osFamily\":\"4\",\"osVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:17:22 GMT']
      etag: ['0x8D6879FF645AAE7']
      last-modified: ['Thu, 31 Jan 2019 17:17:22 GMT']
      request-id: [0dfd04f7-b94d-4e83-ad34-8b1ed6432a8a]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          azure-batch/6.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Thu, 31 Jan 2019 17:17:22 GMT']
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-12-01.8.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceversion: ['3.0']
      date: ['Thu, 31 Jan 2019 17:17:22 GMT']
      request-id: [20710b49-7e3f-49e4-ac60-d0e5096f905b]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      ParameterSetName: [--name --yes --no-wait]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17763-SP0) msrest/0.6.2 msrest_azure/0.4.34
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.56]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Thu, 31 Jan 2019 17:17:24 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdSN01NUFJPTFNJSVdVWkFJMlBRRENDUko0WlRQSVJSTlVYS3w2MkFFMDhEOUY0NTczRUJDLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
