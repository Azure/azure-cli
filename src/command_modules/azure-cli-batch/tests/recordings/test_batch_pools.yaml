interactions:
- request:
    body: '{"cloudServiceConfiguration": {"osFamily": "4"}, "vmSize": "small", "id":
      "azure-cli-test-paas"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['96']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [358ae564-fd46-11e6-96c5-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:06 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:06 GMT']
      ETag: ['0x8D45F6A1923EFE9']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:05 GMT']
      Location: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [374e61ed-ac9f-40c7-bb2a-08ca40cbcb81]
    status: {code: 201, message: Created}
- request:
    body: '{"virtualMachineConfiguration": {"nodeAgentSKUId": "batch.node.ubuntu 16.04",
      "imageReference": {"version": "latest", "sku": "16.04.0-LTS", "offer": "UbuntuServer",
      "publisher": "Canonical"}}, "vmSize": "Standard_A1", "id": "azure-cli-test-iaas"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['246']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [36548ade-fd46-11e6-b991-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:08 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:08 GMT']
      ETag: ['0x8D45F6A199DBC99']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:06 GMT']
      Location: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [012852ef-1ec9-4dd3-88c7-2b62a7d223b0]
    status: {code: 201, message: Created}
- request:
    body: '{"userAccounts": [{"elevationLevel": "admin", "password": "SRYES@#%#_DSFH",
      "name": "cliTestUser"}], "targetDedicated": 2, "id": "azure-cli-test-json",
      "startTask": {"commandLine": "cmd /c echo test", "waitForSuccess": true, "userIdentity":
      {"username": "cliTestUser"}}, "cloudServiceConfiguration": {"osFamily": "4",
      "targetOSVersion": "*"}, "vmSize": "small", "resizeTimeout": "PT15M"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['387']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [371a71e6-fd46-11e6-95eb-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:09 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:09 GMT']
      ETag: ['0x8D45F6A1A67D366']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:08 GMT']
      Location: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [541ad5a4-3a36-4130-9215-a97ca5d4cc62]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3797cba2-fd46-11e6-bff7-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:10 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"azure-cli-test-json\",\"url\":\"https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json\"\
        ,\"eTag\":\"0x8D45F6A1A67D366\",\"lastModified\":\"2017-02-27T23:41:08.0266598Z\"\
        ,\"creationTime\":\"2017-02-27T23:41:08.0266598Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:41:08.0266598Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2017-02-27T23:41:08.0266598Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":2,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"username\":\"cliTestUser\"\r\n    },\"maxTaskRetryCount\":0,\"\
        waitForSuccess\":true\r\n  },\"userAccounts\":[\r\n    {\r\n      \"name\"\
        :\"cliTestUser\",\"elevationLevel\":\"admin\"\r\n    }\r\n  ],\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"targetOSVersion\"\
        :\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:07 GMT']
      ETag: ['0x8D45F6A1A67D366']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:08 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [2b103cec-8822-46d0-b9e4-781064742223]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [383f605c-fd46-11e6-aaeb-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:11 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools?maxresults=1000&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"azure-cli-test-iaas\",\"url\":\"https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas\"\
        ,\"eTag\":\"0x8D45F6A199DBC99\",\"lastModified\":\"2017-02-27T23:41:06.7022489Z\"\
        ,\"creationTime\":\"2017-02-27T23:41:06.7022489Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:41:06.7022489Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-02-27T23:41:07.2892499Z\"\
        ,\"vmSize\":\"standard_a1\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :0,\"targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\"\
        :\"Spread\"\r\n      },\"virtualMachineConfiguration\":{\r\n        \"imageReference\"\
        :{\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"\
        sku\":\"16.04.0-LTS\",\"version\":\"latest\"\r\n        },\"nodeAgentSKUId\"\
        :\"batch.node.ubuntu 16.04\"\r\n      }\r\n    },{\r\n      \"id\":\"azure-cli-test-json\"\
        ,\"url\":\"https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json\"\
        ,\"eTag\":\"0x8D45F6A1A67D366\",\"lastModified\":\"2017-02-27T23:41:08.0266598Z\"\
        ,\"creationTime\":\"2017-02-27T23:41:08.0266598Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:41:08.0266598Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2017-02-27T23:41:08.0266598Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":2,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n        \"commandLine\":\"cmd /c echo test\",\"\
        userIdentity\":{\r\n          \"username\":\"cliTestUser\"\r\n        },\"\
        maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n      },\"userAccounts\"\
        :[\r\n        {\r\n          \"name\":\"cliTestUser\",\"elevationLevel\":\"\
        admin\"\r\n        }\r\n      ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\"\
        :{\r\n        \"nodeFillType\":\"Spread\"\r\n      },\"cloudServiceConfiguration\"\
        :{\r\n        \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\"\
        :\"*\"\r\n      }\r\n    },{\r\n      \"id\":\"azure-cli-test-paas\",\"url\"\
        :\"https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas\",\"\
        eTag\":\"0x8D45F6A1923EFE9\",\"lastModified\":\"2017-02-27T23:41:05.9040233Z\"\
        ,\"creationTime\":\"2017-02-27T23:41:05.9040233Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:41:05.9040233Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-02-27T23:41:06.0030642Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\"\
        :\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n        \"osFamily\"\
        :\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n      }\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:09 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c296c57f-5c6b-4fb8-8367-e3b4ec9cbb80]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [38b8b7dc-fd46-11e6-bc1c-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:12 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools?maxresults=1000&api-version=2017-01-01.4.0&$filter=id%20eq%20%27azure-cli-test-paas%27&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"azure-cli-test-paas\",\"url\":\"https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas\"\
        ,\"eTag\":\"0x8D45F6A1923EFE9\",\"lastModified\":\"2017-02-27T23:41:05.9040233Z\"\
        ,\"creationTime\":\"2017-02-27T23:41:05.9040233Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:41:05.9040233Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-02-27T23:41:06.0030642Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\"\
        :\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n        \"osFamily\"\
        :\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n      }\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c913a0b3-960d-489b-9ccc-bf2cc669897f]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicated": 5}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [392e8612-fd46-11e6-ad9c-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:13 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas/resize?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas/resize']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:11 GMT']
      ETag: ['0x8D45F6A1C76B06A']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9a286078-c032-459e-aa4d-09c767e5253f]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [39a6b77a-fd46-11e6-9f6f-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:13 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas?$select=allocationState%2C%20targetDedicated&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools/@Element\"\
        ,\"allocationState\":\"resizing\",\"targetDedicated\":5\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:14 GMT']
      ETag: ['0x8D45F6A1C76B06A']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f7e61b87-5e4d-4cef-b185-0c9027f83056]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3a349426-fd46-11e6-9846-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:14 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas/stopresize?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas/stopresize']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:13 GMT']
      ETag: ['0x8D45F6A1D7A6B14']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:13 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c9c6c65e-04f3-40a0-a94d-8bb711a6917f]
    status: {code: 202, message: Accepted}
- request:
    body: '{"autoScaleFormula": "$TargetDedicated=3"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['42']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3abf7c98-fd46-11e6-9575-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:15 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas/enableautoscale?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas/enableautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:14 GMT']
      ETag: ['0x8D45F6A1E04BD3B']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:14 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7a08040c-7f2d-451c-89dc-36e232526864]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3b509092-fd46-11e6-9a4c-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:16 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas?$select=enableAutoScale&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools/@Element\"\
        ,\"enableAutoScale\":true\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:16 GMT']
      ETag: ['0x8D45F6A1E04BD3B']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:14 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [1f0db283-d9fb-4ff1-85bd-3d495c42c745]
    status: {code: 200, message: OK}
- request:
    body: '{"autoScaleFormula": "$TargetDedicated=3"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['42']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3bf17d66-fd46-11e6-baaf-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:17 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas/evaluateautoscale?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.AutoScaleRun\"\
        ,\"timestamp\":\"2017-02-27T23:41:17.8557381Z\",\"results\":\"$TargetDedicated=3;$NodeDeallocationOption=requeue\"\
        \r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas/evaluateautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [aa2438eb-e2e5-4030-9d58-5b990b10ef32]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3c939540-fd46-11e6-a049-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:18 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas/disableautoscale?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas/disableautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:16 GMT']
      ETag: ['0x8D45F6A1FE83E77']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [95c3b6f0-c70a-4d48-be23-ffdc2a38582e]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3d1c205a-fd46-11e6-bc3d-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:19 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas?$select=enableAutoScale&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools/@Element\"\
        ,\"enableAutoScale\":false\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:18 GMT']
      ETag: ['0x8D45F6A1FE8659B']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ae701667-eb2c-4085-a741-ea0eb9a575cb]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3d9fb910-fd46-11e6-a80a-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:20 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/poolusagemetrics?maxresults=1000&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#poolusagemetrics\"\
        ,\"value\":[\r\n    \r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:20 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [bf79ee7a-9f40-4195-bb47-f75e8a2f6d48]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3e186170-fd46-11e6-bffb-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:21 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json?$select=startTask&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools/@Element\"\
        ,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"username\":\"cliTestUser\"\r\n    },\"maxTaskRetryCount\":0,\"\
        waitForSuccess\":true\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:20 GMT']
      ETag: ['0x8D45F6A1A67D366']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:08 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e74c1ce1-5c68-4968-bef9-cc48fc9e3b71]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"commandLine": "new_value"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['43']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3ebfad94-fd46-11e6-8ed2-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:22 GMT']
      return-client-request-id: ['false']
    method: PATCH
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:22 GMT']
      ETag: ['0x8D45F6A2238470F']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:21 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [f662d961-c31b-46b8-aaaf-7ed2f1a4e902]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [3f7dce14-fd46-11e6-bcfd-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:23 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-json?$select=startTask&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools/@Element\"\
        ,\"startTask\":{\r\n    \"commandLine\":\"new_value\",\"maxTaskRetryCount\"\
        :0,\"waitForSuccess\":false\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:24 GMT']
      ETag: ['0x8D45F6A2238470F']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:21 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [5d606f04-f2b6-462c-bf6a-067ee079ac78]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [406e450c-fd46-11e6-be18-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:25 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/nodeagentskus?maxresults=1000&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.0\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"Oracle\",\"offer\":\"Oracle-Linux\",\"sku\":\"7.0\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"offer\":\"\
        linux-data-science-vm\",\"sku\":\"linuxdsvm\",\"version\":\"latest\"\r\n \
        \       }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian\
        \ 8\",\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\"\
        :\"Credativ\",\"offer\":\"Debian\",\"sku\":\"8\",\"version\":\"latest\"\r\n\
        \        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse\
        \ 13.2\",\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"openSUSE\",\"sku\":\"13.2\",\"version\":\"latest\"\r\
        \n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.opensuse 42.1\",\"verifiedImageReferences\":[\r\n        {\r\n\
        \          \"publisher\":\"SUSE\",\"offer\":\"openSUSE-Leap\",\"sku\":\"42.1\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"SUSE\"\
        ,\"offer\":\"SLES\",\"sku\":\"12-SP1\",\"version\":\"latest\"\r\n        },{\r\
        \n          \"publisher\":\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.ubuntu 14.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\"\
        ,\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\":\"\
        Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.04.0-LTS\",\"version\"\
        :\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n  \
        \    \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\":[\r\n\
        \        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e502ce1e-62f3-409a-9856-624f4de8a7a5]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [412be870-fd46-11e6-bdfc-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:26 GMT']
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:23 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0430bfb4-7bf2-4ab2-b2f9-87c684faf843]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [41a94a76-fd46-11e6-a8ed-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:27 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-iaas?$select=state&api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#pools/@Element\"\
        ,\"state\":\"deleting\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:25 GMT']
      ETag: ['0x8D45F6A24712C75']
      Last-Modified: ['Mon, 27 Feb 2017 23:41:24 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [d15c3252-cf6a-4760-96b8-ade6b69be3d3]
    status: {code: 200, message: OK}
- request:
    body: '{"cloudServiceConfiguration": {"osFamily": "4"}, "vmSize": "small", "id":
      "app_package_test", "applicationPackageReferences": [{"applicationId": "does-not-exist"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['164']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [4231ebe6-fd46-11e6-9cb7-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:28 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/pools?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidApplicationPackageReferences\",\"message\":{\r\n    \"\
        lang\":\"en-US\",\"value\":\"One or more of the specified application package\
        \ references are invalid.\\nRequestId:46baabe7-63ea-414e-ae6c-c8d7a63e438f\\\
        nTime:2017-02-27T23:41:28.7677426Z\"\r\n  },\"values\":[\r\n    {\r\n    \
        \  \"key\":\"does-not-exist\",\"value\":\"The specified application package\
        \ does not exist.\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Length: ['511']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [46baabe7-63ea-414e-ae6c-c8d7a63e438f]
    status: {code: 409, message: One or more of the specified application package
        references are invalid.}
- request:
    body: '{"applicationPackageReferences": [{"applicationId": "does-not-exist"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['71']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [42c9f8e4-fd46-11e6-a7a0-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:41:29 GMT']
      return-client-request-id: ['false']
    method: PATCH
    uri: https://clitest1.uksouth.batch.azure.com/pools/azure-cli-test-paas?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidApplicationPackageReferences\",\"message\":{\r\n    \"\
        lang\":\"en-US\",\"value\":\"One or more of the specified application package\
        \ references are invalid.\\nRequestId:34862835-3dcb-426a-bada-58a528d8607e\\\
        nTime:2017-02-27T23:41:27.7470715Z\"\r\n  },\"values\":[\r\n    {\r\n    \
        \  \"key\":\"does-not-exist\",\"value\":\"The specified application package\
        \ does not exist.\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Length: ['511']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:41:27 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [34862835-3dcb-426a-bada-58a528d8607e]
    status: {code: 409, message: One or more of the specified application package
        references are invalid.}
version: 1
