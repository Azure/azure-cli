interactions:
- request:
    body: '{"tags": {"cause": "automation", "date": "2019-05-14T20:54:46Z", "product":
      "azurecli"}, "location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group create
      Connection:
      - keep-alive
      Content-Length:
      - '110'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --location --name --tag
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 resourcemanagementclient/2.1.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_create_rbac_sp_with_cert000001?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","name":"cli_create_rbac_sp_with_cert000001","location":"westus","tags":{"cause":"automation","date":"2019-05-14T20:54:46Z","product":"azurecli"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2019 20:54:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:54:49 GMT
      duration:
      - '1094555'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - pnOScdeawrYYFPJuX1Io7DBmy+ms5G0/BcDi1ugwLKQ=
      ocp-aad-session-key:
      - d8bxrocVFueSzqs_Mlc7EbwFQDIypZtxo2fZsthzBvFrjjWYaB-QmXN0XNa_4kSkKd5S_wIB4Wgdp8EyLq41LUVdX6TKThn2-XwPYwV_fBYK1qIzS3PFFL6vyNbW7sc9.Sz45vrWtzddQLw6akBYqnyH2IZP9DqsICUJ29OXSBoU
      pragma:
      - no-cache
      request-id:
      - f29cb6d5-d95c-4bae-a1e5-8d3608d9494e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:54:49 GMT
      duration:
      - '503909'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - HEPAm0tyongGpYycSw509UTFJ4dZAtir7lD0xyk+LYQ=
      ocp-aad-session-key:
      - fWm6S5gNUbqxYtTTGWuqPyd0-V3UUH8PGow100vn7lsiwIrHlAReR8W_i9fndt4bX1bxvxAP6C-u6gHKRjeXIz-j-VreRr5devOkIV0-zkRMoa8q93yc66DHKq-QC7mi.TeMiLauOnmtcafbF1Dj28uQpfvI2yV3fwn7HETeiM2I
      pragma:
      - no-cache
      request-id:
      - 61b8589f-bed4-4315-99bd-c728bbdd1d1c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"homepage": "https://cli_create_rbac_sp_with_cert000001", "identifierUris":
      ["http://cli_create_rbac_sp_with_cert000001"], "availableToOtherTenants": false,
      "displayName": "cli_create_rbac_sp_with_cert000001", "keyCredentials": [{"startDate":
      "2019-05-14T20:54:50.218237Z", "keyId": "88888888-0000-0000-0000-000000000001",
      "type": "AsymmetricX509Cert", "endDate": "2020-05-14T20:54:50.218237Z", "value":
      "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\\\\nbjAiGA8yMDE5MDUxNDIwNTQ0OVoYDzIwMjAwNTE0MjA1NDUxWjAUMRIwEAYDVQQD\\\\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCixpK3\\\\nqRxbcuhVt0V01fE6mLYS74Qc7zPGKiKB8DZE3cvKtCgTNXbaZxxY8+uk8RQhzArA\\\\nvPODQ2ThEv1+ymW67NRb7wOmVcRzZIwP3TGjCFcbtaQNTTO127RQHt4KaX3Ux+Ne\\\\n4FAN+Z68UcWYCqm61uxVVGA0rwr6IZ1kL9UUOIooa4S8qZWh5vcOMbxUP2fCFq/t\\\\n3jOUpWFvpFRE0bWCBd1cu8C5sm6JoipOK/k72u1unNoc0THzOIz4jN/hvxyIcqrU\\\\n1U9K9r/nkd3vcTLh7q0B3sIuw21+rIW7rXyMDGUtgcMI7291WRbMGOtpiRVUi6lH\\\\n+ZBUQxJXBt759e5rAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBABJFkM2MxvPPRht6\\\\nr8oflIQ6MswcmhetIGr2I1FNrBteDak3YQ6HfvDUHo2f4v4O0oZtBbqLouj2/25o\\\\nT6yL8E+NWUmXEuBMr08kCvN9GxJUMHMOhoK7g+dnwSjD+0PUHLdmNmXoHC1Ko81V\\\\nHZDS1dUgfEB3T64th9KVzltfiXPkX88m1oWB8G+73apC6mtCrbt6EAzr5tOgLIP0\\\\nwrGtFnAU+6bH9TeuXcXW0o5RUeD36dYFOxMgze7atkSKowGqiNqT11D4dI8FxHl1\\\\nGVq6gXq3pzxHoqaXrWIRTtXY2QKsTO8czAAalgG/saKrtm2yufgaItn1tvnnRE6o\\\\nhUrWiwo=",
      "usage": "Verify"}]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1484'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"a9c5c857-3a39-4d70-ad46-3644a64611d0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b395e731-08c6-4a32-bff8-32d5847dee94","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"219304B95CB63CF2BDDA22EBB992F4DF82E6DAD4","endDate":"2020-05-14T20:54:50.218237Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-05-14T20:54:50.218237Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"de1bbe5c-172a-4a8b-a8d7-e1cdfc0d6b04","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:54:50 GMT
      duration:
      - '5083541'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - TXHS25292ScTeNNLyF6Lmk7CTfticyySnjF/t2td1Jk=
      ocp-aad-session-key:
      - gw-nX0WMej3zvEOJeUkcS0drOV1gFp7mxb6SHqV2Oyjctoh06mgz76tycbQePo1Jxu8IEq7JYw4N27302zZqRn0jxrgLdgUyyHZEoQW9BFTFS-fwk92xe8zUpmjal9DxVTM-guTwiQjKPgoRXkdxBA._2iF7qiQTsvnp9Po76qFMy5_Xm_-tk2j8JubHuCPxxE
      pragma:
      - no-cache
      request-id:
      - 6c35f183-c6bd-470f-9fb1-9823b2aa3545
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"appId": "b395e731-08c6-4a32-bff8-32d5847dee94", "accountEnabled": "True"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"7ada01ed-fe33-41b9-b33c-fff421c40085","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"b395e731-08c6-4a32-bff8-32d5847dee94","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"de1bbe5c-172a-4a8b-a8d7-e1cdfc0d6b04","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["b395e731-08c6-4a32-bff8-32d5847dee94","http://cli_create_rbac_sp_with_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:54:50 GMT
      duration:
      - '2456418'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/7ada01ed-fe33-41b9-b33c-fff421c40085/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - OQLywiI52PNERwXzjFjjauDsq3Wqe1LaqVZPFAotG7Q=
      ocp-aad-session-key:
      - 8QKQ1kr69RJDjPfoY4QzPOwRUBLc3kihupoqA-OOS-ZvAXXvRTnd333Lt7ZUagg4VXNhUkG69vtByvxtkiQIQCNyMlpledzkIJ1Qkc82AyySHzI1MfJMvr3mdah5JD63vIDdUctEI_VgVzykSB1XzA.1RmYKgv8k_0flrk9otG8IJnfMB6jjQYHR6TK6iYUcEM
      pragma:
      - no-cache
      request-id:
      - 5a11d9ab-673d-4f12-a3e7-5cfe99e9c6db
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-authorization/0.50.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2019 20:54:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "7ada01ed-fe33-41b9-b33c-fff421c40085"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-authorization/0.50.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-01-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 7ada01edfe3341b9b33cfff421c40085
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2019 20:54:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-authorization/0.50.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2019 20:54:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "7ada01ed-fe33-41b9-b33c-fff421c40085"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-authorization/0.50.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-01-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"7ada01ed-fe33-41b9-b33c-fff421c40085","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","createdOn":"2019-05-14T20:54:58.9186322Z","updatedOn":"2019-05-14T20:54:58.9186322Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2019 20:55:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '3'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-authorization/0.50.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2019 20:55:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "7ada01ed-fe33-41b9-b33c-fff421c40085"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-mgmt-authorization/0.50.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2018-01-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"7ada01ed-fe33-41b9-b33c-fff421c40085","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","createdOn":"2019-05-14T20:55:02.4722094Z","updatedOn":"2019-05-14T20:55:02.4722094Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000004"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 14 May 2019 20:55:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '3'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"7ada01ed-fe33-41b9-b33c-fff421c40085","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"b395e731-08c6-4a32-bff8-32d5847dee94","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"de1bbe5c-172a-4a8b-a8d7-e1cdfc0d6b04","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_create_rbac_sp_with_cert000001","b395e731-08c6-4a32-bff8-32d5847dee94"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2157'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:55:04 GMT
      duration:
      - '593245'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - BXRgh3eu6YIFumaSZy7lFEXIwtoZR+AXCAi0P8igTHU=
      ocp-aad-session-key:
      - dDHn5DyEjrO0lO82P6XxXtOL2Xplt9AfdzeS2iA0xGCHoyogNumSMjGTcC6LT8YpPLIuWSoHNWPX3fuaGSXvCU5YmRCZcZ_U9La8C__Q9fG396BuatTSR3t-MDATLbalDga57YiDJeJtpmOUBvwuHg.MIRicv_UpW1Tku3HWXJZJ2ZQ1i2-q9XMYuNwUfiHe9o
      pragma:
      - no-cache
      request-id:
      - 5dbf3021-4b5b-4e7e-8216-77072bcd8c61
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27b395e731-08c6-4a32-bff8-32d5847dee94%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:55:05 GMT
      duration:
      - '487103'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y26uuwjCYbnc4rIq9EZ3vl9kDH8i6IbQyMuXjLCVxgw=
      ocp-aad-session-key:
      - 4kDkpEphaIWOZdqlUuMPr0Ay3OcBgWuzV9qRccXgKYBhbYl7kO92tqb3WHnOpfYoNNqX-lz-ljBGXW6NxcUM_WmYFP5P2jcZMjlpcq90GtOPrM6zLVCe0bbDQBh27tDy9pKCIMVwgqU0UYcmYDTP1Q.qgItvnFDJs568F0FmJZWfZ0AloDV7CA7ye5QQLGs-6s
      pragma:
      - no-cache
      request-id:
      - 194ed349-5ad8-4605-94a5-718458524bf3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27b395e731-08c6-4a32-bff8-32d5847dee94%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"a9c5c857-3a39-4d70-ad46-3644a64611d0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b395e731-08c6-4a32-bff8-32d5847dee94","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"219304B95CB63CF2BDDA22EBB992F4DF82E6DAD4","endDate":"2020-05-14T20:54:50.218237Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-05-14T20:54:50.218237Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"de1bbe5c-172a-4a8b-a8d7-e1cdfc0d6b04","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:55:06 GMT
      duration:
      - '523147'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - wxTJ9LAVu6rJckmzKPdCGIT+txU9u3PTf1/IKRCG7+c=
      ocp-aad-session-key:
      - uoVktXknkGosTZsUQGczy417N9dZsbnQnIw5z5ny8MBe_TFsOzeuFYHam0QDjHH8qm4TaLL8IIL-gYBSpf3MeHCem0TWcy4iUvNsW5qKhYfadM7Y70plf1blCSKrAO0ZE2qia4-fvDxGdsfIeJjooQ.gSEphByiuQ6ylxvvY2ltpOFO_8OL-_7ztfwiAWslxGk
      pragma:
      - no-cache
      request-id:
      - a483f2ce-b108-48d9-a8df-1ce24ec958ca
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/a9c5c857-3a39-4d70-ad46-3644a64611d0?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"a9c5c857-3a39-4d70-ad46-3644a64611d0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b395e731-08c6-4a32-bff8-32d5847dee94","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"219304B95CB63CF2BDDA22EBB992F4DF82E6DAD4","endDate":"2020-05-14T20:54:50.218237Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-05-14T20:54:50.218237Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"de1bbe5c-172a-4a8b-a8d7-e1cdfc0d6b04","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:55:05 GMT
      duration:
      - '566865'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - R7GE/wZDw5mYOVlPUsy4LuVepndfwrdQz1ATlcVdHv4=
      ocp-aad-session-key:
      - 7ZKhU9KHND0DMBrcEbZ26EVCYSKsefxigoIurkqgHeOLhaKHw-WjgfkByj9gDVrc4QghbJmVDT3Pg3NCWd7uZEx0BzOHcD9lY8wpTUok1zt3ETOMkAS3T2dbrSD1559HPHVQgOGQHK3hshG3WeMIbg.FS300ZTTwUkkP7PrTTWoVcagWet2GiNKR3EW_3ED5Fc
      pragma:
      - no-cache
      request-id:
      - 307bb9c4-8d6f-4937-9e30-ba0a9fc1a4fc
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''{"keyCredentials": [{"startDate": "2019-05-14T20:55:05.589558Z", "keyId":
      "88888888-0000-0000-0000-000000000005", "type": "AsymmetricX509Cert", "endDate":
      "2020-05-14T20:55:05.589558Z", "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\\nbjAiGA8yMDE5MDUxNDIwNTUwNFoYDzIwMjAwNTE0MjA1NTA2WjAUMRIwEAYDVQQD\\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDr9kmn\\n1db7HHJxznVC+DWUZZANrpHNHrqkZ1/oA2xCYBPA0QEOuyZe0/caDa6RT5UFETmy\\njOYEA3xUuFLub1xB6M5+j3cgq3Ftn6sj6WfX83s7hN21P2zHs+OPX4c78BmLmuZ8\\nocddaWFh8JzAyEoGRgGa8MtBKEj4JR6n4ISijfmgkGGrY/qX0wTvlWBIvqjrEPEF\\n7f07JXdgTVhefbrml5WWkOj6iQ9eRHxwcR0SeEGz944WqGsF0tIwGmtAmK+CzAyq\\nuNdvcm3GccxuhOIwBcOQbz2gO7adQOQmQA5NEC0oOgHKHMVHiy1TacNJxSX/vd+C\\n1yhCcQGg60F2bosvAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBAI91qMZQ0L3z6gcH\\nZ5Q3OW2mg4u/BsISEWQacOvpTrl2OhYkUUnzxb39VZURB4zyPNKBNZUc5x6DaQps\\n8yxBjzpL0mpq7OAIdwDRsXFp2n30aWoB9y/kWUx1WMTMxfETcRu7FRdLSp0t75TF\\nu48tGb38XmwYKD6zMp/Rlc/FFWanCdNguJdgVIloeg2pgesF5w+o14Rl06vpW1MN\\n2cu3VoUEXC0jO8ehodQ7vEqhNcAe16Jik+bpGf5D0hF+AUHH/TpYRZzXW1IMTqWg\\nbftqNQGY4uPn0BTBdAnmlfMOcFohylDyUtcjQk+30IhsYN6HJo8oXBfcBSCPYtGL\\nLZCoUgg=",
      "usage": "Verify"}]}'''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1151'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/a9c5c857-3a39-4d70-ad46-3644a64611d0?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Tue, 14 May 2019 20:55:07 GMT
      duration:
      - '3947828'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - /ixj3U5tIdjsTF7jhrxO6gaWUFJzDmFQ2+8C7xVSngI=
      ocp-aad-session-key:
      - Lhpk0MJNTzPPG2az-kQ-9OYOy1MKbkprFk_MTvJf8yvjpH1fUhv_inUmmIxAaWcENYAq5c798ToDf1rRYBNoFkTDL26WSYu1LYqbJqngmhuWpizoxK3YQbGY-LxR582KkhE4nJVjTlN3At8vN2Au4Q.jPJDGYz6cWGTOGAq9kxIQYHTYhPh_D6PPD-JUnzc7xM
      pragma:
      - no-cache
      request-id:
      - 44b8a939-7270-49d1-8ef6-56a390bea390
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"a9c5c857-3a39-4d70-ad46-3644a64611d0","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b395e731-08c6-4a32-bff8-32d5847dee94","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"7125B0E4469DE11297AEE08E2070BBAAD5BF501B","endDate":"2020-05-14T20:55:05.589558Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2019-05-14T20:55:05.589558Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/a9c5c857-3a39-4d70-ad46-3644a64611d0/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"de1bbe5c-172a-4a8b-a8d7-e1cdfc0d6b04","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Tue, 14 May 2019 20:55:07 GMT
      duration:
      - '543441'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - WBvu8jP7GvGe2O2F+aZuMDfZG7V2TvhyRVdWPfSUkTU=
      ocp-aad-session-key:
      - DdQNDNCGNqKoXgfSRsAcHV7XqMLWL4u65Ag-I7q70kYIub1TBRMxzL7FJW29W39DKztufZjOLTHyeEOWUya-Iv_OmSL8Fb47m3MTUd3TkVeAcit88ijs-fElQQfAUnKd37t9qFIJYP0ohEBRgqrJ5w.hZ4bKgyUnumF7UkobWtVv_NxK870L9a68mU6M-7qeUM
      pragma:
      - no-cache
      request-id:
      - bb607cc6-158a-432d-8097-0fec675ff1fe
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/a9c5c857-3a39-4d70-ad46-3644a64611d0?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Tue, 14 May 2019 20:55:07 GMT
      duration:
      - '3558679'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 6K8lWHvVsgBdTBM4xsdGPioJWlS7JXIeN4jkSphTepo=
      ocp-aad-session-key:
      - wyr_4qGVk8UyuyebVgkAv_z4nHurIaNZiSlJ8A25DMpQoPljv5HUATK7lDeLeJdvNKOqyTVa9PG4e0JAERubfenmSUXolkJ_C-CBFwq7DZIjZ7DqIdM481FqLzuRHTcAUs6HDAxzcJF-ykc4SWkItQ.LVbG0QaSVCBzB1bu1FUhF7GtZnnE11RvhTskd0n1cJM
      pragma:
      - no-cache
      request-id:
      - 18150bb8-3d62-4501-8f21-2fa7279cf7a5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --yes --no-wait
      User-Agent:
      - python/3.5.4 (Windows-10-10.0.17763-SP0) msrest/0.6.6 msrest_azure/0.6.0 resourcemanagementclient/2.1.0
        Azure-SDK-For-Python AZURECLI/2.0.64
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_create_rbac_sp_with_cert000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Tue, 14 May 2019 20:55:09 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZDUkVBVEU6NUZSQkFDOjVGU1A6NUZXSVRIOjVGQ0VSVDVHS0w3UUgyTXxEODY0NTc3NDc3NEYwNDg5LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
version: 1
