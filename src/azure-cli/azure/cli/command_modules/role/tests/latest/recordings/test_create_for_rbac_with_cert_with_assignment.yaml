interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-06-21T18:28:30Z"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group create
      Connection:
      - keep-alive
      Content-Length:
      - '110'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --location --name --tag
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_create_rbac_sp_with_cert000001?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","name":"cli_create_rbac_sp_with_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-06-21T18:28:30Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:28:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:32 GMT
      duration:
      - '3217246'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 6nXKrctRtSptRoHzozTVMUA02WQGzIDDAMhbiPlyMGM=
      ocp-aad-session-key:
      - JokMEccbgrrH3Ts3zpombaUibHoYJS3I8XV97DhU5hMDtR2_52fcpWVLBDhfEJ2d1dPB6BLfPYPmXgr-cCOzibfdfHKFelzmqC2R4CprIyWt-y2x6TO7pQmLEgLQ2HtoD_HMLCAbirWb7bPWKYmoVA.9Lbvd2YpEIdOONdD0MHGbXdITUc7RPwC81XwSjCyRMs
      pragma:
      - no-cache
      request-id:
      - 1baa4368-345a-4b0f-869b-242c0b7c21fd
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:33 GMT
      duration:
      - '817086'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - BQUIGmRRyeHSEXkgch2q1Q3MYXFFtGhoXfkp3cvu3XA=
      ocp-aad-session-key:
      - XQi66sQvGtQkhIrr2GIEq_QiM4IBm6jRM9KlzDkDXWzqms7_ouHqc8A9eR7mrgkK7rzn6y8GYRtptm2YqAmF0C1dk4nI_ejPB8CQc-6fhxIrQSFD579gVSlTVxXbWrLR41KmDW9zqmGrGYkt-z5j6w.zgHmTrjHsdEAIKPSe-7yS-VG74ajKifrJwSamMJG-ls
      pragma:
      - no-cache
      request-id:
      - 612c5b43-872f-4cc1-b4f0-0a1ef19f81da
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_create_rbac_sp_with_cert000001",
      "keyCredentials": [{"startDate": "2019-06-21T18:28:32.808039Z", "endDate": "2020-06-21T18:28:32.808039Z",
      "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\\\\nbjAiGA8yMDE5MDYyMTE4MjgzMVoYDzIwMjAwNjIxMTgyODMzWjAUMRIwEAYDVQQD\\\\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDHikwC\\\\nViz0/wvkQB7XJkeRAFwjni7cy3ULGY79lb2qJnRzymLfcwGsfnW/gIw/5jFwYYpH\\\\n+hHSy67ctBrZtMDbqDPqBnn36bqITtjJl2lOa7jaG8qz+0IGFmCXCUYaEkODfHAN\\\\nA3log3KkcfEKrR0cG3nSuZO3q/JCudCPruuA+j1YggesxMMKb+gn7n/yl9CAkdos\\\\nfxFY33udkhEg2slmIMQ5VDfIEc6PiflFYhKwNWhArueEEWyihqHbHwXMfcsLhs8Z\\\\nm3CDcldhbp2wfyyMkfcHtaEGKjc/73S7WnbIMyCNV77NU/Iep0/StFDOarv0Ys7e\\\\nvNGH23rRZaXAahubAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBAJJAuV7agI9xTvmp\\\\ngC0ryPo01k5Viqg3jYE6v5HTPVwhmbKyge9RjptssTrvRiVu4PMYahgtvpE5D6Cs\\\\nR9eboJgLL/gB0xoPxeE8Y85Dw/E0XatzwpZ/PwOte+etN0ekHFt/zFxc2EUU/ncx\\\\nJ2ZVjoC/w9ofrppcoZ8j43pBi3LFVBy1A9MgWDC2pcJxFCsBic7kB5V/xYQf2p18\\\\nmKEK+67/po+vJzn7KhjFQnpwf0zz/XRO8x4pRzE0ISgWkAXMV2lVf/FD7A35q23K\\\\nKpnR363N+HHqam3/yHsTg9flQLLeNQ//lli0PZV9NI23K1+Zf8xVIAvGdt/v2up4\\\\nF+r+/jA=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_create_rbac_sp_with_cert000001",
      "identifierUris": ["http://cli_create_rbac_sp_with_cert000001"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1484'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"6cd1f36c-ba6d-4921-b211-06b7aa7be463","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"65a7d5f8-481b-4cd9-80fe-6782c5b97734","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"42951E4DB26D4DE40EA1728C6564BC77F2C59F75","endDate":"2020-06-21T18:28:32.808039Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:28:32.808039Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"0bc21826-11d8-4027-8e25-dca0aa2b22da","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2768'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:33 GMT
      duration:
      - '7053850'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - gs8C01f5KRN9nNLnTmZX5CWrEWq6NpXoaIB755uhVTs=
      ocp-aad-session-key:
      - JpBU52jesIx8wKkV6uKEkB-1JPr28dHevFyIscfOyQniFhnE_ESAAv_sjJzxAyqoBx9ho_DvwfDTEGmGYvd3Th-gXBykiRLEL4uZYhyd9497eNzGUCIj0T0rjpu5gPdAgJbpRPCLkHvSWjKdLVlF7Q.Ig4NDYuVuPQORat-G9E3_4yHwTewVWmvKfCzlX1zHL8
      pragma:
      - no-cache
      request-id:
      - 7e3c2409-152b-42d1-8ecc-53ee05524ae5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": true, "appId": "65a7d5f8-481b-4cd9-80fe-6782c5b97734"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"f92a573b-5d96-4a8c-8589-d92e890a3d78","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"65a7d5f8-481b-4cd9-80fe-6782c5b97734","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"0bc21826-11d8-4027-8e25-dca0aa2b22da","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["65a7d5f8-481b-4cd9-80fe-6782c5b97734","http://cli_create_rbac_sp_with_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2151'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:33 GMT
      duration:
      - '4495268'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/f92a573b-5d96-4a8c-8589-d92e890a3d78/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - PkCvv/QKIhw9uu/OmXUHm5LBeaURLjYgLYT6Rc6GAzs=
      ocp-aad-session-key:
      - X9pGFOFfGuhZeGAo-UtkZAgZgNoUCSCmGUD3iAZyhzlEdLBQoUA1_zjo9SzsypPl03VDpKfxkXmXP9MXRHzzdNg7i8E-RRnnSwqcuwGGwP7NLMr9-_cc8KPrbD2QoxpRk7Rerna0MzcVZEPsQc6JmA.rWW0g-OsOrv1gKBMpRfPlyjVM2gqZSVEiJlHCpUt-Iw
      pragma:
      - no-cache
      request-id:
      - c2cd8c4b-3f0f-4260-864d-62922475590a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:28:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "f92a573b-5d96-4a8c-8589-d92e890a3d78"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"f92a573b-5d96-4a8c-8589-d92e890a3d78","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","createdOn":"2019-06-21T18:28:35.3506851Z","updatedOn":"2019-06-21T18:28:35.3506851Z","createdBy":null,"updatedBy":"a1239024-a78f-4b62-a84e-3119f8924ffb"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000002"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:28:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '2'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:28:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "f92a573b-5d96-4a8c-8589-d92e890a3d78"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-09-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal f92a573b5d964a8c8589d92e890a3d78
        does not exist in the directory 72f988bf-86f1-41af-91ab-2d7cd011db47."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:28:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:28:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "f92a573b-5d96-4a8c-8589-d92e890a3d78"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"f92a573b-5d96-4a8c-8589-d92e890a3d78","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","createdOn":"2019-06-21T18:28:43.9613143Z","updatedOn":"2019-06-21T18:28:43.9613143Z","createdBy":null,"updatedBy":"a1239024-a78f-4b62-a84e-3119f8924ffb"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000004"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:28:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '2'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"f92a573b-5d96-4a8c-8589-d92e890a3d78","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"65a7d5f8-481b-4cd9-80fe-6782c5b97734","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"0bc21826-11d8-4027-8e25-dca0aa2b22da","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_create_rbac_sp_with_cert000001","65a7d5f8-481b-4cd9-80fe-6782c5b97734"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:45 GMT
      duration:
      - '887851'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - nJFXIGamvjq0WNq3R+NL4/o8lLasHivlbg5vcxwnAHk=
      ocp-aad-session-key:
      - MhGJVUGzksl8WfONMbqddk-_w3Df2OpblDr1wFmhikIOaW6ntYz_qWl3AGRg1tMCxB2k5FlPY7s2VHHNxaa6UeazScMKbSICl8xI93Lnd7o6QZZCicAdlfbsZNhk1rI_X1CylQNl7WUFH8mrXFAqBA.ud_TSqonZGG6cz4yZSTg9kN7dAAw0re6CPP3KeKCEjI
      pragma:
      - no-cache
      request-id:
      - 8a826e74-5993-46cf-bf5a-d0f07270e99d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%2765a7d5f8-481b-4cd9-80fe-6782c5b97734%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:46 GMT
      duration:
      - '691845'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - oZrPe4FIKjo1GYhrO8IKL/xFEqlXASoSuWNSbfUwOuY=
      ocp-aad-session-key:
      - GCacOGTANeZcnJyEtMZXEvo-ByRjmriGiyeqo8w7HmarSnqkNV6mRRKCF4b1hx6bz9JIc5BvG5X50rPQEeG2DWexT1LuGWOlTtngVt0bVmEBwB_rfXHmC1ylaWwmuCkvzUObZ1BUxbeYCLoVPZnIvg.JL0LehrAPcu2noX-BXKhfRfOzvrzkxSCiQgNA_esHyk
      pragma:
      - no-cache
      request-id:
      - 11cbea51-9f6a-4372-bd67-3cd403a75a4a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%2765a7d5f8-481b-4cd9-80fe-6782c5b97734%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"6cd1f36c-ba6d-4921-b211-06b7aa7be463","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"65a7d5f8-481b-4cd9-80fe-6782c5b97734","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"42951E4DB26D4DE40EA1728C6564BC77F2C59F75","endDate":"2020-06-21T18:28:32.808039Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:28:32.808039Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"0bc21826-11d8-4027-8e25-dca0aa2b22da","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:45 GMT
      duration:
      - '944220'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - x2woIFrQ+PupJNHtrFjquaK+WS/DcGV0VFd5xSHAoJ0=
      ocp-aad-session-key:
      - gALeK-OOdGEwKU7lOoi31-gOW9b8abFuNATG3jvDOMfj8M6THwpmojRPkrxsqee6UG2MoEupZdIY1738bgTNx9RiHzgnT3c75hdadFWVBSN5VixGm-vein2Q3oG4JWLW_MogNslMGTr_UZ2uaps6XQ.RAkZc5EdvnusyjuWzfPOBiKpDc0eTE2piOxleAIOTfQ
      pragma:
      - no-cache
      request-id:
      - 226e45cb-7bde-41ec-a7bc-e8f92686e599
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/6cd1f36c-ba6d-4921-b211-06b7aa7be463?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"6cd1f36c-ba6d-4921-b211-06b7aa7be463","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"65a7d5f8-481b-4cd9-80fe-6782c5b97734","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"42951E4DB26D4DE40EA1728C6564BC77F2C59F75","endDate":"2020-06-21T18:28:32.808039Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:28:32.808039Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"0bc21826-11d8-4027-8e25-dca0aa2b22da","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2682'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:46 GMT
      duration:
      - '4311914'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - K2ZEp5JFzjLS8X+ERXVqxvR0agNqqe7QIkfVrc8aXxg=
      ocp-aad-session-key:
      - aNnUJQdxyYeRTnwjLM4uJnj5hfBe2vxjSEX7LipL_b7QhGk-e2n2mvR3gB3tQKTMcM9dru1lZV64tEmlMYijwGGjbXipth1Fgf4PI2vWG8dMu2iAnCCnHlzI2CZGThu6ySpSaXmoD3gn8ogl1qm4Vw.K8TxE7R5rC7EwlJq0hUZB_f7xfK3YSlJNCvYT7OUs3g
      pragma:
      - no-cache
      request-id:
      - 3602333b-b380-4346-a7bf-b5aee4fe6ca1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''{"keyCredentials": [{"startDate": "2019-06-21T18:28:45.937478Z", "endDate":
      "2020-06-21T18:28:45.937478Z", "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\\nbjAiGA8yMDE5MDYyMTE4Mjg0NFoYDzIwMjAwNjIxMTgyODQ2WjAUMRIwEAYDVQQD\\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDJTNR5\\nrVh6v9OP8AmtdAvUtxUhhcfPw7spyhF/iYAWlsR1bW7jhIJusR3ieGXa9/UDT4w4\\nzHFvmqlaV9P9P1qcm7VENSUOQrWYTgoKr7vcTjkL5T2tMq58o4gYF+iSuYy4PYP0\\nwI0agweR7YMrXSJpqNuaB2Ncl1FfFbdO6spF7EFW+HTWBQtAYlFmQarlrm1jEwaL\\nSTClDk/kCJSvxDqpulw+T6bpuEJutpr+dmpU+nsG1/7e8xu56Nb9eEeWov77VhMZ\\nI7u8gMoeNMitxSfHk9oeXcSBOJT+vciRboQxR6aVdtrygDi1HQ8Km6nA5H9ILNLT\\nnsMsCzc5GmmjDbsjAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBAAC+ytFm3VmgAIl7\\nK7oAiqQCPxuq4rpLSBKQ7Ha0cc5gufVlaAmRy/Geq/S10t7gDJirrNS48AdRSL6V\\nW0WtMK6e8hvkahkBw4ibzRNuop809c+36Nc7P/Y5KecpdV4pbFxVyeRK6I+iNAiI\\nKk2qCRLOqzjiBMb+lfA3/96O4eC2IUJR9lCOxS0djM1ab55tkMRhuWoVIJwjA5oj\\nVbWWVKMS3fLLXRDHAmgrqPy9Gb8L3WMX3rwXVS0tVN7SRr1b/N4nxW5IonK+tlFy\\n+w4sCZzzjJ7lY8xs0m4wKAGGlBF6YSeSEegNaQ2Mv7xXuSLLoIWcVhd13Ka/3r91\\nnT9Rsdk=",
      "keyId": "88888888-0000-0000-0000-000000000005", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1151'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/6cd1f36c-ba6d-4921-b211-06b7aa7be463?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:28:47 GMT
      duration:
      - '4075780'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - YPCVOwAR3XOdfRvDdWZX3yHf1fnOOll9dsEetoCYv9Y=
      ocp-aad-session-key:
      - ZOwAP1VMKVi_YKptRH2Gjq_BU1gSuAXzwea2BwuufJzLXjSRnh1tXZC7NyLaZjxhLTvoJkxkxIGAit3DA5aG_RDy9jd-inznyNqwTL5JSWl4qrsJffqaC25IqAjVGzHY4vWgX32AhJF9N0ByegFP-A.2FuFBi7C1eylRL4P_uCbyzx3VVq9sqD48W_jR-6pU3Y
      pragma:
      - no-cache
      request-id:
      - fc318178-44f5-499c-941f-0635d03a0026
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"6cd1f36c-ba6d-4921-b211-06b7aa7be463","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"65a7d5f8-481b-4cd9-80fe-6782c5b97734","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"05048189FAD9F87A65FB20D81BB2B2EB2DEF40DC","endDate":"2020-06-21T18:28:45.937478Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2019-06-21T18:28:45.937478Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/6cd1f36c-ba6d-4921-b211-06b7aa7be463/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"0bc21826-11d8-4027-8e25-dca0aa2b22da","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:28:47 GMT
      duration:
      - '813625'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - WiG/DPKn3noJELxY9/Bmask7Igt00cCcbhfOcH/k7Qo=
      ocp-aad-session-key:
      - PiwMnYSdQGTm5OPlAHnj8X-hwf1rE4rxCgpjgexVMPy_dRDEEkPN4vfPBQ9Qj9lHcLyKYWyXUOLaYWKerXLxm8-ebgJVRj0JzXVdx6pX_LIiLRutYJAP18tbt5e0CvF7-NnzD9nFfrL8JFkcKtpdXQ.Y792sYEAZWu4ZJvkdxTJ9zKmyW3jmNWFyH_PJfb0oIU
      pragma:
      - no-cache
      request-id:
      - 240b85e0-dea3-4c48-824b-cd9abb9c4c1b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/6cd1f36c-ba6d-4921-b211-06b7aa7be463?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:28:48 GMT
      duration:
      - '5208184'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - q5Xbh3MZA2oHL2aMV5BkPDdbnE4y3W66Ql7+EgkvqGE=
      ocp-aad-session-key:
      - nk78Zid-WcjJ0nIGdnQgROwHS3VjVXawLoOB4jXgZHOF2RiD6sTh3TFh5OU35AgXLXRM7tR7xbp5Egs8gLX0KgY48yNHiwKwDEDayw5dXVEFddviSiOnW5-2wx9IdJaEZBhO2lEhiVh4FmJxgdIDgQ.V2zOlA35QNrLRb8XNd6xYaf_DNKP2nFWxTvWTkGmpBU
      pragma:
      - no-cache
      request-id:
      - d1b7089a-a61a-437a-9bbd-45836b865bfd
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --yes --no-wait
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_create_rbac_sp_with_cert000001?api-version=2019-07-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 21 Jun 2019 18:28:49 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZDUkVBVEU6NUZSQkFDOjVGU1A6NUZXSVRIOjVGQ0VSVEZHTzI1N1hSM3wzMjRBMUJCN0JDN0FGODNCLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2019-07-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
version: 1
