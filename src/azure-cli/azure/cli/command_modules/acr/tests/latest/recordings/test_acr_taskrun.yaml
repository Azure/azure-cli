interactions:
- request:
    body: '{"location": "westus", "sku": {"name": "Standard"}, "properties": {"adminUserEnabled":
      false}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr create
      Connection:
      - keep-alive
      Content-Length:
      - '94'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2019-05-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"westus","tags":{},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2020-01-22T06:15:14.6739161Z","provisioningState":"Succeeded","adminUserEnabled":false,"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2020-01-22T06:15:16.2564009+00:00","status":"disabled"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:15:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "parameters": {"location": {"type": "string", "defaultValue":
      "[resourceGroup().location]", "metadata": {"description": "Location for all
      resources."}}, "registryName": {"type": "string", "minLength": 5, "maxLength":
      50, "metadata": {"description": "Name of your Azure Container Registry"}}, "taskRunName":
      {"type": "string", "minLength": 5, "maxLength": 50, "metadata": {"description":
      "Name of your Task Run and tag generated"}}, "sourceLocation": {"type": "string",
      "defaultValue": "https://github.com/Azure-Samples/acr-build-helloworld-node.git",
      "metadata": {"description": "Source Location"}}, "dockerFilePath": {"type":
      "string", "defaultValue": "Dockerfile", "metadata": {"description": "Name of
      dockerFile"}}, "image": {"type": "string", "defaultValue": "mytest:v1", "metadata":
      {"description": "Image name"}}}, "resources": [{"type": "Microsoft.ContainerRegistry/registries/taskRuns/",
      "name": "[concat(parameters(''registryName''), ''/'', parameters(''taskRunName''))]",
      "location": "[parameters(''location'')]", "apiVersion": "2019-06-01-preview",
      "properties": {"runRequest": {"type": "DockerBuildRequest", "imageNames": ["[parameters(''image'')]"],
      "sourceLocation": "[parameters(''sourceLocation'')]", "dockerFilePath": "[parameters(''dockerFilePath'')]",
      "values": [], "isPushEnabled": true, "platform": {"os": "linux", "architecture":
      "amd64"}, "credentials": {}}}}], "outputs": {"taskRunName": {"type": "string",
      "value": "[parameters(''taskRunName'')]"}}}, "parameters": {"registryName":
      {"value": "clireg000002"}, "taskRunName": {"value": "testTaskRun"}, "sourceLocation":
      {"value": "https://github.com/Azure-Samples/acr-build-helloworld-node.git"},
      "dockerFilePath": {"value": "Dockerfile"}, "image": {"value": "testtaskrun:v1"}},
      "mode": "Incremental"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group deployment create
      Connection:
      - keep-alive
      Content-Length:
      - '1919'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --resource-group --template-file --parameters --parameters --parameters --parameters
        --parameters
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Resources/deployments/taskrunquickbuildsample","name":"taskrunquickbuildsample","type":"Microsoft.Resources/deployments","properties":{"templateHash":"13112214626039113742","parameters":{"location":{"type":"String","value":"westus"},"registryName":{"type":"String","value":"clireg000002"},"taskRunName":{"type":"String","value":"testTaskRun"},"sourceLocation":{"type":"String","value":"https://github.com/Azure-Samples/acr-build-helloworld-node.git"},"dockerFilePath":{"type":"String","value":"Dockerfile"},"image":{"type":"String","value":"testtaskrun:v1"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2020-01-22T06:15:17.5361223Z","duration":"PT0.3850064S","correlationId":"7919ea90-a1dd-4946-800e-86e10d434f35","providers":[{"namespace":"Microsoft.ContainerRegistry","resourceTypes":[{"resourceType":"registries/taskRuns","locations":["westus"]}]}],"dependencies":[]}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/taskrunquickbuildsample/operationStatuses/08586219331683265029?api-version=2019-07-01
      cache-control:
      - no-cache
      content-length:
      - '1070'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:15:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group deployment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --template-file --parameters --parameters --parameters --parameters
        --parameters
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.80
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586219331683265029?api-version=2019-07-01
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:15:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group deployment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --template-file --parameters --parameters --parameters --parameters
        --parameters
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.80
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586219331683265029?api-version=2019-07-01
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group deployment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --template-file --parameters --parameters --parameters --parameters
        --parameters
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.80
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586219331683265029?api-version=2019-07-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group deployment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --template-file --parameters --parameters --parameters --parameters
        --parameters
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.80
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Resources/deployments/taskrunquickbuildsample","name":"taskrunquickbuildsample","type":"Microsoft.Resources/deployments","properties":{"templateHash":"13112214626039113742","parameters":{"location":{"type":"String","value":"westus"},"registryName":{"type":"String","value":"clireg000002"},"taskRunName":{"type":"String","value":"testTaskRun"},"sourceLocation":{"type":"String","value":"https://github.com/Azure-Samples/acr-build-helloworld-node.git"},"dockerFilePath":{"type":"String","value":"Dockerfile"},"image":{"type":"String","value":"testtaskrun:v1"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2020-01-22T06:16:34.6292564Z","duration":"PT1M17.4781405S","correlationId":"7919ea90-a1dd-4946-800e-86e10d434f35","providers":[{"namespace":"Microsoft.ContainerRegistry","resourceTypes":[{"resourceType":"registries/taskRuns","locations":["westus"]}]}],"dependencies":[],"outputs":{"taskRunName":{"type":"String","value":"testTaskRun"}},"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/taskRuns/testTaskRun"}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1403'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun list
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2019-05-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"westus","tags":{},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2020-01-22T06:15:14.6739161Z","provisioningState":"Succeeded","adminUserEnabled":false,"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2020-01-22T06:15:16.2564009+00:00","status":"disabled"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun list
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/taskRuns?api-version=2019-06-01-preview
  response:
    body:
      string: '{"value":[{"type":"Microsoft.ContainerRegistry/registries/taskRuns","properties":{"provisioningState":"Succeeded","runRequest":{"type":"DockerBuildRequest","imageNames":["testtaskrun:v1"],"isPushEnabled":true,"noCache":false,"dockerFilePath":"Dockerfile","platform":{"os":"linux","architecture":"amd64"},"sourceLocation":"https://github.com/Azure-Samples/acr-build-helloworld-node.git","credentials":{},"isArchiveEnabled":true},"runResult":{"type":"Microsoft.ContainerRegistry/registries/runs","properties":{"runId":"cf1","status":"Succeeded","lastUpdatedTime":"2020-01-22T06:16:15+00:00","runType":"QuickRun","createTime":"2020-01-22T06:15:37.2387637+00:00","startTime":"2020-01-22T06:15:42.3469677+00:00","finishTime":"2020-01-22T06:16:15.7166107+00:00","outputImages":[{"registry":"clireg000002.azurecr.io","repository":"testtaskrun","tag":"v1","digest":"sha256:aa0b85413f68984ecc984a013e809ad9362278b05ee87137cd7d968e30477803"}],"platform":{"os":"linux","architecture":"amd64"},"agentConfiguration":{"cpu":2},"provisioningState":"Succeeded","isArchiveEnabled":true},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/runs/cf1","name":"cf1"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/taskRuns/testTaskRun","name":"testTaskRun","location":"WESTUS"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1606'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx/1.15.10
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun show
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2019-05-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"westus","tags":{},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2020-01-22T06:15:14.6739161Z","provisioningState":"Succeeded","adminUserEnabled":false,"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2020-01-22T06:15:16.2564009+00:00","status":"disabled"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun show
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/taskRuns/testTaskRun?api-version=2019-06-01-preview
  response:
    body:
      string: '{"type":"Microsoft.ContainerRegistry/registries/taskRuns","properties":{"provisioningState":"Succeeded","runRequest":{"type":"DockerBuildRequest","imageNames":["testtaskrun:v1"],"isPushEnabled":true,"noCache":false,"dockerFilePath":"Dockerfile","platform":{"os":"linux","architecture":"amd64"},"sourceLocation":"https://github.com/Azure-Samples/acr-build-helloworld-node.git","credentials":{},"isArchiveEnabled":true},"runResult":{"type":"Microsoft.ContainerRegistry/registries/runs","properties":{"runId":"cf1","status":"Succeeded","lastUpdatedTime":"2020-01-22T06:16:15+00:00","runType":"QuickRun","createTime":"2020-01-22T06:15:37.2387637+00:00","startTime":"2020-01-22T06:15:42.3469677+00:00","finishTime":"2020-01-22T06:16:15.7166107+00:00","outputImages":[{"registry":"clireg000002.azurecr.io","repository":"testtaskrun","tag":"v1","digest":"sha256:aa0b85413f68984ecc984a013e809ad9362278b05ee87137cd7d968e30477803"}],"platform":{"os":"linux","architecture":"amd64"},"agentConfiguration":{"cpu":2},"provisioningState":"Succeeded","isArchiveEnabled":true},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/runs/cf1","name":"cf1"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/taskRuns/testTaskRun","name":"testTaskRun","location":"WESTUS"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1594'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx/1.15.10
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun logs
      Connection:
      - keep-alive
      ParameterSetName:
      - -r --run-id -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2019-05-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"westus","tags":{},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2020-01-22T06:15:14.6739161Z","provisioningState":"Succeeded","adminUserEnabled":false,"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2020-01-22T06:15:16.2564009+00:00","status":"disabled"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun logs
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -r --run-id -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/runs/cf1/listLogSasUrl?api-version=2019-06-01-preview
  response:
    body:
      string: '{"logLink":"https://wusmanaged122.blob.core.windows.net/0681a922337d49ad88a4bbdb3e7724a9-qndgn6bayt/logs/cf1/rawtext.log?sv=2018-03-28&sr=b&sig=wRMKnlopGNaqnBJP0F%2BYP3D77IDC140MGOd0B%2BtOcBI%3D&se=2020-01-22T07%3A26%3A51Z&sp=r"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '229'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx/1.15.10
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - keep-alive
      User-Agent:
      - Azure-Storage/1.4.2-1.5.0 (Python CPython 3.7.6; Windows 10)
      x-ms-date:
      - Wed, 22 Jan 2020 06:16:51 GMT
      x-ms-version:
      - '2018-03-28'
    method: HEAD
    uri: https://wusmanaged122.blob.core.windows.net/0681a922337d49ad88a4bbdb3e7724a9-qndgn6bayt/logs/cf1/rawtext.log?sv=2018-03-28&sr=b&sig=wRMKnlopGNaqnBJP0F%2BYP3D77IDC140MGOd0B%2BtOcBI%3D&se=2020-01-22T07%3A26%3A51Z&sp=r
  response:
    body:
      string: ''
    headers:
      accept-ranges:
      - bytes
      content-disposition:
      - ''
      content-encoding:
      - utf-8
      content-length:
      - '3679'
      content-type:
      - text/plain; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:52 GMT
      etag:
      - '"0x8D79F02942F4EEB"'
      last-modified:
      - Wed, 22 Jan 2020 06:16:12 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-blob-committed-block-count:
      - '11'
      x-ms-blob-type:
      - AppendBlob
      x-ms-creation-time:
      - Wed, 22 Jan 2020 06:15:42 GMT
      x-ms-lease-state:
      - available
      x-ms-lease-status:
      - unlocked
      x-ms-meta-complete:
      - successful
      x-ms-server-encrypted:
      - 'true'
      x-ms-version:
      - '2018-03-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - keep-alive
      User-Agent:
      - Azure-Storage/1.4.2-1.5.0 (Python CPython 3.7.6; Windows 10)
      x-ms-date:
      - Wed, 22 Jan 2020 06:16:52 GMT
      x-ms-range:
      - bytes=0-4095
      x-ms-version:
      - '2018-03-28'
    method: GET
    uri: https://wusmanaged122.blob.core.windows.net/0681a922337d49ad88a4bbdb3e7724a9-qndgn6bayt/logs/cf1/rawtext.log?sv=2018-03-28&sr=b&sig=wRMKnlopGNaqnBJP0F%2BYP3D77IDC140MGOd0B%2BtOcBI%3D&se=2020-01-22T07%3A26%3A51Z&sp=r
  response:
    body:
      string: "2020/01/22 06:15:42 Downloading source code...\r\n2020/01/22 06:15:45
        Finished downloading source code\r\n2020/01/22 06:15:45 Using acb_vol_062829ac-27c8-4b0f-b687-6ecc07715c76
        as the home volume\n2020/01/22 06:15:45 Setting up Docker configuration...\n2020/01/22
        06:15:46 Successfully set up Docker configuration\n2020/01/22 06:15:46 Logging
        in to registry: clireg000002.azurecr.io\n2020/01/22 06:15:48 Successfully
        logged into clireg000002.azurecr.io\n2020/01/22 06:15:48 Executing step ID:
        build. Timeout(sec): 28800, Working directory: '', Network: ''\n2020/01/22
        06:15:48 Scanning for dependencies...\r\n2020/01/22 06:15:48 Successfully
        scanned dependencies\n2020/01/22 06:15:48 Launching container with name: build\nSending
        build context to Docker daemon  89.09kB\r\r\nStep 1/5 : FROM node:9-alpine\n9-alpine:
        Pulling from library/node\r\na073c86ecf9e: Pulling fs layer\n0e28711eb56d:
        Pulling fs layer\ne460dd483fdd: Pulling fs layer\na073c86ecf9e: Verifying
        Checksum\na073c86ecf9e: Download complete\ne460dd483fdd: Verifying Checksum\ne460dd483fdd:
        Download complete\na073c86ecf9e: Pull complete\n0e28711eb56d: Download complete\n0e28711eb56d:
        Pull complete\r\ne460dd483fdd: Pull complete\nDigest: sha256:8dafc0968fb4d62834d9b826d85a8feecc69bd72cd51723c62c7db67c6dec6fa\nStatus:
        Downloaded newer image for node:9-alpine\n ---> a56170f59699\nStep 2/5 : COPY
        . /src\n ---> 5510c4bd6378\r\nStep 3/5 : RUN cd /src && npm install\n --->
        Running in 9d7eb5a39b3b\n\e[91mnpm\e[0m\e[91m notice created a lockfile as
        package-lock.json. You should commit this file.\n\e[0m\e[91mnpm \e[0m\e[91mWARN\e[0m\e[91m
        helloworld@1.0.0 No repository field.\n\e[0m\e[91m\n\e[0mup to date in 0.089s\nRemoving
        intermediate container 9d7eb5a39b3b\n ---> da2385df6116\nStep 4/5 : EXPOSE
        80\r\n ---> Running in 6b5ccfde4cca\nRemoving intermediate container 6b5ccfde4cca\n
        ---> 86abfa527464\nStep 5/5 : CMD [\"node\", \"/src/server.js\"]\n ---> Running
        in c75ee38c24b8\nRemoving intermediate container c75ee38c24b8\n ---> b3cd9c26deb5\nSuccessfully
        built b3cd9c26deb5\nSuccessfully tagged clireg000002.azurecr.io/testtaskrun:v1\n2020/01/22
        06:16:02 Successfully executed container: build\n2020/01/22 06:16:02 Executing
        step ID: push. Timeout(sec): 1800, Working directory: '', Network: ''\n2020/01/22
        06:16:02 Pushing image: clireg000002.azurecr.io/testtaskrun:v1, attempt 1\nThe
        push refers to repository [clireg000002.azurecr.io/testtaskrun]\r\n4d48747db2b9:
        Preparing\ne38ca810bd0d: Preparing\n172ed8ca5e43: Preparing\n8c9992f4e5dd:
        Preparing\n8dfad2055603: Preparing\n4d48747db2b9: Pushed\ne38ca810bd0d: Pushed\n172ed8ca5e43:
        Pushed\n8dfad2055603: Pushed\n8c9992f4e5dd: Pushed\r\nv1: digest: sha256:aa0b85413f68984ecc984a013e809ad9362278b05ee87137cd7d968e30477803
        size: 1367\n2020/01/22 06:16:09 Successfully pushed image: clireg000002.azurecr.io/testtaskrun:v1\n2020/01/22
        06:16:09 Step ID: build marked as successful (elapsed time in seconds: 14.195598)\n2020/01/22
        06:16:09 Populating digests for step ID: build...\n2020/01/22 06:16:11 Successfully
        populated digests for step ID: build\n2020/01/22 06:16:11 Step ID: push marked
        as successful (elapsed time in seconds: 7.641868)\n2020/01/22 06:16:11 The
        following dependencies were found:\n2020/01/22 06:16:11 \n- image:\n    registry:
        clireg000002.azurecr.io\n    repository: testtaskrun\n    tag: v1\n    digest:
        sha256:aa0b85413f68984ecc984a013e809ad9362278b05ee87137cd7d968e30477803\n
        \ runtime-dependency:\n    registry: registry.hub.docker.com\n    repository:
        library/node\n    tag: 9-alpine\n    digest: sha256:8dafc0968fb4d62834d9b826d85a8feecc69bd72cd51723c62c7db67c6dec6fa\n
        \ git:\n    git-head-revision: a3710d1af24d20fbdc6bb3feeea428fa01138e93\n\r\nRun
        ID: cf1 was successful after 30s\r\n"
    headers:
      accept-ranges:
      - bytes
      content-disposition:
      - ''
      content-encoding:
      - utf-8
      content-length:
      - '3679'
      content-range:
      - bytes 0-3678/3679
      content-type:
      - text/plain; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:52 GMT
      etag:
      - '"0x8D79F02942F4EEB"'
      last-modified:
      - Wed, 22 Jan 2020 06:16:12 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-blob-committed-block-count:
      - '11'
      x-ms-blob-type:
      - AppendBlob
      x-ms-creation-time:
      - Wed, 22 Jan 2020 06:15:42 GMT
      x-ms-lease-state:
      - available
      x-ms-lease-status:
      - unlocked
      x-ms-meta-complete:
      - successful
      x-ms-server-encrypted:
      - 'true'
      x-ms-version:
      - '2018-03-28'
    status:
      code: 206
      message: Partial Content
- request:
    body: null
    headers:
      Connection:
      - keep-alive
      User-Agent:
      - Azure-Storage/1.4.2-1.5.0 (Python CPython 3.7.6; Windows 10)
      x-ms-date:
      - Wed, 22 Jan 2020 06:16:52 GMT
      x-ms-version:
      - '2018-03-28'
    method: HEAD
    uri: https://wusmanaged122.blob.core.windows.net/0681a922337d49ad88a4bbdb3e7724a9-qndgn6bayt/logs/cf1/rawtext.log?sv=2018-03-28&sr=b&sig=wRMKnlopGNaqnBJP0F%2BYP3D77IDC140MGOd0B%2BtOcBI%3D&se=2020-01-22T07%3A26%3A51Z&sp=r
  response:
    body:
      string: ''
    headers:
      accept-ranges:
      - bytes
      content-disposition:
      - ''
      content-encoding:
      - utf-8
      content-length:
      - '3679'
      content-type:
      - text/plain; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:52 GMT
      etag:
      - '"0x8D79F02942F4EEB"'
      last-modified:
      - Wed, 22 Jan 2020 06:16:12 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-blob-committed-block-count:
      - '11'
      x-ms-blob-type:
      - AppendBlob
      x-ms-creation-time:
      - Wed, 22 Jan 2020 06:15:42 GMT
      x-ms-lease-state:
      - available
      x-ms-lease-status:
      - unlocked
      x-ms-meta-complete:
      - successful
      x-ms-server-encrypted:
      - 'true'
      x-ms-version:
      - '2018-03-28'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -r -n -g -y
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002?api-version=2019-05-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard"},"type":"Microsoft.ContainerRegistry/registries","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002","name":"clireg000002","location":"westus","tags":{},"properties":{"loginServer":"clireg000002.azurecr.io","creationDate":"2020-01-22T06:15:14.6739161Z","provisioningState":"Succeeded","adminUserEnabled":false,"policies":{"quarantinePolicy":{"status":"disabled"},"trustPolicy":{"type":"Notary","status":"disabled"},"retentionPolicy":{"days":7,"lastUpdatedTime":"2020-01-22T06:15:16.2564009+00:00","status":"disabled"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '748'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 22 Jan 2020 06:16:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - acr taskrun delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -r -n -g -y
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-containerregistry/3.0.0rc8 Azure-SDK-For-Python AZURECLI/2.0.80
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ContainerRegistry/registries/clireg000002/taskRuns/testTaskRun?api-version=2019-06-01-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 22 Jan 2020 06:16:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx/1.15.10
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
