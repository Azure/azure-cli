interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --management-group-id --location --template-file --deny-settings-mode
        --parameters --yes
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001?api-version=2022-08-01-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The resource ''cli-test-list-deployment-stack-subscription000001''
        was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '197'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 27 Oct 2023 02:18:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: '{"location": "westus2", "tags": {}, "properties": {"template": {"$schema":
      "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "parameters": {"foo": {"type": "string", "defaultValue":
      "foo", "metadata": {"description": "description"}}, "bar": {"type": "string",
      "defaultValue": "bar", "metadata": {"description": "description"}}}, "functions":
      [], "variables": {}, "resources": [], "outputs": {"foo": {"type": "string",
      "value": "[parameters(''foo'')]"}, "bar": {"type": "string", "value": "[parameters(''bar'')]"}}},
      "parameters": {"foo": {"value": "abc"}, "bar": {"value": "xyz"}}, "actionOnUnmanage":
      {"resources": "detach", "resourceGroups": "detach"}, "denySettings": {"mode":
      "none", "applyToChildScopes": false}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg create
      Connection:
      - keep-alive
      Content-Length:
      - '776'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --management-group-id --location --template-file --deny-settings-mode
        --parameters --yes
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001?api-version=2022-08-01-preview
  response:
    body:
      string: "{\r\n  \"location\": \"westus2\",\r\n  \"tags\": {},\r\n  \"properties\":
        {\r\n    \"actionOnUnmanage\": {\r\n      \"resources\": \"detach\",\r\n      \"resourceGroups\":
        \"detach\",\r\n      \"managementGroups\": \"detach\"\r\n    },\r\n    \"denySettings\":
        {\r\n      \"mode\": \"none\",\r\n      \"applyToChildScopes\": false\r\n
        \   },\r\n    \"parameters\": {\r\n      \"foo\": {\r\n        \"value\":
        \"abc\",\r\n        \"type\": \"string\"\r\n      },\r\n      \"bar\": {\r\n
        \       \"value\": \"xyz\",\r\n        \"type\": \"string\"\r\n      }\r\n
        \   },\r\n    \"resources\": [],\r\n    \"provisioningState\": \"initializing\",\r\n
        \   \"detachedResources\": [],\r\n    \"deletedResources\": [],\r\n    \"failedResources\":
        []\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"danted@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2023-10-27T02:18:28.5676457Z\",\r\n
        \   \"lastModifiedBy\": \"danted@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2023-10-27T02:18:28.5676457Z\"\r\n
        \ },\r\n  \"id\": \"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-list-deployment-stack-subscription000001\"\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/33e952dd-0fc4-44ce-8e8f-2d8a963e8000?api-version=2022-08-01-preview&t=638339699090989025&c=MIIHHjCCBgagAwIBAgITfwHQwFKsM_SaZ3oYQwAEAdDAUjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjMwODAzMDkwMzExWhcNMjQwNzI4MDkwMzExWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJQbCh6bI1fy33ihbuhnYAi-tK-wY4yp8CUXk_uSV8w0AzXrOwZStPhGL2QLmMALLJhLlGruhSEdRUd-ej9YImb9EcB7Sxa7gZM4TttscUWTI37jWjJGvmL2IS8gO-V08sDqRJs9nd7v3NYjwkYwI6upPO198_TvDODjEOoXzdbqNzdg8HK9PRg4R6BQ2SYtQVjaKuTmTVPKtHbYjFDSwqH4QCNwKB-RWl8y_n0aagYHyQLs7HxDh_OYa_ragWKwpVX12uIkZZOlOYoo9z-B3yg2Qc6H93HIyyNLvYYyWvzsXlWbxsigQspOpB-JsijqIMX2LpkicZ9Qt3hdqEH3TgECAwEAAaOCBAswggQHMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSotg9l-TRXg2Od_Oq4_NlEL1rRszAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAHXBDjxwU1_SCJTLnITpRn3jC6-hLvpBjlvAcTcon2IrYP1NmLYetTIHeRJIXmkXroCJpCUa740vZLaRyyZKweV_Xav9ODpmbAEriFc24VQpI0eCg5lZxjnpY3SF7pjsQN5R5iXCcf8uPGz-ehUdVqLsTHThEqxqeDjneKzUFHd67creOfJih1BzFDUzzkYs2_ffNVEd_BsQb1RKlb8H3uxdoUizcXw92vz3Ymkntcb6GBTSAp9uTnZyiJaZOtJ4w77PIJqK4IKM2vDqYN6xRIoo9iANNAPHuL8yUSgxYh2LMXQ9b1zW5XrNJ2Q1ajEsRu-zctoZJAYDXhLXDz04rSo&s=bi4YlHiPmOcBsrcST1S0tmnjEAUqcDfQapfLHuvqV5wxNqI31xl4lw874qYH-FPzZrudBtxf9oV6JfkyqQEio_CgIImRgv6eHoklEjfqdC1F0miloWihLrRN6WHL5TkUk6rnrhK4e8_StRPWWsZ02KKqrWkvL7KQRP6L647zK-moOtVQyFMgmH1xDgkdiH6LoGlesdBdTd3hkvFaWWWJtDZVK1uqLN09iFzvVqBjAKowXbvfvFGRvuF3TsRD7DRUbillHqynH7xz4j_jX9Prz6hN3Uz3xk0xqeGRVdyv_NcjhGpc8PXy2ZeK6E6cxr2LVvJ5TRKcv0pgOrm7nfJTjA&h=3Etd5Vcnp8zTutKTjikCnwIn1PY3E0FbGRFtX0pkUvY
      cache-control:
      - no-cache
      content-length:
      - '1204'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 27 Oct 2023 02:18:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --management-group-id --location --template-file --deny-settings-mode
        --parameters --yes
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/33e952dd-0fc4-44ce-8e8f-2d8a963e8000?api-version=2022-08-01-preview&t=638339699090989025&c=MIIHHjCCBgagAwIBAgITfwHQwFKsM_SaZ3oYQwAEAdDAUjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjMwODAzMDkwMzExWhcNMjQwNzI4MDkwMzExWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJQbCh6bI1fy33ihbuhnYAi-tK-wY4yp8CUXk_uSV8w0AzXrOwZStPhGL2QLmMALLJhLlGruhSEdRUd-ej9YImb9EcB7Sxa7gZM4TttscUWTI37jWjJGvmL2IS8gO-V08sDqRJs9nd7v3NYjwkYwI6upPO198_TvDODjEOoXzdbqNzdg8HK9PRg4R6BQ2SYtQVjaKuTmTVPKtHbYjFDSwqH4QCNwKB-RWl8y_n0aagYHyQLs7HxDh_OYa_ragWKwpVX12uIkZZOlOYoo9z-B3yg2Qc6H93HIyyNLvYYyWvzsXlWbxsigQspOpB-JsijqIMX2LpkicZ9Qt3hdqEH3TgECAwEAAaOCBAswggQHMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSotg9l-TRXg2Od_Oq4_NlEL1rRszAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAHXBDjxwU1_SCJTLnITpRn3jC6-hLvpBjlvAcTcon2IrYP1NmLYetTIHeRJIXmkXroCJpCUa740vZLaRyyZKweV_Xav9ODpmbAEriFc24VQpI0eCg5lZxjnpY3SF7pjsQN5R5iXCcf8uPGz-ehUdVqLsTHThEqxqeDjneKzUFHd67creOfJih1BzFDUzzkYs2_ffNVEd_BsQb1RKlb8H3uxdoUizcXw92vz3Ymkntcb6GBTSAp9uTnZyiJaZOtJ4w77PIJqK4IKM2vDqYN6xRIoo9iANNAPHuL8yUSgxYh2LMXQ9b1zW5XrNJ2Q1ajEsRu-zctoZJAYDXhLXDz04rSo&s=bi4YlHiPmOcBsrcST1S0tmnjEAUqcDfQapfLHuvqV5wxNqI31xl4lw874qYH-FPzZrudBtxf9oV6JfkyqQEio_CgIImRgv6eHoklEjfqdC1F0miloWihLrRN6WHL5TkUk6rnrhK4e8_StRPWWsZ02KKqrWkvL7KQRP6L647zK-moOtVQyFMgmH1xDgkdiH6LoGlesdBdTd3hkvFaWWWJtDZVK1uqLN09iFzvVqBjAKowXbvfvFGRvuF3TsRD7DRUbillHqynH7xz4j_jX9Prz6hN3Uz3xk0xqeGRVdyv_NcjhGpc8PXy2ZeK6E6cxr2LVvJ5TRKcv0pgOrm7nfJTjA&h=3Etd5Vcnp8zTutKTjikCnwIn1PY3E0FbGRFtX0pkUvY
  response:
    body:
      string: "{\r\n  \"id\": \"/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/33e952dd-0fc4-44ce-8e8f-2d8a963e8000\",\r\n
        \ \"name\": \"33e952dd-0fc4-44ce-8e8f-2d8a963e8000\",\r\n  \"status\": \"initializing\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '212'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 27 Oct 2023 02:18:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --management-group-id --location --template-file --deny-settings-mode
        --parameters --yes
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/33e952dd-0fc4-44ce-8e8f-2d8a963e8000?api-version=2022-08-01-preview&t=638339699090989025&c=MIIHHjCCBgagAwIBAgITfwHQwFKsM_SaZ3oYQwAEAdDAUjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjMwODAzMDkwMzExWhcNMjQwNzI4MDkwMzExWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJQbCh6bI1fy33ihbuhnYAi-tK-wY4yp8CUXk_uSV8w0AzXrOwZStPhGL2QLmMALLJhLlGruhSEdRUd-ej9YImb9EcB7Sxa7gZM4TttscUWTI37jWjJGvmL2IS8gO-V08sDqRJs9nd7v3NYjwkYwI6upPO198_TvDODjEOoXzdbqNzdg8HK9PRg4R6BQ2SYtQVjaKuTmTVPKtHbYjFDSwqH4QCNwKB-RWl8y_n0aagYHyQLs7HxDh_OYa_ragWKwpVX12uIkZZOlOYoo9z-B3yg2Qc6H93HIyyNLvYYyWvzsXlWbxsigQspOpB-JsijqIMX2LpkicZ9Qt3hdqEH3TgECAwEAAaOCBAswggQHMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSotg9l-TRXg2Od_Oq4_NlEL1rRszAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMBcGA1UdIAQQMA4wDAYKKwYBBAGCN3sBATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAHXBDjxwU1_SCJTLnITpRn3jC6-hLvpBjlvAcTcon2IrYP1NmLYetTIHeRJIXmkXroCJpCUa740vZLaRyyZKweV_Xav9ODpmbAEriFc24VQpI0eCg5lZxjnpY3SF7pjsQN5R5iXCcf8uPGz-ehUdVqLsTHThEqxqeDjneKzUFHd67creOfJih1BzFDUzzkYs2_ffNVEd_BsQb1RKlb8H3uxdoUizcXw92vz3Ymkntcb6GBTSAp9uTnZyiJaZOtJ4w77PIJqK4IKM2vDqYN6xRIoo9iANNAPHuL8yUSgxYh2LMXQ9b1zW5XrNJ2Q1ajEsRu-zctoZJAYDXhLXDz04rSo&s=bi4YlHiPmOcBsrcST1S0tmnjEAUqcDfQapfLHuvqV5wxNqI31xl4lw874qYH-FPzZrudBtxf9oV6JfkyqQEio_CgIImRgv6eHoklEjfqdC1F0miloWihLrRN6WHL5TkUk6rnrhK4e8_StRPWWsZ02KKqrWkvL7KQRP6L647zK-moOtVQyFMgmH1xDgkdiH6LoGlesdBdTd3hkvFaWWWJtDZVK1uqLN09iFzvVqBjAKowXbvfvFGRvuF3TsRD7DRUbillHqynH7xz4j_jX9Prz6hN3Uz3xk0xqeGRVdyv_NcjhGpc8PXy2ZeK6E6cxr2LVvJ5TRKcv0pgOrm7nfJTjA&h=3Etd5Vcnp8zTutKTjikCnwIn1PY3E0FbGRFtX0pkUvY
  response:
    body:
      string: "{\r\n  \"id\": \"/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/33e952dd-0fc4-44ce-8e8f-2d8a963e8000\",\r\n
        \ \"name\": \"33e952dd-0fc4-44ce-8e8f-2d8a963e8000\",\r\n  \"status\": \"succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '209'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 27 Oct 2023 02:18:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --management-group-id --location --template-file --deny-settings-mode
        --parameters --yes
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001?api-version=2022-08-01-preview
  response:
    body:
      string: "{\r\n  \"location\": \"westus2\",\r\n  \"tags\": {},\r\n  \"properties\":
        {\r\n    \"actionOnUnmanage\": {\r\n      \"resources\": \"detach\",\r\n      \"resourceGroups\":
        \"detach\",\r\n      \"managementGroups\": \"detach\"\r\n    },\r\n    \"deploymentId\":
        \"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2023-10-27-02-18-29-3f7ec\",\r\n
        \   \"duration\": \"PT5.7302077S\",\r\n    \"denySettings\": {\r\n      \"mode\":
        \"none\",\r\n      \"applyToChildScopes\": false\r\n    },\r\n    \"outputs\":
        {\r\n      \"foo\": {\r\n        \"type\": \"String\",\r\n        \"value\":
        \"abc\"\r\n      },\r\n      \"bar\": {\r\n        \"type\": \"String\",\r\n
        \       \"value\": \"xyz\"\r\n      }\r\n    },\r\n    \"parameters\": {\r\n
        \     \"foo\": {\r\n        \"value\": \"abc\",\r\n        \"type\": \"string\"\r\n
        \     },\r\n      \"bar\": {\r\n        \"value\": \"xyz\",\r\n        \"type\":
        \"string\"\r\n      }\r\n    },\r\n    \"resources\": [],\r\n    \"provisioningState\":
        \"succeeded\",\r\n    \"detachedResources\": [],\r\n    \"deletedResources\":
        [],\r\n    \"failedResources\": []\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\":
        \"danted@microsoft.com\",\r\n    \"createdByType\": \"User\",\r\n    \"createdAt\":
        \"2023-10-27T02:18:28.5676457Z\",\r\n    \"lastModifiedBy\": \"danted@microsoft.com\",\r\n
        \   \"lastModifiedByType\": \"User\",\r\n    \"lastModifiedAt\": \"2023-10-27T02:18:28.5676457Z\"\r\n
        \ },\r\n  \"id\": \"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-list-deployment-stack-subscription000001\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1615'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 27 Oct 2023 02:18:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg list
      Connection:
      - keep-alive
      ParameterSetName:
      - --management-group-id
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks?api-version=2022-08-01-preview
  response:
    body:
      string: '{"value":[{"location":"eastus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT9.5512353S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"secretName":{"value":"GEN-UNIQUE","type":"string"},"secretValue":{"value":"","type":"secureString"},"keyVaultName":{"value":"DATestGokul","type":"string"},"objectId":{"value":"GEN-AZUREAD-OBJECTID","type":"string"}},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[],"error":{"code":"DeploymentStackDeploymentFailed","message":"One
        or more resources could not be deployed. Correlation id: ''036af2ca-5d67-4caa-8118-0b6e7f4213d8''.","details":[{"code":"InvalidTemplate","message":"Deployment
        template validation failed: ''The template resource ''location'' at line ''21''
        and column ''21'' is not valid: The template function ''RESOURCEGROUP'' is
        not expected at this location. Please see https://aka.ms/arm-functions for
        usage details.. Please see https://aka.ms/arm-functions for usage details.''.","details":[],"additionalInfo":[{"type":"TemplateViolation","info":{"lineNumber":21,"linePosition":21,"path":"properties.template.parameters.location"}}]}]}},"systemData":{"createdBy":"gopremra@microsoft.com","createdByType":"User","createdAt":"2023-07-12T22:12:48.4006343Z","lastModifiedBy":"gopremra@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-12T22:16:42.0280451Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/mgstack","type":"Microsoft.Resources/deploymentStacks","name":"mgstack"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/check1-2022-11-21-23-05-34-f9fa8","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT6.5182892S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/hpStateful6'' under resource group
        ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Providers.Test/StatefulResources/hpStateful6"},{"error":{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/hpStateful7'' under resource group
        ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Providers.Test/StatefulResources/hpStateful7"}],"error":{"code":"DeploymentStackUpdateFailed","message":"One
        or more stages of the deploymentStack failed. See snapshot ''/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/check1/snapshots/2022-11-21-23-05-34-f9fa8''
        for more details. Correlation id: ''d4238c07-ab1e-4413-8c66-8ea611873ffc''","details":[{"code":"DeploymentFailed","message":"At
        least one resource deployment operation failed. Please list deployment operations
        for details. Please see https://aka.ms/DeployOperations for usage details.","details":[{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/hpStateful6'' under resource group
        ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"},{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/hpStateful7'' under resource group
        ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"}]}]}},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2022-11-21T21:07:18.8377395Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-11-21T23:05:34.2831077Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/check1","type":"Microsoft.Resources/deploymentStacks","name":"check1"},{"location":"westus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps7554-2023-02-10-00-46-55-2d933","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT44.3878253S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"rgName":{"value":"StacksTestMG765"},"specModName":{"value":"stacksSpecMGtestmod"},"location":{"value":"westus"},"specName":{"value":"StacksSpecNameMG765"},"specVersionName":{"value":"StacksSpecVersionMG765"},"modName":{"value":"stacksMGtestmod"},"subId":{"value":"92722693-40f1-44fe-8c39-9cf6b6353750"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-02-10T00:46:54.6659494Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-02-10T00:46:54.6659494Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps7554","type":"Microsoft.Resources/deploymentStacks","name":"ps7554"},{"location":"westus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps8060-2023-02-10-00-58-18-44820","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT46.3195826S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"modName":{"value":"stacksMGtestmod"},"specModName":{"value":"stacksSpecMGtestmod"},"specName":{"value":"StacksSpecNameMG765"},"location":{"value":"westus"},"subId":{"value":"92722693-40f1-44fe-8c39-9cf6b6353750"},"specVersionName":{"value":"StacksSpecVersionMG765"},"rgName":{"value":"StacksTestMG765"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-02-10T00:58:17.3527077Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-02-10T00:58:17.3527077Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps8060","type":"Microsoft.Resources/deploymentStacks","name":"ps8060"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps430-2023-02-11-00-44-36-29be1","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT41.9230887S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"rgName":{"value":"StacksTestMG765"},"specModName":{"value":"stacksSpecMGtestmod"},"specName":{"value":"StacksSpecNameMG765"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"modName":{"value":"stacksMGtestmod"},"location":{"value":"westus"},"specVersionName":{"value":"StacksSpecVersionMG765"}},"templateLink":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ps9787/providers/Microsoft.Resources/templateSpecs/ps6987/versions/v1"},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-02-11T00:43:50.4962555Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-02-11T00:44:36.5948715Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps430","type":"Microsoft.Resources/deploymentStacks","name":"ps430"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps2857-2023-02-11-00-56-30-20947","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT49.9248467S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"rgName":{"value":"StacksTestMG765"},"modName":{"value":"stacksMGtestmod"},"specVersionName":{"value":"StacksSpecVersionMG765"},"location":{"value":"westus"},"specName":{"value":"StacksSpecNameMG765"},"specModName":{"value":"stacksSpecMGtestmod"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-02-11T00:56:22.1397217Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-02-11T00:56:22.1397217Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps2857","type":"Microsoft.Resources/deploymentStacks","name":"ps2857"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps5058-2023-02-11-01-02-46-fd8a2","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT41.9318387S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"specModName":{"value":"stacksSpecMGtestmod"},"rgName":{"value":"StacksTestMG765"},"specName":{"value":"StacksSpecNameMG765"},"modName":{"value":"stacksMGtestmod"},"specVersionName":{"value":"StacksSpecVersionMG765"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"location":{"value":"westus"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-02-11T01:02:46.2208027Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-02-11T01:02:46.2208027Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps5058","type":"Microsoft.Resources/deploymentStacks","name":"ps5058"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps311-2023-02-11-01-17-03-14892","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT46.0358215S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"specName":{"value":"StacksSpecNameMG765"},"modName":{"value":"stacksMGtestmod"},"location":{"value":"westus"},"specModName":{"value":"stacksSpecMGtestmod"},"rgName":{"value":"StacksTestMG765"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"specVersionName":{"value":"StacksSpecVersionMG765"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-02-11T01:17:02.9514384Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-02-11T01:17:02.9514384Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps311","type":"Microsoft.Resources/deploymentStacks","name":"ps311"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps9917-2023-02-11-01-23-45-20b9e","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT44.571406S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"modName":{"value":"stacksMGtestmod"},"location":{"value":"westus"},"specModName":{"value":"stacksSpecMGtestmod"},"specName":{"value":"StacksSpecNameMG765"},"specVersionName":{"value":"StacksSpecVersionMG765"},"rgName":{"value":"StacksTestMG765"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-02-11T01:23:45.4993152Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-02-11T01:23:45.4993152Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps9917","type":"Microsoft.Resources/deploymentStacks","name":"ps9917"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2023-04-13-16-12-57-dcebe","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT6.9594651S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{},"parameters":{"name":{"value":"cli-test-resource-twovzzf73dlo67jlorugh4c7dx5jw6xylflgoqwn7n"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli-test-resource-twovzzf73dlo67jlorugh4c7dx5jw6xylflgoqwn7n"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2023-04-13T16:12:56.631925Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-04-13T16:12:56.631925Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionmgbizh3wglkkj3r","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-delete-deployment-stack-subscriptionmgbizh3wglkkj3r"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT1.8155571S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"location":{"value":"westus2"},"kind":{"value":"StorageV2"}},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[],"error":{"code":"DeploymentStackDeploymentFailed","message":"One
        or more resources could not be deployed. Correlation id: ''de4ec6d0-eb3a-4614-bca2-b7c8a37afdc1''.","details":[{"code":"InvalidTemplate","message":"Deployment
        template validation failed: ''The template variable ''storageAccountName''
        is not valid: The template function ''RESOURCEGROUP'' is not expected at this
        location. Please see https://aka.ms/arm-functions for usage details.. Please
        see https://aka.ms/arm-functions for usage details.''.","details":[],"additionalInfo":[{"type":"TemplateViolation","info":{"lineNumber":23,"linePosition":86,"path":"properties.template.variables.storageAccountName"}}]}]}},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2023-04-14T14:38:05.2880933Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-04-17T21:16:53.5114483Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/biceptest","type":"Microsoft.Resources/deploymentStacks","name":"biceptest"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps4239-2023-04-19-22-18-26-0d9dd","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT42.8741178S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"specVersionName":{"value":"StacksSpecVersionMG765"},"specModName":{"value":"stacksSpecMGtestmod"},"rgName":{"value":"StacksTestMG765"},"specName":{"value":"StacksSpecNameMG765"},"location":{"value":"westus"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"modName":{"value":"stacksMGtestmod"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-19T22:18:25.9841361Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-19T22:18:25.9841361Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps4239","type":"Microsoft.Resources/deploymentStacks","name":"ps4239"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps734-2023-04-20-00-53-58-f08d0","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT42.2143801S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"specVersionName":{"value":"StacksSpecVersionMG765"},"specModName":{"value":"stacksSpecMGtestmod"},"rgName":{"value":"StacksTestMG765"},"specName":{"value":"StacksSpecNameMG765"},"location":{"value":"westus"},"modName":{"value":"stacksMGtestmod"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T00:53:57.7601681Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T00:53:57.7601681Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps734","type":"Microsoft.Resources/deploymentStacks","name":"ps734"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps8767-2023-04-20-00-57-58-e4470","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT41.4936943S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"specVersionName":{"value":"StacksSpecVersionMG765"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"specName":{"value":"StacksSpecNameMG765"},"rgName":{"value":"StacksTestMG765"},"location":{"value":"westus"},"specModName":{"value":"stacksSpecMGtestmod"},"modName":{"value":"stacksMGtestmod"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T00:57:58.321946Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T00:57:58.321946Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps8767","type":"Microsoft.Resources/deploymentStacks","name":"ps8767"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps9098-2023-04-20-17-21-37-0ec92","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT45.6777926S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"specModName":{"value":"stacksSpecMGtestmod"},"specName":{"value":"StacksSpecNameMG765"},"location":{"value":"westus"},"modName":{"value":"stacksMGtestmod"},"specVersionName":{"value":"StacksSpecVersionMG765"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"rgName":{"value":"StacksTestMG765"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T17:21:37.0007219Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T17:21:37.0007219Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps9098","type":"Microsoft.Resources/deploymentStacks","name":"ps9098"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps9191-2023-04-20-17-25-47-b864e","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT42.6990512S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"location":{"value":"westus"},"specVersionName":{"value":"StacksSpecVersionMG765"},"specName":{"value":"StacksSpecNameMG765"},"modName":{"value":"stacksMGtestmod"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"specModName":{"value":"stacksSpecMGtestmod"},"rgName":{"value":"StacksTestMG765"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765"},{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/StacksTestMG765/providers/Microsoft.Resources/templateSpecs/StacksSpecNameMG765/versions/StacksSpecVersionMG765"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T17:25:47.3175068Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T17:25:47.3175068Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps9191","type":"Microsoft.Resources/deploymentStacks","name":"ps9191"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps2329-2023-04-20-22-04-20-eae6d","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT8M48.3494601S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{},"parameters":{},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''fd961e9e-42da-461d-9594-58064eb29bd0''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T22:03:25.1969567Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T22:04:20.1726226Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps2329","type":"Microsoft.Resources/deploymentStacks","name":"ps2329"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps3893-2023-04-20-22-18-11-2804a","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT8M1.8427441S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"policyDefinitionName":{"value":"LocationRestriction"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"moduleName":{"value":"stacksMGtestmod"}},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''c5da1cbc-b230-4a82-9790-cd2d0045211e''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T22:18:10.5611319Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T22:18:10.5611319Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps3893","type":"Microsoft.Resources/deploymentStacks","name":"ps3893"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps2587-2023-04-20-22-28-00-32858","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT8M1.1416177S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"policyDefinitionName":{"value":"LocationRestriction"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"moduleName":{"value":"stacksMGtestmod"}},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''09f132d3-142e-49a4-8109-7353e7dc4130''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T22:27:59.861228Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T22:27:59.861228Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps2587","type":"Microsoft.Resources/deploymentStacks","name":"ps2587"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps5301-2023-04-20-22-36-44-fcf88","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT8M2.0146889S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"policyDefinitionName":{"value":"LocationRestriction"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"moduleName":{"value":"stacksMGtestmod"}},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''e442a5dd-f1b5-438d-9beb-e787edda33fb''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T22:36:43.7038974Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T22:36:43.7038974Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps5301","type":"Microsoft.Resources/deploymentStacks","name":"ps5301"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps329-2023-04-20-22-54-30-ef4ac","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","description":"A
        Stack","duration":"PT7M59.8773956S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"policyDefinitionName":{"value":"LocationRestriction"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"moduleName":{"value":"stacksMGtestmod"}},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''de435a3b-8edf-4114-9ef5-63486cd4fd69''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T22:54:13.1565683Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T22:54:29.9164578Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps329","type":"Microsoft.Resources/deploymentStacks","name":"ps329"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps6377-2023-04-20-23-03-27-a468f","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","description":"A
        Stack","duration":"PT7M55.3268055S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"policyDefinitionName":{"value":"LocationRestriction"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"moduleName":{"value":"stacksMGtestmod"}},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''8e27b4c7-2270-4747-ab6a-3273ed7ea0c5''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T23:02:46.687032Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T23:03:27.5461358Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps6377","type":"Microsoft.Resources/deploymentStacks","name":"ps6377"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/ps4460-2023-04-20-23-12-14-b1e7a","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT7M55.781099S","denySettings":{"mode":"denyDelete","applyToChildScopes":true,"excludedActions":[]},"parameters":{"policyDefinitionName":{"value":"LocationRestriction"},"subId":{"value":"4ce8c9fe-cadc-47d6-9c76-335812fd59df"},"moduleName":{"value":"stacksMGtestmod"}},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/LocationRestriction"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''f909b2a6-7a33-4d79-b91e-7f365e8ee304''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","createdByType":"Application","createdAt":"2023-04-20T23:11:38.5439285Z","lastModifiedBy":"546094f3-32fa-493c-824c-bd9575b0d2fe","lastModifiedByType":"Application","lastModifiedAt":"2023-04-20T23:12:13.8755826Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/ps4460","type":"Microsoft.Resources/deploymentStacks","name":"ps4460"},{"location":"westus2","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2023-05-11-18-03-40-565c0","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT4.9154578S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{},"parameters":{"name":{"value":"cli-test-resource-threeta7s3tuximmn5ctc73qmukfyys67nlvs6vk36"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli-test-resource-threeta7s3tuximmn5ctc73qmukfyys67nlvs6vk36"}],"provisioningState":"succeeded","detachedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli-test-resource-twof3knevszqcbd7ynvsysjwdkkddbeanz7edjllcw"}],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2023-05-11T18:03:00.2732876Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-05-11T18:03:39.9690655Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptiongnitrbtgftogiyp","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-create-deployment-stack-subscriptiongnitrbtgftogiyp"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli20_2-2023-06-02-20-30-36-824f5","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT5.2093689S","denySettings":{"mode":"denyWriteAndDelete","applyToChildScopes":false,"excludedPrincipals":[],"excludedActions":["Microsoft.Authorization/locks/delete","Microsoft.Authorization/locks/delete"]},"outputs":{"foo":{"type":"String","value":"foo"},"bar":{"type":"String","value":"bar"}},"parameters":{},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2023-06-02T20:29:57.2658696Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-06-02T20:30:36.7922753Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli20_2","type":"Microsoft.Resources/deploymentStacks","name":"cli20_2"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/hp_newStack-2023-09-08-17-15-44-5400f","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT5.1715051S","denySettings":{"mode":"denyWriteAndDelete","applyToChildScopes":true,"excludedPrincipals":["3602fbdc-4558-4a64-966c-2629723a3189","c718e29c-087a-497d-bbd8-2100b67d102a","2d79a9af-9d95-4170-89e0-efab097c7daf"],"excludedActions":["pa1","pa2"]},"outputs":{"foo":{"type":"String","value":"foo"},"bar":{"type":"String","value":"bar"}},"parameters":{},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2023-06-14T23:31:02.7018636Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-09-08T17:15:44.531688Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/hp_newStack","type":"Microsoft.Resources/deploymentStacks","name":"hp_newStack"},{"location":"westus","tags":{},"properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/apMgStackt2-2023-06-29-11-57-17-65c51","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT9M46.797453S","denySettings":{"mode":"none","applyToChildScopes":false,"excludedPrincipals":[]},"parameters":{},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg1"},{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg1/providers/Microsoft.Storage/storageAccounts/stackstore1tqvjfmg5ob6pw"},{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg1/providers/Microsoft.Storage/storageAccounts/stackstore2tqvjfmg5ob6pw"},{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg2"},{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg2/providers/Microsoft.Storage/storageAccounts/stackstore12hvx3lvgfvd6y"},{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg2/providers/Microsoft.Storage/storageAccounts/stackstore22hvx3lvgfvd6y"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg1"},{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg1/providers/Microsoft.Storage/storageAccounts/stackstore1tqvjfmg5ob6pw"},{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg1/providers/Microsoft.Storage/storageAccounts/stackstore2tqvjfmg5ob6pw"},{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg2"},{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg2/providers/Microsoft.Storage/storageAccounts/stackstore12hvx3lvgfvd6y"},{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg2/providers/Microsoft.Storage/storageAccounts/stackstore22hvx3lvgfvd6y"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''13e385d1-be33-4e8d-bf0e-fe6e5ee5d05e''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"angperez@microsoft.com","createdByType":"User","createdAt":"2023-06-29T11:57:16.5136608Z","lastModifiedBy":"angperez@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-06-29T11:57:16.5136608Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/apMgStackt2","type":"Microsoft.Resources/deploymentStacks","name":"apMgStackt2"},{"location":"westus","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"delete","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/TestMGStack-2023-07-12-20-53-00-d5e66","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT7M43.1222576S","denySettings":{"mode":"denyDelete","applyToChildScopes":false},"parameters":{},"resources":[{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/dantedtestrg242"},{"status":"deleteFailed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/dantedtestrg242/providers/Microsoft.Storage/storageAccounts/dantedstoragetest234"}],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/dantedtestrg242"},{"error":{"code":"DeletionFailed","message":"Resource
        could not be deleted. Resource is still present in stack."},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/dantedtestrg242/providers/Microsoft.Storage/storageAccounts/dantedstoragetest234"}],"error":{"code":"DeploymentStackDeleteResourcesFailed","message":"One
        or more resources could not be deleted. Correlation id: ''83e5c27d-c901-4da7-8362-2d0abbd32e25''.","details":[{"code":"DeploymentStackDeleteResourcesFailed","message":"An
        unknown error occurred while trying to purge resources. These resources are
        still present in the stack but can be deleted manually."}]}},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-07-12T20:43:16.9716791Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-12T20:53:00.0864196Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/TestMGStack","type":"Microsoft.Resources/deploymentStacks","name":"TestMGStack"},{"location":"westus","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/TestMGStack2-2023-07-13-17-52-52-8658a","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT6.3580113S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-07-12T20:56:25.5143136Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-07-13T17:52:52.637127Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/TestMGStack2","type":"Microsoft.Resources/deploymentStacks","name":"TestMGStack2"},{"location":"westus","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/TestMGStack22-2023-08-02-22-54-56-8a400","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT7.0884865S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-08-01T21:43:52.0438908Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-02T22:54:56.1239943Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/TestMGStack22","type":"Microsoft.Resources/deploymentStacks","name":"TestMGStack22"},{"location":"westus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/DanteMGStack123456-2023-08-04-18-02-37-dca45","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT6.8190402S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-08-04T18:02:36.7356906Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-08-04T18:02:36.7356906Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/DanteMGStack123456","type":"Microsoft.Resources/deploymentStacks","name":"DanteMGStack123456"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT1.2373876S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"description":{"value":"A
        cool access definition","type":"string"},"roleName":{"value":"danteRole123","type":"string"},"type":{"value":"customRole","type":"string"}},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[],"error":{"code":"DeploymentStackDeploymentFailed","message":"One
        or more resources could not be deployed. Correlation id: ''d7ccce93-194a-41d9-a81c-063253c04e49''.","details":[{"code":"InvalidTemplate","message":"Deployment
        template validation failed: ''The deployment metadata ''MANAGEMENTGROUP''
        is not valid.''.","details":[],"additionalInfo":[{"type":"TemplateViolation","info":{"lineNumber":26,"linePosition":58,"path":"properties.template.parameters.name.defaultValue"}}]}]}},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2023-09-08T17:16:46.3040941Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-09-15T19:46:50.2477188Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/hp_newStack222","type":"Microsoft.Resources/deploymentStacks","name":"hp_newStack222"},{"location":"westus","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT1.9926896S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"description":{"value":"A
        cool access definition","type":"string"},"roleName":{"value":"danteRole123","type":"string"},"type":{"value":"customRole","type":"string"}},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[],"error":{"code":"DeploymentStackDeploymentFailed","message":"One
        or more resources could not be deployed. Correlation id: ''c515e56c-c1a6-4999-9740-56b60cddc095''.","details":[{"code":"InvalidTemplate","message":"Deployment
        template validation failed: ''The deployment metadata ''MANAGEMENTGROUP''
        is not valid.''.","details":[],"additionalInfo":[{"type":"TemplateViolation","info":{"lineNumber":26,"linePosition":58,"path":"properties.template.parameters.name.defaultValue"}}]}]}},"systemData":{"createdBy":"harshpatel@microsoft.com","createdByType":"User","createdAt":"2023-09-15T19:48:59.7590913Z","lastModifiedBy":"harshpatel@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-09-15T19:48:59.7590913Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/newstack300","type":"Microsoft.Resources/deploymentStacks","name":"newstack300"},{"location":"westus","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/dante_MGScopedStack-2023-10-25-22-52-28-2f551","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT6.4486392S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"foo"},"bar":{"type":"String","value":"bar"}},"parameters":{},"resources":[],"provisioningState":"succeeded","detachedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/PSLocationAuditsTest"}],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-25T22:40:26.1745492Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-25T22:52:27.6575051Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/dante_MGScopedStack","type":"Microsoft.Resources/deploymentStacks","name":"dante_MGScopedStack"},{"location":"westus","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/apMgStack1-2023-09-25-20-45-28-c419d","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT43.5292776S","denySettings":{"mode":"denyWriteAndDelete","applyToChildScopes":true,"excludedPrincipals":[],"excludedActions":[]},"parameters":{},"resources":[{"status":"managed","denyStatus":"denyWriteAndDelete","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg-dev"},{"status":"managed","denyStatus":"denyWriteAndDelete","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg-dev/providers/Microsoft.Storage/storageAccounts/stackstore1yqfpmz43bmzlg"},{"status":"managed","denyStatus":"denyWriteAndDelete","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg-dev/providers/Microsoft.Storage/storageAccounts/stackstore2yqfpmz43bmzlg"},{"status":"managed","denyStatus":"denyWriteAndDelete","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg-test"},{"status":"managed","denyStatus":"denyWriteAndDelete","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg-test/providers/Microsoft.Storage/storageAccounts/stackstore1qmeobdsfyvoak"},{"status":"managed","denyStatus":"denyWriteAndDelete","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ang-rg-test/providers/Microsoft.Storage/storageAccounts/stackstore2qmeobdsfyvoak"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"angperez@microsoft.com","createdByType":"User","createdAt":"2023-09-25T20:33:59.5133245Z","lastModifiedBy":"angperez@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-09-25T20:45:28.3702879Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/apMgStack1","type":"Microsoft.Resources/deploymentStacks","name":"apMgStack1"},{"location":"westus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/DanteMGStack2-2023-10-18-21-30-08-8312d","duration":"PT6.1022034S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[{"status":"managed","denyStatus":"none","id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Authorization/policyDefinitions/PSLocationAuditsTest"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-18T21:27:59.2825357Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-18T21:30:08.8589197Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/DanteMGStack2","type":"Microsoft.Resources/deploymentStacks","name":"DanteMGStack2"},{"location":"westus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/DanteMGStackPS-2023-10-24-23-00-39-d368b","duration":"PT6.5672961S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[{"status":"managed","denyStatus":"none","id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Authorization/policyDefinitions/PSLocationAuditsTest"}],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-24T23:00:39.1610735Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-24T23:00:39.1610735Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/DanteMGStackPS","type":"Microsoft.Resources/deploymentStacks","name":"DanteMGStackPS"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2023-10-25-23-27-29-6a078","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","description":"MG
        stack deployment","duration":"PT5.8754259S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"String"},"bar":{"value":"xyz","type":"String"}},"templateLink":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stackslfpplouvotd6fjq4ujs3cjqs2o7zuftp4ptck3hpbvwp674xa/providers/Microsoft.Resources/templateSpecs/cli-test-template-specpm7o5f2a5ynv62hgx63nfpwyrsv6672uvsbcbz/versions/v1"},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-25T23:27:29.2741197Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-25T23:27:29.2741197Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionej6bsxhliitqd32","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-create-deployment-stack-subscriptionej6bsxhliitqd32"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2023-10-25-23-27-36-3a4e4","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT5.5468045S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"string"},"bar":{"value":"xyz","type":"string"}},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-25T23:27:36.2037657Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-25T23:27:36.2037657Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionxbldxz4tthz55nm","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-delete-deployment-stack-subscriptionxbldxz4tthz55nm"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2023-10-26-17-26-50-65832","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","description":"MG
        stack deployment","duration":"PT5.8800167S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"String"},"bar":{"value":"xyz","type":"String"}},"templateLink":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacksbkle2he7ymwgo4yyhcyr255jeocvnf6xzmpsjs6poi6bprw77/providers/Microsoft.Resources/templateSpecs/cli-test-template-specgoyu72wls7lzlwqkd534b5xrzzo3h6jzqlivnk/versions/v1"},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-26T17:26:49.5620424Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-26T17:26:49.5620424Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptiondbv77hdykpcqa5s","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-create-deployment-stack-subscriptiondbv77hdykpcqa5s"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2023-10-26-17-26-59-fda31","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT7.9649638S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"string"},"bar":{"value":"xyz","type":"string"}},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-26T17:26:59.2086101Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-26T17:26:59.2086101Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscription6ua43pvvvrbdho4","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-delete-deployment-stack-subscription6ua43pvvvrbdho4"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2023-10-26-22-25-09-e2935","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT7.4827381S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{},"parameters":{"name":{"value":"cli-test-resource-twowegyau7hnpnghx7ga67kumga4atrn6mbqxh3qzk","type":"string"}},"resources":[{"status":"managed","denyStatus":"none","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli-test-resource-twowegyau7hnpnghx7ga67kumga4atrn6mbqxh3qzk"}],"provisioningState":"succeeded","detachedResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli-test-resource-oneeyfh6xfxzek7zvgu4czqsels2n2cbndiw3cw6ll"}],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-26T22:24:32.8337773Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-26T22:25:08.7586458Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription47wjor5z5oprrli","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-create-deployment-stack-subscription47wjor5z5oprrli"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2023-10-26-22-24-24-54b45","duration":"PT7.1697878S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"string"},"bar":{"value":"xyz","type":"string"}},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-26T22:24:23.9834591Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-26T22:24:23.9834591Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionxn4mqkzbfsou4hn","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-delete-deployment-stack-subscriptionxn4mqkzbfsou4hn"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2023-10-26-22-25-04-27fcb","duration":"PT6.2185349S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"string"},"bar":{"value":"xyz","type":"string"}},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-26T22:25:03.5938583Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-26T22:25:03.5938583Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionzso7jlprxdsdbqreaj","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-get-deployment-stack-subscriptionzso7jlprxdsdbqreaj"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"duration":"PT1.3668732S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{"name":{"value":"cli-test-resource-one7ldcot376iapiysf4mxr7trz2ci422zwpl532fw","type":"string"}},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[],"error":{"code":"DeploymentStackDeploymentFailed","message":"One
        or more resources could not be deployed. Correlation id: ''5e3b320c-b218-4531-b60a-2411abbe95df''.","details":[{"code":"InvalidScope","message":"Invalid
        resource scope specified for resource: ''/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/resourceGroups/cli-test-resource-one7ldcot376iapiysf4mxr7trz2ci422zwpl532fw''.
        Expected scope: ''Subscription''.","details":[],"additionalInfo":[]}]}},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-26T22:30:46.5652705Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-26T22:30:46.5652705Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptiontany6h24uofoihi","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-delete-deployment-stack-subscriptiontany6h24uofoihi"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2023-10-26-22-31-19-e4b37","duration":"PT9.8312156S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"string"},"bar":{"value":"xyz","type":"string"}},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-26T22:31:18.8507344Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-26T22:31:18.8507344Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionikvoav6qvqhqbghvxh","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-get-deployment-stack-subscriptionikvoav6qvqhqbghvxh"},{"location":"westus2","tags":{},"properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2023-10-27-02-18-29-3f7ec","duration":"PT5.7302077S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"foo":{"type":"String","value":"abc"},"bar":{"type":"String","value":"xyz"}},"parameters":{"foo":{"value":"abc","type":"string"},"bar":{"value":"xyz","type":"string"}},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-10-27T02:18:28.5676457Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-10-27T02:18:28.5676457Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001","type":"Microsoft.Resources/deploymentStacks","name":"cli-test-list-deployment-stack-subscription000001"},{"location":"westcentralus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/rjwTestPS-2022-11-09-01-59-45-a8807","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT8.228413S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/statefulResource'' under resource
        group ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Providers.Test/StatefulResources/statefulResource"}],"error":{"code":"DeploymentStackUpdateFailed","message":"One
        or more stages of the deploymentStack failed. See snapshot ''/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/rjwTestPS/snapshots/2022-11-09-01-59-45-a8807''
        for more details. Correlation id: ''028204d8-171e-4889-bcb5-02fed445019a''","details":[{"code":"DeploymentFailed","message":"At
        least one resource deployment operation failed. Please list deployment operations
        for details. Please see https://aka.ms/DeployOperations for usage details.","details":[{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/statefulResource'' under resource
        group ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"}]}]}},"systemData":{"createdBy":"rwilke@microsoft.com","createdByType":"User","createdAt":"2022-11-09T01:59:45.4267409Z","lastModifiedBy":"rwilke@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-11-09T01:59:45.4267409Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/rjwTestPS","type":"Microsoft.Resources/deploymentStacks","name":"rjwTestPS"},{"location":"westcentralus","properties":{"actionOnUnmanage":{"resources":"detach","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/rjwTestPS2-2022-11-09-22-38-20-3fbb7","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT8.643175S","denySettings":{"mode":"none","applyToChildScopes":false},"parameters":{},"resources":[],"provisioningState":"failed","detachedResources":[],"deletedResources":[],"failedResources":[{"error":{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/statefulResource'' under resource
        group ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Providers.Test/StatefulResources/statefulResource"}],"error":{"code":"DeploymentStackUpdateFailed","message":"One
        or more stages of the deploymentStack failed. See snapshot ''/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/rjwTestPS2/snapshots/2022-11-09-22-38-20-3fbb7''
        for more details. Correlation id: ''84483f0e-5cb0-45fb-9c2d-bb33f8dec5b0''","details":[{"code":"DeploymentFailed","message":"At
        least one resource deployment operation failed. Please list deployment operations
        for details. Please see https://aka.ms/DeployOperations for usage details.","details":[{"code":"ResourceNotFound","message":"The
        Resource ''Providers.Test/statefulResources/statefulResource'' under resource
        group ''<null>'' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix"}]}]}},"systemData":{"createdBy":"rwilke@microsoft.com","createdByType":"User","createdAt":"2022-11-09T22:38:20.0185961Z","lastModifiedBy":"rwilke@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-11-09T22:38:20.0185961Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/rjwTestPS2","type":"Microsoft.Resources/deploymentStacks","name":"rjwTestPS2"},{"location":"westcentralus","properties":{"actionOnUnmanage":{"resources":"delete","resourceGroups":"detach","managementGroups":"detach"},"deploymentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/deployments/mgStack-UnitTest-wcus-230911T173527-2023-09-12-00-35-48-96223","deploymentScope":"/subscriptions/00000000-0000-0000-0000-000000000000","duration":"PT7.5182149S","denySettings":{"mode":"none","applyToChildScopes":false},"outputs":{"deploymentStackName":{"type":"String","value":"mgStack-UnitTest-wcus-230911T173527"}},"resources":[],"provisioningState":"succeeded","detachedResources":[],"deletedResources":[],"failedResources":[]},"systemData":{"createdBy":"danted@microsoft.com","createdByType":"User","createdAt":"2023-09-12T00:35:47.7745047Z","lastModifiedBy":"danted@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-09-12T00:35:47.7745047Z"},"id":"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/mgStack-UnitTest-wcus-230911T173527","type":"Microsoft.Resources/deploymentStacks","name":"mgStack-UnitTest-wcus-230911T173527"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '85391'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 27 Oct 2023 02:19:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - b5f96efd-77f0-4824-97b0-0d1a6df65918
      - 680f40ce-d73d-4cb3-8474-e382e9963956
      - d37a38be-94b3-4280-9943-a6387c99fed0
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --management-group-id --yes
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001?api-version=2022-08-01-preview
  response:
    body:
      string: "{\r\n  \"location\": \"westus2\",\r\n  \"tags\": {},\r\n  \"properties\":
        {\r\n    \"actionOnUnmanage\": {\r\n      \"resources\": \"detach\",\r\n      \"resourceGroups\":
        \"detach\",\r\n      \"managementGroups\": \"detach\"\r\n    },\r\n    \"deploymentId\":
        \"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2023-10-27-02-18-29-3f7ec\",\r\n
        \   \"duration\": \"PT5.7302077S\",\r\n    \"denySettings\": {\r\n      \"mode\":
        \"none\",\r\n      \"applyToChildScopes\": false\r\n    },\r\n    \"outputs\":
        {\r\n      \"foo\": {\r\n        \"type\": \"String\",\r\n        \"value\":
        \"abc\"\r\n      },\r\n      \"bar\": {\r\n        \"type\": \"String\",\r\n
        \       \"value\": \"xyz\"\r\n      }\r\n    },\r\n    \"parameters\": {\r\n
        \     \"foo\": {\r\n        \"value\": \"abc\",\r\n        \"type\": \"string\"\r\n
        \     },\r\n      \"bar\": {\r\n        \"value\": \"xyz\",\r\n        \"type\":
        \"string\"\r\n      }\r\n    },\r\n    \"resources\": [],\r\n    \"provisioningState\":
        \"succeeded\",\r\n    \"detachedResources\": [],\r\n    \"deletedResources\":
        [],\r\n    \"failedResources\": []\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\":
        \"danted@microsoft.com\",\r\n    \"createdByType\": \"User\",\r\n    \"createdAt\":
        \"2023-10-27T02:18:28.5676457Z\",\r\n    \"lastModifiedBy\": \"danted@microsoft.com\",\r\n
        \   \"lastModifiedByType\": \"User\",\r\n    \"lastModifiedAt\": \"2023-10-27T02:18:28.5676457Z\"\r\n
        \ },\r\n  \"id\": \"/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-list-deployment-stack-subscription000001\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1615'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 27 Oct 2023 02:19:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack mg delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --management-group-id --yes
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.11.6 (Windows-10-10.0.22621-SP0)
    method: DELETE
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/AzBlueprintAssignTest/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription000001?unmanageAction.Resources=detach&unmanageAction.ResourceGroups=detach&api-version=2022-08-01-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 27 Oct 2023 02:19:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
