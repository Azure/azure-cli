interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=displayName%20eq%20%27cli_create_rbac_sp_with_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:35:46 GMT
      duration:
      - '2357978'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - sEPVW1JPeYtsLbZLjrb8BFJWCN+9j/gt/trLg0HBspQ=
      ocp-aad-session-key:
      - Wak0ltVdnsoO89el7U7_7qdklPZTFwLs5CFgZy1UhGBMsJApkRqyWNfDqWLHRIu3eCs8qt82A0aG4p9WZgldq-srZXHnjDG_LhBuvG0s2rgDj-E0xjsX-tA0Kx7yhiANk3iZBKaValmQA_Qo4sid2aDR7EDih2RPxlxJMnUxkvI.LpJ5koTvyVH2jBGvWkaih7hekD2KOpiFMOpvvrr0DY0
      pragma:
      - no-cache
      request-id:
      - d8e681a5-e97f-4864-8465-c63080f69c27
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:35:47 GMT
      duration:
      - '2395743'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - e2a+8zvOs+nmeZw7gYtwdYQOeZApF3Dh4JxkqHLFX7Q=
      ocp-aad-session-key:
      - nmmwJlIsY6H0YpZyOZR6CqXStEp4h6KXNms_-Ru0JESnd9W_nDyS7hY81rnI_0LJHhRa4EpPiP1P4ftAT8Pkx3VcyEpqHyAPuAFTyUxZfkAE41Rx0aaN43S41JDM4Xh9bPiGO4dyBdeeykyZ81hHumn_zyJCGDos2azQmvtL47Y.sfkaB9QqS_KJ6PEC_8nPQyTq8KXZYb7IV4-qkp-oRMw
      pragma:
      - no-cache
      request-id:
      - 4530fcf1-a574-472a-bc6d-692c9dc79756
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "keyCredentials": [{"startDate": "2021-06-02T07:35:47.004407Z",
      "endDate": "2022-06-02T07:35:47.004407Z", "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\nbjAiGA8yMDIxMDYwMjA3MzU0NloYDzIwMjIwNjAyMDczNTQ4WjAUMRIwEAYDVQQD\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDfrE8X\n/Kp3/J1g65YQbB14/RBR5LQyTDfmLEQndKa2M+reEB9lxfCDZy0NxFXxjaYeMbvv\nVOvDTV2C65XyTPUjkBU4+cR6MkCjeJDhHJsneyT/naCwI5xxg4h14MvlZ6or02yG\n6PcXpd8BKjMugQh2ubRHs928AxQcWnbJWSyT7yXpHqBAXBEZAVStB4JK3nckjhUW\nEyNY/wOtyNUwwmHC9h08fXTWoqBCnhth5TIa7ZRu/7X6af2i/wTV2a+huduiQQHf\npWUCQc1OVfAZ1FK40JoBewJsMaCVvmECjFGGnmW038Hsj0g4j2Ni/j0qsKvSE13s\nkmg4OCUjb49z9pi9AgMBAAEwDQYJKoZIhvcNAQEFBQADggEBAM4asE3NyYWA6VL/\nFvYae5XgK6OO5QSIZS08psV8HYpK2hTNOTN1bD6ybzHFHUbVNHyaAXa7TuPNdn/1\nxPpDR+aQ8Ekiew/IO8YayJMQbLfTnP91B4Oipn41htSid6xwKi0pEIXqy8gnT/n2\njFHcODkKkCdiH3sMiCzXB8GxfSW6/AmHPF2kAw7EgHy8Cd/jTUOsdqKVs+j6ViTR\nV1OnVFhcndeXOW/ygs6vkthvsN/pjAf4jubwtJqp/RHXCp2ZKHSnOiIKAraTowOR\npkoFdRoe9Ocy3dGuK76dHNBvL2vEzgxDDW8ahn9QytEAMFmSh/M6vqkEvY+YaYwL\nSbGWqvs=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_create_rbac_sp_with_cert000001",
      "identifierUris": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1301'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "3356bd58-d905-4223-bf96-be9c0435d45d", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "fa244032-3717-400e-b966-8db9af425c8d",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_create_rbac_sp_with_cert000001", "errorUrl": null,
        "groupMembershipClaims": null, "homepage": null, "identifierUris": [], "informationalUrls":
        {"termsOfService": null, "support": null, "privacy": null, "marketing": null},
        "isDeviceOnlyAuthSupported": null, "keyCredentials": [{"customKeyIdentifier":
        "37FCE234D097CF1FED9C6C3FE3805FEB405EBCF4", "endDate": "2022-06-02T07:35:47.004407Z",
        "keyId": "88888888-0000-0000-0000-000000000001", "startDate": "2021-06-02T07:35:47.004407Z",
        "type": "AsymmetricX509Cert", "usage": "Verify", "value": null}], "knownClientApplications":
        [], "logoutUrl": null, "logo@odata.mediaEditLink": "directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_create_rbac_sp_with_cert000001 on behalf
        of the signed-in user.", "adminConsentDisplayName": "Access cli_create_rbac_sp_with_cert000001",
        "id": "6e14cc13-8ba9-43f1-a190-5fff10ef37a0", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_create_rbac_sp_with_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_create_rbac_sp_with_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2606'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:35:48 GMT
      duration:
      - '5261149'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - 1Y/T7t5sAsu4duz8aiGnznQHdOsynIn8tLmJMiTTkxI=
      ocp-aad-session-key:
      - vSDGMYNpjn7f9-0c7ahY7XB2N-K-VM7dm_RbjldpbprX5rURQgezK_eXGIg1-sVXMQyNK_-wvQ2-IbM_MMzRcShkeR-0oyOQ7Ed_zOMPVFQY7XRwqlNBESheDBKlyeQVZ_Ygc2KAOzv72lXnqr62jJ1B2lxQEwMiMYJq-WB3Ou0.m9RZ3hA_KEGTmTMD7KcpAuOi0DZ5T2UPavAPYMEh6dc
      pragma:
      - no-cache
      request-id:
      - f11d8a5d-03ca-496a-9a6c-63a56edd00ec
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "fa244032-3717-400e-b966-8db9af425c8d"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"bbc605af-3bd5-4b49-bb50-a10d52302367","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"fa244032-3717-400e-b966-8db9af425c8d","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"6e14cc13-8ba9-43f1-a190-5fff10ef37a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["fa244032-3717-400e-b966-8db9af425c8d"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1988'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:35:48 GMT
      duration:
      - '3713302'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/bbc605af-3bd5-4b49-bb50-a10d52302367/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - kU2NptPjugV0jC2hvhVE60WjqoCyBu2ebgOP5YxhUAM=
      ocp-aad-session-key:
      - di9T8rPYjtORxp48aZLDKSB-_Afgv-dF1eRKcGrNI8VWamXHR3xs0a-Yz2VIa2ph8JzjNz-RiucbLx63K1kD76G_PhjLGtK2M33EGKPLDpNttf1trc9a1QgflECcTZD7-Vdd6uG-bogGcW1UvSWZpHypn1PPm_pAZ1MHVSiCmVM.WPDp8auvfSW1tAj07v5Lyzj_ebxXImnYbCVlsmHjA6U
      pragma:
      - no-cache
      request-id:
      - f9eb05f0-6711-4f63-bfa9-5056a15b9981
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC, manage assignments in Azure Blueprints, or share image galleries.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete","Microsoft.Compute/galleries/share/action"]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-12-04T00:34:54.8501087Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '947'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:35:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "bbc605af-3bd5-4b49-bb50-a10d52302367"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2015-07-01
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal bbc605af3bd54b49bb50a10d52302367
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:35:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC, manage assignments in Azure Blueprints, or share image galleries.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete","Microsoft.Compute/galleries/share/action"]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-12-04T00:34:54.8501087Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '947'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:35:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "bbc605af-3bd5-4b49-bb50-a10d52302367"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2015-07-01
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"bbc605af-3bd5-4b49-bb50-a10d52302367","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","createdOn":"2021-06-02T07:35:55.8915407Z","updatedOn":"2021-06-02T07:35:56.2015338Z","createdBy":null,"updatedBy":"6d97229a-391f-473a-893f-f0608b592d7b"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '686'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:35:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC, manage assignments in Azure Blueprints, or share image galleries.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete","Microsoft.Compute/galleries/share/action"]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-12-04T00:34:54.8501087Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '947'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:35:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "bbc605af-3bd5-4b49-bb50-a10d52302367"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2015-07-01
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"bbc605af-3bd5-4b49-bb50-a10d52302367","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","createdOn":"2021-06-02T07:35:58.8526467Z","updatedOn":"2021-06-02T07:35:59.1576952Z","createdBy":null,"updatedBy":"6d97229a-391f-473a-893f-f0608b592d7b"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000004"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '868'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27fa244032-3717-400e-b966-8db9af425c8d%27%29%20or%20displayName%20eq%20%27fa244032-3717-400e-b966-8db9af425c8d%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"bbc605af-3bd5-4b49-bb50-a10d52302367","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"fa244032-3717-400e-b966-8db9af425c8d","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"6e14cc13-8ba9-43f1-a190-5fff10ef37a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["fa244032-3717-400e-b966-8db9af425c8d"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1991'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:36:01 GMT
      duration:
      - '2527345'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 6jgyjh+tSscQcUB7ctdGVcKjwEWrtilb7gsVd9izf1U=
      ocp-aad-session-key:
      - OQCDg4IKlJjo0UGLJCVMRpWJalR-I62pcpjHh9sg15WgaZusFjrqORM_i4I68xJpiz2rqSbX2MhlQqWjXFzLgXCVtreSzKhjl2-a-fHyLeV0Nn4rJTOw3SJOTfTMtgfrZbxql9hVzABwnP3qkNyXEc8KpibDd2J4satrQ2XnifA.OIhbkvDn-U9AyJAfxuhhqDwXxMo8WpBlbNO0gnIC2lo
      pragma:
      - no-cache
      request-id:
      - 50f3c0a4-2bf3-4a81-8784-5be14e62adbc
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27fa244032-3717-400e-b966-8db9af425c8d%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:36:01 GMT
      duration:
      - '2324969'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - JMk4lioBBeabV1P67FTnWJqPPPbNNNXK/L9vZsLYeW0=
      ocp-aad-session-key:
      - 9PUEyNdP85Zmeg8kcxClg5i-IvaCv7vvu81Jd4gxw4uPhmPiPxMKX3nsNHUX2rqGm6l9tZHJoh4nRM-TXnBv8Ql-iOYUswp-F8lOdpa32Q8pSyLOOVrqTC4Eeh0s4FU6S9F7zdjbZm4N1XkvsgOYGW7LOJNSORCtiiHe-tSWlg4.IIRFFKQcipNDj58ngjj38Jvc494pg9SIochiqloH0eo
      pragma:
      - no-cache
      request-id:
      - 16866ce9-c9c9-4a27-8d35-9942a4bf20c0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27fa244032-3717-400e-b966-8db9af425c8d%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"3356bd58-d905-4223-bf96-be9c0435d45d","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"fa244032-3717-400e-b966-8db9af425c8d","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"37FCE234D097CF1FED9C6C3FE3805FEB405EBCF4","endDate":"2022-06-02T07:35:47.004407Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2021-06-02T07:35:47.004407Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"6e14cc13-8ba9-43f1-a190-5fff10ef37a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2523'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:36:02 GMT
      duration:
      - '2396489'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 1Y/T7t5sAsu4duz8aiGnznQHdOsynIn8tLmJMiTTkxI=
      ocp-aad-session-key:
      - wDrl8bP_CvlLwDHqsWejLxInjzlxRx77oGSJBu6OWAOyV0HYa2U1LIbOo3QO35Mkth1xBQFfx0r0SpKHngQZzsEka9H112_4cWsiBjpDsgEOBlQTlIXqQd3HshfsCJz7vcpQ5MXlWk1DfcXOnscSePGWSHX4g3nC1h6B9jwXQtM.gzErnWD26mD2cNflOiJFPSTs0ZZGONsgCoJbUe4AZwM
      pragma:
      - no-cache
      request-id:
      - 50e0ee5d-2b38-4d0c-844a-6ab830c00744
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/3356bd58-d905-4223-bf96-be9c0435d45d?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"3356bd58-d905-4223-bf96-be9c0435d45d","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"fa244032-3717-400e-b966-8db9af425c8d","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"37FCE234D097CF1FED9C6C3FE3805FEB405EBCF4","endDate":"2022-06-02T07:35:47.004407Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2021-06-02T07:35:47.004407Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"6e14cc13-8ba9-43f1-a190-5fff10ef37a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2520'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:36:02 GMT
      duration:
      - '2371515'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - ytVK13PBN294WPXvTZPwqnXsGswYX6n0QUkofJFWNqA=
      ocp-aad-session-key:
      - ArC3UM8MygW3iD7VCXoYrT7mqwpQbBY71IPKx5p_J0DYLehrHQl7zRBCl1jk5DkIQXQsQwEA1BtHriwVM7qR6-wc_2G0xAN67HmkV1a-CMN7O3M7-Innz5B5iDMM4TJCZyO0WBXCikGs5HA59xySqLKf19R-eXF2YPOnmYipbWw.kgXe6CYv9mMhy2tT_Lt42RxLVnzRREbytew6kpn5pik
      pragma:
      - no-cache
      request-id:
      - 79e31a08-bd78-41b4-9377-d208c78a9ddd
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2021-06-02T07:36:01.080571Z", "endDate":
      "2022-06-02T07:36:01.080571Z", "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\nbjAiGA8yMDIxMDYwMjA3MzYwMFoYDzIwMjIwNjAyMDczNjAyWjAUMRIwEAYDVQQD\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCgWwQ2\naEevUqL4fFPBNSYh52NGboCJtz6fupUH20ASv8uFI5+KRQX05XTF/KU855Q3zL2N\n93+VTnkMssnw497BPhN3tsYQOAYGsd32GGCsCh/Q+usFKCeOtyx4ikFC+WFRib/+\nAmr/0RJjNMaGtNvq7GJVfl11ZPNPp+W5Lz9Dm1YDZJQ0BQDLgAJe6cJbSzrh78e3\nMm6y86gT0fdfv0xMYjgrH72M8zJJ+VYjQD7oMtsiIj6pLqCubuvDS6CbmaQF2BDK\nwS9ok9BavHRucFwBXQIh6RwZ4P64i204zG8qSQzsH5jTLr/yjt1f30vbf+1s88qH\nDBoVq1OWk4eDMl93AgMBAAEwDQYJKoZIhvcNAQEFBQADggEBAI8p0qremJAtfq+Q\nqR35YpBOlfogUyCnPJahTRxyselNhkzSAMBeVdTiSTZ4XoqIcfkQsnWFYlFOVTUy\nC+cdfmiGKAFECKUAhKQA+cnkgy56g/r++qfOCF7dNJNFhtJQ5hTRQP0p3CUMN+Nm\nmso2Zh1hwZQ0l80MNN7TRgC9Ho3kf/YEIpKIXN8WjebIr+AnDUkyWWaIuaPGOhPO\nWXZD8mldTqK6EN+zPYlPwa335W1E5i0UTg773IZ3tkIZeDX3jln8+D5siwuYaZIe\nz9rmumUqH9mswhDpFu//h6fvuHu0gy8YIxE0ys+6rJtr3/hu8iZcm5hRjFrmhnHL\nY9H3FBE=",
      "keyId": "88888888-0000-0000-0000-000000000005", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1151'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/3356bd58-d905-4223-bf96-be9c0435d45d?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Wed, 02 Jun 2021 07:36:03 GMT
      duration:
      - '4574079'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 1Y/T7t5sAsu4duz8aiGnznQHdOsynIn8tLmJMiTTkxI=
      ocp-aad-session-key:
      - O2zuDpNswh2loWpBmfssr4X9tmBPcJIIDqgPe9ZDvsCC7a4JadSAFeLtE1beXElv14hzWcsI65ABie4SpNRzyeOPDgEIH6Lp1CYZsX13HunrziSldi163IJexgWtqFCfmmskemOJtza96lWu5iIFfEYMJkQMzadnb8IPwJRekUE.w8--gQw1YCjthYX4__JbV9nQCs0zxtAdgDBwCNdQz1Q
      pragma:
      - no-cache
      request-id:
      - b8d5606f-4a27-4e8b-b78e-5b3d98d6438c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27fa244032-3717-400e-b966-8db9af425c8d%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:36:04 GMT
      duration:
      - '2408728'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - EWhFTijSw9bQfoTXxashlyvSfkNuRvSusMtzIbt3zf0=
      ocp-aad-session-key:
      - wFYSgRyJP54hsnBefb-cJ_pQTB2ICxByzzORljldjRcOkvKx7c1Zy0oJsRstSWZdvrPpBAIpMhOkLKdukX7Yjo_WXO7q1FxMimDrV1n3YrJUaKM9SHbKF7RJ9XXwITFZ9adeRkyDE0c_-ajLov8CSdtJD8PiuFBcVZQhbz_Col8.gM9jxB1C6hcpIaApRnbQV58WgrMRmOwqXlNb23LYhUQ
      pragma:
      - no-cache
      request-id:
      - d241b6cd-f931-45d2-a4db-dcfde2206831
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27fa244032-3717-400e-b966-8db9af425c8d%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"3356bd58-d905-4223-bf96-be9c0435d45d","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"fa244032-3717-400e-b966-8db9af425c8d","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"AAE2FF62F22AAAB7DFA8A067D90F6FBDE0E561B1","endDate":"2022-06-02T07:36:01.080571Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2021-06-02T07:36:01.080571Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/3356bd58-d905-4223-bf96-be9c0435d45d/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"6e14cc13-8ba9-43f1-a190-5fff10ef37a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2523'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:36:05 GMT
      duration:
      - '2448588'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - fRbMtc1RgDFhYHSNXwCb6KqoCdfyGgCjR+VAFI9KmdI=
      ocp-aad-session-key:
      - mTZBbwuRpSwVfzJ7sZyL47zIEIxDWjHGrTHAIunRq2zf9I6gtnb_lpwypVT7WH3ZZAn5CzNNwhEn3wEg-Gcla6tkZCl3hlLHRXneDYD2fT_DmL2n4EdNm5e8Qw5rxsx-pck0-WBciPu3jDr_d4aMzeZTXZgESpXs1iuc9e5w318.ww6I376nzUrOCQaYi8TlbfrkDpgWGeeq1eiZl_jhI5o
      pragma:
      - no-cache
      request-id:
      - 30bc37f7-0124-458c-a6ab-1af68ba0bab5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/3356bd58-d905-4223-bf96-be9c0435d45d?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Wed, 02 Jun 2021 07:36:05 GMT
      duration:
      - '4822721'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - BSAobiB7LJ6Ag4fd17ARfBjez2yfDc2M8UWfIu9TJkI=
      ocp-aad-session-key:
      - 44Euk8RFC4329yxYJXGgt9ni9HiYa5U0WrlIQwxfmb2mgyCmYRWeE7e9qZbMwArVc5JF5VC7X6JojrKmW9iHsn3rUsfAE0WOFdNT-ERSGO9CUVXKs72r-xp__GzDm8QupRZP8Bmum_7BE7zCx951i0Y8XcUetg2wpXdLoajN2Ww.qGXye0vcq3YCFReoLCLW7NyFsnOXazV0wzbYYSHh_wM
      pragma:
      - no-cache
      request-id:
      - 9e6e4efd-8caf-42e0-82dd-8bc017fca651
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
