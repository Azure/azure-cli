interactions:
- request:
    body: '{"tags": {"use": "az-test"}, "location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 26 Mar 2018 23:12:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"location": "japanwest"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Length: ['25']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchmanagementclient/4.1.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Mon, 26 Mar 2018 23:12:06 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/9ca3d168-c662-4d83-8f34-c50a92a56f52?api-version=2017-05-01']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchmanagementclient/4.1.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/9ca3d168-c662-4d83-8f34-c50a92a56f52?api-version=2017-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":20,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"poolAllocationMode":"batchservice"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['565']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 26 Mar 2018 23:12:22 GMT']
      etag: ['"0x8D5936F0839867D"']
      expires: ['-1']
      last-modified: ['Mon, 26 Mar 2018 23:12:23 GMT']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account keys list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchmanagementclient/4.1.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/listKeys?api-version=2017-05-01
  response:
    body: {string: '{"accountName":"clibatch000002","primary":"Co9IFXAY9YnSnUOyITrG7Gbj4T0sHzM+DaTycjq01fR88GDzR7IToHHL6d8oLSNbIYM9etHzm7jnYzw7AviQCQ==","secondary":"US/Rj1R8l5a/E0Xs5vlbhAtzXETpoOOI6dsjanEZbgLrKu2vanxH0gcwxdX0TGrdXRjwMlVLBaoTwRZsKImfVA=="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['246']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 26 Mar 2018 23:12:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchmanagementclient/4.1.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":20,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"poolAllocationMode":"batchservice"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['565']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 26 Mar 2018 23:12:26 GMT']
      etag: ['"0x8D5936EFE719873"']
      expires: ['-1']
      last-modified: ['Mon, 26 Mar 2018 23:12:06 GMT']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"commandLine": "cmd /c echo test", "waitForSuccess": true,
      "userIdentity": {"autoUser": {"elevationLevel": "admin", "scope": "task"}}},
      "id": "xplatCreatedPool", "vmSize": "small", "cloudServiceConfiguration": {"osFamily":
      "4", "targetOSVersion": "*"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['267']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchbyogr5b4nrqfyf42.japanwest.batch.azure.com/pools/xplatCreatedPool']
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:28 GMT']
      etag: ['0x8D5936F0BB5F19F']
      last-modified: ['Mon, 26 Mar 2018 23:12:28 GMT']
      location: ['https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool']
      request-id: [713963ce-748d-421e-b8c0-7e6e72bb3ec0]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 201, message: Created}
- request:
    body: '{"vmSize": "Standard_A1", "id": "pool_image1", "virtualMachineConfiguration":
      {"imageReference": {"offer": "b", "publisher": "a", "sku": "c"}, "nodeAgentSKUId":
      "batch.node.windows amd64"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['189']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidPropertyValue\",\"message\":{\r\n    \"lang\":\"en-US\"\
        ,\"value\":\"The value provided for one of the properties in the request body\
        \ is invalid.\\nRequestId:320188c1-2637-4b4e-bddf-7d5aab9e2aa9\\nTime:2018-03-26T23:12:31.0481982Z\"\
        \r\n  },\"values\":[\r\n    {\r\n      \"key\":\"PropertyName\",\"value\"\
        :\"imageReference\"\r\n    },{\r\n      \"key\":\"Reason\",\"value\":\"The\
        \ specified imageReference with publisher a offer b sku c is not supported.\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      content-length: ['600']
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:30 GMT']
      request-id: [320188c1-2637-4b4e-bddf-7d5aab9e2aa9]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 400, message: The value provided for one of the properties in the
        request body is invalid.}
- request:
    body: '{"vmSize": "Standard_A1", "id": "pool_image1", "virtualMachineConfiguration":
      {"imageReference": {"virtualMachineImageId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Compute/images/custom_image"},
      "nodeAgentSKUId": "batch.node.windows amd64"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['296']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidPropertyValue\",\"message\":{\r\n    \"lang\":\"en-US\"\
        ,\"value\":\"The value provided for one of the properties in the request body\
        \ is invalid.\\nRequestId:8bf12cd8-e507-488c-bca8-60f3308721e5\\nTime:2018-03-26T23:12:32.6653976Z\"\
        \r\n  },\"values\":[\r\n    {\r\n      \"key\":\"PropertyName\",\"value\"\
        :\"virtualMachineImageId\"\r\n    },{\r\n      \"key\":\"PropertyValue\",\"\
        value\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/test_rg/providers/Microsoft.Compute/images/custom_image\"\
        \r\n    },{\r\n      \"key\":\"Reason\",\"value\":\"The specified virtualMachineImageId\
        \ is in a different subscription and cannot be used with the current Batch\
        \ account in subscription f30ef677-64a9-4768-934f-5fbbc0e1ad27\"\r\n    }\r\
        \n  ]\r\n}"}
    headers:
      content-length: ['870']
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:32 GMT']
      request-id: [8bf12cd8-e507-488c-bca8-60f3308721e5]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 400, message: The value provided for one of the properties in the
        request body is invalid.}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D5936F0BB5F19F\",\"lastModified\":\"2018-03-26T23:12:28.9919391Z\"\
        ,\"creationTime\":\"2018-03-26T23:12:28.9919391Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-03-26T23:12:28.9919391Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-03-26T23:12:29.2087231Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n    \
        \  \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\":\"admin\"\
        \r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n \
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:34 GMT']
      etag: ['0x8D5936F0BB5F19F']
      last-modified: ['Mon, 26 Mar 2018 23:12:28 GMT']
      request-id: [d9dd6866-158a-4e35-b7ce-7b5529049363]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicatedNodes": 5, "targetLowPriorityNodes": 3}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['56']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/resize?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchbyogr5b4nrqfyf42.japanwest.batch.azure.com/pools/xplatCreatedPool/resize']
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:36 GMT']
      etag: ['0x8D5936F0FF88945']
      last-modified: ['Mon, 26 Mar 2018 23:12:36 GMT']
      request-id: [a874f741-a433-4249-93eb-7d71143d05ad]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D5936F0FF88945\",\"lastModified\":\"2018-03-26T23:12:36.1392453Z\"\
        ,\"creationTime\":\"2018-03-26T23:12:28.9919391Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-03-26T23:12:28.9919391Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2018-03-26T23:12:36.1392453Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n    \
        \  \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\":\"admin\"\
        \r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n \
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:37 GMT']
      etag: ['0x8D5936F0FF88945']
      last-modified: ['Mon, 26 Mar 2018 23:12:36 GMT']
      request-id: [09d5951e-1160-4002-9087-b6c4e4a96aef]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/nodecounts?api-version=2018-03-01.6.1&maxresults=10&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#poolnodecounts\"\
        ,\"value\":[\r\n    {\r\n      \"poolId\":\"xplatCreatedPool\",\"dedicated\"\
        :{\r\n        \"creating\":0,\"idle\":0,\"offline\":0,\"preempted\":0,\"rebooting\"\
        :0,\"reimaging\":0,\"running\":0,\"starting\":0,\"startTaskFailed\":0,\"unusable\"\
        :0,\"unknown\":0,\"waitingForStartTask\":0,\"total\":0\r\n      },\"lowPriority\"\
        :{\r\n        \"creating\":0,\"idle\":0,\"offline\":0,\"preempted\":0,\"rebooting\"\
        :0,\"reimaging\":0,\"running\":0,\"starting\":0,\"startTaskFailed\":0,\"unusable\"\
        :0,\"unknown\":0,\"waitingForStartTask\":0,\"total\":0\r\n      }\r\n    }\r\
        \n  ]\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:38 GMT']
      request-id: [3f3978ec-ef61-4138-85bc-fd05015294e7]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchbyogr5b4nrqfyf42.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize']
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:12:40 GMT']
      etag: ['0x8D5936F12665D5A']
      last-modified: ['Mon, 26 Mar 2018 23:12:40 GMT']
      request-id: [0196ca3a-94ac-4d70-9d1a-9c949fd23ecb]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D5936F12665D5A\",\"lastModified\":\"2018-03-26T23:12:40.2144602Z\"\
        ,\"creationTime\":\"2018-03-26T23:12:28.9919391Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-03-26T23:12:28.9919391Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-03-26T23:13:45.3871649Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:14:43 GMT']
      etag: ['0x8D5936F12665D5A']
      last-modified: ['Mon, 26 Mar 2018 23:12:40 GMT']
      request-id: [76869854-11c5-4d51-9347-04170cc7d498]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"metadata": [], "certificateReferences": [], "applicationPackageReferences":
      [], "startTask": {"commandLine": "cmd /c echo updated", "waitForSuccess": true}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2018-03-01.6.1
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchbyogr5b4nrqfyf42.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:14:46 GMT']
      etag: ['0x8D5936F5DA66ABB']
      last-modified: ['Mon, 26 Mar 2018 23:14:46 GMT']
      request-id: [ee2affea-466e-41f8-977b-024bbc9df3a8]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-03-01.6.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D5936F5DA66ABB\",\"lastModified\":\"2018-03-26T23:14:46.4633531Z\"\
        ,\"creationTime\":\"2018-03-26T23:12:28.9919391Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-03-26T23:12:28.9919391Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-03-26T23:13:45.3871649Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo updated\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"elevationLevel\":\"nonadmin\"\r\n\
        \      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n  },\"\
        maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"\
        Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\"\
        ,\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:14:49 GMT']
      etag: ['0x8D5936F5DA66ABB']
      last-modified: ['Mon, 26 Mar 2018 23:14:46 GMT']
      request-id: [250a3b6a-dc8a-4ac0-9607-2f4d40b514ac]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"metadata": [{"name": "a", "value": "b"}, {"name": "c", "value": "d"}],
      "certificateReferences": [], "applicationPackageReferences": [], "startTask":
      {"commandLine": "hostname"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2018-03-01.6.1
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchbyogr5b4nrqfyf42.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:14:53 GMT']
      etag: ['0x8D5936F61A5478E']
      last-modified: ['Mon, 26 Mar 2018 23:14:53 GMT']
      request-id: [eafc391b-bcaf-496c-af54-af97141eb3da]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-03-01.6.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D5936F61A5478E\",\"lastModified\":\"2018-03-26T23:14:53.1667854Z\"\
        ,\"creationTime\":\"2018-03-26T23:12:28.9919391Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2018-03-26T23:12:28.9919391Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2018-03-26T23:13:45.3871649Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"hostname\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"elevationLevel\":\"nonadmin\"\r\n\
        \      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":false\r\n  },\"\
        metadata\":[\r\n    {\r\n      \"name\":\"a\",\"value\":\"b\"\r\n    },{\r\
        \n      \"name\":\"c\",\"value\":\"d\"\r\n    }\r\n  ],\"maxTasksPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"targetOSVersion\"\
        :\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:14:54 GMT']
      etag: ['0x8D5936F61A5478E']
      last-modified: ['Mon, 26 Mar 2018 23:14:53 GMT']
      request-id: [e6255317-bea0-401f-a9d8-0efe8426f849]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 batchserviceclient/4.1.1 Azure-SDK-For-Python]
      accept-language: [en-US]
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2018-03-01.6.1&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceversion: ['3.0']
      date: ['Mon, 26 Mar 2018 23:14:55 GMT']
      request-id: [eab9baea-5058-445c-bc3f-6905d51c6b8e]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.15063-SP0) requests/2.18.4 msrest/0.4.25
          msrest_azure/0.4.20 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Mon, 26 Mar 2018 23:14:57 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdDTklXTjRNSElPNDdTSkhGU0RON0RQU1pRT05HUkJZSE9YRnw4MzMwOUY4NzNBOTgzMTIyLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 202, message: Accepted}
version: 1
