interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:00 GMT
      duration:
      - '2263057'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - +AdaoIDG5Jx3eMgj68JEUOBsdUx2CoMNzREPKIx3Gac=
      ocp-aad-session-key:
      - 3Y4Jsmf2p2GnW09OkJpranlazNybzLgvvZxiWhq74a6DLJ5reF6T2RdII4LKvf099oI8FYCRTcNtzogSbURn1IUctqx6_CbeHaGhW4duTeYJHmwNsebccdB_2fEjbUgpQXOM4R4tsPZslixbJ4OPQYge3keDa44kL65jxB8DSXo.IIR6bB20LSvxkDLEA40St-aisgDqQAFpX3orTw5fsys
      pragma:
      - no-cache
      request-id:
      - 93280ddd-e4e5-4c38-90df-470ed9ffd778
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:01 GMT
      duration:
      - '2589442'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 6nTxeccwHlqMkcfQH4EpKBUB0g7BKgCGffdUym5sXt8=
      ocp-aad-session-key:
      - EOgdtCOHmDb23PPHlhKJI6MapJBbLoKsFgk8nc1LE-YzJSl8J2F2QIEPRCAehBn1w87UppfzulP0MMc55MaBqD6TBcbjc-PZCDpuvQ1SADJJKi9698JZV7FSvwnr1Cv9UK78-5o5k0WDdkY7c04on_EWpnQPO5qje3D444fK650.jBtmzPjkmJBzlx2gjRdn4EdkVhekwtO8j-GWPDFllxc
      pragma:
      - no-cache
      request-id:
      - a09226e6-7d5c-4efb-a228-af5e51210ad0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "homepage": "https://cli_create_rbac_sp_with_cert000001",
      "keyCredentials": [{"startDate": "2020-09-07T08:11:01.081804Z", "endDate": "2021-09-07T08:11:01.081804Z",
      "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\nbjAiGA8yMDIwMDkwNzA4MTEwMFoYDzIwMjEwOTA3MDgxMTAyWjAUMRIwEAYDVQQD\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC/pZL1\nS5PiSrOwm/IrNG/GJH5g9p6YtLH1OTn0MRqDqH1o+9hrG+DITsPqq6DygvAUPRGt\nlcfXWFFfnz0+NA1us9LrEAL3psTF6mkmJLFfexphD0uB3uiV4RPUBsyQDV7wRB60\ndIuCpGBl2B70HwiDPU9xGlZ6T4A6gra4Mtf2GCOIjFC6OFhwKPSpE/IMhZtl7h4z\n+jjCNa/w1cNH/F9vrt9YZZ6N7ZcnSEcQc8RxqxtlnWGEp/A1q65IBCwAIL9zUwtv\n5mWwogZJpi/ZmYDhZd7GiP2NalBx0/AXroZbVW98gTBuxTDff1uPXDLOc4/gMwBO\n0SSCX+tjobAGUm+PAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBACnHZ5t5BJ4JhDRa\nhtpE4hKXt89Y6FvAchNImfWQAWTJIcyPwUM4t+cMI9ajdJwqszOo9+zdSlOT7Gtk\n9NRithYHgXaDfhq35xVzBF3vimvb5bQZYNypow067HxS47MoTxfbA2FZF2ZQDVIu\nKyjz64zEFL6+yVa+hcXlegj0+viuYRsR7yvTfjNHp1mYryfGPm3RuxPWrxUGAqpp\n3/vefj42pZ/9mD5u/cFGzIZsiLxVq5gS8GWTduIEh6CL5rom+3UNEbcqfa3RKo8N\nd77PkKfe5+3TrpSKgi0YDV7SbEdNK14CxmKu0D7cUAWv3sE4RgFbX6jp5rOAfNES\nNwsUSl0=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_create_rbac_sp_with_cert000001",
      "identifierUris": ["http://cli_create_rbac_sp_with_cert000001"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1484'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "1603805a-c881-403f-a392-749f9b17d793", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_create_rbac_sp_with_cert000001", "errorUrl": null,
        "groupMembershipClaims": null, "homepage": "https://cli_create_rbac_sp_with_cert000001",
        "identifierUris": ["http://cli_create_rbac_sp_with_cert000001"], "informationalUrls":
        {"termsOfService": null, "support": null, "privacy": null, "marketing": null},
        "isDeviceOnlyAuthSupported": null, "keyCredentials": [{"customKeyIdentifier":
        "49B415707C1CB8C9CC3C5F1D6C4B16554782C227", "endDate": "2021-09-07T08:11:01.081804Z",
        "keyId": "88888888-0000-0000-0000-000000000001", "startDate": "2020-09-07T08:11:01.081804Z",
        "type": "AsymmetricX509Cert", "usage": "Verify", "value": null}], "knownClientApplications":
        [], "logoutUrl": null, "logo@odata.mediaEditLink": "directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_create_rbac_sp_with_cert000001 on behalf
        of the signed-in user.", "adminConsentDisplayName": "Access cli_create_rbac_sp_with_cert000001",
        "id": "75c34181-c4cb-45d5-bfad-97ea3a77b5c7", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_create_rbac_sp_with_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_create_rbac_sp_with_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:02 GMT
      duration:
      - '4733168'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - o4obT7UKgGjiBDPdEAl8PYY+SEzD7QiVNPTT2U2aOaE=
      ocp-aad-session-key:
      - lpIGg5pj_yN19HP3n3_1lLQODOzPfrSmwpDjUIdZ78XQ0hkeaBl15QU3mfr4v0JjN2Us-a0KZLHKxQv_InOOc2HKpWjl2elkzQnVpHwG0M3BzP2-6U1gyKuS6ozRFaEaWCKao0SHSEPKUmU69a240LC7cEsevcXlYY69XIarDiE.KgpQQptiGvY5CG8vdhT8qZQnF-tl0dVbqbv884DU_Pg
      pragma:
      - no-cache
      request-id:
      - fcee7f3b-0237-4241-8922-98d9006378a9
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"18082f29-fabc-4d67-bc7e-d83a98f5df1e","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"75c34181-c4cb-45d5-bfad-97ea3a77b5c7","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a","http://cli_create_rbac_sp_with_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:03 GMT
      duration:
      - '3295321'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/18082f29-fabc-4d67-bc7e-d83a98f5df1e/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - ioV00GD0iCnKAf4rbBF9BaSdqytXkAsz7MJFOipZ4QY=
      ocp-aad-session-key:
      - g8k87ca-q5Q2xdcuYrkNCaAn_v0f6D9ePsuFv5A6zK23driLdI4R0LaodcYsfaqupsyeZ3xIKHH7bX6xKn8DHMNiSnQRqGO3iv6aTVfcvhS492_FBRSnKUT-T_L4jXJvgiyY52COIGvuBC_tQaSxPeK4kb3s7H6JJlV83lWnFvg.YguX_EZF23UsKFs4vbDdEoALAY4uP_OsLh7tOVwki7A
      pragma:
      - no-cache
      request-id:
      - 5a124471-ac7f-45a5-b43a-ddafcf774bd2
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-08-14T20:15:12.5169529Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '875'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:11:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "18082f29-fabc-4d67-bc7e-d83a98f5df1e"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2020-04-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 18082f29fabc4d67bc7ed83a98f5df1e
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:11:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1194'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-08-14T20:15:12.5169529Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '875'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:11:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "18082f29-fabc-4d67-bc7e-d83a98f5df1e"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2020-04-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"18082f29-fabc-4d67-bc7e-d83a98f5df1e","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","condition":null,"conditionVersion":null,"createdOn":"2020-09-07T08:11:10.9449090Z","updatedOn":"2020-09-07T08:11:10.9449090Z","createdBy":null,"updatedBy":"0d504196-1423-4569-9a6e-15149656f0ee","delegatedManagedIdentityResourceId":null,"description":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '823'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:11:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1191'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-08-14T20:15:12.5169529Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '875'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:11:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "18082f29-fabc-4d67-bc7e-d83a98f5df1e"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --scopes --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2020-04-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"18082f29-fabc-4d67-bc7e-d83a98f5df1e","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","condition":null,"conditionVersion":null,"createdOn":"2020-09-07T08:11:14.3129564Z","updatedOn":"2020-09-07T08:11:14.3129564Z","createdBy":null,"updatedBy":"0d504196-1423-4569-9a6e-15149656f0ee","delegatedManagedIdentityResourceId":null,"description":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000004"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1005'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:11:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1189'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"18082f29-fabc-4d67-bc7e-d83a98f5df1e","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_create_rbac_sp_with_cert000001","appId":"b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"75c34181-c4cb-45d5-bfad-97ea3a77b5c7","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_create_rbac_sp_with_cert000001","b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2157'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:17 GMT
      duration:
      - '3574445'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - rsL5NvoluNom0eIVHdlqQJ2R1pwSCgquZwHtFZlHuAc=
      ocp-aad-session-key:
      - oGPkV4IYDSfJ-gaLMeeY2rDR5wQyhFQpl-j1-YMSJzMhqAkjuvMWallHpG3Zz2EnOQeuvHasoTSuzA8VD_pQjY0ufrtssZWmC-X8PcaKsqL3Vg7sCiK5hb4OyBuAA5mAYix_Bpzra99yjTpo1mkMOOjlv6TEDfHXyRCncHE-vMk.zOR9sZAqEBjeownKsz8mvB6HLO3EgG1Vox7LOjXlVxY
      pragma:
      - no-cache
      request-id:
      - 98ff6797-7e30-4c9d-9d9e-b05c32692dba
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:17 GMT
      duration:
      - '2997985'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - AO8aByeydM5hr4Nt08rI3IeFDTLsTL/1ZH6EpPaHXyU=
      ocp-aad-session-key:
      - 9chDq1RPMYohwIeBo8vdGUJdJGiuuWRhyWBWhMaAiYrU2yb0ovQXqQSZyfQug783n95NUDfA2OiBB-S6kQon0SWjsGBBrmZg7roQa-ryTUmsG_KVoTtzTnI6ByWKJNpxD8lxzaFXOgWkBXRpsdW95-tNie_BeEqS79CxFVRaRck.Qjxmgx1ZTBGVNZj6x6dWlw0XKVGOSDcF1aF5RWRpKhg
      pragma:
      - no-cache
      request-id:
      - 8302e265-ccaf-4b29-a3d4-fb8668588e62
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"1603805a-c881-403f-a392-749f9b17d793","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"49B415707C1CB8C9CC3C5F1D6C4B16554782C227","endDate":"2021-09-07T08:11:01.081804Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2020-09-07T08:11:01.081804Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"75c34181-c4cb-45d5-bfad-97ea3a77b5c7","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:18 GMT
      duration:
      - '2281621'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - XwM9J6mYB/CvvQX3xOj9NMCXa2qCyINEEs06ms8zTaI=
      ocp-aad-session-key:
      - 83Bj4HxLZKgU1RccFQ7plpq_lLubXMeIW3An9xwrcbKkv3DYNdA70AlvWOW43bGgJwRz1HHTAIaBgLCxxnU4iXrk2XdAm45PdKd47--PZvHw2iSTFFkAC1fhAwV4vWL8wZGXLKnjhmxmNv2KVNYRdqPpx0rOXr_S_fd3lMf0kdY.uCrQarvz8TiCzmo8TsnYvX3PSBbkMNqhllwfonsROJc
      pragma:
      - no-cache
      request-id:
      - 8a83ec40-74b1-40ea-80e4-a30311e2d578
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/1603805a-c881-403f-a392-749f9b17d793?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"1603805a-c881-403f-a392-749f9b17d793","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"49B415707C1CB8C9CC3C5F1D6C4B16554782C227","endDate":"2021-09-07T08:11:01.081804Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2020-09-07T08:11:01.081804Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"75c34181-c4cb-45d5-bfad-97ea3a77b5c7","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:18 GMT
      duration:
      - '2247950'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 7px8zq9pYf31lSberSxJFO7YDV3oyGxpVViHcVWbOLc=
      ocp-aad-session-key:
      - dYiOQPP4_HDyqoWhz4_Aj-hEmYrDWZxQ7Mnn4ddmULaUr82JSAfhJZbF4kk8kr4CDEwk5YW5tcIirKrnPKufY1RzI7Dh6MzliQ4-nvRbNIr-L6J3Bw8XljEtHMYJXDgXRc3rZzaGPfUgMU_lOR4HxsjpbP5ZyB1W9VAFBCk7Q3Q.NP_iQbmObuW0QqB37JVd_K0ALkZDtl4_Qsih7S5XpC0
      pragma:
      - no-cache
      request-id:
      - d6bc53d9-f590-4507-9978-42116307a62c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2020-09-07T08:11:16.949178Z", "endDate":
      "2021-09-07T08:11:16.949178Z", "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\nbjAiGA8yMDIwMDkwNzA4MTExNVoYDzIwMjEwOTA3MDgxMTE3WjAUMRIwEAYDVQQD\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCrvP7q\n246hdINyOXj43LP5pQbWL79di5p+EekVKCFLesrAiCbZj3W59Y4z7Szs1Sho0HbF\n/GstznjMVEesBsJ+E3ZXFcfkHJekvYJoRPeXT6i9Angu+PyDO8jwlhVY2JXgwiya\nBk10LkvPzl+k07QCKwucsoZ7NAgNrHBd57svrZmoDODDJCB1GDrpqiZ1ZVHgVih7\noylIorto6mhXXF1j3jZEcxE6SoiE/40W3IVDswucGd057+bPoHcXrhIHum4yOnba\nlqIm/weIWIh3XAC0vpNVx46Tgexkyu5dRzD/ua6FXBKNKEqDneBt6XZga+AAvypH\ntIgG4I2fT5qPVIJnAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBACnRzUZ1/QcYjaI1\n5swHOo/CsV20xzKNHDDvTSWYpwSamUljk5uopPIEiIabsDC3b4irM1XxVFtOmfFF\nJVHSoDFw7HA3zoywLO+UMnonsraoNH9Id+c6IJryK7atmYv0OZGVa5yPkqDAUwLk\n8MCFMfOv1BaSpKfrb95kl+gTL2eJtgfJGrTKODrRLQIC2sb0+/WJfliwkPCisTN8\nd5K9dy4Lmdo1c1KBg8lgCGNtgt9atu++oE/7qQhz/fIgaeIVIrzGq3ia5vHg9r38\ngItyjX1UqntT3l20QnfLpsMOai7qAJlIDGtK18xaXltEGs28Sb2wrHc05XSImNRV\n67ouwwg=",
      "keyId": "88888888-0000-0000-0000-000000000005", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1151'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/1603805a-c881-403f-a392-749f9b17d793?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Mon, 07 Sep 2020 08:11:19 GMT
      duration:
      - '3944340'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - wMPCOqfxKz+mn40Cm18FYe/d1h0Cgmqeb4jNYiCYTLM=
      ocp-aad-session-key:
      - 8TRz8DdUvUYgHCZmwfWpQ29-Hs9OaKl_6T0wGCLdb2EBjQ_iS9CGOfMT4ARQyHvGbkHF2Gr1xLu57_1lhDsiafp6zYkJWBP4h8OEKuHYWgPh_5P9G2ADNjOLkZYswyezEoyouVp9_JOalOxA-COsWbjuAts5exN2Go0QD2-4j70.pCNcgAy3EPZwLLkMF4IKH_l2ZK9jGxE5f__1TaTMw64
      pragma:
      - no-cache
      request-id:
      - d40a67e8-0808-49bc-a4df-42c9b5eb04f2
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"1603805a-c881-403f-a392-749f9b17d793","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b1a4c3e8-44e4-45ce-8f2d-793ff3ac269a","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_create_rbac_sp_with_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_create_rbac_sp_with_cert000001","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"3CE57FBA302B49395403B916777E3C754942E3AD","endDate":"2021-09-07T08:11:16.949178Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2020-09-07T08:11:16.949178Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/1603805a-c881-403f-a392-749f9b17d793/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_create_rbac_sp_with_cert000001","id":"75c34181-c4cb-45d5-bfad-97ea3a77b5c7","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_create_rbac_sp_with_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_create_rbac_sp_with_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:11:19 GMT
      duration:
      - '2364529'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - li6UiAAsB1ecwovfM0b+UIom+gI6neO5KJfrhijnvQM=
      ocp-aad-session-key:
      - l1nwMyHVEqG822DZDKx9gCAnzhW_YeACg-tA0Ekt-yMg8lBU2XtXkI9snVpqdScATRqdOpheJzfGLUACpucOpTve3ECpwRPILarFQ58FdiyxFP1f4q2HTSXBs0npXRDYvQ8tYxNgpT7beN8pLkWGCBfBlQqWChK_nKyNyDzpuLU.3ItFxOQfbcTYgUa5fAfgjAmF8mkFRLhREvlUadvphRc
      pragma:
      - no-cache
      request-id:
      - a5e74521-d2ed-422a-9b9f-636a682a662e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/1603805a-c881-403f-a392-749f9b17d793?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Mon, 07 Sep 2020 08:11:26 GMT
      duration:
      - '60701461'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - T0KBN8JJNjzrTXfSE4A3/1+Mtrd7U9HmkOr+9K4PXjs=
      ocp-aad-session-key:
      - eXfvmPx9QJUDsEpCgXQq8xceV8yibOAMXKy4WU9w1QUamw9S-QiYJtOKfH9ey6vxNz2s9HNfNGdWDkaNpWvVlm564Hx2M2jl6YUtxgJP_oViMu557HjoyYp5ap4Pd_EhrQQpMf2NN0Cpia6uaWHXPiV2xQcdJBgV66IZkYe9nSc.YaV56t55Y9TA5YtmSV9ya-__hPGosq-sOfX9aeTsMsM
      pragma:
      - no-cache
      request-id:
      - ea8b1b1b-cf91-43b0-98eb-273529bd3177
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
