interactions:
- request:
    body: '{"vmSize": "small", "cloudServiceConfiguration": {"osFamily": "4"}, "id":
      "azure-cli-test-paas"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['96']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f550b2e4-e1c6-11e6-a00f-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:11 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-paas']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:13 GMT']
      ETag: ['0x8D443EADAC12B54']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:13 GMT']
      Location: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-paas']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [2d7f8961-8904-4ce1-bce0-3577774be6ca]
    status: {code: 201, message: Created}
- request:
    body: '{"vmSize": "Standard_A1", "virtualMachineConfiguration": {"nodeAgentSKUId":
      "batch.node.ubuntu 16.04", "imageReference": {"offer": "UbuntuServer", "publisher":
      "Canonical", "sku": "16.04.0-LTS"}}, "id": "azure-cli-test-iaas"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['225']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f73284e4-e1c6-11e6-a068-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:14 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:13 GMT']
      ETag: ['0x8D443EADB55F1D1']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:14 GMT']
      Location: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [78b810fb-3d59-4faf-981c-fa2e9f296af7]
    status: {code: 201, message: Created}
- request:
    body: '{"cloudServiceConfiguration": {"osFamily": "4", "targetOSVersion": "*"},
      "id": "azure-cli-test-json", "resizeTimeout": "PT15M", "startTask": {"commandLine":
      "cmd /c echo test", "waitForSuccess": true}, "vmSize": "small", "targetDedicated":
      2}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['242']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [f90073ae-e1c6-11e6-be4a-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:17 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-json']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:18 GMT']
      ETag: ['0x8D443EADD4E4364']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:18 GMT']
      Location: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-json']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [9f27bd16-acf6-44ed-85b1-a60265719d1f]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fa980f24-e1c6-11e6-873b-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:20 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"azure-cli-test-iaas\",\"url\":\"https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas\"\
        ,\"eTag\":\"0x8D443EADB55F1D1\",\"lastModified\":\"2017-01-23T23:52:14.7333585Z\"\
        ,\"creationTime\":\"2017-01-23T23:52:14.7333585Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-01-23T23:52:14.7333585Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-01-23T23:52:15.2893726Z\"\
        ,\"vmSize\":\"standard_a1\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\"\
        :0,\"targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\"\
        :\"Spread\"\r\n      },\"virtualMachineConfiguration\":{\r\n        \"imageReference\"\
        :{\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"\
        sku\":\"16.04.0-LTS\",\"version\":\"latest\"\r\n        },\"nodeAgentSKUId\"\
        :\"batch.node.ubuntu 16.04\"\r\n      }\r\n    },{\r\n      \"id\":\"azure-cli-test-json\"\
        ,\"url\":\"https://test1.westus.batch.azure.com/pools/azure-cli-test-json\"\
        ,\"eTag\":\"0x8D443EADD4E4364\",\"lastModified\":\"2017-01-23T23:52:18.0384612Z\"\
        ,\"creationTime\":\"2017-01-23T23:52:18.0384612Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-01-23T23:52:18.0384612Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2017-01-23T23:52:18.0384612Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":2,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n        \"commandLine\":\"cmd /c echo test\",\"\
        runElevated\":false,\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n  \
        \    },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\"\
        :\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n        \"osFamily\"\
        :\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n      }\r\n\
        \    },{\r\n      \"id\":\"azure-cli-test-paas\",\"url\":\"https://test1.westus.batch.azure.com/pools/azure-cli-test-paas\"\
        ,\"eTag\":\"0x8D443EADAC12B54\",\"lastModified\":\"2017-01-23T23:52:13.7583444Z\"\
        ,\"creationTime\":\"2017-01-23T23:52:13.7583444Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-01-23T23:52:13.7583444Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-01-23T23:52:13.9853568Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\"\
        :\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n        \"osFamily\"\
        :\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n      }\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:20 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [847425c3-c53b-4340-b5d8-4c574711bc25]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fb19bd74-e1c6-11e6-aeb6-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:21 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools?timeout=30&$filter=id%20eq%20%27azure-cli-test-paas%27&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"azure-cli-test-paas\",\"url\":\"https://test1.westus.batch.azure.com/pools/azure-cli-test-paas\"\
        ,\"eTag\":\"0x8D443EADAC12B54\",\"lastModified\":\"2017-01-23T23:52:13.7583444Z\"\
        ,\"creationTime\":\"2017-01-23T23:52:13.7583444Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-01-23T23:52:13.7583444Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-01-23T23:52:13.9853568Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\"\
        :\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\n        \"osFamily\"\
        :\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n      }\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:20 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [155fb20a-6a06-4bda-896a-eebd56d5d1c8]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicated": 5}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fbc198ae-e1c6-11e6-8c19-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:22 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-paas/resize?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-paas/resize']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:22 GMT']
      ETag: ['0x8D443EADFDFC929']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:22 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0d410380-0e7c-4533-b657-ba32cf8ec358]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fc416250-e1c6-11e6-bb2f-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:23 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-paas?timeout=30&$select=allocationState%2C%20targetDedicated&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"allocationState\":\"resizing\",\"targetDedicated\":5\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:22 GMT']
      ETag: ['0x8D443EADFDFC929']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:22 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [78439dbb-f1da-47fb-a496-e3b23fb1921b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fcccd66c-e1c6-11e6-92dd-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:24 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-paas/stopresize?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-paas/stopresize']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:24 GMT']
      ETag: ['0x8D443EAE0F18A3D']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:24 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [23f7ab27-8fc0-4a42-80a9-ccc4cce299ea]
    status: {code: 202, message: Accepted}
- request:
    body: '{"autoScaleFormula": "$TargetDedicated=3"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['42']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fd6abde6-e1c6-11e6-9e21-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:25 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas/enableautoscale?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas/enableautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:25 GMT']
      ETag: ['0x8D443EAE189D3F9']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [7f7732e8-d7fa-4f67-b1fa-cd7535b34a9d]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [fdff38be-e1c6-11e6-8fd3-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:26 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas?timeout=30&$select=enableAutoScale&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"enableAutoScale\":true\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:26 GMT']
      ETag: ['0x8D443EAE189D3F9']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a9adaa39-430c-4a13-98ec-57e622eb9513]
    status: {code: 200, message: OK}
- request:
    body: '{"autoScaleFormula": "$TargetDedicated=3"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['42']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [feaf1b1e-e1c6-11e6-9845-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:27 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas/evaluateautoscale?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.AutoScaleRun\"\
        ,\"timestamp\":\"2017-01-23T23:52:27.3571622Z\",\"results\":\"$TargetDedicated=3;$NodeDeallocationOption=requeue\"\
        \r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas/evaluateautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:27 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [592d4d3f-851f-4d3d-a38c-a3db54124922]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ff3c63b4-e1c6-11e6-b988-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:28 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas/disableautoscale?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas/disableautoscale']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:28 GMT']
      ETag: ['0x8D443EAE35EA5D7']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [372e10ea-c4d9-4c25-b14e-14e54854c6da]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [ffb9ffec-e1c6-11e6-9e66-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:29 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas?timeout=30&$select=enableAutoScale&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"enableAutoScale\":false\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:28 GMT']
      ETag: ['0x8D443EAE35EA5D7']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:28 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c71a3996-5269-47ff-b09a-f9670f828ea9]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [003c1d42-e1c7-11e6-8724-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:30 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/poolusagemetrics?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#poolusagemetrics\"\
        ,\"value\":[\r\n    {\r\n      \"poolId\":\"luxblend_pool_2016-12-11-20-17-19-535237\"\
        ,\"startTime\":\"2017-01-23T17:00:00Z\",\"endTime\":\"2017-01-23T17:30:00Z\"\
        ,\"vmSize\":\"standard_nc24\",\"totalCoreHours\":6.9306946060000012,\"dataIngressGiB\"\
        :0.0,\"dataEgressGiB\":0.0\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:29 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [3d991166-4591-4745-95fe-0db8bd03ba2c]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [00e818fe-e1c7-11e6-b6e7-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:31 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-json?timeout=30&$select=startTask&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"runElevated\"\
        :false,\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:30 GMT']
      ETag: ['0x8D443EADD4E4364']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c0b69132-5a22-4498-8f5b-9250d95e0469]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"commandLine": "new_value"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['43']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [014de2d0-e1c7-11e6-a10d-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:31 GMT']
    method: PATCH
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-json?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://test1.westus.batch.azure.com/pools/azure-cli-test-json']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:31 GMT']
      ETag: ['0x8D443EAE56FF009']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a2619bb4-d5aa-4919-a0b1-7fa722aedea6]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [01dbc5a2-e1c7-11e6-8dde-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:32 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-json?timeout=30&$select=startTask&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"startTask\":{\r\n    \"commandLine\":\"new_value\",\"runElevated\":false,\"\
        maxTaskRetryCount\":0,\"waitForSuccess\":false\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:32 GMT']
      ETag: ['0x8D443EAE56FF009']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c51f4e38-b5bb-406d-9e0a-6a6b714cab0b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [02793410-e1c7-11e6-8485-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:33 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/nodeagentskus?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#nodeagentskus\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"batch.node.centos 7\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"OpenLogic\",\"offer\":\"CentOS\"\
        ,\"sku\":\"7.0\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"OpenLogic\",\"offer\":\"CentOS-HPC\",\"sku\":\"7.1\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"Oracle\",\"offer\":\"Oracle-Linux\"\
        ,\"sku\":\"7.2\",\"version\":\"latest\"\r\n        },{\r\n          \"publisher\"\
        :\"Oracle\",\"offer\":\"Oracle-Linux\",\"sku\":\"7.0\",\"version\":\"latest\"\
        \r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"offer\":\"\
        linux-data-science-vm\",\"sku\":\"linuxdsvm\",\"version\":\"latest\"\r\n \
        \       }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.debian\
        \ 8\",\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\"\
        :\"Credativ\",\"offer\":\"Debian\",\"sku\":\"8\",\"version\":\"latest\"\r\n\
        \        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.opensuse\
        \ 13.2\",\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\"\
        :\"SUSE\",\"offer\":\"openSUSE\",\"sku\":\"13.2\",\"version\":\"latest\"\r\
        \n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"id\":\"\
        batch.node.opensuse 42.1\",\"verifiedImageReferences\":[\r\n        {\r\n\
        \          \"publisher\":\"SUSE\",\"offer\":\"openSUSE-Leap\",\"sku\":\"42.1\"\
        ,\"version\":\"latest\"\r\n        },{\r\n          \"publisher\":\"SUSE\"\
        ,\"offer\":\"SLES\",\"sku\":\"12-SP1\",\"version\":\"latest\"\r\n        },{\r\
        \n          \"publisher\":\"SUSE\",\"offer\":\"SLES-HPC\",\"sku\":\"12-SP1\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"id\":\"batch.node.ubuntu 14.04\",\"verifiedImageReferences\"\
        :[\r\n        {\r\n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\"\
        ,\"sku\":\"14.04.5-LTS\",\"version\":\"latest\"\r\n        }\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"id\":\"batch.node.ubuntu 16.04\"\
        ,\"verifiedImageReferences\":[\r\n        {\r\n          \"publisher\":\"\
        Canonical\",\"offer\":\"UbuntuServer\",\"sku\":\"16.04.0-LTS\",\"version\"\
        :\"latest\"\r\n        }\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n  \
        \    \"id\":\"batch.node.windows amd64\",\"verifiedImageReferences\":[\r\n\
        \        {\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-R2-Datacenter\",\"version\":\"latest\"\r\
        \n        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2012-Datacenter\",\"version\":\"latest\"\r\n\
        \        },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2008-R2-SP1\",\"version\":\"latest\"\r\n    \
        \    },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\":\"\
        WindowsServer\",\"sku\":\"2016-Datacenter\",\"version\":\"latest\"\r\n   \
        \     },{\r\n          \"publisher\":\"MicrosoftWindowsServer\",\"offer\"\
        :\"WindowsServer\",\"sku\":\"2016-Datacenter-with-Containers\",\"version\"\
        :\"latest\"\r\n        },{\r\n          \"publisher\":\"microsoft-ads\",\"\
        offer\":\"standard-data-science-vm\",\"sku\":\"standard-data-science-vm\"\
        ,\"version\":\"latest\"\r\n        }\r\n      ],\"osType\":\"windows\"\r\n\
        \    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:33 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [47181dfd-d09c-45b0-924a-4e375e419a1e]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [02e5bde6-e1c7-11e6-85a4-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:34 GMT']
    method: DELETE
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:34 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [c72cd167-87b9-437b-8002-81f13b09c4cc]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [037344ac-e1c7-11e6-b19e-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:35 GMT']
    method: GET
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-iaas?timeout=30&$select=state&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"state\":\"deleting\"\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:34 GMT']
      ETag: ['0x8D443EAE70326F6']
      Last-Modified: ['Mon, 23 Jan 2017 23:52:34 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0f0a563f-eaf7-4987-b2bf-eb0cb55292a9]
    status: {code: 200, message: OK}
- request:
    body: '{"vmSize": "small", "applicationPackageReferences": [{"applicationId":
      "does-not-exist"}], "cloudServiceConfiguration": {"osFamily": "4"}, "id": "app_package_test"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['164']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [03e8709a-e1c7-11e6-a409-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:36 GMT']
    method: POST
    uri: https://test1.westus.batch.azure.com/pools?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidApplicationPackageReferences\",\"message\":{\r\n    \"\
        lang\":\"en-US\",\"value\":\"One or more of the specified application package\
        \ references are invalid.\\nRequestId:9232316a-a0cf-4f04-b30a-3acf5789b2f1\\\
        nTime:2017-01-23T23:52:36.1309218Z\"\r\n  },\"values\":[\r\n    {\r\n    \
        \  \"key\":\"does-not-exist\",\"value\":\"The specified application package\
        \ does not exist.\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Length: ['521']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:35 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [9232316a-a0cf-4f04-b30a-3acf5789b2f1]
    status: {code: 409, message: One or more of the specified application package
        references are invalid.}
- request:
    body: '{"applicationPackageReferences": [{"applicationId": "does-not-exist"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['71']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.4
          msrest_azure/0.4.6 batchserviceclient/1.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [046ae30a-e1c7-11e6-99a4-54ee750f2fc7]
      ocp-date: ['Mon, 23 Jan 2017 23:52:37 GMT']
    method: PATCH
    uri: https://test1.westus.batch.azure.com/pools/azure-cli-test-paas?timeout=30&api-version=2016-07-01.3.1
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://test1.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidApplicationPackageReferences\",\"message\":{\r\n    \"\
        lang\":\"en-US\",\"value\":\"One or more of the specified application package\
        \ references are invalid.\\nRequestId:e3baa04b-f7f7-453b-9439-8002316f39f0\\\
        nTime:2017-01-23T23:52:37.0798071Z\"\r\n  },\"values\":[\r\n    {\r\n    \
        \  \"key\":\"does-not-exist\",\"value\":\"The specified application package\
        \ does not exist.\"\r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Length: ['521']
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 23 Jan 2017 23:52:36 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      X-Content-Type-Options: [nosniff]
      request-id: [e3baa04b-f7f7-453b-9439-8002316f39f0]
    status: {code: 409, message: One or more of the specified application package
        references are invalid.}
version: 1
