interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2018-08-09T00:09:44Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-08-09T00:09:44Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:09:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"name": "iot000003"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['32']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2018-04-01
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:09:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-08-09T00:09:44Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:09:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 2}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"clitest.rg000001","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfOWJkNThkNDctMzA1Zi00YjdmLTgxNTEtZDA0ZjY5MWIzMTc3?api-version=2018-04-01&operationSource=os_ih&asyncinfo']
      cache-control: [no-cache]
      content-length: ['934']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:09:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfOWJkNThkNDctMzA1Zi00YjdmLTgxNTEtZDA0ZjY5MWIzMTc3?api-version=2018-04-01&operationSource=os_ih&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:10:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfOWJkNThkNDctMzA1Zi00YjdmLTgxNTEtZDA0ZjY5MWIzMTc3?api-version=2018-04-01&operationSource=os_ih&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:10:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfOWJkNThkNDctMzA1Zi00YjdmLTgxNTEtZDA0ZjY5MWIzMTc3?api-version=2018-04-01&operationSource=os_ih&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:11:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfOWJkNThkNDctMzA1Zi00YjdmLTgxNTEtZDA0ZjY5MWIzMTc3?api-version=2018-04-01&operationSource=os_ih&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:11:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"clitest.rg000001","etag":"AAAAAAJ67Vc=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1989']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:11:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"name": "dps000002"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['32']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2018-01-22
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:11:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-08-09T00:09:44Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:11:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {}, "sku": {"name": "S1", "capacity":
      1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['78']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZmJlNDVlODAtNTQ4NC00ZDczLTg2Y2ItMDhjMTRkY2ZlMWVl?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['640']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:11:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZmJlNDVlODAtNTQ4NC00ZDczLTg2Y2ItMDhjMTRkY2ZlMWVl?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:12:26 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWJ0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['800']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:12:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"etag":"AAAAAAAyWJ0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['812']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:12:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWJ0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['800']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:12:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWJ0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['800']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:12:29 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "tags": {}, "etag": "AAAAAAAyWJ0=", "properties":
      {"state": "Active", "iotHubs": [], "allocationPolicy": "GeoLatency"}, "sku":
      {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      Content-Length: ['180']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWJ0=","name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZTlmMTc2NzQtZTZiZS00NDVhLWIwMjEtMWJhNjMxYmVmMmM4?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['682']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:12:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZTlmMTc2NzQtZTZiZS00NDVhLWIwMjEtMWJhNjMxYmVmMmM4?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWKk=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWKk=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWKk=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=", "secondaryKey":
      "ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}, {"keyName": "policy000004", "rights": "EnrollmentRead"}]},
      "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['443']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentRead"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZWI1MGVlZjktOTBmZC00MWY3LTk0NzUtMjJiYTdjYzI4MzZh?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1087']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZWI1MGVlZjktOTBmZC00MWY3LTk0NzUtMjJiYTdjYzI4MzZh?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000004/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentRead"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['182']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000004/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentRead"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['182']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:40 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:40 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWNA=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=", "secondaryKey":
      "ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}, {"keyName": "policy000004", "primaryKey": "QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=",
      "secondaryKey": "FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=", "rights": "EnrollmentWrite"}]},
      "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['570']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZjQ5ODNkMDQtZTBjZi00ZDkyLTk3ZTYtY2VjN2IwMWVmZjZh?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1088']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:13:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZjQ5ODNkMDQtZTBjZi00ZDkyLTk3ZTYtY2VjN2IwMWVmZjZh?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWOU=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWOU=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000004/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentWrite"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['183']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWOU=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"QuvaGfRRClPy2OKG5J6srWSX4VIyK1Bj3iTREInKgv4=","secondaryKey":"FzhvyTk15LWaA9sUkxV8v4Tksu1Gdg9zjSEZZFSDrgo=","rights":"EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['413']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWOU=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=", "secondaryKey":
      "ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}]}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['378']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNmFjMjFmMmMtNTg4Yy00MDlhLTgwNjYtMGJjNjA4YzUwYWZl?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['904']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:18 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNmFjMjFmMmMtNTg4Yy00MDlhLTgwNjYtMGJjNjA4YzUwYWZl?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWPs=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWPs=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"j63ZCTbj9t15HHaRJzOgRqLJcZC33d6L9/rywyA06IE=","secondaryKey":"ROOzetK88Xd+/v+dWOrcysPPuxm0VQHKBuEPWAh1+EM=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2018-01-22
  response:
    body: {string: '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIS39EaTb2gbcwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4MB4XDTE4MDgwODAwMTQ1MloXDTE4\r\nMDgxMjAwMTQ1MlowIzEhMB8GA1UEAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA0vker7zmJFmpX+iymlqro\r\nl7hyQQWcDxi5D5T0GZNQ3ubsaU4yG0LbEnkETQ/7irTbxHtWi0q1KTiUv8n1syXH\r\nc/xiZ2zOmPSw8XBpxS9j2ksKpprBiUBNliCmWbvtDnUtqQeWNEH3zUU1eZDpHM3f\r\nyk88lXH+Li/XDuMbHBrzeG5fS0y/Nli+8/Ojrgy80ojD5nZ1aFmM8h4/Kghgw1fa\r\nVrfd+oO7HNikcPqKgPR82ufuoJf3xramFfClcdUTGOnf/pg2NcpeN0aXzqh3qZn6\r\noP69oIgl6G38aErrDxlX8ilIjs32nRmuxFF8+9oVgbzcX7VBOUTJE6HipCOPzrDb\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAa8OYS1etWnGGuwcVDnGlfh53IgdtKkRXU0uWDvZa1\r\n0nBQ2xnjXAJVUFD3X2TOVQoljcb5qcnXhzLhIudPr+3R155os5eKiyuP/p+d7+c+\r\nZkCj4G8QhjqO7/XOyAcTASPyqIO11hITlCinQ8e9rWK5l+sNNHMuGAKRDtSuzFVt\r\ntQBuhPbmLgDC1iZ88U5bSJ1t8+Vbcjhy9GyWVkMU1zk2E/yaImPVHq707oTMKHbr\r\nqFuoWN4c+F33m60ammw+LoBmD9EqnoxCY58UAd+MHrJ85lWGZ7mWyxyqC32aSKRf\r\nyIAynnVT1swXoZfYDCnAN4ktTDLke+Rnd+/G7MXmiKSM\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate create]
      Connection: [keep-alive]
      Content-Length: ['1215']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Sun, 12
        Aug 2018 00:14:52 GMT","thumbprint":"78E04CFB43338C03CA5046FE482868E4781D1862","isVerified":false,"created":"Thu,
        09 Aug 2018 00:14:53 GMT","updated":"Thu, 09 Aug 2018 00:14:53 GMT","certificate":"-----BEGIN
        CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIS39EaTb2gbcwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4MB4XDTE4MDgwODAwMTQ1MloXDTE4\r\nMDgxMjAwMTQ1MlowIzEhMB8GA1UEAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA0vker7zmJFmpX+iymlqro\r\nl7hyQQWcDxi5D5T0GZNQ3ubsaU4yG0LbEnkETQ/7irTbxHtWi0q1KTiUv8n1syXH\r\nc/xiZ2zOmPSw8XBpxS9j2ksKpprBiUBNliCmWbvtDnUtqQeWNEH3zUU1eZDpHM3f\r\nyk88lXH+Li/XDuMbHBrzeG5fS0y/Nli+8/Ojrgy80ojD5nZ1aFmM8h4/Kghgw1fa\r\nVrfd+oO7HNikcPqKgPR82ufuoJf3xramFfClcdUTGOnf/pg2NcpeN0aXzqh3qZn6\r\noP69oIgl6G38aErrDxlX8ilIjs32nRmuxFF8+9oVgbzcX7VBOUTJE6HipCOPzrDb\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAa8OYS1etWnGGuwcVDnGlfh53IgdtKkRXU0uWDvZa1\r\n0nBQ2xnjXAJVUFD3X2TOVQoljcb5qcnXhzLhIudPr+3R155os5eKiyuP/p+d7+c+\r\nZkCj4G8QhjqO7/XOyAcTASPyqIO11hITlCinQ8e9rWK5l+sNNHMuGAKRDtSuzFVt\r\ntQBuhPbmLgDC1iZ88U5bSJ1t8+Vbcjhy9GyWVkMU1zk2E/yaImPVHq707oTMKHbr\r\nqFuoWN4c+F33m60ammw+LoBmD9EqnoxCY58UAd+MHrJ85lWGZ7mWyxyqC32aSKRf\r\nyIAynnVT1swXoZfYDCnAN4ktTDLke+Rnd+/G7MXmiKSM\r\n-----END
        CERTIFICATE-----\r\n"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAAAyWQI="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1836']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"properties":{"subject":"CN=TESTCERT000006","expiry":"Sun,
        12 Aug 2018 00:14:52 GMT","thumbprint":"78E04CFB43338C03CA5046FE482868E4781D1862","isVerified":false,"created":"Thu,
        09 Aug 2018 00:14:53 GMT","updated":"Thu, 09 Aug 2018 00:14:53 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAAAyWQI="}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['654']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:54 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Sun, 12
        Aug 2018 00:14:52 GMT","thumbprint":"78E04CFB43338C03CA5046FE482868E4781D1862","isVerified":false,"created":"Thu,
        09 Aug 2018 00:14:53 GMT","updated":"Thu, 09 Aug 2018 00:14:53 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAAAyWQI="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['642']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:54 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2018-01-22
  response:
    body: {string: '{"value":[{"properties":{"subject":"CN=TESTCERT000006","expiry":"Sun,
        12 Aug 2018 00:14:52 GMT","thumbprint":"78E04CFB43338C03CA5046FE482868E4781D1862","isVerified":false,"created":"Thu,
        09 Aug 2018 00:14:53 GMT","updated":"Thu, 09 Aug 2018 00:14:53 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAAAyWQI="}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['654']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIS39EaTb2gbcwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4MB4XDTE4MDgwODAwMTQ1MloXDTE4\r\nMDgxMjAwMTQ1MlowIzEhMB8GA1UEAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA0vker7zmJFmpX+iymlqro\r\nl7hyQQWcDxi5D5T0GZNQ3ubsaU4yG0LbEnkETQ/7irTbxHtWi0q1KTiUv8n1syXH\r\nc/xiZ2zOmPSw8XBpxS9j2ksKpprBiUBNliCmWbvtDnUtqQeWNEH3zUU1eZDpHM3f\r\nyk88lXH+Li/XDuMbHBrzeG5fS0y/Nli+8/Ojrgy80ojD5nZ1aFmM8h4/Kghgw1fa\r\nVrfd+oO7HNikcPqKgPR82ufuoJf3xramFfClcdUTGOnf/pg2NcpeN0aXzqh3qZn6\r\noP69oIgl6G38aErrDxlX8ilIjs32nRmuxFF8+9oVgbzcX7VBOUTJE6HipCOPzrDb\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAa8OYS1etWnGGuwcVDnGlfh53IgdtKkRXU0uWDvZa1\r\n0nBQ2xnjXAJVUFD3X2TOVQoljcb5qcnXhzLhIudPr+3R155os5eKiyuP/p+d7+c+\r\nZkCj4G8QhjqO7/XOyAcTASPyqIO11hITlCinQ8e9rWK5l+sNNHMuGAKRDtSuzFVt\r\ntQBuhPbmLgDC1iZ88U5bSJ1t8+Vbcjhy9GyWVkMU1zk2E/yaImPVHq707oTMKHbr\r\nqFuoWN4c+F33m60ammw+LoBmD9EqnoxCY58UAd+MHrJ85lWGZ7mWyxyqC32aSKRf\r\nyIAynnVT1swXoZfYDCnAN4ktTDLke+Rnd+/G7MXmiKSM\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate update]
      Connection: [keep-alive]
      Content-Length: ['1215']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAyWQI=]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Sun, 12
        Aug 2018 00:14:52 GMT","thumbprint":"78E04CFB43338C03CA5046FE482868E4781D1862","isVerified":false,"created":"Thu,
        09 Aug 2018 00:14:53 GMT","updated":"Thu, 09 Aug 2018 00:14:56 GMT","certificate":"-----BEGIN
        CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIS39EaTb2gbcwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4MB4XDTE4MDgwODAwMTQ1MloXDTE4\r\nMDgxMjAwMTQ1MlowIzEhMB8GA1UEAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA0vker7zmJFmpX+iymlqro\r\nl7hyQQWcDxi5D5T0GZNQ3ubsaU4yG0LbEnkETQ/7irTbxHtWi0q1KTiUv8n1syXH\r\nc/xiZ2zOmPSw8XBpxS9j2ksKpprBiUBNliCmWbvtDnUtqQeWNEH3zUU1eZDpHM3f\r\nyk88lXH+Li/XDuMbHBrzeG5fS0y/Nli+8/Ojrgy80ojD5nZ1aFmM8h4/Kghgw1fa\r\nVrfd+oO7HNikcPqKgPR82ufuoJf3xramFfClcdUTGOnf/pg2NcpeN0aXzqh3qZn6\r\noP69oIgl6G38aErrDxlX8ilIjs32nRmuxFF8+9oVgbzcX7VBOUTJE6HipCOPzrDb\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAa8OYS1etWnGGuwcVDnGlfh53IgdtKkRXU0uWDvZa1\r\n0nBQ2xnjXAJVUFD3X2TOVQoljcb5qcnXhzLhIudPr+3R155os5eKiyuP/p+d7+c+\r\nZkCj4G8QhjqO7/XOyAcTASPyqIO11hITlCinQ8e9rWK5l+sNNHMuGAKRDtSuzFVt\r\ntQBuhPbmLgDC1iZ88U5bSJ1t8+Vbcjhy9GyWVkMU1zk2E/yaImPVHq707oTMKHbr\r\nqFuoWN4c+F33m60ammw+LoBmD9EqnoxCY58UAd+MHrJ85lWGZ7mWyxyqC32aSKRf\r\nyIAynnVT1swXoZfYDCnAN4ktTDLke+Rnd+/G7MXmiKSM\r\n-----END
        CERTIFICATE-----\r\n"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAAAyWQg="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1836']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate generate-verification-code]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAyWQg=]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005/generateVerificationCode?api-version=2018-01-22
  response:
    body: {string: '{"properties":{"verificationCode":"DF730263AD27528994A628CEFF069341A80C34BCD705E350","subject":"CN=TESTCERT000006","expiry":"Sun,
        12 Aug 2018 00:14:52 GMT","thumbprint":"78E04CFB43338C03CA5046FE482868E4781D1862","isVerified":false,"created":"Thu,
        09 Aug 2018 00:14:53 GMT","updated":"Thu, 09 Aug 2018 00:14:57 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAAAyWQk="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['712']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIIYoF8kk7rz4wwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlQydjZ4N2F5aDZzbmVqY2t4MB4XDTE4MDgwOTAwMTQ1OFoXDTE4\r\nMDgxMjAwMTQ1OFowOzE5MDcGA1UEAwwwREY3MzAyNjNBRDI3NTI4OTk0QTYyOENF\r\nRkYwNjkzNDFBODBDMzRCQ0Q3MDVFMzUwMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQA3SSNqGpqD0CzTTAAkP576q2PCP3+eRE9Z4KPCJ/bmuksEE7CaJtq6\r\niQ3EOLVTy86N4rpZi1eBdbVi8pO94eIbLZuQ3cFT/y5BwCvO2zv6EnG9e5KjkDhX\r\nl3IyupwNS+wqFnfJ0Kw69Yys/lwpArRlBIE3RO9zZE3Y7eTn7GTZMzg1crvk7kcF\r\n3zG5YFSHcenwcAfw1BOkZZeTfI9m0mEHE/fJbunGv0ztiWRhr/BHZ+3d6QF0m+wt\r\nDfilzvhmLre0GkWVNZ9mvQ1VFcnxVxjwPN2Zysw+YW/yJJYYuyUycVUu5obXy7EO\r\ny4a0LuLR6EfJkRr9hl3O2/cStwxzHxtHAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQACh7O4aHt0ApB8\r\nx8+My7eiDAAMEjvBLjmzJzY0ISMuI6/RI/F3O1baHdshevi+hrKa86WuHDzmnaoH\r\nkozpaTjmHFWc30UdSfE0KPy2aWuAk1GMg2hN4xphNzng8OVdVyeAMPAntWOttAvq\r\nJCTDStDMUyhsiPGhZA/G78LKIOwThDhsNprFvZN1p98c7HBRZDF6VNqHfdbwpvn0\r\nk6pjeUSnAbXPM55oD7spDEZjmoeSd7fGygAuO8MnU0zgmLaV1prIPh7sJAQL0nmS\r\nq5sdtH+5qFEIRz50A6X0uFtgcgw/BumtdMC4VPwvuiB2QgDpAbSK9S4sirzTqe0H\r\n3do+MEVt\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate verify]
      Connection: [keep-alive]
      Content-Length: ['1179']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAyWQk=]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005/verify?api-version=2018-01-22
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Sun, 12
        Aug 2018 00:14:52 GMT","thumbprint":"78E04CFB43338C03CA5046FE482868E4781D1862","isVerified":true,"created":"Thu,
        09 Aug 2018 00:14:53 GMT","updated":"Thu, 09 Aug 2018 00:14:58 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"AAAAAAAyWQo="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['641']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:14:58 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAyWQo=]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2018-01-22
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Thu, 09 Aug 2018 00:14:59 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2018-04-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PartitionHub","name":"PartitionHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAIPKsA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PartitionHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":32,"partitionIds":["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],"path":"partitionhub","endpoint":"sb://iothub-ns-partitionh-386561-f8fc5fd1fc.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":32,"partitionIds":["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],"path":"partitionhub-operationmonitoring","endpoint":"sb://iothub-ns-partitionh-386561-f8fc5fd1fc.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=messagestore;AccountKey=****","containerName":"random"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAJRZio=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-448586-607d3f8982.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-448586-607d3f8982.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=mlexpacct;AccountKey=****","containerName":"training","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"trainingep","id":"1f0d36d3-0377-4ebe-8728-f92d5728671e","subscriptionId":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourceGroup":"IoT"}]},"routes":[{"name":"fortraining","source":"DeviceMessages","condition":"trainingMode
        = ''cloud''","endpointNames":["trainingep"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunFreeHub","name":"PaymaunFreeHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAHqhzI=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunFreeHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunfreehub","endpoint":"sb://iothub-ns-paymaunfre-466490-ad85138f89.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunfreehub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunfre-466490-ad85138f89.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"B1","tier":"Basic","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunTest","name":"PaymaunTest","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAINBiI=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunTest.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymauntest","endpoint":"sb://iothub-ns-paymauntes-469905-0ac7d5b917.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymauntest-operationmonitoring","endpoint":"sb://iothub-ns-paymauntes-469905-0ac7d5b917.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"clitest.rg000001","etag":"AAAAAAJ67Vc=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['10152']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/listkeys?api-version=2018-04-01
  response:
    body: {string: '{"value":[{"keyName":"iothubowner","primaryKey":"0cSWbqwh8MzfqiQT2qTd4ohVx2j+5H7I+/HAKRprk7g=","secondaryKey":"blX+ZqMncn7lUwjfSNaIJiX+R2TZvD7JYTYpYQm0+hw=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"a8eqEg4d9wPg9mODixyEzrziwhdmMfydx9gVxexoQ2I=","secondaryKey":"sml5qhMJbn/cc+aiorU9bOdpczaxbcmC8pVazVdxfho=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"cgp1ze/igAlV1oJCMCTFofN/3T6oPIeI9/ZWRko73c8=","secondaryKey":"OWJktrXi3k9zHjAYD3OiWzW6EGRQjlbAWCaD3p1tE4k=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"BbtRDhabhOLFspViIa1R0vnCtrVvp0aGb6J/PgSgYE4=","secondaryKey":"Nb0erdCuzL5yq198M7r/6JYVbkMSU+ZkAdY9tmfWstA=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"ZGeu6Q9DhsGjsFboLGj0b4npmKJz7kah5ovmr/9r5CA=","secondaryKey":"8Vfg7iZgIqDa/nfpVIWFnKqLixr69uauKSo/w9zD3A4=","rights":"RegistryWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['905']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "tags": {}, "etag": "AAAAAAJ67Vc=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "0cSWbqwh8MzfqiQT2qTd4ohVx2j+5H7I+/HAKRprk7g=",
      "secondaryKey": "blX+ZqMncn7lUwjfSNaIJiX+R2TZvD7JYTYpYQm0+hw=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "a8eqEg4d9wPg9mODixyEzrziwhdmMfydx9gVxexoQ2I=",
      "secondaryKey": "sml5qhMJbn/cc+aiorU9bOdpczaxbcmC8pVazVdxfho=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "cgp1ze/igAlV1oJCMCTFofN/3T6oPIeI9/ZWRko73c8=",
      "secondaryKey": "OWJktrXi3k9zHjAYD3OiWzW6EGRQjlbAWCaD3p1tE4k=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "BbtRDhabhOLFspViIa1R0vnCtrVvp0aGb6J/PgSgYE4=",
      "secondaryKey": "Nb0erdCuzL5yq198M7r/6JYVbkMSU+ZkAdY9tmfWstA=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "ZGeu6Q9DhsGjsFboLGj0b4npmKJz7kah5ovmr/9r5CA=",
      "secondaryKey": "8Vfg7iZgIqDa/nfpVIWFnKqLixr69uauKSo/w9zD3A4=", "rights": "RegistryWrite"},
      {"keyName": "key000007", "rights": "RegistryWrite"}], "ipFilterRules": [], "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 2}, "operationsMonitoringEvents":
      {"retentionTimeInDays": 1, "partitionCount": 2}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName":
      ""}}, "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601":
      "PT1M", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT1M", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "operationsMonitoringProperties": {"events": {"None": "None", "Connections":
      "None", "DeviceTelemetry": "None", "C2DCommands": "None", "DeviceIdentityOperations":
      "None", "FileUploadOperations": "None", "Routes": "None"}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Length: ['2276']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['{''IF-MATCH'': ''AAAAAAJ67Vc=''}']
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"clitest.rg000001","etag":"AAAAAAJ67Vc=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"0cSWbqwh8MzfqiQT2qTd4ohVx2j+5H7I+/HAKRprk7g=","secondaryKey":"blX+ZqMncn7lUwjfSNaIJiX+R2TZvD7JYTYpYQm0+hw=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"a8eqEg4d9wPg9mODixyEzrziwhdmMfydx9gVxexoQ2I=","secondaryKey":"sml5qhMJbn/cc+aiorU9bOdpczaxbcmC8pVazVdxfho=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"cgp1ze/igAlV1oJCMCTFofN/3T6oPIeI9/ZWRko73c8=","secondaryKey":"OWJktrXi3k9zHjAYD3OiWzW6EGRQjlbAWCaD3p1tE4k=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"BbtRDhabhOLFspViIa1R0vnCtrVvp0aGb6J/PgSgYE4=","secondaryKey":"Nb0erdCuzL5yq198M7r/6JYVbkMSU+ZkAdY9tmfWstA=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"ZGeu6Q9DhsGjsFboLGj0b4npmKJz7kah5ovmr/9r5CA=","secondaryKey":"8Vfg7iZgIqDa/nfpVIWFnKqLixr69uauKSo/w9zD3A4=","rights":"RegistryWrite"},{"keyName":"key000007","primaryKey":"of9HjFVymgsb4DUSZz7sD4nkS0kd+LufWax5z96x4Mk=","secondaryKey":"0wV73pIeZEAOjCeR+Y5FQR2wVyXliD4/guoxPiHkc7c=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfYmM1ZTk3NDMtMWM2Ni00YmJiLThlNjMtYWMwODQ5MDkwNDQ3?api-version=2018-04-01&operationSource=os_ih&asyncinfo']
      cache-control: [no-cache]
      content-length: ['2729']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfYmM1ZTk3NDMtMWM2Ni00YmJiLThlNjMtYWMwODQ5MDkwNDQ3?api-version=2018-04-01&operationSource=os_ih&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"clitest.rg000001","etag":"AAAAAAJ67nA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1989']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:34 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub show-connection-string]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/IotHubKeys/iothubowner/listkeys?api-version=2018-04-01
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"0cSWbqwh8MzfqiQT2qTd4ohVx2j+5H7I+/HAKRprk7g=","secondaryKey":"blX+ZqMncn7lUwjfSNaIJiX+R2TZvD7JYTYpYQm0+hw=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub show-connection-string]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2018-04-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PartitionHub","name":"PartitionHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAIPKsA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PartitionHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":32,"partitionIds":["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],"path":"partitionhub","endpoint":"sb://iothub-ns-partitionh-386561-f8fc5fd1fc.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":32,"partitionIds":["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],"path":"partitionhub-operationmonitoring","endpoint":"sb://iothub-ns-partitionh-386561-f8fc5fd1fc.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=messagestore;AccountKey=****","containerName":"random"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAJRZio=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-448586-607d3f8982.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-448586-607d3f8982.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=mlexpacct;AccountKey=****","containerName":"training","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"trainingep","id":"1f0d36d3-0377-4ebe-8728-f92d5728671e","subscriptionId":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourceGroup":"IoT"}]},"routes":[{"name":"fortraining","source":"DeviceMessages","condition":"trainingMode
        = ''cloud''","endpointNames":["trainingep"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunFreeHub","name":"PaymaunFreeHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAHqhzI=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunFreeHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunfreehub","endpoint":"sb://iothub-ns-paymaunfre-466490-ad85138f89.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunfreehub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunfre-466490-ad85138f89.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"B1","tier":"Basic","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunTest","name":"PaymaunTest","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAINBiI=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunTest.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymauntest","endpoint":"sb://iothub-ns-paymauntes-469905-0ac7d5b917.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymauntest-operationmonitoring","endpoint":"sb://iothub-ns-paymauntes-469905-0ac7d5b917.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"clitest.rg000001","etag":"AAAAAAJ67nA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotumbognu-646517-c331fe1e9b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['10152']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWPs=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWPs=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "properties": {"iotHubs": [{"connectionString":
      "HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=0cSWbqwh8MzfqiQT2qTd4ohVx2j+5H7I+/HAKRprk7g=",
      "location": "westus"}], "allocationPolicy": "GeoLatency"}, "sku": {"name": "S1",
      "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      Content-Length: ['311']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=0cSWbqwh8MzfqiQT2qTd4ohVx2j+5H7I+/HAKRprk7g=","location":"westus"}],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNjQwNWUzOTctNDQ5NS00ZTQzLWFlZTAtYTgzZDE4NjllNGY3?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['891']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:15:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNjQwNWUzOTctNDQ5NS00ZTQzLWFlZTAtYTgzZDE4NjllNGY3?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWR0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['995']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWR0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['995']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWR0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['995']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWR0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['995']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWR0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['995']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWR0=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['995']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "properties": {"iotHubs": [{"applyAllocationPolicy":
      true, "allocationWeight": 10, "connectionString": "HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****",
      "location": "westus"}], "allocationPolicy": "GeoLatency"}, "sku": {"name": "S1",
      "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      Content-Length: ['326']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmNmNGM3ZDQtNmViZS00OGZjLWIzOWQtZTVlMGMzZDkxYTI5?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['902']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmNmNGM3ZDQtNmViZS00OGZjLWIzOWQtZTVlMGMzZDkxYTI5?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWSY=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1046']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWSY=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1046']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWSY=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1046']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWSY=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1046']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWSY=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1046']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency"}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      Content-Length: ['125']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfM2ZlNWQxNTUtYTZmYS00ZWQ1LWJmNjgtY2NkM2FhOTQzMjYw?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['660']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:16:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfM2ZlNWQxNTUtYTZmYS00ZWQ1LWJmNjgtY2NkM2FhOTQzMjYw?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:17:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWTI=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:17:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: '{"etag":"AAAAAAAyWTI=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00023376"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:17:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2018-01-22
  response:
    body: {string: 'null'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmNmYjA1OWItNDBkYS00Yzg0LWE0OGQtMmNlOTA0N2IzYmMz?api-version=2018-01-22&asyncinfo']
      cache-control: [no-cache]
      content-length: ['4']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:17:19 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmNmYjA1OWItNDBkYS00Yzg0LWE0OGQtMmNlOTA0N2IzYmMz?api-version=2018-01-22']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 azure-mgmt-iothubprovisioningservices/0.2.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmNmYjA1OWItNDBkYS00Yzg0LWE0OGQtMmNlOTA0N2IzYmMz?api-version=2018-01-22&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Thu, 09 Aug 2018 00:17:34 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.17134-SP0) requests/2.19.1 msrest/0.5.4
          msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Thu, 09 Aug 2018 00:17:36 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdKR1lGN083QzJTVTQzT0c1S01KR09JSFJGQUI3NUY3Uks0WHw0RERBREU2QUIxQjc0REM0LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
