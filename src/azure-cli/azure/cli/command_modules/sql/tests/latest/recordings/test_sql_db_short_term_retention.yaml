interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:16 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=AjzQ96-IcMpJmpN7VEL0aLs; expires=Sat, 14-Nov-2020 00:28:17 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZI9ZF_enuyrM8CmNSYgGH01u__QnofLJeTCe6glUmyYVqkpPvyi7OtajXyGbozbkmacbNHVS3bDU_Xl2OTUUNzhwSdajvr-eDjQ3Q5pl9wpkzuVZ8hriqz8VytCGUZNQMnPWws0MadKb_qK4e7XMe_MD7V6IQkKXz8ikawRSwO7TggAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
      accept-language:
      - en-US
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"properties":{"retentionDays":7,"diffBackupIntervalInHours":12},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default","name":"default","type":"Microsoft.Sql/servers/databases/backupShortTermRetentionPolicies"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '363'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:18 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=ApHr7-ZArN5EisHnwBKN_sc; expires=Sat, 14-Nov-2020 00:28:19 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZI-UBteZme9Xws1auCUXyxnDtTwNQWj9wIWUCcoRyhBcyG3UFNa55p6ieLz9dMM160EwW3RwJdKUiUKaPhb_MOGJclMIHlXpI2QYO5kdpJ627mak-fiomvRqQDyrIAvnS9LKMsZ6BB_d7T984e7s8iri2C7bHqVnEKnZ_ICALXdOcgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - WUS2 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"retentionDays": 6, "diffBackupIntervalInHours": 24}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      Content-Length:
      - '69'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
      accept-language:
      - en-US
    method: PUT
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"operation":"UpdateLogicalDatabase","startTime":"2020-10-15T00:28:20.96Z"}'
    headers:
      azure-asyncoperation:
      - https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyAzureAsyncOperation/1e5628d6-2162-41e4-a6d9-a3898c317445?api-version=2020-02-02-preview
      cache-control:
      - no-cache
      content-length:
      - '75'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:21 GMT
      expires:
      - '-1'
      location:
      - https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyOperationResults/1e5628d6-2162-41e4-a6d9-a3898c317445?api-version=2020-02-02-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:36 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=AvFk-Msexv9EnRxdKOFWrQs; expires=Sat, 14-Nov-2020 00:28:36 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZIKlm4c4Ir0gxP9928VGh4R8hC8LPozkaclasM_YbeTWGyAaIFyN91069VsHMVL5xY5XtDPoFgKjTHZq5C0neLnTEmROf2LZHhVRWT2KtK9rMZK3aTesb6e0lL4p-4TVNPTeIdmhlG_S1dFZv-rKzBvRzagfeLhj0ZhgadnMHaN6UgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - WUS2 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyAzureAsyncOperation/1e5628d6-2162-41e4-a6d9-a3898c317445?api-version=2020-02-02-preview
  response:
    body:
      string: '{"name":"1e5628d6-2162-41e4-a6d9-a3898c317445","status":"Succeeded","startTime":"2020-10-15T00:28:20.96Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:37 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=Av3uZt_dbIxFvfUM8THoIGY; expires=Sat, 14-Nov-2020 00:28:38 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZIsmCbxQp4pn73xmuR48dQ9aoW5byM_kUxusm9KkkQXPbMtcqZvqb-vQ7L_qUkFNFhUe902vLjDG23prnFlYOR1BkdMZgzl2wfLznhceFxlp4xHyUcJ0WaBqR9RGYD2qteNGFflm4k8_OW8ZHwgGlUHWnWR70j0MMWRPGZ6OblNR8gAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"properties":{"retentionDays":6,"diffBackupIntervalInHours":24},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default","name":"default","type":"Microsoft.Sql/servers/databases/backupShortTermRetentionPolicies"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '363'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:28:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
