interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-containerservice/11.2.0 Azure-SDK-For-Python AZURECLI/2.23.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/acscliapi8/providers/Microsoft.ContainerService/openShiftManagedClusters/clitestosa000001?api-version=2019-09-30-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.ContainerService/openShiftManagedClusters/clitestosa000001''
        under resource group ''acscliapi8'' was not found. For more details please
        go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '249'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 10 Jun 2021 08:30:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.23.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27https%3A%2F%2Fclitestosa000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 10 Jun 2021 08:30:57 GMT
      duration:
      - '428367'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 7V6TjhmQKDr0Se6Rz2TPz50W0QGXuJnZa6go3+a+D0o=
      ocp-aad-session-key:
      - akDLzJFPr9E13FQlJCytiY6fxYSnB-kPmt7xSKF6NSR94Dp4-x4YK0Xsd0m7r9BF00gRYAbFEDPLu1hVev_E8zjeyi987T4KE4CQ3QPi61LxA8jUK3T9GF9JD0ZuHbnMeipIkjA1Of1o5MqGdZ5r1Ff70MGVhibZ1NF8T9ETsX0.3ZHCQF7CQMuSUQ8cSZB5E4THKWZcRmDIDPrMu7Y9-40
      pragma:
      - no-cache
      request-id:
      - e04d5b1d-54f5-47d4-8a24-84fa4b239ff4
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "homepage": "https://clitestosa000001",
      "passwordCredentials": [{"startDate": "2021-06-10T08:30:57.846209Z", "endDate":
      "2022-06-10T08:30:57.846209Z", "keyId": "e779e06a-643e-4b3e-adf2-f12e5a070b36",
      "value": "ReplacedSPPassword123*"}], "requiredResourceAccess": [{"resourceAccess":
      [{"id": "311a71cc-e848-46a1-bdf8-97ff7156d8e6", "type": "Scope"}, {"id": "5778995a-e1bf-45b8-affa-663a9f3f4d04",
      "type": "Role"}], "resourceAppId": "00000002-0000-0000-c000-000000000000"}],
      "displayName": "clitestosa000001", "identifierUris": ["https://clitestosa000001"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.23.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "9803d8cd-8aa8-454a-be07-beb8f57788fa", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "1a9b46e1-538e-4044-860a-d124b7d05e47",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "clitestosa000001", "errorUrl": null, "groupMembershipClaims":
        null, "homepage": "https://clitestosa000001", "identifierUris": ["https://clitestosa000001"],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [], "knownClientApplications": [], "logoutUrl": null, "logo@odata.mediaEditLink":
        "directoryObjects/9803d8cd-8aa8-454a-be07-beb8f57788fa/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/9803d8cd-8aa8-454a-be07-beb8f57788fa/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access clitestosa000001 on behalf of the signed-in
        user.", "adminConsentDisplayName": "Access clitestosa000001", "id": "39413cb7-bbf5-4ddf-a592-586be7320572",
        "isEnabled": true, "type": "User", "userConsentDescription": "Allow the application
        to access clitestosa000001 on your behalf.", "userConsentDisplayName": "Access
        clitestosa000001", "value": "user_impersonation"}], "oauth2RequirePostResponse":
        false, "optionalClaims": null, "orgRestrictions": [], "parentalControlSettings":
        {"countriesBlockedForMinors": [], "legalAgeGroupRule": "Allow"}, "passwordCredentials":
        [{"customKeyIdentifier": null, "endDate": "2022-06-10T08:30:57.846209Z", "keyId":
        "e779e06a-643e-4b3e-adf2-f12e5a070b36", "startDate": "2021-06-10T08:30:57.846209Z",
        "value": "ReplacedSPPassword123*"}], "publicClient": null, "publisherDomain":
        "bhuvanitgmail.onmicrosoft.com", "recordConsentConditions": null, "replyUrls":
        [], "requiredResourceAccess": [{"resourceAppId": "00000002-0000-0000-c000-000000000000",
        "resourceAccess": [{"id": "311a71cc-e848-46a1-bdf8-97ff7156d8e6", "type":
        "Scope"}, {"id": "5778995a-e1bf-45b8-affa-663a9f3f4d04", "type": "Role"}]}],
        "samlMetadataUrl": null, "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId":
        null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2466'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 10 Jun 2021 08:30:57 GMT
      duration:
      - '2321717'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/9803d8cd-8aa8-454a-be07-beb8f57788fa/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - GNTE4u2S0l3nSMPMdd6BHsfvB/lZ8KfEGaVLwStX3uQ=
      ocp-aad-session-key:
      - 7DFZY-uMFir8KzScFlovreNWLI8aJB-27krB49OUdQ_Xcai3HCf0e_xNS4BQpG_ruIzIXoGzF-aiqBTzFoe-JtPQuUL_7HbY0b6f-sIn8o-0aJX0tGu3q7B63xK35-geR-FKKv1RaYbcp7fVP9qmfA_HX6rVM2LLYOgQ4W-Yz4k.2wlpYXjvJBenngHjJx5b5jDhHbGkuD-VcclJzEF5dVk
      pragma:
      - no-cache
      request-id:
      - ba5860ef-abea-4186-9c17-336042d28615
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"location": "WestUS2", "properties": {"openShiftVersion": "v3.11", "networkProfile":
      {"vnetCidr": "10.0.0.0/8"}, "routerProfiles": [{"name": "default"}], "masterPoolProfile":
      {"name": "master", "count": 3, "vmSize": "Standard_D4s_v3", "subnetCidr": "10.0.0.0/24",
      "osType": "Linux"}, "agentPoolProfiles": [{"name": "compute", "count": 1, "vmSize":
      "Standard_D4s_v3", "subnetCidr": "10.0.0.0/24", "osType": "Linux", "role": "compute"},
      {"name": "infra", "count": 3, "vmSize": "Standard_D4s_v3", "subnetCidr": "10.0.0.0/24",
      "osType": "Linux", "role": "infra"}], "authProfile": {"identityProviders": [{"name":
      "Azure AD", "provider": {"kind": "AADIdentityProvider", "clientId": "1a9b46e1-538e-4044-860a-d124b7d05e47",
      "secret": "a037d32fd1e004960993$", "tenantId": "657a2bb7-9a58-4be7-87f3-643bb3b7cbb5"}}]}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      Content-Length:
      - '808'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-containerservice/11.2.0 Azure-SDK-For-Python AZURECLI/2.23.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/acscliapi8/providers/Microsoft.ContainerService/openShiftManagedClusters/clitestosa000001?api-version=2019-09-30-preview
  response:
    body:
      string: "{\n  \"code\": \"CreatesNotAllowed\",\n  \"message\": \"Microsoft.ContainerService/openshiftManagedClusters
        is in the process of being deprecated. Please do all new creates on Microsoft.RedHatOpenshift/openShiftClusters\"\n
        }"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '214'
      content-type:
      - application/json
      date:
      - Thu, 10 Jun 2021 08:30:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
version: 1
