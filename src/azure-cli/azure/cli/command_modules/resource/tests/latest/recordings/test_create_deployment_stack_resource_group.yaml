interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ts create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --version --location --template-file --resource-group
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1?api-version=2021-05-01
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1''
        under resource group ''cli_test_deployment_stacks000001'' was not found. For
        more details please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '353'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:05:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ts create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --version --location --template-file --resource-group
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003?api-version=2021-05-01
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.Resources/templateSpecs/cli-test-template-spec000003''
        under resource group ''cli_test_deployment_stacks000001'' was not found. For
        more details please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '341'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:05:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: '{"location": "westus2", "tags": {}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ts create
      Connection:
      - keep-alive
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --version --location --template-file --resource-group
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"location\": \"westus2\",\r\n  \"tags\": {},\r\n  \"properties\":
        {},\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:05:58.1335606Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:05:58.1335606Z\"\r\n
        \ },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003\",\r\n
        \ \"type\": \"Microsoft.Resources/templateSpecs\",\r\n  \"name\": \"cli-test-template-spec000003\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '739'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:05:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: '{"location": "westus2", "tags": {}, "properties": {"linkedTemplates": [],
      "mainTemplate": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "parameters": {"foo": {"type": "string", "defaultValue":
      "foo", "metadata": {"description": "description"}}, "bar": {"type": "string",
      "defaultValue": "bar", "metadata": {"description": "description"}}}, "functions":
      [], "variables": {}, "resources": [], "outputs": {"foo": {"type": "string",
      "value": "[parameters(''foo'')]"}, "bar": {"type": "string", "value": "[parameters(''bar'')]"}}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ts create
      Connection:
      - keep-alive
      Content-Length:
      - '601'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --version --location --template-file --resource-group
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"location\": \"westus2\",\r\n  \"tags\": {},\r\n  \"properties\":
        {\r\n    \"mainTemplate\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n
        \     \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"foo\":
        {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"foo\",\r\n
        \         \"metadata\": {\r\n            \"description\": \"description\"\r\n
        \         }\r\n        },\r\n        \"bar\": {\r\n          \"type\": \"string\",\r\n
        \         \"defaultValue\": \"bar\",\r\n          \"metadata\": {\r\n            \"description\":
        \"description\"\r\n          }\r\n        }\r\n      },\r\n      \"functions\":
        [],\r\n      \"variables\": {},\r\n      \"resources\": [],\r\n      \"outputs\":
        {\r\n        \"foo\": {\r\n          \"type\": \"string\",\r\n          \"value\":
        \"[parameters('foo')]\"\r\n        },\r\n        \"bar\": {\r\n          \"type\":
        \"string\",\r\n          \"value\": \"[parameters('bar')]\"\r\n        }\r\n
        \     }\r\n    }\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:00.604681Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:00.604681Z\"\r\n  },\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1\",\r\n
        \ \"type\": \"Microsoft.Resources/templateSpecs/versions\",\r\n  \"name\":
        \"v1\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1551'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --update-behavior --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"error\": {\r\n    \"code\": \"DeploymentStackResourceNotFound\",\r\n
        \   \"message\": \"The deployment stack '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002'
        could not be found.\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '383'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "parameters": {"foo": {"type": "string", "defaultValue":
      "foo", "metadata": {"description": "description"}}, "bar": {"type": "string",
      "defaultValue": "bar", "metadata": {"description": "description"}}}, "functions":
      [], "variables": {}, "resources": [], "outputs": {"foo": {"type": "string",
      "value": "[parameters(''foo'')]"}, "bar": {"type": "string", "value": "[parameters(''bar'')]"}}},
      "updateBehavior": "detachResources"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      Content-Length:
      - '576'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --resource-group --update-behavior --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n
        \   \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n
        \     \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"foo\":
        {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"foo\",\r\n
        \         \"metadata\": {\r\n            \"description\": \"description\"\r\n
        \         }\r\n        },\r\n        \"bar\": {\r\n          \"type\": \"string\",\r\n
        \         \"defaultValue\": \"bar\",\r\n          \"metadata\": {\r\n            \"description\":
        \"description\"\r\n          }\r\n        }\r\n      },\r\n      \"functions\":
        [],\r\n      \"variables\": {},\r\n      \"resources\": [],\r\n      \"outputs\":
        {\r\n        \"foo\": {\r\n          \"type\": \"string\",\r\n          \"value\":
        \"[parameters('foo')]\"\r\n        },\r\n        \"bar\": {\r\n          \"type\":
        \"string\",\r\n          \"value\": \"[parameters('bar')]\"\r\n        }\r\n
        \     }\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\":
        \"initializing\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:02.5112989Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:02.5112989Z\"\r\n
        \ },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/08644188-0675-42e1-a008-6a8300295ae4?api-version=2021-05-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1664'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --update-behavior --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/08644188-0675-42e1-a008-6a8300295ae4?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/08644188-0675-42e1-a008-6a8300295ae4\",\r\n
        \ \"name\": \"08644188-0675-42e1-a008-6a8300295ae4\",\r\n  \"status\": \"succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --update-behavior --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002/snapshots/2021-12-15-18-06-02-31150\",\r\n
        \   \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-resou-2021-12-15-18-06-02-31150\",\r\n
        \   \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n
        \     \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"foo\":
        {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"foo\",\r\n
        \         \"metadata\": {\r\n            \"description\": \"description\"\r\n
        \         }\r\n        },\r\n        \"bar\": {\r\n          \"type\": \"string\",\r\n
        \         \"defaultValue\": \"bar\",\r\n          \"metadata\": {\r\n            \"description\":
        \"description\"\r\n          }\r\n        }\r\n      },\r\n      \"functions\":
        [],\r\n      \"variables\": {},\r\n      \"resources\": [],\r\n      \"outputs\":
        {\r\n        \"foo\": {\r\n          \"type\": \"string\",\r\n          \"value\":
        \"[parameters('foo')]\"\r\n        },\r\n        \"bar\": {\r\n          \"type\":
        \"string\",\r\n          \"value\": \"[parameters('bar')]\"\r\n        }\r\n
        \     }\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\":
        \"succeeded\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:02.5112989Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:02.5112989Z\"\r\n
        \ },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2244'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --yes
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002/snapshots/2021-12-15-18-06-02-31150\",\r\n
        \   \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-resou-2021-12-15-18-06-02-31150\",\r\n
        \   \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n
        \     \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"foo\":
        {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"foo\",\r\n
        \         \"metadata\": {\r\n            \"description\": \"description\"\r\n
        \         }\r\n        },\r\n        \"bar\": {\r\n          \"type\": \"string\",\r\n
        \         \"defaultValue\": \"bar\",\r\n          \"metadata\": {\r\n            \"description\":
        \"description\"\r\n          }\r\n        }\r\n      },\r\n      \"functions\":
        [],\r\n      \"variables\": {},\r\n      \"resources\": [],\r\n      \"outputs\":
        {\r\n        \"foo\": {\r\n          \"type\": \"string\",\r\n          \"value\":
        \"[parameters('foo')]\"\r\n        },\r\n        \"bar\": {\r\n          \"type\":
        \"string\",\r\n          \"value\": \"[parameters('bar')]\"\r\n        }\r\n
        \     }\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\":
        \"succeeded\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:02.5112989Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:02.5112989Z\"\r\n
        \ },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2244'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --resource-group --yes
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 15 Dec 2021 18:06:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --update-behavior --template-spec --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"error\": {\r\n    \"code\": \"DeploymentStackResourceNotFound\",\r\n
        \   \"message\": \"The deployment stack '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002'
        could not be found.\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '383'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: '{"properties": {"templateLink": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1"},
      "updateBehavior": "detachResources"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      Content-Length:
      - '340'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --resource-group --update-behavior --template-spec --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n
        \   \"templateLink\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1\"\r\n
        \   },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"initializing\"\r\n
        \ },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:22.9286527Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:22.9286527Z\"\r\n
        \ },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/6d7aba9c-41f5-42f2-84a8-4bc04b49e89a?api-version=2021-05-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1126'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --update-behavior --template-spec --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/6d7aba9c-41f5-42f2-84a8-4bc04b49e89a?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/6d7aba9c-41f5-42f2-84a8-4bc04b49e89a\",\r\n
        \ \"name\": \"6d7aba9c-41f5-42f2-84a8-4bc04b49e89a\",\r\n  \"status\": \"succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --update-behavior --template-spec --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002/snapshots/2021-12-15-18-06-22-3d281\",\r\n
        \   \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-resou-2021-12-15-18-06-22-3d281\",\r\n
        \   \"templateLink\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1\"\r\n
        \   },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"succeeded\"\r\n
        \ },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:22.9286527Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:22.9286527Z\"\r\n
        \ },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --yes
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002/snapshots/2021-12-15-18-06-22-3d281\",\r\n
        \   \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-resou-2021-12-15-18-06-22-3d281\",\r\n
        \   \"templateLink\": {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/templateSpecs/cli-test-template-spec000003/versions/v1\"\r\n
        \   },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"succeeded\"\r\n
        \ },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:22.9286527Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:22.9286527Z\"\r\n
        \ },\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1706'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --resource-group --yes
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 15 Dec 2021 18:06:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"error\": {\r\n    \"code\": \"DeploymentStackResourceNotFound\",\r\n
        \   \"message\": \"The deployment stack '/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002'
        could not be found.\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '383'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.25.1
    method: GET
    uri: https://aka.ms/BicepLatestRelease
  response:
    body:
      string: ''
    headers:
      cache-control:
      - max-age=0, no-cache, no-store
      connection:
      - keep-alive
      content-length:
      - '0'
      date:
      - Wed, 15 Dec 2021 18:06:44 GMT
      expires:
      - Wed, 15 Dec 2021 18:06:44 GMT
      location:
      - https://api.github.com/repos/Azure/bicep/releases/latest
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:26ef1154-5995-4d24-ad78-ef0b04f11587
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000 ; includeSubDomains
      x-response-cache-status:
      - 'True'
    status:
      code: 301
      message: Moved Permanently
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.25.1
    method: GET
    uri: https://api.github.com/repos/Azure/bicep/releases/latest
  response:
    body:
      string: '{"url":"https://api.github.com/repos/Azure/bicep/releases/51445655","assets_url":"https://api.github.com/repos/Azure/bicep/releases/51445655/assets","upload_url":"https://uploads.github.com/repos/Azure/bicep/releases/51445655/assets{?name,label}","html_url":"https://github.com/Azure/bicep/releases/tag/v0.4.1008","id":51445655,"author":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"node_id":"RE_kwDOD7S9ks4DEP-X","tag_name":"v0.4.1008","target_commitish":"main","name":"v0.4.1008","draft":false,"prerelease":false,"created_at":"2021-10-15T16:45:35Z","published_at":"2021-10-15T20:17:50Z","assets":[{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097065","id":47097065,"node_id":"RA_kwDOD7S9ks4CzqTp","name":"Azure.Bicep.CommandLine.linux-x64.0.4.1008.nupkg","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":20998825,"download_count":9,"created_at":"2021-10-15T20:10:07Z","updated_at":"2021-10-15T20:10:08Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/Azure.Bicep.CommandLine.linux-x64.0.4.1008.nupkg"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097073","id":47097073,"node_id":"RA_kwDOD7S9ks4CzqTx","name":"Azure.Bicep.CommandLine.osx-x64.0.4.1008.nupkg","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":21231132,"download_count":5,"created_at":"2021-10-15T20:10:18Z","updated_at":"2021-10-15T20:10:20Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/Azure.Bicep.CommandLine.osx-x64.0.4.1008.nupkg"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097053","id":47097053,"node_id":"RA_kwDOD7S9ks4CzqTd","name":"Azure.Bicep.CommandLine.win-x64.0.4.1008.nupkg","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":21234954,"download_count":80,"created_at":"2021-10-15T20:09:42Z","updated_at":"2021-10-15T20:09:44Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/Azure.Bicep.CommandLine.win-x64.0.4.1008.nupkg"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097008","id":47097008,"node_id":"RA_kwDOD7S9ks4CzqSw","name":"Azure.Bicep.MSBuild.0.4.1008.nupkg","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":38151,"download_count":5,"created_at":"2021-10-15T20:09:10Z","updated_at":"2021-10-15T20:09:10Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/Azure.Bicep.MSBuild.0.4.1008.nupkg"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097023","id":47097023,"node_id":"RA_kwDOD7S9ks4CzqS_","name":"Azure.Bicep.MSBuild.0.4.1008.snupkg","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":6647,"download_count":3,"created_at":"2021-10-15T20:09:12Z","updated_at":"2021-10-15T20:09:12Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/Azure.Bicep.MSBuild.0.4.1008.snupkg"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097025","id":47097025,"node_id":"RA_kwDOD7S9ks4CzqTB","name":"bicep-langserver.zip","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":10621973,"download_count":67,"created_at":"2021-10-15T20:09:16Z","updated_at":"2021-10-15T20:09:17Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/bicep-langserver.zip"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47096921","id":47096921,"node_id":"RA_kwDOD7S9ks4CzqRZ","name":"bicep-linux-musl-x64","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":46899162,"download_count":12011,"created_at":"2021-10-15T20:07:52Z","updated_at":"2021-10-15T20:07:54Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/bicep-linux-musl-x64"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47096863","id":47096863,"node_id":"RA_kwDOD7S9ks4CzqQf","name":"bicep-linux-x64","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":47082977,"download_count":144947,"created_at":"2021-10-15T20:07:15Z","updated_at":"2021-10-15T20:07:17Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/bicep-linux-x64"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47096967","id":47096967,"node_id":"RA_kwDOD7S9ks4CzqSH","name":"bicep-osx-x64","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/octet-stream","state":"uploaded","size":47862047,"download_count":4157,"created_at":"2021-10-15T20:08:22Z","updated_at":"2021-10-15T20:08:24Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/bicep-osx-x64"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47096996","id":47096996,"node_id":"RA_kwDOD7S9ks4CzqSk","name":"bicep-setup-win-x64.exe","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/x-msdownload","state":"uploaded","size":18126312,"download_count":2973,"created_at":"2021-10-15T20:09:01Z","updated_at":"2021-10-15T20:09:02Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/bicep-setup-win-x64.exe"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097006","id":47097006,"node_id":"RA_kwDOD7S9ks4CzqSu","name":"bicep-win-x64.exe","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/x-msdownload","state":"uploaded","size":45876272,"download_count":62724,"created_at":"2021-10-15T20:09:06Z","updated_at":"2021-10-15T20:09:08Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/bicep-win-x64.exe"},{"url":"https://api.github.com/repos/Azure/bicep/releases/assets/47097041","id":47097041,"node_id":"RA_kwDOD7S9ks4CzqTR","name":"vscode-bicep.vsix","label":"","uploader":{"login":"anthony-c-martin","id":38542602,"node_id":"MDQ6VXNlcjM4NTQyNjAy","avatar_url":"https://avatars.githubusercontent.com/u/38542602?v=4","gravatar_id":"","url":"https://api.github.com/users/anthony-c-martin","html_url":"https://github.com/anthony-c-martin","followers_url":"https://api.github.com/users/anthony-c-martin/followers","following_url":"https://api.github.com/users/anthony-c-martin/following{/other_user}","gists_url":"https://api.github.com/users/anthony-c-martin/gists{/gist_id}","starred_url":"https://api.github.com/users/anthony-c-martin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthony-c-martin/subscriptions","organizations_url":"https://api.github.com/users/anthony-c-martin/orgs","repos_url":"https://api.github.com/users/anthony-c-martin/repos","events_url":"https://api.github.com/users/anthony-c-martin/events{/privacy}","received_events_url":"https://api.github.com/users/anthony-c-martin/received_events","type":"User","site_admin":false},"content_type":"application/vsix","state":"uploaded","size":26071148,"download_count":186,"created_at":"2021-10-15T20:09:30Z","updated_at":"2021-10-15T20:09:31Z","browser_download_url":"https://github.com/Azure/bicep/releases/download/v0.4.1008/vscode-bicep.vsix"}],"tarball_url":"https://api.github.com/repos/Azure/bicep/tarball/v0.4.1008","zipball_url":"https://api.github.com/repos/Azure/bicep/zipball/v0.4.1008","body":"\r\n**UPDATE**
        (10/15/21 2:31PM PT):\r\nWe forgot to account for Az CLI and Azure PowerShell
        updates that need to be made in order to expose the new `publish` and `restore`
        commands. As a workaround, you will need to run these commands directly with
        the bicep CLI. If you are installing the bicep CLI automatically via Az CLI,
        then the binary is most likely located at either `%USERPROFILE%\\.azure\\bin`
        on windows or `$HOME/.azure/bin` on macOS or Linux. You can then add this
        directory to your PATH and run `bicep publish file.bicep --target ''br:foo.azurecr.io/myModule:v1.0''`.
        Apologies for this oversight.\r\n\r\n## Highlights\r\n\r\nBicep team:\r\n*
        Private Module registry support\r\n  - Documentation:\r\n    * [Create a private
        registry](https://docs.microsoft.com/azure/azure-resource-manager/bicep/private-module-registry)\r\n    *
        [Reference modules in a registry](https://docs.microsoft.com/azure/azure-resource-manager/bicep/modules#file-in-registry)\r\n    *
        [`publish`](https://docs.microsoft.com/azure/azure-resource-manager/bicep/bicep-cli#publish)
        and [`restore`](https://docs.microsoft.com/azure/azure-resource-manager/bicep/bicep-cli#restore)
        commands\r\n    * [Adding registry aliases via bicepconfig.json](https://docs.microsoft.com/azure/azure-resource-manager/bicep/bicep-config#aliases-for-module-registry)\r\n  -
        **Note:** This does **not** include support for a planned *public* registry
        which will be released with Bicep v0.5 (ETA early November)\r\n* Implement
        TemplateSpec module references (#4269)\r\n  - Template specs can be used as
        a source for modules (documentation available soon)\r\n  - Overview of template
        spec references from our recent [community call](https://youtu.be/TrAxi-cj1JM?t=791)\r\n  -
        Example: `module tsDeploy ts:<<SUB-GUID>>/<<RG-NAME>>/<<TEMPLATE-SPEC-NAME:<<VERSION>>
        = {...}` \r\n  - Example with alias: `module tsDeploy ts/myAlias:<<TEMPLATE-SPEC-NAME>>:<<VERSION>>
        = {...}`\r\n* Add `items()` function to Bicep in order to convert a dictionary
        to an array (#4456)\r\n  - Documentation available soon\r\n  - [Community
        call walkthrough](https://youtu.be/TrAxi-cj1JM?t=1235)\r\n* Add support for
        `tenant()` & `managementGroup()` functions for retrieving scope metadata (#4478)\r\n  -
        Documentation available soon\r\n  - [Community call walkthrough](https://youtu.be/TrAxi-cj1JM?t=1176)\r\n*
        Expanded hover support\r\n  - Can now add `@description` decorators to variables,
        resources, modules, outputs which will be displayed on hover (#4091)\r\n*
        Add lightbulb option to disable linter rule (#4493)\r\n* Add \"build\" command
        to tab context menu (#4155)\r\n* rule: adminUsername-should-not-be-literal
        (#4702)\r\n* Support symbolic management group references  to be used as scopes
        (#4476)\r\n  - If you have a symbolic reference to a management group, you
        can now pass that as a scope for an management group scoped module\r\n\r\n##
        Bug fixes and features\r\n\r\nBicep team:\r\n* removed warning about allowed
        scopes for scope functions (#4784)\r\n* Fix for exception compiling `listKeys()`
        on resource array access (#4282)\r\n* Add errors for 2 unsupported decompiler
        features (#4375)\r\n* Fix integer-key property access expression generation
        (#4385)\r\n* Add decompilation support for null(), true() & false() (#4273)\r\n*
        Allow use of `existing` parent resource scope if it is a valid deployment
        scope (#4394)\r\n* Fix cycle detection with resource access syntax (#4684)\r\n*
        Display function overload description on hover (#4669)\r\n* Avoid optimizing
        empty string interpolation expression (#4683)\r\n* Fix unhandled exception
        and stack overflow for resource parent property assignments (#4384)\r\n* Change
        array merging behavior to \"replace\" for Bicep configs (#4767)\r\n* module
        path completions do not show up url encoded (#4708)\r\n* Ensure snippets and
        other completions use \\n (#4180)\r\n* Watch for creation/deletion/modification
        of local bicepconfig.json file (#4038)\r\n* Fix exception thrown in CLI when
        bicepconfig.json is invalid (#4348)\r\n\r\n@CoachAlexis\r\n* Add icons (#4344)\r\n\r\n@JimPaine\r\n*
        Simplification of expressions on decompile (#4482)\r\n\r\n@miqm\r\n* In-lining
        Resources and Modules when assigned to a variable (#4069)\r\n* Fix using existing
        resource of a discriminated type based on a property other than name (#4407)\r\n*
        Fixed generating scope for looped modules and nested resources (#4639)\r\n\r\n@pakrym\r\n*
        Sort required properties first in completion (#4562)\r\n* Add = to completion
        (#4599)\r\n* Add a codefix for BCP035 (#4570)\r\n\r\n## Docs, examples, snippet
        updates\r\n\r\nBicep team: \r\n\r\n@DamianFlynn\r\n* Bump Homebrew to the
        current release (#4560)\r\n\r\n@egullbrandsson\r\n* Snippet res-rg - removed
        single quotes (#4275)\r\n\r\n@mgreenegit\r\n* guest config snippets (#4243)\r\n*
        better version example; only reinforce identity for extension (#4309)\r\n*
        Readme - Build badge should link to build results (#4431)\r\n\r\n@rajyraman\r\n*
        Logic App Workflow and Integration Account Snippet (#3919)\r\n\r\n@StefanIvemo\r\n*
        Updated readme with links to learn path and docs.microsoft.com (#4036)\r\n*
        [Snippet] Added ExpressRoute Gateway snippet (#3920)\r\n* [Snippet] Added
        Route Server snippet (#3976)\r\n* Fixed bug in `res-container-registry` snippet
        (#4597)\r\n","reactions":{"url":"https://api.github.com/repos/Azure/bicep/releases/51445655/reactions","total_count":11,"+1":0,"-1":0,"laugh":0,"hooray":6,"confused":0,"heart":0,"rocket":5,"eyes":0},"mentions_count":9}'
    headers:
      accept-ranges:
      - bytes
      access-control-allow-origin:
      - '*'
      access-control-expose-headers:
      - ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining,
        X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes,
        X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, Deprecation,
        Sunset
      cache-control:
      - public, max-age=60, s-maxage=60
      content-length:
      - '24810'
      content-security-policy:
      - default-src 'none'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:41 GMT
      etag:
      - '"20d531f56ac36d87fee9fe147132129edb51c645be12bbf3958525e7b3a14cf0"'
      last-modified:
      - Fri, 15 Oct 2021 21:38:40 GMT
      referrer-policy:
      - origin-when-cross-origin, strict-origin-when-cross-origin
      server:
      - GitHub.com
      strict-transport-security:
      - max-age=31536000; includeSubdomains; preload
      vary:
      - Accept, Accept-Encoding, Accept, X-Requested-With
      x-content-type-options:
      - nosniff
      x-frame-options:
      - deny
      x-github-media-type:
      - github.v3; format=json
      x-github-request-id:
      - EE12:5938:12168C4:2D2A3F8:61BA2EB4
      x-ratelimit-limit:
      - '60'
      x-ratelimit-remaining:
      - '59'
      x-ratelimit-reset:
      - '1639595204'
      x-ratelimit-resource:
      - core
      x-ratelimit-used:
      - '1'
      x-xss-protection:
      - '0'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "metadata": {"_generator": {"name": "bicep", "version":
      "0.4.1008.15138", "templateHash": "18335756685998555005"}}, "parameters": {"location":
      {"type": "string", "defaultValue": "centralus"}, "storageAccountName": {"type":
      "string", "defaultValue": "uniquestorage001", "maxLength": 24, "minLength":
      3}}, "functions": [], "resources": [{"type": "Providers.Test/statefulResources",
      "apiVersion": "2014-04-01", "name": "[parameters(''storageAccountName'')]",
      "location": "[parameters(''location'')]"}], "outputs": {"storageId": {"type":
      "string", "value": "[resourceId(''Providers.Test/statefulResources'', parameters(''storageAccountName''))]"}}},
      "updateBehavior": "detachResources"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      Content-Length:
      - '827'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --resource-group --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n
        \   \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n
        \     \"contentVersion\": \"1.0.0.0\",\r\n      \"metadata\": {\r\n        \"_generator\":
        {\r\n          \"name\": \"bicep\",\r\n          \"version\": \"0.4.1008.15138\",\r\n
        \         \"templateHash\": \"18335756685998555005\"\r\n        }\r\n      },\r\n
        \     \"parameters\": {\r\n        \"location\": {\r\n          \"type\":
        \"string\",\r\n          \"defaultValue\": \"centralus\"\r\n        },\r\n
        \       \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\":
        \"uniquestorage001\",\r\n          \"maxLength\": 24,\r\n          \"minLength\":
        3\r\n        }\r\n      },\r\n      \"functions\": [],\r\n      \"resources\":
        [\r\n        {\r\n          \"type\": \"Providers.Test/statefulResources\",\r\n
        \         \"apiVersion\": \"2014-04-01\",\r\n          \"name\": \"[parameters('storageAccountName')]\",\r\n
        \         \"location\": \"[parameters('location')]\"\r\n        }\r\n      ],\r\n
        \     \"outputs\": {\r\n        \"storageId\": {\r\n          \"type\": \"string\",\r\n
        \         \"value\": \"[resourceId('Providers.Test/statefulResources', parameters('storageAccountName'))]\"\r\n
        \       }\r\n      }\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\":
        \"initializing\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:47.160565Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:47.160565Z\"\r\n  },\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/e5c2d88a-c199-4ba7-bc2b-81e44a508920?api-version=2021-05-01-preview
      cache-control:
      - no-cache
      content-length:
      - '1954'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:06:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/e5c2d88a-c199-4ba7-bc2b-81e44a508920?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/e5c2d88a-c199-4ba7-bc2b-81e44a508920\",\r\n
        \ \"name\": \"e5c2d88a-c199-4ba7-bc2b-81e44a508920\",\r\n  \"status\": \"succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:07:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --template-file --parameters
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002/snapshots/2021-12-15-18-06-47-3932a\",\r\n
        \   \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-resou-2021-12-15-18-06-47-3932a\",\r\n
        \   \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n
        \     \"contentVersion\": \"1.0.0.0\",\r\n      \"metadata\": {\r\n        \"_generator\":
        {\r\n          \"name\": \"bicep\",\r\n          \"version\": \"0.4.1008.15138\",\r\n
        \         \"templateHash\": \"18335756685998555005\"\r\n        }\r\n      },\r\n
        \     \"parameters\": {\r\n        \"location\": {\r\n          \"type\":
        \"string\",\r\n          \"defaultValue\": \"centralus\"\r\n        },\r\n
        \       \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\":
        \"uniquestorage001\",\r\n          \"maxLength\": 24,\r\n          \"minLength\":
        3\r\n        }\r\n      },\r\n      \"functions\": [],\r\n      \"resources\":
        [\r\n        {\r\n          \"type\": \"Providers.Test/statefulResources\",\r\n
        \         \"apiVersion\": \"2014-04-01\",\r\n          \"name\": \"[parameters('storageAccountName')]\",\r\n
        \         \"location\": \"[parameters('location')]\"\r\n        }\r\n      ],\r\n
        \     \"outputs\": {\r\n        \"storageId\": {\r\n          \"type\": \"string\",\r\n
        \         \"value\": \"[resourceId('Providers.Test/statefulResources', parameters('storageAccountName'))]\"\r\n
        \       }\r\n      }\r\n    },\r\n    \"managedResources\": [\r\n      {\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Providers.Test/statefulResources/uniquestorage001\"\r\n
        \     }\r\n    ],\r\n    \"provisioningState\": \"succeeded\"\r\n  },\r\n
        \ \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:47.160565Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:47.160565Z\"\r\n  },\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2778'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:07:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --resource-group --yes
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002/snapshots/2021-12-15-18-06-47-3932a\",\r\n
        \   \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-resou-2021-12-15-18-06-47-3932a\",\r\n
        \   \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n
        \     \"contentVersion\": \"1.0.0.0\",\r\n      \"metadata\": {\r\n        \"_generator\":
        {\r\n          \"name\": \"bicep\",\r\n          \"version\": \"0.4.1008.15138\",\r\n
        \         \"templateHash\": \"18335756685998555005\"\r\n        }\r\n      },\r\n
        \     \"parameters\": {\r\n        \"location\": {\r\n          \"type\":
        \"string\",\r\n          \"defaultValue\": \"centralus\"\r\n        },\r\n
        \       \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\":
        \"uniquestorage001\",\r\n          \"maxLength\": 24,\r\n          \"minLength\":
        3\r\n        }\r\n      },\r\n      \"functions\": [],\r\n      \"resources\":
        [\r\n        {\r\n          \"type\": \"Providers.Test/statefulResources\",\r\n
        \         \"apiVersion\": \"2014-04-01\",\r\n          \"name\": \"[parameters('storageAccountName')]\",\r\n
        \         \"location\": \"[parameters('location')]\"\r\n        }\r\n      ],\r\n
        \     \"outputs\": {\r\n        \"storageId\": {\r\n          \"type\": \"string\",\r\n
        \         \"value\": \"[resourceId('Providers.Test/statefulResources', parameters('storageAccountName'))]\"\r\n
        \       }\r\n      }\r\n    },\r\n    \"managedResources\": [\r\n      {\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Providers.Test/statefulResources/uniquestorage001\"\r\n
        \     }\r\n    ],\r\n    \"provisioningState\": \"succeeded\"\r\n  },\r\n
        \ \"systemData\": {\r\n    \"createdBy\": \"harshpatel@microsoft.com\",\r\n
        \   \"createdByType\": \"User\",\r\n    \"createdAt\": \"2021-12-15T18:06:47.160565Z\",\r\n
        \   \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n    \"lastModifiedByType\":
        \"User\",\r\n    \"lastModifiedAt\": \"2021-12-15T18:06:47.160565Z\"\r\n  },\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002\",\r\n
        \ \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"cli-test-create-deployment-stack-resource-group000002\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2778'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 15 Dec 2021 18:07:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - stack group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --resource-group --yes
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-azure-mgmt-resource/0.1.0 Python/3.8.0 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_deployment_stacks000001/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-resource-group000002?api-version=2021-05-01-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 15 Dec 2021 18:07:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
