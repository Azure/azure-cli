interactions:
- request:
    body: '{"location": "westus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 12 Mar 2018 15:54:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1180']
    status: {code: 201, message: Created}
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "kind": "Storage", "location": "westus",
      "properties": {"supportsHttpsTrafficOnly": false}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [storage account create]
      Connection: [keep-alive]
      Content-Length: ['125']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 azure-mgmt-storage/1.5.0 Azure-SDK-For-Python AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2017-10-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      content-type: [text/plain; charset=utf-8]
      date: ['Mon, 12 Mar 2018 15:54:54 GMT']
      expires: ['-1']
      location: ['https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/locations/westus/asyncoperations/7bfa1162-cdf4-4b0b-a12a-3fdc78b101ae?monitor=true&api-version=2017-10-01']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [storage account create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 azure-mgmt-storage/1.5.0 Azure-SDK-For-Python AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/locations/westus/asyncoperations/7bfa1162-cdf4-4b0b-a12a-3fdc78b101ae?monitor=true&api-version=2017-10-01
  response:
    body: {string: '{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"trustedDirectories":["479473dc-cfef-474c-ba12-cba2854af0f6"],"supportsHttpsTrafficOnly":false,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2018-03-12T15:54:53.8544577Z"},"blob":{"enabled":true,"lastEnabledTime":"2018-03-12T15:54:53.8544577Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2018-03-12T15:54:53.8075840Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1231']
      content-type: [application/json]
      date: ['Mon, 12 Mar 2018 15:55:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [storage account keys list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 azure-mgmt-storage/1.5.0 Azure-SDK-For-Python AZURECLI/2.0.29]
      accept-language: [en-US]
    method: POST
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2017-10-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","value":"w0QfYy81hBaps3mcrwzUkDeNE2MHJzjMZYceg+Wy98jolxldNMb1pJdJu0YxSvQZ1IZzcj8TCaoi+x1iyd3fxQ==","permissions":"FULL"},{"keyName":"key2","value":"YnlPW7tsAJ4Lys/3MAFYYAtvLqcZo97vFgUChwvMEXJXoElDJI4lvEYYOaYl9fKACjKSjH0z0orOTweDPoA4dw==","permissions":"FULL"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['288']
      content-type: [application/json]
      date: ['Mon, 12 Mar 2018 15:55:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1179']
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"location": "westus2", "properties": {"storageAccounts": [{"id":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002",
      "type": "Primary"}]}}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams account create]
      Connection: [keep-alive]
      Content-Length: ['302']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 azuremediaservices/2018-02-01-privatepreview Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003?api-version=2018-02-01-privatepreview
  response:
    body: {string: "{\r\n  \"name\":\"ams000003\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003\"\
        ,\"type\":\"Microsoft.Media/mediaservices\",\"location\":\"West US 2\",\"\
        tags\":null,\"properties\":{\r\n    \"mediaServiceId\":\"ce75d072-5d76-46ef-b22c-67018f450cc8\"\
        ,\"storageAccounts\":[\r\n      {\r\n        \"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002\"\
        ,\"type\":\"Primary\"\r\n      }\r\n    ]\r\n  }\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['677']
      content-type: [application/json; odata.metadata=minimal]
      date: ['Mon, 12 Mar 2018 15:55:14 GMT']
      expires: ['-1']
      odata-version: ['4.0']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 azuremediaservices/2018-02-01-privatepreview Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003?api-version=2018-02-01-privatepreview
  response:
    body: {string: "{\r\n  \"name\":\"ams000003\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003\"\
        ,\"type\":\"Microsoft.Media/mediaservices\",\"location\":\"West US 2\",\"\
        tags\":null,\"properties\":{\r\n    \"mediaServiceId\":\"ce75d072-5d76-46ef-b22c-67018f450cc8\"\
        ,\"storageAccounts\":[\r\n      {\r\n        \"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002\"\
        ,\"type\":\"Primary\"\r\n      }\r\n    ]\r\n  }\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['677']
      content-type: [application/json; odata.metadata=minimal]
      date: ['Mon, 12 Mar 2018 15:55:16 GMT']
      expires: ['-1']
      odata-version: ['4.0']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fspn000004%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Mon, 12 Mar 2018 15:55:17 GMT']
      duration: ['2515934']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [O7pP+dOHYyO4qyTRplHZ2APLBSM71WyEOHgyiadgxzQ=]
      ocp-aad-session-key: [KbzhAfozuXvtwqolaxWjxErH-DR2bU0Pgl9ObT3SIb0LcfEdtJ0we-iUHOWJJ4WNkK836bhmQKCrcTYZroIGGmUzVUPKbu2anJ8wHK9MnQcNIi45gFUQ5wyyn78wZM7e.MwwWqHRSYQqw91P2sGRnsZOVSdZleukLXfChbzKMd2M]
      pragma: [no-cache]
      request-id: [dba0adce-9a34-4295-bd02-48a5ebcf2a39]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fspn000004%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Mon, 12 Mar 2018 15:55:18 GMT']
      duration: ['1789219']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [O7pP+dOHYyO4qyTRplHZ2APLBSM71WyEOHgyiadgxzQ=]
      ocp-aad-session-key: [BJhTqf2hKA5dYW2kWiQO5J8dSXruaFgRAlAIAaN8f_QleAKuu8fVyc1SS_rAmqOWT2p1e78vMXNlEQfykwRC2F7GK19c3_B5-d2YEorZ4BuNyhf5V9k55ZeOajSj-YG5.HcL2gFcKNq6373U7OpaNvCii7qLYpZg4tFLUp1P297I]
      pragma: [no-cache]
      request-id: [f59ff0c8-d1e5-460f-b31d-185898625166]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "displayName": "spn000004", "homepage":
      "http://spn000004", "identifierUris": ["http://spn000004"], "passwordCredentials":
      [{"startDate": "2018-03-12T15:55:18.682198Z", "endDate": "2019-03-12T15:55:18.682198Z",
      "keyId": "e1cd708b-842d-42e3-a3c0-a326b6aaf2e7", "value": "spp000005"}]}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Length: ['322']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"e9c15b67-9308-4736-a036-91aa69277d34","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2194e863-1fd7-438d-8851-bf2c2a1fbeea","appRoles":[],"availableToOtherTenants":false,"displayName":"spn000004","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://spn000004","identifierUris":["http://spn000004"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access spn000004 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        spn000004","id":"4999191e-de43-46ef-886d-a59c1ffabb11","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access spn000004 on your behalf.","userConsentDisplayName":"Access
        spn000004","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-12T15:55:18.682198Z","keyId":"e1cd708b-842d-42e3-a3c0-a326b6aaf2e7","startDate":"2018-03-12T15:55:18.682198Z","value":null}],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1777']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Mon, 12 Mar 2018 15:55:19 GMT']
      duration: ['5994001']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/e9c15b67-9308-4736-a036-91aa69277d34/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [7oISz+hFhZP/fi5Vuog5Pmd8axjkabrAk4lk14bYFcc=]
      ocp-aad-session-key: [iB-u-_AYqb95otPqvKQlMtHChlNpp5MGlelyqT8RRswtgxsOplCCsC5cw7DcKn5wHsGbXJhbqGBIaJT3KXzFjJbAsLX5yZL-jLwVGNB9tZGUNpMsfp-3FAr-I3N4MZY3EI3cjLaZ4ThjCUdkR25SgQ.xyEKe3u9aXjDco2ZeiHz1Nu5TkPerZJ2ujitgvCr-Yg]
      pragma: [no-cache]
      request-id: [0d499612-d5d3-47c0-a702-b47f69552d4c]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"appId": "2194e863-1fd7-438d-8851-bf2c2a1fbeea", "accountEnabled": true}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"f25011cc-01e5-4d14-a914-91db7521c7f8","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"spn000004","appId":"2194e863-1fd7-438d-8851-bf2c2a1fbeea","appOwnerTenantId":"479473dc-cfef-474c-ba12-cba2854af0f6","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"spn000004","errorUrl":null,"homepage":"http://spn000004","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access spn000004 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        spn000004","id":"4999191e-de43-46ef-886d-a59c1ffabb11","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access spn000004 on your behalf.","userConsentDisplayName":"Access
        spn000004","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"MediaSouthWorksDirectory","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["2194e863-1fd7-438d-8851-bf2c2a1fbeea","http://spn000004"],"servicePrincipalType":"Application","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1398']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Mon, 12 Mar 2018 15:55:21 GMT']
      duration: ['8741991']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/f25011cc-01e5-4d14-a914-91db7521c7f8/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [8lVrSY0cb3yYmzhL1jb6bG/9VqDeaSkgeMUNwJzqewM=]
      ocp-aad-session-key: [zU5fQVlEB6yN4Tu4WjNIPbbRGT4YkwDvcbEMa2-YqJ-MGQORAaCAqpiYd_PrSe0AleEnR-1_l_8sKaXiWnuijxeMqFNnjzbNqTIfOmBKTkM__6h2WNK9aqUJdrs0VrQ0guH1tZ2RP2-sPwanmjXgKw.Jzoc05Bm0jD9Wq16DXhimxSl4pqPNylRaQBqhsHdLhk]
      pragma: [no-cache]
      request-id: [1d8f9cf6-b010-497c-8fba-3e4a846ec1b9]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28c%3Ac%20eq%20%272194e863-1fd7-438d-8851-bf2c2a1fbeea%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"f25011cc-01e5-4d14-a914-91db7521c7f8","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"spn000004","appId":"2194e863-1fd7-438d-8851-bf2c2a1fbeea","appOwnerTenantId":"479473dc-cfef-474c-ba12-cba2854af0f6","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"spn000004","errorUrl":null,"homepage":"http://spn000004","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access spn000004 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        spn000004","id":"4999191e-de43-46ef-886d-a59c1ffabb11","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access spn000004 on your behalf.","userConsentDisplayName":"Access
        spn000004","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"MediaSouthWorksDirectory","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://spn000004","2194e863-1fd7-438d-8851-bf2c2a1fbeea"],"servicePrincipalType":"Application","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1401']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Mon, 12 Mar 2018 15:55:36 GMT']
      duration: ['4998314']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [O7pP+dOHYyO4qyTRplHZ2APLBSM71WyEOHgyiadgxzQ=]
      ocp-aad-session-key: [RwQPv0Y8pPW7T-QOlkOoV8chLG9_YDb1hX1SWBU5XGD1GkqwYpG_1apJ9SUafWZUVLEG6Z3x57hEy-1eSasGiVRiyJYdULlEA6cHn5k63MYmpR1x7J6KklpCS41vE54SZB4tzT2K2KULQy_PLLfviQ.EJv_AWvgnFNbBJk0-C1nXXcQ-gzMzUj2Nng6UlTDbUQ]
      pragma: [no-cache]
      request-id: [8e58b301-3777-4705-834f-2a138848473a]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 authorizationmanagementclient/0.30.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments?$filter=principalId%20eq%20%27f25011cc-01e5-4d14-a914-91db7521c7f8%27&api-version=2015-07-01
  response:
    body: {string: '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 12 Mar 2018 15:55:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 authorizationmanagementclient/0.30.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Owner%27&api-version=2015-07-01
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Owner","type":"BuiltInRole","description":"Lets
        you manage everything, including access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-05-31T23:14:00.9179619Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/8e3af657-a8ff-443c-a75c-2fe8c4bcb635","type":"Microsoft.Authorization/roleDefinitions","name":"8e3af657-a8ff-443c-a75c-2fe8c4bcb635"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['579']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 12 Mar 2018 15:55:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28c%3Ac%20eq%20%272194e863-1fd7-438d-8851-bf2c2a1fbeea%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"f25011cc-01e5-4d14-a914-91db7521c7f8","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"spn000004","appId":"2194e863-1fd7-438d-8851-bf2c2a1fbeea","appOwnerTenantId":"479473dc-cfef-474c-ba12-cba2854af0f6","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"spn000004","errorUrl":null,"homepage":"http://spn000004","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access spn000004 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        spn000004","id":"4999191e-de43-46ef-886d-a59c1ffabb11","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access spn000004 on your behalf.","userConsentDisplayName":"Access
        spn000004","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"MediaSouthWorksDirectory","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://spn000004","2194e863-1fd7-438d-8851-bf2c2a1fbeea"],"servicePrincipalType":"Application","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1401']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Mon, 12 Mar 2018 15:55:40 GMT']
      duration: ['2107741']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [51iBJpC99VT0XE2E+kBdfS8ZboPQ82X4Ya2wf9P8Ew0=]
      ocp-aad-session-key: [8n4Pu-WNSg-PIbjpCkZul8YEROLRrSV52wb2dnTNZnHP_VvIMS0DUjcTdmiROGjrqyKVfPtU9Lu_EZIn8n92o9KvusxH5sLR2yNi7je8CT-Mc17qOq4_F1Y05uK3HR4a29KNe7h6dMdjBy5vm8hx6w.mfda4mSiiyXpAmg04d6aQyvk63xJoviCcTroIi0_ZDI]
      pragma: [no-cache]
      request-id: [98ad6e28-f964-4b23-ae67-adf3f79973f5]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/8e3af657-a8ff-443c-a75c-2fe8c4bcb635",
      "principalId": "f25011cc-01e5-4d14-a914-91db7521c7f8"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ams sp create]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 authorizationmanagementclient/0.30.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003/providers/Microsoft.Authorization/roleAssignments/436a1920-d5b5-4545-868e-6200be716f5d?api-version=2015-07-01
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/8e3af657-a8ff-443c-a75c-2fe8c4bcb635","principalId":"f25011cc-01e5-4d14-a914-91db7521c7f8","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003","createdOn":"2018-03-12T15:55:41.0311686Z","updatedOn":"2018-03-12T15:55:41.0311686Z","createdBy":null,"updatedBy":"9c251169-a6e5-46a1-a3dd-a488a71bfb3a"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Media/mediaservices/ams000003/providers/Microsoft.Authorization/roleAssignments/436a1920-d5b5-4545-868e-6200be716f5d","type":"Microsoft.Authorization/roleAssignments","name":"436a1920-d5b5-4545-868e-6200be716f5d"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['974']
      content-type: [application/json; charset=utf-8]
      date: ['Mon, 12 Mar 2018 15:55:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
      x-ms-request-charge: ['4']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.22 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: DELETE
    uri: https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Mon, 12 Mar 2018 15:55:45 GMT']
      expires: ['-1']
      location: ['https://brazilus.management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdDQlNLV01DS0E3SlZJWUhMSTNNQlc0VFZaTFlQWEdBQjNUUnwzQTY1NENFRDkzNjFCNDYxLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1194']
    status: {code: 202, message: Accepted}
version: 1
