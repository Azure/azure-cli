interactions:
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 24}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '511'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQC98LPkcolgTyG1ZJQ9ly3chb4RkwXW89z2nYaA82dSXgETjkQgadESewl0FRN96upwMOdT+N/gtZeDw7if2Ob4mIFzptELTWWc8Kwx0bZ1J5QXeZGg71ikQ4Sv5WBR7rDOzoJdl7n2aFf3GVXrwoBmNU95x3y8FLQgaFMxGIZYZLqHp/tEXVaojnCR2j3h9s1MGuiJ7Ki+l4C0rTdFLJLZlJrEbY/FnWFYhxXRsQGNXi5Z/YOre+0ptDbMTDNi0fucupbjyxk9sDhINvTZvLhURVUObNDXiQxpWoSTmil7q3W5TPfDunlBPgRcO3FvF4fTYwtuec0O7KFPlthbfaC6","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"a9c0d5c6acfc4f7da0e0f3e3d9172380"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:17 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=a9c0d5c6acfc4f7da0e0f3e3d9172380
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQC98LPkcolgTyG1ZJQ9ly3chb4RkwXW89z2nYaA82dSXgETjkQgadESewl0FRN96upwMOdT+N/gtZeDw7if2Ob4mIFzptELTWWc8Kwx0bZ1J5QXeZGg71ikQ4Sv5WBR7rDOzoJdl7n2aFf3GVXrwoBmNU95x3y8FLQgaFMxGIZYZLqHp/tEXVaojnCR2j3h9s1MGuiJ7Ki+l4C0rTdFLJLZlJrEbY/FnWFYhxXRsQGNXi5Z/YOre+0ptDbMTDNi0fucupbjyxk9sDhINvTZvLhURVUObNDXiQxpWoSTmil7q3W5TPfDunlBPgRcO3FvF4fTYwtuec0O7KFPlthbfaC6","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"a9c0d5c6acfc4f7da0e0f3e3d9172380"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_existing_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:20 GMT
      duration:
      - '2372180'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Rq4v5lEboZ0Ynm8yTHts4KZB+bdecsqzrEzFNE6Z0Wg=
      ocp-aad-session-key:
      - a88q2qL__QGEY00yrvXE5uBB7qnpZ8Kjcm7zlCx_N9hQwe3eFKUlQozKPmzAMI7Gy3M-TuaTftvpy3tCVcM8C1D6uUdS29pbSG9Nj1dG1HuaKJHj2uHrgSZ7uGpl9Gjq8urxBLHXEshZHL8LappQrTFN3be-wmzNDE-P1WAOtR8.L8NoxktFRDPNhSLeoCFAEi-ZwN---7ymMLdWPF3K7-U
      pragma:
      - no-cache
      request-id:
      - cdcddf55-56d7-40c2-9300-aa19d163b01c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/d80cf31efd034fe09e087ea91cff3c3a","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/d80cf31efd034fe09e087ea91cff3c3a","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/d80cf31efd034fe09e087ea91cff3c3a","x5t":"vzk07-TzG3S8sIDzdwBz2NfKeoo","cer":"MIIDQjCCAiqgAwIBAgIQHFmVStFTTnm+n/c/FfWv0zANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgxOFoXDTI0MDIxNzA1MjgxOFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAYnqZNykoH7VK0JEh03s+ZcEaecOSGERzGEMwzV+WWSR8rO4qKOtyY5N8KMJ1Tj6TC6Nc4tYfhAB4sPQUQqQxscTROVhceW4Xm7FcmWyeNPQvjdosBogzZxT9y7z25DWz5jMnxHJAW8UadZPbfRbwOC9DoG9tTaV6vZ5/D1Z/4RXYntRUzDRj7SmnMdiF5aFYZWcoXh8pJNUic4V4uC+C2enJw0ZOL/8hUzkSNTJIP5pMdTqw7qJ+0oX9nW08QGoT/IMkoI6W3p/RZjzg/0i5W5A2aKGEGsiI0uRqiqrSuqbGjLFRhX5LAeWi3ZUPDwLKzeWauPp0t62+pbmUQL4ZDg==","attributes":{"enabled":true,"nbf":1645075098,"exp":1708147698,"created":1645075698,"updated":1645075698,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075698,"updated":1645075698}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2399'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:21 GMT
      duration:
      - '2380584'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - w5IqX+RqsHvTjN+7dFqqGTfScJYP7JWeYGCY9SaeaQk=
      ocp-aad-session-key:
      - tykvIf8oH6UNibxSPI2Jv2xobgCOq5S1-CC-tJfwfv5UQbkni_SRNfTVTCajwajuutC5cddqugtEYrvzB3tMHN43W3O81s5YWhzyrM7UaMpd-r3MKdAaoKlps6QyF-5vpn8w0slc02CkSp40kPgsWyZy_RGTccyVrTdOOJVbReE.nbZ2nDQkDtIQdFAYOAoWHZd2nMzAIzpNwT-xmbNuEcA
      pragma:
      - no-cache
      request-id:
      - fc4ceb41-b2c9-4546-a511-7be0704cfe04
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "keyCredentials": [{"startDate": "2022-02-17T05:28:20.40489Z",
      "endDate": "2023-02-17T05:28:20.40489Z", "value": "MIIDQjCCAiqgAwIBAgIQHFmVStFTTnm+n/c/FfWv0zANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgxOFoXDTI0MDIxNzA1MjgxOFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAYnqZNykoH7VK0JEh03s+ZcEaecOSGERzGEMwzV+WWSR8rO4qKOtyY5N8KMJ1Tj6TC6Nc4tYfhAB4sPQUQqQxscTROVhceW4Xm7FcmWyeNPQvjdosBogzZxT9y7z25DWz5jMnxHJAW8UadZPbfRbwOC9DoG9tTaV6vZ5/D1Z/4RXYntRUzDRj7SmnMdiF5aFYZWcoXh8pJNUic4V4uC+C2enJw0ZOL/8hUzkSNTJIP5pMdTqw7qJ+0oX9nW08QGoT/IMkoI6W3p/RZjzg/0i5W5A2aKGEGsiI0uRqiqrSuqbGjLFRhX5LAeWi3ZUPDwLKzeWauPp0t62+pbmUQL4ZDg==",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert000001",
      "identifierUris": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1451'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "34235a62-6939-42ff-97f0-d1ab2f1efa11", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "2965c5cf-3fde-498d-a8f6-3e7d023dd934",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_existing_cert000001", "errorUrl":
        null, "groupMembershipClaims": null, "homepage": null, "identifierUris": [],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [{"customKeyIdentifier": "BF3934EFE4F31B74BCB080F3770073D8D7CA7A8A", "endDate":
        "2023-02-17T05:28:20.40489Z", "keyId": "88888888-0000-0000-0000-000000000001",
        "startDate": "2022-02-17T05:28:20.40489Z", "type": "AsymmetricX509Cert", "usage":
        "Verify", "value": null}], "knownClientApplications": [], "logoutUrl": null,
        "logo@odata.mediaEditLink": "directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_existing_cert000001 on
        behalf of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert000001",
        "id": "6d973d2f-49cf-4045-a5b5-0ca2cf76c918", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_existing_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2545'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:22 GMT
      duration:
      - '3917490'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - YawNQr1dZQ305g4BraOh4D2uiFNsxdHpUlcdUQYyck0=
      ocp-aad-session-key:
      - j4Let3jjrtKn2i7rHg-GXxCj4WVvRqCdYWOKn1NHglNjZNclXsKEj26cwExLsu02yUA-ZGjwWIiiHpvnHzLnI80EGSYlrKmlq_SAS-ixRvfKwnkPqjp50NeAJNL0Zc446y8evpwwpqquhziEyH3pLUt-rWTf5MJH4BeWf7U3sMQ.9NlC0P8_vWa8tGopHc9XPesr-jozbPbH4hSZkLAEkhc
      pragma:
      - no-cache
      request-id:
      - ae6f4edc-1296-447c-85a2-4c9c0fa9d77f
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "2965c5cf-3fde-498d-a8f6-3e7d023dd934"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"bebc4fc9-6ef8-4158-b4f6-82bf2c2eed54","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"2965c5cf-3fde-498d-a8f6-3e7d023dd934","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"6d973d2f-49cf-4045-a5b5-0ca2cf76c918","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["2965c5cf-3fde-498d-a8f6-3e7d023dd934"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1772'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:23 GMT
      duration:
      - '3164953'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/bebc4fc9-6ef8-4158-b4f6-82bf2c2eed54/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - hBQecW4euLnJm3MX6g5NVxYhzwMFRvItGh5-jpuGbVFvYGEUKHhj51ELLByr9MO55Zcyf0fki_smT6NgXKvACPQnBtDSup5lnNN5Z8l89jp9gL2wh7pDfsQBSU2fJHv3hSJtwG9BGSWx1FUNcbUa6CMgkisAbdxhWMbxj6Jaj8w.XXOHzojsqDXI_Ggw5X54Sy6L4SqbcabbcLjrv-s5rCM
      pragma:
      - no-cache
      request-id:
      - 6a8b2120-111d-4602-861c-e40309353239
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%272965c5cf-3fde-498d-a8f6-3e7d023dd934%27%29%20or%20displayName%20eq%20%272965c5cf-3fde-498d-a8f6-3e7d023dd934%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"bebc4fc9-6ef8-4158-b4f6-82bf2c2eed54","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"2965c5cf-3fde-498d-a8f6-3e7d023dd934","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"6d973d2f-49cf-4045-a5b5-0ca2cf76c918","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["2965c5cf-3fde-498d-a8f6-3e7d023dd934"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1775'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:23 GMT
      duration:
      - '2486622'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Rq4v5lEboZ0Ynm8yTHts4KZB+bdecsqzrEzFNE6Z0Wg=
      ocp-aad-session-key:
      - 9PGeSHa-VClCR4KC36ITzlnBP6Jw-uq0Ouier4GGP3JKujCQ4dlzMVx4e4WaSjEHOhWCJxYR6WnG9ziWoA5rAOa7JWvUbtq__xGfktW6ScTHezMNz5t_TEumYahjWOPb1PLBRb4WRvgZdsALK_WRBpH2s3go4V74l-lasXOoDwk.F40aAM91fj_sEalKidbrv-m5dUIr10mfoLPi8kwzC30
      pragma:
      - no-cache
      request-id:
      - c9e333c4-50e6-4a47-bca8-8ffafeac5607
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%272965c5cf-3fde-498d-a8f6-3e7d023dd934%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:24 GMT
      duration:
      - '2534049'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - i3eTgicN-sdm0IJTuCSBWBiqezXlJ_kCoHun4MAzvBGixLxPiGj0cBf5JzwLRtsAChSlzOVHdZudeb88OZb2_DME5jNrgTH22DlrXijGtw5aGyYhVVJJFYDYTPBkNi4v2G9R3-okJ9k8gkOnFJKfR7nXyU5eWs7Uk3wyNJHTyqI.UJFEmu6Nfhk4F_JxQnAWXcKfYXqUd71YO347MfFL6rA
      pragma:
      - no-cache
      request-id:
      - 6f721899-33f6-4e2f-8d99-0707db0ed82e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%272965c5cf-3fde-498d-a8f6-3e7d023dd934%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"34235a62-6939-42ff-97f0-d1ab2f1efa11","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2965c5cf-3fde-498d-a8f6-3e7d023dd934","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"BF3934EFE4F31B74BCB080F3770073D8D7CA7A8A","endDate":"2023-02-17T05:28:20.40489Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2022-02-17T05:28:20.40489Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"6d973d2f-49cf-4045-a5b5-0ca2cf76c918","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2341'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:24 GMT
      duration:
      - '2408579'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - YawNQr1dZQ305g4BraOh4D2uiFNsxdHpUlcdUQYyck0=
      ocp-aad-session-key:
      - 4BqgmjAP1DfQAfSzM35l00S8-2gOUZy8ddxxXm68jWHNLA4uD72nnfe9TLUV3S3GtifmvH13J-Oy9s2AS3ejj6QUukcXRtCevPJs5bWzC5K6OtX_BiC-dE7uyZ70_OqmHrwUZFpp_UMK67lnRmbRAbcBakZCqBXHZtb_aKOh0sc.-6noxy4o0EcYRM5TrvtteAlrdw5P0A9GQAcn6ddoPdI
      pragma:
      - no-cache
      request-id:
      - 9c4bba35-21f2-4e7b-883f-04ff7a8d5d2b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/34235a62-6939-42ff-97f0-d1ab2f1efa11?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"34235a62-6939-42ff-97f0-d1ab2f1efa11","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2965c5cf-3fde-498d-a8f6-3e7d023dd934","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"BF3934EFE4F31B74BCB080F3770073D8D7CA7A8A","endDate":"2023-02-17T05:28:20.40489Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2022-02-17T05:28:20.40489Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"6d973d2f-49cf-4045-a5b5-0ca2cf76c918","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2338'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:25 GMT
      duration:
      - '2525872'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - g3GHCLC2VuCK0y75aaOFxEYx9lRaxz2KFzfXeQUdUq0=
      ocp-aad-session-key:
      - a6V7dpnnTWtP1_Ye70IQET-HflwsIFOtpPc9fteMJ3eNId8vPKVD6w9kSUITbDfytBQ_mXp91FZJi08pqMfay7qQ7IG--0SJexz2jT028BncfSt-JHrpcsNk-yMBojojL_cwgQJkrlY4TDkkvW2-5-86GEt0PXvDHVDs2tx5PAI.a3iuAEImY5yeZFPQSP07-RNTGzMTzvEr19BaZMuXzuQ
      pragma:
      - no-cache
      request-id:
      - 83388720-de98-4727-bda6-98de8ab874ee
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/d80cf31efd034fe09e087ea91cff3c3a","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/d80cf31efd034fe09e087ea91cff3c3a","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/d80cf31efd034fe09e087ea91cff3c3a","x5t":"vzk07-TzG3S8sIDzdwBz2NfKeoo","cer":"MIIDQjCCAiqgAwIBAgIQHFmVStFTTnm+n/c/FfWv0zANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgxOFoXDTI0MDIxNzA1MjgxOFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAYnqZNykoH7VK0JEh03s+ZcEaecOSGERzGEMwzV+WWSR8rO4qKOtyY5N8KMJ1Tj6TC6Nc4tYfhAB4sPQUQqQxscTROVhceW4Xm7FcmWyeNPQvjdosBogzZxT9y7z25DWz5jMnxHJAW8UadZPbfRbwOC9DoG9tTaV6vZ5/D1Z/4RXYntRUzDRj7SmnMdiF5aFYZWcoXh8pJNUic4V4uC+C2enJw0ZOL/8hUzkSNTJIP5pMdTqw7qJ+0oX9nW08QGoT/IMkoI6W3p/RZjzg/0i5W5A2aKGEGsiI0uRqiqrSuqbGjLFRhX5LAeWi3ZUPDwLKzeWauPp0t62+pbmUQL4ZDg==","attributes":{"enabled":true,"nbf":1645075098,"exp":1708147698,"created":1645075698,"updated":1645075698,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075698,"updated":1645075698}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2399'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2022-02-17T05:28:23.642707Z", "endDate":
      "2023-02-17T05:28:23.642707Z", "value": "MIIDQjCCAiqgAwIBAgIQHFmVStFTTnm+n/c/FfWv0zANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgxOFoXDTI0MDIxNzA1MjgxOFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAYnqZNykoH7VK0JEh03s+ZcEaecOSGERzGEMwzV+WWSR8rO4qKOtyY5N8KMJ1Tj6TC6Nc4tYfhAB4sPQUQqQxscTROVhceW4Xm7FcmWyeNPQvjdosBogzZxT9y7z25DWz5jMnxHJAW8UadZPbfRbwOC9DoG9tTaV6vZ5/D1Z/4RXYntRUzDRj7SmnMdiF5aFYZWcoXh8pJNUic4V4uC+C2enJw0ZOL/8hUzkSNTJIP5pMdTqw7qJ+0oX9nW08QGoT/IMkoI6W3p/RZjzg/0i5W5A2aKGEGsiI0uRqiqrSuqbGjLFRhX5LAeWi3ZUPDwLKzeWauPp0t62+pbmUQL4ZDg==",
      "keyId": "0d5a75da-15a9-4048-a143-f3eb37609ddd", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1339'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/34235a62-6939-42ff-97f0-d1ab2f1efa11?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:28:27 GMT
      duration:
      - '4029844'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - w5IqX+RqsHvTjN+7dFqqGTfScJYP7JWeYGCY9SaeaQk=
      ocp-aad-session-key:
      - -g_JwLBoYC8NGmK1IUFlCRwTLxDMW0oZtmxcnRsK9AnNqbpFZl2UpgRrvVnqZV83fPbZcElJSqXJw0Ehtfrd0dZTbxcqvemBmRqtT0BbzHeVhRh0_3u0oFL8S197M8Ar7OZwGmtRC97iyzecF0ez7cwlBJ1fAxmquCqM0pRdh38.RQ58n-l4T_rVZw6YXIMD8rEz6yAVNG-zQhFzeabuPm0
      pragma:
      - no-cache
      request-id:
      - 683ba4d8-bfff-4779-9a42-b55893323d82
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%272965c5cf-3fde-498d-a8f6-3e7d023dd934%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:28 GMT
      duration:
      - '2352400'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Rq4v5lEboZ0Ynm8yTHts4KZB+bdecsqzrEzFNE6Z0Wg=
      ocp-aad-session-key:
      - SeODQuGu2ftDjbYZqlanG2WxLmrON9BvuNmdnFp_mEf5yWP6qa6Y775i5fnniT95jszT7Td24v5K1RAmi_6IhZCXesYgSWwwNmGjUySjZrTZH7onG2w1JA1MWl7lfYxSiPIDxBUKgP-F6ncvNcv3i4S5u9uZRVr50ZyCA-sbXdI.WQC0pvbmM2t0QDag62ChCmCes6Jv6ceoTiuttSQhwJY
      pragma:
      - no-cache
      request-id:
      - 7ed3b2d5-47af-4b82-9048-9a147028f1b5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%272965c5cf-3fde-498d-a8f6-3e7d023dd934%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"34235a62-6939-42ff-97f0-d1ab2f1efa11","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2965c5cf-3fde-498d-a8f6-3e7d023dd934","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"BF3934EFE4F31B74BCB080F3770073D8D7CA7A8A","endDate":"2023-02-17T05:28:23.642707Z","keyId":"0d5a75da-15a9-4048-a143-f3eb37609ddd","startDate":"2022-02-17T05:28:23.642707Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/34235a62-6939-42ff-97f0-d1ab2f1efa11/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"6d973d2f-49cf-4045-a5b5-0ca2cf76c918","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2343'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:28 GMT
      duration:
      - '2736124'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - ABa3h43dCS0Jfauyv0UG2R2XdDVDFR-ageuaIFzVEjKgV_4AHkLYWu5Z9RfuehrgK75EVOTkwAQREO9usbnNJE832-Lh0ogBRK4JZAvcQIbfzvisza2nj_BW8fGXLXBEhKCGcUysQ7r9Q2XRliJUOyinJ436drBbdh5abndWlDU.NbN1a6HBHozBxe0wYJrvO5qzz-rQhzTFy0dQtmiqHnA
      pragma:
      - no-cache
      request-id:
      - 7d22f7a1-6292-43ec-9a06-f840d72da91f
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/34235a62-6939-42ff-97f0-d1ab2f1efa11?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:28:28 GMT
      duration:
      - '3533807'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - foSmDaJ2HI4abzxF7i5peK004ET6bwxVhV-csKUnXxhdU1071wyLWRa4ScbiAedPQLq-0na3kFsSzot4FaYipuYrGP2_abcM2HfXl_vJg0GhdmWWR0caYYz1bVb2vsgedn9KuzMte5744aAqwX5rcRTpbIH5T5IIVvfuckPceCw.USi8yilZWYbuK0jLa7xcKI3vh-y_nj5bg7QcA7m9jVs
      pragma:
      - no-cache
      request-id:
      - 16046322-b779-4e60-9f42-2083a81f838b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 6}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '510'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQC98LPkcolgTyG1ZJQ9ly3chb4RkwXW89z2nYaA82dSXgETjkQgadESewl0FRN96upwMOdT+N/gtZeDw7if2Ob4mIFzptELTWWc8Kwx0bZ1J5QXeZGg71ikQ4Sv5WBR7rDOzoJdl7n2aFf3GVXrwoBmNU95x3y8FLQgaFMxGIZYZLqHp/tEXVaojnCR2j3h9s1MGuiJ7Ki+l4C0rTdFLJLZlJrEbY/FnWFYhxXRsQGNXi5Z/YOre+0ptDbMTDNi0fucupbjyxk9sDhINvTZvLhURVUObNDXiQxpWoSTmil7q3W5TPfDunlBPgRcO3FvF4fTYwtuec0O7KFPlthbfaC6","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"6becd2fe66134b4f83774b209163b497"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:30 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=6becd2fe66134b4f83774b209163b497
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQC98LPkcolgTyG1ZJQ9ly3chb4RkwXW89z2nYaA82dSXgETjkQgadESewl0FRN96upwMOdT+N/gtZeDw7if2Ob4mIFzptELTWWc8Kwx0bZ1J5QXeZGg71ikQ4Sv5WBR7rDOzoJdl7n2aFf3GVXrwoBmNU95x3y8FLQgaFMxGIZYZLqHp/tEXVaojnCR2j3h9s1MGuiJ7Ki+l4C0rTdFLJLZlJrEbY/FnWFYhxXRsQGNXi5Z/YOre+0ptDbMTDNi0fucupbjyxk9sDhINvTZvLhURVUObNDXiQxpWoSTmil7q3W5TPfDunlBPgRcO3FvF4fTYwtuec0O7KFPlthbfaC6","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"6becd2fe66134b4f83774b209163b497"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQC98LPkcolgTyG1ZJQ9ly3chb4RkwXW89z2nYaA82dSXgETjkQgadESewl0FRN96upwMOdT+N/gtZeDw7if2Ob4mIFzptELTWWc8Kwx0bZ1J5QXeZGg71ikQ4Sv5WBR7rDOzoJdl7n2aFf3GVXrwoBmNU95x3y8FLQgaFMxGIZYZLqHp/tEXVaojnCR2j3h9s1MGuiJ7Ki+l4C0rTdFLJLZlJrEbY/FnWFYhxXRsQGNXi5Z/YOre+0ptDbMTDNi0fucupbjyxk9sDhINvTZvLhURVUObNDXiQxpWoSTmil7q3W5TPfDunlBPgRcO3FvF4fTYwtuec0O7KFPlthbfaC6","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"6becd2fe66134b4f83774b209163b497"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_existing_cert0000012%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:43 GMT
      duration:
      - '2596600'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - 8eN-4TPyThfThP-qT6elWImmq829F-4D5eLeGpWOVtdfwEwKGQDF51KOcIQX6pZ9Fs4TifrNbu4-AggrKGz3NjLajorestwYY8gLpom-9yvwa0_pPyXyrMWsJiYk34mK3Y-yGtvJ1HJ9gcM4Y_e1YcyPusDBL9GmRVnRj8uB5zg.oK3imST0FtgaIcVSUEla-llzw3CZTSs0E6IwAEjiSlI
      pragma:
      - no-cache
      request-id:
      - c0166259-ee37-48c7-ad78-b754d0a35f71
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/35e5cc6d25284123a0757fa7823e3580","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/35e5cc6d25284123a0757fa7823e3580","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/35e5cc6d25284123a0757fa7823e3580","x5t":"t53iMXoakWjEUuZLmACdOlv6fcs","cer":"MIIDQjCCAiqgAwIBAgIQY6R8eUo6TDGBexoha6KGDjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgzNFoXDTIyMDgxNzA1MjgzNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAB+San14Ohz/nAoC6fNRnRizkpqH1bMOBe5gNiI7dll7hqhmCXVWCVySW31RllPenz6oWYk7TscwVN8WxlIcN9mlpZUTPzkb0QEJExE98LPg0xSdJdpd++lAZ87Uzl9iRjvtt/nEy0hGpzTxQ8StvArHSP9n1cJ3Qk/1L9TuIiiemiTM5DR0gL4s+JTH25yIuuV3ul10P8W7T5b/uYuoyrECZVAvlwhmY61QcXT2y9RccE0wjP5sI3fuq5Ihg3Qu7c/tH6IZPjvAmzLpxdvwTR5nSdwmYVd+T+6HBtSvyk4s+rKYZriIJNAxWXAAQOP+9d1Ot9bfewSao72Yi4UrN9A==","attributes":{"enabled":true,"nbf":1645075114,"exp":1660714114,"created":1645075714,"updated":1645075714,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075698,"updated":1645075710}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2398'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:45 GMT
      duration:
      - '2401799'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - gPnpdqpwyGrDEewN8wjIW0CFeFa4Hzg72WshawB8akU=
      ocp-aad-session-key:
      - 6idRY2_IJTYNTd5b4_85EkQx-6ToSNpbpi_rk_QGwe2S8thzqWCs7rbuknvGUhUW5S8nA_1VxNxMchP7Gli08zLd3yOBlegGJeqA_UegrlmhuPTLEIQk-gOBjWAaEfjpI7MGzB5jjY6rpyqz3EiEXuqjZ4-syNqhJmg9KO2KOxA.eT25ksUHw3m5J7ahxSutS_iVHHl_rG_0tt1KJ7LDPrk
      pragma:
      - no-cache
      request-id:
      - 8ece0e5e-6a0a-40a5-89a9-3532f37c3d0f
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "keyCredentials": [{"startDate": "2022-02-17T05:28:44.347694Z",
      "endDate": "2022-08-17T05:28:33.000Z", "value": "MIIDQjCCAiqgAwIBAgIQY6R8eUo6TDGBexoha6KGDjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgzNFoXDTIyMDgxNzA1MjgzNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAB+San14Ohz/nAoC6fNRnRizkpqH1bMOBe5gNiI7dll7hqhmCXVWCVySW31RllPenz6oWYk7TscwVN8WxlIcN9mlpZUTPzkb0QEJExE98LPg0xSdJdpd++lAZ87Uzl9iRjvtt/nEy0hGpzTxQ8StvArHSP9n1cJ3Qk/1L9TuIiiemiTM5DR0gL4s+JTH25yIuuV3ul10P8W7T5b/uYuoyrECZVAvlwhmY61QcXT2y9RccE0wjP5sI3fuq5Ihg3Qu7c/tH6IZPjvAmzLpxdvwTR5nSdwmYVd+T+6HBtSvyk4s+rKYZriIJNAxWXAAQOP+9d1Ot9bfewSao72Yi4UrN9A==",
      "keyId": "88888888-0000-0000-0000-000000000002", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert0000012",
      "identifierUris": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1451'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "2b64f8c7-b448-4733-9996-a3c0fee08b33", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "cbe5822b-4b83-4f9f-a458-de8db83de394",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_existing_cert0000012", "errorUrl":
        null, "groupMembershipClaims": null, "homepage": null, "identifierUris": [],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [{"customKeyIdentifier": "B79DE2317A1A9168C452E64B98009D3A5BFA7DCB", "endDate":
        "2022-08-17T05:28:33Z", "keyId": "88888888-0000-0000-0000-000000000002", "startDate":
        "2022-02-17T05:28:44.347694Z", "type": "AsymmetricX509Cert", "usage": "Verify",
        "value": null}], "knownClientApplications": [], "logoutUrl": null, "logo@odata.mediaEditLink":
        "directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_existing_cert0000012
        on behalf of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert0000012",
        "id": "9e584b4e-cbcf-4cce-8c33-6f5975660bd9", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_existing_cert0000012
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert0000012",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2545'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:46 GMT
      duration:
      - '3598837'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - KoxorU0EBVpGcjUBIPwdXuaRvMlvxus7eW7QtyW0eYRbd5RCiOys3ANYzGH63D5WoCNO5LXQiUx9WVRS6H1EUfSGonzmLsLnjdTSsWX3Wk_K5uCztOwND7vqwdJMvll-5QKZG1ApNuvhIBa3IFspcNL2m--9em_US1L1J6UUOSA.S6auXTrSBxjTCCIGTRTERPlnNYwzLDvReUpCv7l2LnM
      pragma:
      - no-cache
      request-id:
      - 30a95164-a293-40b1-adb0-319fca240bc9
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "cbe5822b-4b83-4f9f-a458-de8db83de394"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"4ea360f7-4446-409d-a15a-b54748f876a2","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"cbe5822b-4b83-4f9f-a458-de8db83de394","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"9e584b4e-cbcf-4cce-8c33-6f5975660bd9","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["cbe5822b-4b83-4f9f-a458-de8db83de394"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1778'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:47 GMT
      duration:
      - '4024711'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/4ea360f7-4446-409d-a15a-b54748f876a2/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - 2kE048K8nfu4b_m-QkOzhFWZVBERtNOSKZvZ0xAYO1KFDkq0YImcthOhQwHaAnztbgRZlYrB0rrr3JqqXB7V3_3stwDv0u0pfSibJFo70k7I-anUoBZ2SNSR5XKfYNcPoy8ovMMdZROliYhrbCNquXTxRliyh4wWhjAUElr8Cp8.adH8oBzv6La_t2B3_gqIgKF9XFuezdZLsoEV1gk3zPo
      pragma:
      - no-cache
      request-id:
      - af0f9351-d2ad-4d61-ba0b-0bb6aff4ef83
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27cbe5822b-4b83-4f9f-a458-de8db83de394%27%29%20or%20displayName%20eq%20%27cbe5822b-4b83-4f9f-a458-de8db83de394%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"4ea360f7-4446-409d-a15a-b54748f876a2","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"cbe5822b-4b83-4f9f-a458-de8db83de394","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"9e584b4e-cbcf-4cce-8c33-6f5975660bd9","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["cbe5822b-4b83-4f9f-a458-de8db83de394"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1781'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:47 GMT
      duration:
      - '2614253'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - byn8oKGevN7x6c/tW6kQFCTCaIntWChy2cUf3ntrN/U=
      ocp-aad-session-key:
      - NpRIFD86YwMKsheIWwaKRK0s-OJzYfkgDcexD9fHK5E9r_5ki9KccNjFeGmLeQTnYdK1wtwD8-WsxfYHX0ghgdsL7PWTpcDBVZBUiUgPEKe9cpVMcnrF0Cy3ShKyFGsD9SeNRrJbNys7JwdCJDxDNX4QJ3FZ2XQg16v73WVdcXM.FS0AD-SBFJw5s2lQdmA6kaH8SrycOn8E-sE_jm9bFc4
      pragma:
      - no-cache
      request-id:
      - 2167c6c5-aee2-4257-ad8f-7f20db16e3ef
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27cbe5822b-4b83-4f9f-a458-de8db83de394%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:48 GMT
      duration:
      - '2357478'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - YawNQr1dZQ305g4BraOh4D2uiFNsxdHpUlcdUQYyck0=
      ocp-aad-session-key:
      - kXTCcdZS0SbT9rPJxA16ctjh41SpBOOAMaRHRj6cqKyaThhmrkuw-yMldpQL567FhE9ZHbJlbEHlcf0FL4PfBRjaFAyuVH9d44qaq2fnzhwBh9wzFlBbUqby4h1e8r3HU5mQyRCjAxzsNHIE4aBxOnxW8yBxnFimFCIkmvFE4Iw.wvh44Jkoc1wv12OkybeHKTXAQ2fSTgn7qBSXB7ORVtA
      pragma:
      - no-cache
      request-id:
      - 9875f5bc-4a61-4f83-8801-fdc6e355757b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27cbe5822b-4b83-4f9f-a458-de8db83de394%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"2b64f8c7-b448-4733-9996-a3c0fee08b33","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"cbe5822b-4b83-4f9f-a458-de8db83de394","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"B79DE2317A1A9168C452E64B98009D3A5BFA7DCB","endDate":"2022-08-17T05:28:33Z","keyId":"88888888-0000-0000-0000-000000000002","startDate":"2022-02-17T05:28:44.347694Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"9e584b4e-cbcf-4cce-8c33-6f5975660bd9","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2341'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:48 GMT
      duration:
      - '2530950'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - g3GHCLC2VuCK0y75aaOFxEYx9lRaxz2KFzfXeQUdUq0=
      ocp-aad-session-key:
      - h-SQpJWi3BA8t0wB0C2-rd750_JQK0tNb_xPKdwB30_6dp3lS_runxmR_MaSjhZpNkqz0p4ZQyjxVsb4Ueu0sxw-wx-gNbvwb1HhyWjwHCoAROT3ydq2cV_ZE24KmTXQN8Ppinr40qAZe2Coca6uIgUrnvzgGm5g6DsVaQodFgk.o1l1UJYyrnBL-GO2tyAVhY5p5f4H1cis1zY1E7bG_Dc
      pragma:
      - no-cache
      request-id:
      - d99c5a2b-99b8-404b-87cf-5acf871efd05
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/2b64f8c7-b448-4733-9996-a3c0fee08b33?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"2b64f8c7-b448-4733-9996-a3c0fee08b33","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"cbe5822b-4b83-4f9f-a458-de8db83de394","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"B79DE2317A1A9168C452E64B98009D3A5BFA7DCB","endDate":"2022-08-17T05:28:33Z","keyId":"88888888-0000-0000-0000-000000000002","startDate":"2022-02-17T05:28:44.347694Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"9e584b4e-cbcf-4cce-8c33-6f5975660bd9","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2338'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:50 GMT
      duration:
      - '13597909'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - LmoegqZCop2sZTnyD3yNt8vInhxCwLu9olxb7rKTDRo=
      ocp-aad-session-key:
      - 8YB8dqN12PXBEtRsN4Vjflrw9oWMOePxXDANLGqFM3vTFaGJpu_3A5drrNIKa8xrkXIqNK-Puu9sO0Bllf5w-XPYIDrjQvB2YVadbj3m7L2zZudbuCAhZxtSVDoI4DyIB3NQKWrHN5PKTO_2fcj5_q9xWiJkjA5t6fxeqZGNPjs.jI8cES2bdqUXGKmA2YFfqEcALUnx-mHZU5H_0bEeRAY
      pragma:
      - no-cache
      request-id:
      - 20844a03-93fa-4a0d-8d9d-d95aaaee8ff4
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/35e5cc6d25284123a0757fa7823e3580","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/35e5cc6d25284123a0757fa7823e3580","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/35e5cc6d25284123a0757fa7823e3580","x5t":"t53iMXoakWjEUuZLmACdOlv6fcs","cer":"MIIDQjCCAiqgAwIBAgIQY6R8eUo6TDGBexoha6KGDjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgzNFoXDTIyMDgxNzA1MjgzNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAB+San14Ohz/nAoC6fNRnRizkpqH1bMOBe5gNiI7dll7hqhmCXVWCVySW31RllPenz6oWYk7TscwVN8WxlIcN9mlpZUTPzkb0QEJExE98LPg0xSdJdpd++lAZ87Uzl9iRjvtt/nEy0hGpzTxQ8StvArHSP9n1cJ3Qk/1L9TuIiiemiTM5DR0gL4s+JTH25yIuuV3ul10P8W7T5b/uYuoyrECZVAvlwhmY61QcXT2y9RccE0wjP5sI3fuq5Ihg3Qu7c/tH6IZPjvAmzLpxdvwTR5nSdwmYVd+T+6HBtSvyk4s+rKYZriIJNAxWXAAQOP+9d1Ot9bfewSao72Yi4UrN9A==","attributes":{"enabled":true,"nbf":1645075114,"exp":1660714114,"created":1645075714,"updated":1645075714,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075698,"updated":1645075710}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2398'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:28:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2022-02-17T05:28:47.711558Z", "endDate":
      "2022-08-17T05:28:33.000Z", "value": "MIIDQjCCAiqgAwIBAgIQY6R8eUo6TDGBexoha6KGDjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTgzNFoXDTIyMDgxNzA1MjgzNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMN3wqpDjGAwMsgNOwxo+JYy2AeoP4RNzU5lN3kKe1SAekRn1GOnXnBdhIF8A9AOLwf0NfYmss0Bu1mLrE+CFFcR2W41PKfl74zfUzBf+lUfK8HnerQ4BUzFGAFiWSk3vKo8sBN4KmHUJRnYahspGfiF/jxtPlLNb19OVrCRgnpz6XqLUXNdqEOIN1TIm0oCbrx18SpW+We3J75lQtft8w1zui/4n+21KsMKDK1t+uPSu8WTVRUCh/wYE5sh1M41q0dWbsjpKOGVNdYS082t5YbMkbcfV1OvYFHcAphlJfxlXp65GX63Fi2oOksg7Jd0o3VwfC6mpvyJkjaEVA6yhBUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFBoxdog0w0KHLjyx2O9T+PTsLgliMB0GA1UdDgQWBBQaMXaINMNChy48sdjvU/j07C4JYjANBgkqhkiG9w0BAQsFAAOCAQEAB+San14Ohz/nAoC6fNRnRizkpqH1bMOBe5gNiI7dll7hqhmCXVWCVySW31RllPenz6oWYk7TscwVN8WxlIcN9mlpZUTPzkb0QEJExE98LPg0xSdJdpd++lAZ87Uzl9iRjvtt/nEy0hGpzTxQ8StvArHSP9n1cJ3Qk/1L9TuIiiemiTM5DR0gL4s+JTH25yIuuV3ul10P8W7T5b/uYuoyrECZVAvlwhmY61QcXT2y9RccE0wjP5sI3fuq5Ihg3Qu7c/tH6IZPjvAmzLpxdvwTR5nSdwmYVd+T+6HBtSvyk4s+rKYZriIJNAxWXAAQOP+9d1Ot9bfewSao72Yi4UrN9A==",
      "keyId": "8ff59b43-2387-4f46-8aef-90308bea6834", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1336'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/2b64f8c7-b448-4733-9996-a3c0fee08b33?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:28:52 GMT
      duration:
      - '4035048'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - byn8oKGevN7x6c/tW6kQFCTCaIntWChy2cUf3ntrN/U=
      ocp-aad-session-key:
      - eeKfGMSRZ4GLSgaKEcIOK2z5x80wMvmFetdET8-c2CsnDUbOg01z7Ow3zVJqz84FzDPT5jkFsb3Eziz6X3BQWu_d3KeN1bvNV8KRurRFVCvV5jpzSpTgo9yJn3YUPIkmPB9tNAhoui69Fxl5sCi1rulgiHEQJ5LFcJlVK2_GMAI.FjBNkCC_Ysd8WQACXeqhxlH3MyG7IQnteAVq5_xJQOs
      pragma:
      - no-cache
      request-id:
      - 9066106f-6e4c-4075-adac-ba0f1af9e650
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27cbe5822b-4b83-4f9f-a458-de8db83de394%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:52 GMT
      duration:
      - '2405179'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - YawNQr1dZQ305g4BraOh4D2uiFNsxdHpUlcdUQYyck0=
      ocp-aad-session-key:
      - E6PFYqQmzE4UxFcHSX7CtdRnH1e715BIbtjSF3Bdd9V0SELmbEwu9gY116ZDwF0KvnQIKKoZkzC9v5ghavGsyc1d9ZpTsEWFT9M5cMtgeK4zUhOSPVsY1bRe7SY_aK0ZPhCpIhqPcFaG8dxw9EADSPYmQkk93v3Mi_VkOQL_n24.gzJw1E6K1N09DDgSAYLd6Ge1SPlnS2ibvnXVLy21Sdo
      pragma:
      - no-cache
      request-id:
      - dc955678-d16e-4b56-add1-94a1096408a5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27cbe5822b-4b83-4f9f-a458-de8db83de394%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"2b64f8c7-b448-4733-9996-a3c0fee08b33","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"cbe5822b-4b83-4f9f-a458-de8db83de394","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"B79DE2317A1A9168C452E64B98009D3A5BFA7DCB","endDate":"2022-08-17T05:28:33Z","keyId":"8ff59b43-2387-4f46-8aef-90308bea6834","startDate":"2022-02-17T05:28:47.711558Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/2b64f8c7-b448-4733-9996-a3c0fee08b33/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"9e584b4e-cbcf-4cce-8c33-6f5975660bd9","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2341'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:28:53 GMT
      duration:
      - '2370925'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - 5NQyMiqdxAN4GjR2fXhYoUU2wZrv0oahMEsnAOcKdfs8qOEKJLh0fwfscsrHikjAXlGjegdu4mjSLktZv4dYaRhB8NdPuZSFABpGt2Zz2qD2j_d8BsXSQ52ncmwAfxtiUEEaplPCa8yjzjJ9LJN6eTgedcch4MTCqbj0eFQsCF8.iyO8ck0BtVn55AAXjDdjn62W7G6ecZvjoYKEfZZDVBU
      pragma:
      - no-cache
      request-id:
      - 7d7a1c1a-7204-48e6-86f9-0238a1e496cb
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/2b64f8c7-b448-4733-9996-a3c0fee08b33?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:28:54 GMT
      duration:
      - '3552357'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - gPnpdqpwyGrDEewN8wjIW0CFeFa4Hzg72WshawB8akU=
      ocp-aad-session-key:
      - -NkInd6CLmXDeCbgYEZ_ZHfv0pmI9t5ipW2AN56Wj_eBJlneVPpFL6iz3AOGJosz-ruHyGnUCjQT8fW_7cx9QHF8OXxNMI4smOm-nyGOArgli6_sJNwbsj5UihTKXG9v-WPxuUaxwRpF_Q3qg0aiHULq7bTKjthzZrEGdz3-2Go.o7UaRxx_FUkHL-hVvnRrHFr2InzC5juRQAK3TRoycr4
      pragma:
      - no-cache
      request-id:
      - d514f169-ee5c-4ece-81a5-94183019d1d7
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
