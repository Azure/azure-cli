interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - redis list
      Connection:
      - keep-alive
      User-Agent:
      - AZURECLI/2.62.0 azsdk-python-core/1.28.0 Python/3.8.10 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Cache/redis?api-version=2024-03-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/disableAccessKeysPortalTesting/providers/Microsoft.Cache/Redis/kj-accesskeys-aad-wus","location":"West
        US","name":"kj-accesskeys-aad-wus","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":true,"isPrimary":true}],"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","redisConfiguration":{"aad-enabled":"true","maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-policy":"allkeys-lru","maxmemory-delta":"642"},"accessKeys":null,"hostName":"kj-accesskeys-aad-wus.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[],"updateChannel":"Stable","disableAccessKeyAuthentication":false}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PowerShellTest-05968bcc/providers/Microsoft.Cache/Redis/redisteam011-05968bcc","location":"West
        US","name":"redisteam011-05968bcc","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Deleting","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"redisteam011-05968bcc.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[],"updateChannel":"Stable","disableAccessKeyAuthentication":false}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/dp-patching/providers/Microsoft.Cache/Redis/mi-delete-add-test","location":"East
        US","name":"mi-delete-add-test","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Standard","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"256","maxmemory-reserved":"30","maxfragmentationmemory-reserved":"30","maxmemory-delta":"30"},"accessKeys":null,"hostName":"mi-delete-add-test.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[],"updateChannel":"Stable","disableAccessKeyAuthentication":false},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/dp-patching/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rediscache1":{"principalId":"f94df36f-db10-4aa5-aaf6-026aa7737449","clientId":"49a272fa-c915-484f-b5bc-3fb8ecb06cda"}}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/icm-testing-may/providers/Microsoft.Cache/Redis/redis-prod-hk-pm-shared-pl-az-kj","location":"East
        US","name":"redis-prod-hk-pm-shared-pl-az-kj","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"shardId":0,"isMaster":false,"isPrimary":false},{"sslPort":15001,"shardId":0,"isMaster":false,"isPrimary":false},{"sslPort":15002,"shardId":0,"isMaster":true,"isPrimary":true}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"redis-prod-hk-pm-shared-pl-az-kj.redis.cache.windows.net","port":6379,"sslPort":6380,"replicasPerMaster":2,"linkedServers":[],"replicasPerPrimary":2,"updateChannel":"Stable","disableAccessKeyAuthentication":false}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/icm-testing-may/providers/Microsoft.Cache/Redis/redis-prod-hk-pm-shared-3-pl-az-kj","location":"East
        US","name":"redis-prod-hk-pm-shared-3-pl-az-kj","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"shardId":0,"isMaster":false,"isPrimary":false},{"sslPort":15001,"shardId":0,"isMaster":false,"isPrimary":false},{"sslPort":15002,"shardId":0,"isMaster":true,"isPrimary":true}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"redis-prod-hk-pm-shared-3-pl-az-kj.redis.cache.windows.net","port":6379,"sslPort":6380,"replicasPerMaster":2,"linkedServers":[],"replicasPerPrimary":2,"updateChannel":"Stable","disableAccessKeyAuthentication":false}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/disableAccessKeysPortalTesting/providers/Microsoft.Cache/Redis/kj-accesskeys-eus","location":"East
        US","name":"kj-accesskeys-eus","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":true,"isPrimary":true}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","aad-enabled":"True","maxmemory-delta":"642"},"accessKeys":null,"hostName":"kj-accesskeys-eus.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[],"updateChannel":"Preview","disableAccessKeyAuthentication":false}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/disableAccessKeysPortalTesting/providers/Microsoft.Cache/Redis/kj-test-deny-policy","location":"East
        US","name":"kj-test-deny-policy","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Standard","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":true,"isPrimary":true}],"publicNetworkAccess":"Enabled","redisConfiguration":{"aad-enabled":"true","maxclients":"256","maxmemory-reserved":"30","maxfragmentationmemory-reserved":"30","maxmemory-delta":"30"},"accessKeys":null,"hostName":"kj-test-deny-policy.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[],"updateChannel":"Stable","disableAccessKeyAuthentication":true}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/disableAccessKeysPortalTesting/providers/Microsoft.Cache/Redis/kj-test-deny-policy-2","location":"East
        US","name":"kj-test-deny-policy-2","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Standard","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"aad-enabled":"true","maxclients":"256","maxmemory-reserved":"30","maxfragmentationmemory-reserved":"30","maxmemory-delta":"30"},"accessKeys":null,"hostName":"kj-test-deny-policy-2.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[],"updateChannel":"Stable","disableAccessKeyAuthentication":true}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/disableAccessKeysPortalTesting/providers/Microsoft.Cache/Redis/test-show-keys-bug","location":"East
        US","name":"test-show-keys-bug","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Standard","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"aad-enabled":"true","maxclients":"256","maxmemory-reserved":"30","maxfragmentationmemory-reserved":"30","maxmemory-delta":"30"},"accessKeys":null,"hostName":"test-show-keys-bug.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[],"updateChannel":"Stable","disableAccessKeyAuthentication":true}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8548'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 24 Jul 2024 20:16:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - 74c10531-2e1a-4151-9dae-cd29dfc830ef
      - 8aa57d3c-f78d-4f61-bb38-cdb532402c1b
      x-msedge-ref:
      - 'Ref A: 264E09C01F16478CA072513586BBF310 Ref B: MAA201060515035 Ref C: 2024-07-24T20:16:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - redis list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.62.0 azsdk-python-core/1.28.0 Python/3.8.10 (Windows-10-10.0.22631-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis000001/providers/Microsoft.Cache/redis?api-version=2024-03-01
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 24 Jul 2024 20:16:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 45447D7FD62D46388E5FAA43EDAF59FD Ref B: MAA201060513051 Ref C: 2024-07-24T20:16:23Z'
    status:
      code: 200
      message: OK
version: 1
