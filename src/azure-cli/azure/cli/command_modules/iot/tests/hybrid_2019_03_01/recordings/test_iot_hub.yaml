interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/storageAccounts?api-version=2021-09-01
  response:
    body:
      string: '{"value":[{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/damoblob","name":"damoblob","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2022-01-16T13:36:12.4933661Z","key2":"2022-01-16T13:36:12.4933661Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"},"table":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"},"queue":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-01-16T13:36:12.4933661Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-01-16T13:36:12.3527692Z","primaryEndpoints":{"dfs":"https://damoblob.dfs.core.windows.net/","web":"https://damoblob.z13.web.core.windows.net/","blob":"https://damoblob.blob.core.windows.net/","queue":"https://damoblob.queue.core.windows.net/","table":"https://damoblob.table.core.windows.net/","file":"https://damoblob.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://damoblob-secondary.dfs.core.windows.net/","web":"https://damoblob-secondary.z13.web.core.windows.net/","blob":"https://damoblob-secondary.blob.core.windows.net/","queue":"https://damoblob-secondary.queue.core.windows.net/","table":"https://damoblob-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/damosynapsedemo","name":"damosynapsedemo","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2021-07-20T09:25:06.6103115Z","key2":"2021-07-20T09:25:06.6103115Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"isHnsEnabled":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-20T09:25:06.6103115Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-20T09:25:06.6103115Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-07-20T09:25:06.5010508Z","primaryEndpoints":{"dfs":"https://damosynapsedemo.dfs.core.windows.net/","web":"https://damosynapsedemo.z13.web.core.windows.net/","blob":"https://damosynapsedemo.blob.core.windows.net/","queue":"https://damosynapsedemo.queue.core.windows.net/","table":"https://damosynapsedemo.table.core.windows.net/","file":"https://damosynapsedemo.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cyjackso/providers/Microsoft.Storage/storageAccounts/ebsv2","name":"ebsv2","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2022-04-04T09:57:38.4376280Z","key2":"2022-04-04T09:57:38.4376280Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-04T09:57:38.4376280Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-04T09:57:38.4376280Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-04T09:57:38.2970213Z","primaryEndpoints":{"dfs":"https://ebsv2.dfs.core.windows.net/","web":"https://ebsv2.z13.web.core.windows.net/","blob":"https://ebsv2.blob.core.windows.net/","queue":"https://ebsv2.queue.core.windows.net/","table":"https://ebsv2.table.core.windows.net/","file":"https://ebsv2.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/him-rg/providers/Microsoft.Storage/storageAccounts/himstorageacc","name":"himstorageacc","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-06-30T07:12:43.1407222Z","key2":"2021-06-30T07:12:43.1407222Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-06-30T07:12:43.1407222Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-06-30T07:12:43.1407222Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-06-30T07:12:43.0313726Z","primaryEndpoints":{"dfs":"https://himstorageacc.dfs.core.windows.net/","web":"https://himstorageacc.z13.web.core.windows.net/","blob":"https://himstorageacc.blob.core.windows.net/","queue":"https://himstorageacc.queue.core.windows.net/","table":"https://himstorageacc.table.core.windows.net/","file":"https://himstorageacc.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://himstorageacc-secondary.dfs.core.windows.net/","web":"https://himstorageacc-secondary.z13.web.core.windows.net/","blob":"https://himstorageacc-secondary.blob.core.windows.net/","queue":"https://himstorageacc-secondary.queue.core.windows.net/","table":"https://himstorageacc-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/pranjit_RG1/providers/Microsoft.Storage/storageAccounts/pranjitstorageac","name":"pranjitstorageac","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2021-12-16T19:16:55.7870505Z","key2":"2021-12-16T19:16:55.7870505Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-12-16T19:16:55.7870505Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-12-16T19:16:55.7870505Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-12-16T19:16:55.6620361Z","primaryEndpoints":{"dfs":"https://pranjitstorageac.dfs.core.windows.net/","web":"https://pranjitstorageac.z13.web.core.windows.net/","blob":"https://pranjitstorageac.blob.core.windows.net/","queue":"https://pranjitstorageac.queue.core.windows.net/","table":"https://pranjitstorageac.table.core.windows.net/","file":"https://pranjitstorageac.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/riddhi-resource-group/providers/Microsoft.Storage/storageAccounts/riddhistorage","name":"riddhistorage","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-06-07T13:12:11.0999828Z","key2":"2021-06-07T13:12:11.0999828Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-06-07T13:12:11.0999828Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-06-07T13:12:11.0999828Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-06-07T13:12:10.9905948Z","primaryEndpoints":{"dfs":"https://riddhistorage.dfs.core.windows.net/","web":"https://riddhistorage.z13.web.core.windows.net/","blob":"https://riddhistorage.blob.core.windows.net/","queue":"https://riddhistorage.queue.core.windows.net/","table":"https://riddhistorage.table.core.windows.net/","file":"https://riddhistorage.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/pranjit_RG1/providers/Microsoft.Storage/storageAccounts/storageaccountpranj8945","name":"storageaccountpranj8945","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-12-17T18:48:57.2071783Z","key2":"2021-12-17T18:48:57.2071783Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-12-17T18:48:57.2071783Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-12-17T18:48:57.2071783Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-12-17T18:48:57.0671196Z","primaryEndpoints":{"blob":"https://storageaccountpranj8945.blob.core.windows.net/","queue":"https://storageaccountpranj8945.queue.core.windows.net/","table":"https://storageaccountpranj8945.table.core.windows.net/","file":"https://storageaccountpranj8945.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shatabdiRg/providers/Microsoft.Storage/storageAccounts/storageaccountshatab88c","name":"storageaccountshatab88c","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-10-27T07:32:35.2856037Z","key2":"2021-10-27T07:32:35.2856037Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-27T07:32:35.2856037Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-27T07:32:35.2856037Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-10-27T07:32:35.1605900Z","primaryEndpoints":{"blob":"https://storageaccountshatab88c.blob.core.windows.net/","queue":"https://storageaccountshatab88c.queue.core.windows.net/","table":"https://storageaccountshatab88c.table.core.windows.net/","file":"https://storageaccountshatab88c.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/VijaySharma-TestGroup/providers/Microsoft.Storage/storageAccounts/vijaysharmasamplestorage","name":"vijaysharmasamplestorage","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2022-03-27T10:51:31.0302966Z","key2":"2022-03-27T10:51:31.0302966Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-27T10:51:31.0458710Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-27T10:51:31.0458710Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-03-27T10:51:30.9209071Z","primaryEndpoints":{"dfs":"https://vijaysharmasamplestorage.dfs.core.windows.net/","web":"https://vijaysharmasamplestorage.z13.web.core.windows.net/","blob":"https://vijaysharmasamplestorage.blob.core.windows.net/","queue":"https://vijaysharmasamplestorage.queue.core.windows.net/","table":"https://vijaysharmasamplestorage.table.core.windows.net/","file":"https://vijaysharmasamplestorage.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://vijaysharmasamplestorage-secondary.dfs.core.windows.net/","web":"https://vijaysharmasamplestorage-secondary.z13.web.core.windows.net/","blob":"https://vijaysharmasamplestorage-secondary.blob.core.windows.net/","queue":"https://vijaysharmasamplestorage-secondary.queue.core.windows.net/","table":"https://vijaysharmasamplestorage-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-04-20T12:00:30.4538200Z","key2":"2022-04-20T12:00:30.4538200Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-20T12:00:30.4694615Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-20T12:00:30.4694615Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-04-20T12:00:30.3600869Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/storageaccountdamoda0fc","name":"storageaccountdamoda0fc","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-10-21T10:05:56.5115138Z","key2":"2021-10-21T10:05:56.5115138Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-21T10:05:56.5115138Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-21T10:05:56.5115138Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-10-21T10:05:56.4020829Z","primaryEndpoints":{"blob":"https://storageaccountdamoda0fc.blob.core.windows.net/","queue":"https://storageaccountdamoda0fc.queue.core.windows.net/","table":"https://storageaccountdamoda0fc.table.core.windows.net/","file":"https://storageaccountdamoda0fc.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/riddhi-resource-group/providers/Microsoft.Storage/storageAccounts/storageaccountriddh9e2e","name":"storageaccountriddh9e2e","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-06-08T10:12:01.4250498Z","key2":"2021-06-08T10:12:01.4250498Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-06-08T10:12:01.4250498Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-06-08T10:12:01.4250498Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-06-08T10:12:01.3313638Z","primaryEndpoints":{"blob":"https://storageaccountriddh9e2e.blob.core.windows.net/","queue":"https://storageaccountriddh9e2e.queue.core.windows.net/","table":"https://storageaccountriddh9e2e.table.core.windows.net/","file":"https://storageaccountriddh9e2e.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/VijaySharma-TestGroup/providers/Microsoft.Storage/storageAccounts/vijaysharmatestgrou83ca","name":"vijaysharmatestgrou83ca","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-03-27T23:33:05.7224335Z","key2":"2022-03-27T23:33:05.7224335Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-27T23:33:05.7224335Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-27T23:33:05.7224335Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-03-27T23:33:05.6139329Z","primaryEndpoints":{"blob":"https://vijaysharmatestgrou83ca.blob.core.windows.net/","queue":"https://vijaysharmatestgrou83ca.queue.core.windows.net/","table":"https://vijaysharmatestgrou83ca.table.core.windows.net/","file":"https://vijaysharmatestgrou83ca.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/charvak-dev/providers/Microsoft.Storage/storageAccounts/charvakosdisk","name":"charvakosdisk","type":"Microsoft.Storage/storageAccounts","location":"australiaeast","tags":{},"properties":{"defaultToOAuthAuthentication":false,"publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2022-04-15T07:15:35.3048310Z","key2":"2022-04-15T07:15:35.3048310Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"largeFileSharesState":"Enabled","networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-15T07:15:35.3048310Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-15T07:15:35.3048310Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-15T07:15:35.2266427Z","primaryEndpoints":{"dfs":"https://charvakosdisk.dfs.core.windows.net/","web":"https://charvakosdisk.z8.web.core.windows.net/","blob":"https://charvakosdisk.blob.core.windows.net/","queue":"https://charvakosdisk.queue.core.windows.net/","table":"https://charvakosdisk.table.core.windows.net/","file":"https://charvakosdisk.file.core.windows.net/"},"primaryLocation":"australiaeast","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/nsalian-test-rg/providers/Microsoft.Storage/storageAccounts/nsaliantestst","name":"nsaliantestst","type":"Microsoft.Storage/storageAccounts","location":"southindia","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2022-02-08T09:11:43.1415251Z","key2":"2022-02-08T09:11:43.1415251Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-02-08T09:11:43.1571062Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-02-08T09:11:43.1571062Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-02-08T09:11:43.0790254Z","primaryEndpoints":{"dfs":"https://nsaliantestst.dfs.core.windows.net/","web":"https://nsaliantestst.z30.web.core.windows.net/","blob":"https://nsaliantestst.blob.core.windows.net/","queue":"https://nsaliantestst.queue.core.windows.net/","table":"https://nsaliantestst.table.core.windows.net/","file":"https://nsaliantestst.file.core.windows.net/"},"primaryLocation":"southindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/shatabdiRg/providers/Microsoft.Storage/storageAccounts/skundustgacc","name":"skundustgacc","type":"Microsoft.Storage/storageAccounts","location":"southindia","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2021-10-27T07:57:01.8840425Z","key2":"2021-10-27T07:57:01.8840425Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-27T07:57:01.8840425Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-27T07:57:01.8840425Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-10-27T07:57:01.8215607Z","primaryEndpoints":{"dfs":"https://skundustgacc.dfs.core.windows.net/","web":"https://skundustgacc.z30.web.core.windows.net/","blob":"https://skundustgacc.blob.core.windows.net/","queue":"https://skundustgacc.queue.core.windows.net/","table":"https://skundustgacc.table.core.windows.net/","file":"https://skundustgacc.file.core.windows.net/"},"primaryLocation":"southindia","statusOfPrimary":"available","secondaryLocation":"centralindia","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://skundustgacc-secondary.dfs.core.windows.net/","web":"https://skundustgacc-secondary.z30.web.core.windows.net/","blob":"https://skundustgacc-secondary.blob.core.windows.net/","queue":"https://skundustgacc-secondary.queue.core.windows.net/","table":"https://skundustgacc-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-centralindia/providers/Microsoft.Storage/storageAccounts/csg100320015064ff5f","name":"csg100320015064ff5f","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2022-04-07T16:44:45.3744471Z","key2":"2022-04-07T16:44:45.3744471Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-07T16:44:45.3744471Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-07T16:44:45.3744471Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-07T16:44:45.3119657Z","primaryEndpoints":{"dfs":"https://csg100320015064ff5f.dfs.core.windows.net/","web":"https://csg100320015064ff5f.z29.web.core.windows.net/","blob":"https://csg100320015064ff5f.blob.core.windows.net/","queue":"https://csg100320015064ff5f.queue.core.windows.net/","table":"https://csg100320015064ff5f.table.core.windows.net/","file":"https://csg100320015064ff5f.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-centralindia/providers/Microsoft.Storage/storageAccounts/csg10032001560abba4","name":"csg10032001560abba4","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2022-04-04T06:14:36.9746242Z","key2":"2022-04-04T06:14:36.9746242Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-04T06:14:36.9902394Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-04-04T06:14:36.9902394Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-04-04T06:14:36.9277374Z","primaryEndpoints":{"dfs":"https://csg10032001560abba4.dfs.core.windows.net/","web":"https://csg10032001560abba4.z29.web.core.windows.net/","blob":"https://csg10032001560abba4.blob.core.windows.net/","queue":"https://csg10032001560abba4.queue.core.windows.net/","table":"https://csg10032001560abba4.table.core.windows.net/","file":"https://csg10032001560abba4.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-centralindia/providers/Microsoft.Storage/storageAccounts/csg10032001b008491d","name":"csg10032001b008491d","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2022-03-11T12:28:09.0720101Z","key2":"2022-03-11T12:28:09.0720101Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-11T12:28:09.0877258Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-11T12:28:09.0877258Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-03-11T12:28:09.0095547Z","primaryEndpoints":{"dfs":"https://csg10032001b008491d.dfs.core.windows.net/","web":"https://csg10032001b008491d.z29.web.core.windows.net/","blob":"https://csg10032001b008491d.blob.core.windows.net/","queue":"https://csg10032001b008491d.queue.core.windows.net/","table":"https://csg10032001b008491d.table.core.windows.net/","file":"https://csg10032001b008491d.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/damodemoappblob","name":"damodemoappblob","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{},"properties":{"keyCreationTime":{"key1":"2021-07-09T06:05:38.5911626Z","key2":"2021-07-09T06:05:38.5911626Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-09T06:05:38.5911626Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-09T06:05:38.5911626Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-07-09T06:05:38.5438678Z","primaryEndpoints":{"dfs":"https://damodemoappblob.dfs.core.windows.net/","web":"https://damodemoappblob.z29.web.core.windows.net/","blob":"https://damodemoappblob.blob.core.windows.net/","queue":"https://damodemoappblob.queue.core.windows.net/","table":"https://damodemoappblob.table.core.windows.net/","file":"https://damodemoappblob.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available","secondaryLocation":"southindia","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://damodemoappblob-secondary.dfs.core.windows.net/","web":"https://damodemoappblob-secondary.z29.web.core.windows.net/","blob":"https://damodemoappblob-secondary.blob.core.windows.net/","queue":"https://damodemoappblob-secondary.queue.core.windows.net/","table":"https://damodemoappblob-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/damodar-rg/providers/Microsoft.Storage/storageAccounts/storageaccountdamodba79","name":"storageaccountdamodba79","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{},"properties":{"keyCreationTime":{"key1":"2021-07-09T08:19:48.6543613Z","key2":"2021-07-09T08:19:48.6543613Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-09T08:19:48.6543613Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-09T08:19:48.6543613Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-07-09T08:19:48.5918555Z","primaryEndpoints":{"blob":"https://storageaccountdamodba79.blob.core.windows.net/","queue":"https://storageaccountdamodba79.queue.core.windows.net/","table":"https://storageaccountdamodba79.table.core.windows.net/","file":"https://storageaccountdamodba79.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/riddhi-resource-group/providers/Microsoft.Storage/storageAccounts/sflogsriddgservicefa4845","name":"sflogsriddgservicefa4845","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{"resourceType":"Service
        Fabric","clusterName":"riddg-servicefabric"},"properties":{"keyCreationTime":{"key1":"2021-07-16T12:59:45.1850422Z","key2":"2021-07-16T12:59:45.1850422Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":false,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-16T12:59:45.1850422Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-16T12:59:45.1850422Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-07-16T12:59:45.1068732Z","primaryEndpoints":{"blob":"https://sflogsriddgservicefa4845.blob.core.windows.net/","queue":"https://sflogsriddgservicefa4845.queue.core.windows.net/","table":"https://sflogsriddgservicefa4845.table.core.windows.net/","file":"https://sflogsriddgservicefa4845.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '34131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:00:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - 7d6872a8-d171-4074-b2ca-cfd31b06dfc9
      - 9b442e78-426a-4f61-9534-3a776e259980
      - 35e3c7bc-3adc-4c28-84e7-3d1752522e08
      - a0807ae6-3b75-4a89-946b-2bb882218e99
      - 4281e1ba-c6aa-4bc9-a340-d6cdd233a521
      - 93f6f620-9d04-4e14-a5b0-d40e8bc1dbbb
      - 6f205ed1-21f1-4969-86a3-bbe48c0855af
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2021-09-01&$expand=kerb
  response:
    body:
      string: '{"keys":[{"creationTime":"2022-04-20T12:00:30.4538200Z","keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"creationTime":"2022-04-20T12:00:30.4538200Z","keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Wed, 20 Apr 2022 12:00:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - Azure-Storage/2.0.0-2.0.1 (Python CPython 3.6.2; Windows 10) AZURECLI/2.35.0
      x-ms-date:
      - Wed, 20 Apr 2022 12:00:50 GMT
      x-ms-version:
      - '2018-11-09'
    method: PUT
    uri: https://clitest000002.blob.core.windows.net/iothubcontainer20190301?restype=container
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:00:51 GMT
      etag:
      - '"0x8DA22C56A71F211"'
      last-modified:
      - Wed, 20 Apr 2022 12:00:51 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-version:
      - '2018-11-09'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2021-09-01&$expand=kerb
  response:
    body:
      string: '{"keys":[{"creationTime":"2022-04-20T12:00:30.4538200Z","keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"creationTime":"2022-04-20T12:00:30.4538200Z","keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Wed, 20 Apr 2022 12:00:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-04-20T12:00:20Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '311'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:00:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "sku": {"name": "Standard", "tier": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      Content-Length:
      - '72'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-20T12:00:55.743Z","updatedAt":"2022-04-20T12:00:55.743Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '779'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:00:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '49'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-20T12:00:55.743Z","updatedAt":"2022-04-20T12:00:55.743Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '779'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:01:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Succeeded","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-20T12:00:55.743Z","updatedAt":"2022-04-20T12:01:44.873Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Active"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '777'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:01:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301","name":"ehNamespaceiothubfortest20190301","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Succeeded","metricId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4:ehnamespaceiothubfortest20190301","createdAt":"2022-04-20T12:00:55.743Z","updatedAt":"2022-04-20T12:01:44.873Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest20190301.servicebus.windows.net:443/","status":"Active"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '777'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:01:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --namespace-name --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest?api-version=2021-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest","name":"eventHubiothubfortest","type":"Microsoft.EventHub/Namespaces/EventHubs","location":"West
        US 2","properties":{"messageRetentionInDays":7,"partitionCount":4,"status":"Active","createdAt":"2022-04-20T12:02:00.323Z","updatedAt":"2022-04-20T12:02:00.507Z","partitionIds":["0","1","2","3"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '490'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:02:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"rights": ["Send"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub authorization-rule create
      Connection:
      - keep-alive
      Content-Length:
      - '36'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --namespace-name --eventhub-name --name --rights
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest/authorizationRules/eventHubPolicyiothubfortest?api-version=2021-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest/authorizationRules/eventHubPolicyiothubfortest","name":"eventHubPolicyiothubfortest","type":"Microsoft.EventHub/Namespaces/EventHubs/AuthorizationRules","location":"West
        US 2","properties":{"rights":["Send"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '405'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:02:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub authorization-rule keys list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --namespace-name --eventhub-name --name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest20190301/eventhubs/eventHubiothubfortest/authorizationRules/eventHubPolicyiothubfortest/listKeys?api-version=2021-11-01
  response:
    body:
      string: '{"primaryConnectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=;EntityPath=eventHubiothubfortest","secondaryConnectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=Or/KjG/YGk1vQvoTwNHqpanO3ZvAaMJh1+K4BJAAomc=;EntityPath=eventHubiothubfortest","primaryKey":"1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=","secondaryKey":"Or/KjG/YGk1vQvoTwNHqpanO3ZvAaMJh1+K4BJAAomc=","keyName":"eventHubPolicyiothubfortest"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '647'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:02:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-04-20T12:00:20Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '311'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:02:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"eventHubEndpoints": {"events":
      {"retentionTimeInDays": 3, "partitionCount": 4}}, "storageEndpoints": {"$default":
      {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT20H",
      "maxDeliveryCount": 79}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 89, "defaultTtlAsIso8601": "PT23H", "feedback": {"lockDurationAsIso8601":
      "PT35S", "ttlAsIso8601": "P1DT5H", "maxDeliveryCount": 40}}}, "sku": {"name":
      "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '609'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYmEzY2RlZjQtZTRjYi00N2IwLWFmY2UtZmUxNTY2MjIxZWRhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1073'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:02:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYmEzY2RlZjQtZTRjYi00N2IwLWFmY2UtZmUxNTY2MjIxZWRhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:02:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYmEzY2RlZjQtZTRjYi00N2IwLWFmY2UtZmUxNTY2MjIxZWRhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:03:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYmEzY2RlZjQtZTRjYi00N2IwLWFmY2UtZmUxNTY2MjIxZWRhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:03:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYmEzY2RlZjQtZTRjYi00N2IwLWFmY2UtZmUxNTY2MjIxZWRhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count --retention-day --c2d-ttl --c2d-max-delivery-count
        --feedback-ttl --feedback-lock-duration --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1682'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1694'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/iothubowner/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1694'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/iothubowner/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1694'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --all
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '905'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --all
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1694'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1694'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1694'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ0as=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1162'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ0as=''}'
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ0as=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjYwOGQ2YTAtZWFiMi00YzE3LTgxM2ItNzgzMDM0MDQxMzFmO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4276'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjYwOGQ2YTAtZWFiMi00YzE3LTgxM2ItNzgzMDM0MDQxMzFmO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ06g=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1812'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:04:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ06g=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ06g=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list-skus
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ06g=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list-skus
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/skus?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S1","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S2","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S3","tier":"Standard"},"capacity":{"minimum":1,"maximum":10,"default":1,"scaleType":"Manual"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '475'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ06g=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '905'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ06g=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=",
      "secondaryKey": "VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=",
      "secondaryKey": "jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=",
      "secondaryKey": "gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=",
      "secondaryKey": "J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=",
      "secondaryKey": "RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "rights": "RegistryWrite, ServiceConnect, DeviceConnect"}],
      "allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '2185'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ06g=''}'
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ06g=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"HrvGS6urixi4E2Ux8RQD8xKU9N7NZ+nH3AvJONa48A4=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDIwZGVkNDEtMmRmNy00MWNjLWI3ODgtMTlkZGM0NzZhY2E2O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4480'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDIwZGVkNDEtMmRmNy00MWNjLWI3ODgtMTlkZGM0NzZhY2E2O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:05:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDIwZGVkNDEtMmRmNy00MWNjLWI3ODgtMTlkZGM0NzZhY2E2O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ1kE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1812'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ1kE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"HrvGS6urixi4E2Ux8RQD8xKU9N7NZ+nH3AvJONa48A4=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ1kE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy show
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"HrvGS6urixi4E2Ux8RQD8xKU9N7NZ+nH3AvJONa48A4=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ1kE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"HrvGS6urixi4E2Ux8RQD8xKU9N7NZ+nH3AvJONa48A4=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ1kE=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=",
      "secondaryKey": "VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=",
      "secondaryKey": "jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=",
      "secondaryKey": "gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=",
      "secondaryKey": "J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=",
      "secondaryKey": "RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "primaryKey": "5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=",
      "secondaryKey": "PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}], "allowedFqdnList": [], "ipFilterRules": [],
      "eventHubEndpoints": {"events": {"retentionTimeInDays": 4, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '2311'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ1kE=''}'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ1kE=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:05:35 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:05:35 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:05:35 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:05:35 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","PrimaryKey":"HrvGS6urixi4E2Ux8RQD8xKU9N7NZ+nH3AvJONa48A4=","SecondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:05:35 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:05:35 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfY2NkY2U2NTYtOTdkMS00OTY5LTk2NjEtOGI1MzJlMWFiZDg4O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4791'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfY2NkY2U2NTYtOTdkMS00OTY5LTk2NjEtOGI1MzJlMWFiZDg4O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:06:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfY2NkY2U2NTYtOTdkMS00OTY5LTk2NjEtOGI1MzJlMWFiZDg4O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ2tU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1812'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ2tU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ2tU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ2tU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ2tU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","secondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ2tU=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=",
      "secondaryKey": "VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=",
      "secondaryKey": "jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=",
      "secondaryKey": "gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=",
      "secondaryKey": "J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=",
      "secondaryKey": "RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "primaryKey": "PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=",
      "secondaryKey": "5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}], "allowedFqdnList": [], "ipFilterRules": [],
      "eventHubEndpoints": {"events": {"retentionTimeInDays": 4, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '2311'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ2tU=''}'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ2tU=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","secondaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:06:44 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:06:44 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:06:44 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:06:44 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","PrimaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","SecondaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:06:44 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:06:44 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMDQ2OTRiNTItMzY0Mi00NWIzLWJhYmQtMTNiMWQ5NDFmOTBkO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4791'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMDQ2OTRiNTItMzY0Mi00NWIzLWJhYmQtMTNiMWQ5NDFmOTBkO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:07:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ3gk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1812'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ3gk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubKeys/test_policy/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","secondaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '203'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ3gk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","secondaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","secondaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1109'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ3gk=", "properties":
      {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey": "z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=",
      "secondaryKey": "VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=",
      "secondaryKey": "jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=",
      "secondaryKey": "gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=",
      "secondaryKey": "J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=",
      "secondaryKey": "RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=", "rights": "RegistryWrite"}],
      "allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '2099'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ3gk=''}'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ3gk=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:07:52 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:07:52 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:07:52 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:07:52 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","PrimaryKey":"PK1DDk3lyd8wZbDjLL12Ug1GJXWoiQwn8Wnh1b7AEmM=","SecondaryKey":"5V7VY4gxlgnQCOfl3C6DKPMzyXrY0/UnCM7NCCCWh4M=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:07:52 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:07:52 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmMwNTE0MWQtNjZiNi00YTQwLWJiZjQtZDAzNmVhNDM1Yjc3O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4587'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmMwNTE0MWQtNjZiNi00YTQwLWJiZjQtZDAzNmVhNDM1Yjc3O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1812'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/listkeys?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '905'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"name": "cg1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group create
      Connection:
      - keep-alive
      Content-Length:
      - '31'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2021-07-02
  response:
    body:
      string: '{"properties":{"created":"Wed, 20 Apr 2022 12:08:43 GMT","properties":{"name":"cg1"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '376'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2021-07-02
  response:
    body:
      string: '{"properties":{"created":"Wed, 20 Apr 2022 12:08:43 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"properties":{"created":"Wed, 20 Apr 2022 12:03:41 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/%24Default","name":"$Default","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null},{"properties":{"created":"Wed,
        20 Apr 2022 12:08:43 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2021-07-02
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:08:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"properties":{"created":"Wed, 20 Apr 2022 12:03:41 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/eventHubEndpoints/events/ConsumerGroups/%24Default","name":"$Default","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '372'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-quota-metrics
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-quota-metrics
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/quotaMetrics?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"name":"TotalMessages","currentValue":0,"maxValue":400000},{"name":"TotalDeviceCount","currentValue":0,"maxValue":1000000}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '135'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-stats
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1824'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-stats
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/IotHubStats?api-version=2021-07-02
  response:
    body:
      string: '{"totalDeviceCount":0,"enabledDeviceCount":0,"disabledDeviceCount":0}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '69'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:08:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1812'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:08:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ4BU=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [{"connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": []}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '1487'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ4BU=''}'
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4BU=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDQ5MmQ5MTktNWFiZi00ZDM2LTkzNjgtN2NiNGYwYTMyY2U2O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4662'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDQ5MmQ5MTktNWFiZi00ZDM2LTkzNjgtN2NiNGYwYTMyY2U2O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4s4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:09:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4s4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:09:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4s4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:09:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4s4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:09:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4s4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ4s4=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [{"id": "db7cc9a4-2d5c-4231-887f-532064450165",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '1964'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ4s4=''}'
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ4s4=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDJjMDViOGItMWY1YS00MjgyLWI2OGUtYWQyNmVhMjczYjcyO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5155'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:09:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZDJjMDViOGItMWY1YS00MjgyLWI2OGUtYWQyNmVhMjczYjcyO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:10:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ5Ww=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:10:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:10:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:10:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ5Ww=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:10:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ5Ww=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [{"id": "db7cc9a4-2d5c-4231-887f-532064450165",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "ce69edbb-5cf4-47ba-baea-619d65f0d425",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [{"name":
      "route1", "source": "devicemessages", "condition": "true", "endpointNames":
      ["Event1"], "isEnabled": true}], "fallbackRoute": {"name": "$fallback", "source":
      "DeviceMessages", "condition": "true", "endpointNames": ["events"], "isEnabled":
      true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      Content-Length:
      - '2101'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ5Ww=''}'
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ5Ww=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOWMxMjI5MDMtYzNlNi00YmQ3LTg3YjMtYzQxZmY1YzhlNTAxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5261'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:10:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOWMxMjI5MDMtYzNlNi00YmQ3LTg3YjMtYzQxZmY1YzhlNTAxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:10:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOWMxMjI5MDMtYzNlNi00YmQ3LTg3YjMtYzQxZmY1YzhlNTAxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:11:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOWMxMjI5MDMtYzNlNi00YmQ3LTg3YjMtYzQxZmY1YzhlNTAxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:11:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6Iw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:12:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6Iw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:12:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6Iw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:12:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6Iw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:12:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6Iw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"message": {}, "route": {"name": "route1", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["Event1"], "isEnabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '141'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/routing/routes/$testnew?api-version=2021-07-02
  response:
    body:
      string: '{"result":"true"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '17'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: '{"routingSource": "devicemessages", "message": {}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '50'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/routing/routes/$testall?api-version=2021-07-02
  response:
    body:
      string: '{"routes":[{"properties":{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:12:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6Iw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ6Iw=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [{"id": "db7cc9a4-2d5c-4231-887f-532064450165",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "ce69edbb-5cf4-47ba-baea-619d65f0d425",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [{"name":
      "route1", "source": "twinchangeevents", "condition": "true", "endpointNames":
      ["Event1"], "isEnabled": true}], "fallbackRoute": {"name": "$fallback", "source":
      "DeviceMessages", "condition": "true", "endpointNames": ["events"], "isEnabled":
      true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '2103'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ6Iw=''}'
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6Iw=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjI0NWYwNWQtY2Q0NC00MTBhLTg1MDMtNDdkMWZjODRkNjM0O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5263'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjI0NWYwNWQtY2Q0NC00MTBhLTg1MDMtNDdkMWZjODRkNjM0O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6mE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2740'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:12:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6mE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2740'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:12:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ6mE=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [{"id": "db7cc9a4-2d5c-4231-887f-532064450165",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest",
      "name": "Event1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "ce69edbb-5cf4-47ba-baea-619d65f0d425",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      Content-Length:
      - '1986'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ6mE=''}'
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6mE=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=1n9Js7goG76KQ5er/v7EUgmi2tEz5yrV0dlgC9HqDik=;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNzNlMWVhYTktYTFhYy00YjRmLTgxMWUtYzVkZWNmMTg0NDQxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5155'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:13:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNzNlMWVhYTktYTFhYy00YjRmLTgxMWUtYzVkZWNmMTg0NDQxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:13:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6xk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:13:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:13:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:13:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6xk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest20190301.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest","name":"Event1","id":"db7cc9a4-2d5c-4231-887f-532064450165","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2632'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:13:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGcJ6xk=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": [{"id": "ce69edbb-5cf4-47ba-baea-619d65f0d425",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "a70b8550-49b1-4c60-b9f9-86b7edbf31e4",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer20190301",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}]}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer20190301"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '1626'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGcJ6xk=''}'
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ6xk=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","secondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","secondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"gk58o5fc10hGu4sKhvYfvNtbPMR4W7Rt788/ibKjqng=","secondaryKey":"gmJbixM8gpxnf5TgO/ayBfdfUegutDujmuY6X1BGVxg=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"9ECJahaC8fiy+OjsXWFMrI6MpfzPIZWxOwyYhzF4Zc8=","secondaryKey":"J1VNDW5HipZbWLHnqELlGVnDo9uAspGVJNzqwGRXZEs=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"UiVLk/U3jhSY5AptiJj+4MpQrqc3ZB+i9We6bE1Yu+0=","secondaryKey":"RUuM9rfuMT1G0zssEH3Uy5cVz/Nl12spFRGAr3pDWOs=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-96b4a019-9b42-4f7f-8f33-d2fb4e842a62-iothub","PrimaryKey":"+rpuowtkhez15DiCVUD9+QwjrK0y712GUWWu76vcVTo=","SecondaryKey":"gd+kXJQ+Cs6c00MfQGOtX0cjiosfLyYkkcT3q2rXYV8=","Rights":["Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-3b0e749e-b527-401d-9b41-53bfc995a19c-iothub","PrimaryKey":"xRoK1S9uhAoprTXhRZ37BUhjX7rI+vFpw/pABb3CPsg=","SecondaryKey":"hAwrEQGsTtie+tFTZb4thhRC7b1/uycxYPzPTBPEw+g=","Rights":["Listen","Manage","Send"],"CreatedTime":"Wed,
        20 Apr 2022 12:03:40 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:03:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"z2VQ+LHJEBtUQTyiw39mGGYZ7NMX09eVaMFVlcWTf9k=","SecondaryKey":"VQrp/aqLB2PZpLUmK4jr3eIn3UvCJmCimxlYPNMhxhk=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"sT0YiF0Oldbs6jQXHk+Ibq64/M5NFCJQNZNsivb9GdY=","SecondaryKey":"jj0lpfheDN0oPy0qx1ucV0V9msc5ST41bJ5xqbbJ+9s=","Rights":["Listen"],"CreatedTime":"Wed,
        20 Apr 2022 12:08:31 GMT","ModifiedTime":"Wed, 20 Apr 2022 12:08:31 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOTlmN2Q1ZDAtMjQ5My00Mjg0LWFlNjktNjQ1MTdiOGI2MmQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4769'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:13:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfOTlmN2Q1ZDAtMjQ5My00Mjg0LWFlNjktNjQ1MTdiOGI2MmQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:14:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ7HI=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2281'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:14:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:14:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:14:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcJ7HI=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-75848810ac.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2281'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:14:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"failoverRegion": "West Central US"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301/failover?api-version=2021-07-02
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:14:17 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:14:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:15:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:15:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:16:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:16:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:17:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:17:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:18:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:18:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:19:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:19:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:20:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:20:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:21:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:21:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:22:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:22:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:23:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:23:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:23:36 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYTI5MTgzMGItOGIwMi00NGZjLWI2YTctZDgzZDM2ZTNiNjQ1O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 20 Apr 2022 12:23:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-20190301"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-20190301'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:23:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcKAwU=","properties":{"locations":[{"location":"West
        Central US","role":"primary"},{"location":"West US 2","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-945968c944.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2281'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:23:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301","name":"iot-hub-for-test-20190301","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourcegroup":"clitest.rg000001","etag":"AAAADGcKAwU=","properties":{"locations":[{"location":"West
        Central US","role":"primary"},{"location":"West US 2","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-20190301.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-20190301","endpoint":"sb://iothub-ns-iot-hub-fo-18745548-945968c944.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"ce69edbb-5cf4-47ba-baea-619d65f0d425","subscriptionId":"a70b8550-49b1-4c60-b9f9-86b7edbf31e4","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer20190301"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T12:02:10.2733333Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2293'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:23:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-20190301?api-version=2021-07-02
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmIwYzJiMTMtMWUxNC00ZWU3LTk2YWYtZmMwMzdjYzA0NGIxO3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:23:44 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmIwYzJiMTMtMWUxNC00ZWU3LTk2YWYtZmMwMzdjYzA0NGIxO3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2021-07-02&operationSource=other
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmIwYzJiMTMtMWUxNC00ZWU3LTk2YWYtZmMwMzdjYzA0NGIxO3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:23:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.6.2 (Windows-10-10.0.19041-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmIwYzJiMTMtMWUxNC00ZWU3LTk2YWYtZmMwMzdjYzA0NGIxO3JlZ2lvbj13ZXN0Y2VudHJhbHVz?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Apr 2022 12:24:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
