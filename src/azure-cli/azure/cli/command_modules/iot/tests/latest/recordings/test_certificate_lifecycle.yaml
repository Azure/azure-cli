interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2023-01-28T12:34:39Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:34:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}}, "sku": {"name": "S1",
      "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '603'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2022-04-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","resourcegroup":"clitest.rg000002","properties":{"provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfZjA5M2QzMWItM2VmNC00NzdlLWE1NTctNjEyMmRiZTM2ZmFmO3JlZ2lvbj13ZXN0dXM=?api-version=2022-04-30-preview&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '976'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:34:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfZjA5M2QzMWItM2VmNC00NzdlLWE1NTctNjEyMmRiZTM2ZmFmO3JlZ2lvbj13ZXN0dXM=?api-version=2022-04-30-preview&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:35:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfZjA5M2QzMWItM2VmNC00NzdlLWE1NTctNjEyMmRiZTM2ZmFmO3JlZ2lvbj13ZXN0dXM=?api-version=2022-04-30-preview&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:35:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfZjA5M2QzMWItM2VmNC00NzdlLWE1NTctNjEyMmRiZTM2ZmFmO3JlZ2lvbj13ZXN0dXM=?api-version=2022-04-30-preview&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfZjA5M2QzMWItM2VmNC00NzdlLWE1NTctNjEyMmRiZTM2ZmFmO3JlZ2lvbj13ZXN0dXM=?api-version=2022-04-30-preview&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2022-04-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","resourcegroup":"clitest.rg000002","etag":"AAAADHsY4E8=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-cert-testpwnt","endpoint":"sb://iothub-ns-iot-hub-fo-24313195-0aede5f2a5.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-01-28T12:34:43.9266667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1700'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2022-04-30-preview
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1399'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2022-04-30-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Tue, 31 Jan 2023
        12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:47 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQ5Njc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmRmMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1949'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1192'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p --verified
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2022-04-30-preview
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Tue,
        31 Jan 2023 12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:47 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQ5Njc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmRmMDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1961'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"isVerified": true, "certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1419'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -p --verified
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005?api-version=2022-04-30-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Tue, 31 Jan 2023
        12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:48 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005","name":"verified-certificate-000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDRiNDc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmUwMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1966'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1179'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2022-04-30-preview
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Tue,
        31 Jan 2023 12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:47 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQ5Njc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmRmMDAwMCI="},{"properties":{"subject":"TESTCERT000001","expiry":"Tue,
        31 Jan 2023 12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:48 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005","name":"verified-certificate-000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDRiNDc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmUwMDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3928'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2022-04-30-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Tue, 31 Jan 2023
        12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:47 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQ5Njc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmRmMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1949'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - ImVmMDQ5Njc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmRmMDAwMCI=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2022-04-30-preview
  response:
    body:
      string: '{"properties":{"verificationCode":"A70C40ADEC88AB5118CB3DE733CE5C0DE25DD93A4733B361","subject":"TESTCERT000001","expiry":"Tue,
        31 Jan 2023 12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:51 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQxMjc5LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmUzMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2019'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMzakNDQWNhZ0F3SUJBZ0lJQXViN212NmQzWGN3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16WTFNVm9YRFRJegpNREV6TVRFeU16WTFNVm93T3pFNU1EY0dBMVVFQXd3d1FUY3dRelF3UVVSRlF6ZzRRVUkxTVRFNFEwSXpSRVUzCk16TkRSVFZETUVSRk1qVkVSRGt6UVRRM016TkNNell4TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEEKTUlJQkNnS0NBUUVBbDdWMEVwdDZaZ2kyT2xvQ0M3dHVqZlAxY0JnSlRlQ1d1YjJZK0pFWERIYUdnaWxHL0hyTwpCMXE4alpHc1hsRk4xeXRVaDd2bUlZb0RJOEJxZVlRd1FRZ3pUM0NoZDVPUThGVU02eHpzSkl4eWRGR040a3lkCk80MTRmRnQ3ZEJaYU1aRU4zS3A5cWUwU3pVaUpzSWpsL0dlZUJJV3FubVF2NC8vQXpqVGg3b0F2Q0hLanJiYm4KbjlHVGhNSnpRMVM3c25sZHkwSjI5NnFtYjVNQVhFbUlKMkVvRnhTaDkzSDY5TzZHUVRYS25UVUFoc2lPK0JLTwprRHF6cEZWV1Rjam9TcXB6TEI5U2lkNzIxSUlhZkpQdTBia0VnbXdTOERtSFN5NTBLeVFJcEU5d3B6WnVWWFd1CldhVm10czNxcXVLQTZJUU9BdDRUN3IvbndPSExnK2xhdXdJREFRQUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUIKQVFCYm0wS0QwYlROcUtEVGJJT2lFQmg0UTMwZ1NZbFdVZGczQmVWRkVocmcvZDdNc2IxU2Z4bVlxSzljN3Y4bAo4cnNVcmZWcUlUVHl2WDNWRDlwSk41ZUNvM1JhVHFTc3U0WW8wV2FsQzVsbFd3ZGNZc01wL25MTEU5d0ZaOUtkCnh4c1BVSkRBMXlFK3Q0REN4bis5R3FCV3FJck5wQ2dxQ3dUZUJIQTYxR04wa2d0cHU2YnhyamZsRTZHd3FaS2YKWHlyQjI2SEZxY0RHcVcyMW5LWlFqbS94UkhLQlRxL2p0TmlmRzlXTkM2OWQ0NlJiWGlZUnpEYk1UZW9VWm5qTwpTdWpxVzRuWFJZNlFjaEhFaENiSE1Rck5nQXVSM1liRTBPei9NMk9BYWswSDd5UnFWdXVWUkxSTGIrOG13U1h2ClhXVHJRUHkyRElpdExhNGNidldBZ2J5SQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1427'
      Content-Type:
      - application/json
      If-Match:
      - ImVmMDQxMjc5LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmUzMDAwMCI=
      ParameterSetName:
      - --hub-name -g -n -p --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2022-04-30-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Tue, 31 Jan 2023
        12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:52 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQzZDc5LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmU0MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1948'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2022-04-30-preview
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Tue,
        31 Jan 2023 12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:52 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQzZDc5LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmU0MDAwMCI="},{"properties":{"subject":"TESTCERT000001","expiry":"Tue,
        31 Jan 2023 12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:48 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005","name":"verified-certificate-000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDRiNDc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmUwMDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3927'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ3hqQ0NBYTZnQXdJQkFnSUlUUmE2Q0JCZVZ3SXdEUVlKS29aSWh2Y05BUUVMQlFBd0l6RWhNQjhHQTFVRQpBd3dZVkVWVFZFTkZVbFJ4WVc5NmRtbGxlWFJ2Wldac2NUWnhNQjRYRFRJek1ERXlPREV5TXpRek9Wb1hEVEl6Ck1ERXpNVEV5TXpRek9Wb3dJekVoTUI4R0ExVUVBd3dZVkVWVFZFTkZVbFJ4WVc5NmRtbGxlWFJ2Wldac2NUWngKTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2alBseFhucy9VU3lndTh2cHlOUQpuV2cwUVUxMFhxaVFNSFpZUFRDamhzVTFaUUc2MW9PS0g3dkVQeGNEVVZnWWdRS2JuWXNuOHNrRnc3QW9GZnZ4CndZUkhhdldGcXJZcUYyRVJWVlYwZEtxL2htTjAramVFNlJXTmhqS25wNGF6NmkzU3VWUlJUejQyYXowVGFLUjMKM044NWhNcFBPcWJ3WVJwV1Q4VStSK1hhdUlaeVYrUS9Vb0c3N2xMZVhBMlpqLzl1M0hxU1RzOEZKMUZqeUlIdwpZUmMwa1F3bXg1OGpGc1dsMXlXSy85K0gwaC9IRkF0ZmI4OTVtMmJsdytjeVk4Uk55UGpVbFJRRmM0UWs1SjA4Ck1LZUlrYVN4cGdJaEhId1Q2ZmdBV05lb24vcDE5QjViWTZ6eW9CcWFFa1ZEbXk1bzh3ajhOYTNPYzFxK0lMczUKT3dJREFRQUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUM3L2h0b3hmdU5MY2grSlRHT1ovZjdXU3ZXbFF0eQpWbUUyS3FPcjFmYlEwOW9teEduWC9YRUhaZGlSaEJ4YmMrT21ITG1iRnBPQUZDSS9EdlVmV3JwemFCTTVGYmFaCmJQeWJUYVUxVzM1UzMvN1l5WjVyY1pCS2lGdlg3K1JFelJUYmF5ZS9jM1JNcHJWRXR1dEl5Z1EwMndDZmhPYWEKSmlYbEJGcU1IR1FrTXRaRlBZVFFwN2cwK3hLd3h1SzFyektNVzZEQnp6N1J6R0RZQlVVSENXcWhPK1VldjZUcQpGVlpBTVN0T04vZ04waVl2Vkxac0RRZC9aMXJxZjRPTkIraHB1OFd5Y2FscjJ0ZS9hM25YYS9PWDNPRjdjU3I4CmZpejUyMTNTQWMranpUcUhNQjdieWg4RElMSDFQQ1ZFeE1UcjZtTVArOXhCWGIrbzlaVVhYTnI5Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '2759'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000006?api-version=2022-04-30-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Tue, 31 Jan 2023
        12:34:39 GMT","thumbprint":"85967930B67628AA6E8CF8B1E4BA6DDEE84C2C42","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 12:36:53 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJVFJhNkNCQmVWd0l3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4TUI0WERUSXpNREV5T0RFeU16UXpPVm9YRFRJegpNREV6TVRFeU16UXpPVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSeFlXOTZkbWxsZVhSdlpXWnNjVFp4Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBdmpQbHhYbnMvVVN5Z3U4dnB5TlEKbldnMFFVMTBYcWlRTUhaWVBUQ2poc1UxWlFHNjFvT0tIN3ZFUHhjRFVWZ1lnUUtibllzbjhza0Z3N0FvRmZ2eAp3WVJIYXZXRnFyWXFGMkVSVlZWMGRLcS9obU4wK2plRTZSV05oaktucDRhejZpM1N1VlJSVHo0MmF6MFRhS1IzCjNOODVoTXBQT3Fid1lScFdUOFUrUitYYXVJWnlWK1EvVW9HNzdsTGVYQTJaai85dTNIcVNUczhGSjFGanlJSHcKWVJjMGtRd214NThqRnNXbDF5V0svOStIMGgvSEZBdGZiODk1bTJibHcrY3lZOFJOeVBqVWxSUUZjNFFrNUowOApNS2VJa2FTeHBnSWhISHdUNmZnQVdOZW9uL3AxOUI1Ylk2enlvQnFhRWtWRG15NW84d2o4TmEzT2MxcStJTHM1Ck93SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDNy9odG94ZnVOTGNoK0pUR09aL2Y3V1N2V2xRdHkKVm1FMktxT3IxZmJRMDlvbXhHblgvWEVIWmRpUmhCeGJjK09tSExtYkZwT0FGQ0kvRHZVZldycHphQk01RmJhWgpiUHliVGFVMVczNVMzLzdZeVo1cmNaQktpRnZYNytSRXpSVGJheWUvYzNSTXByVkV0dXRJeWdRMDJ3Q2ZoT2FhCkppWGxCRnFNSEdRa010WkZQWVRRcDdnMCt4S3d4dUsxcnpLTVc2REJ6ejdSekdEWUJVVUhDV3FoTytVZXY2VHEKRlZaQU1TdE9OL2dOMGlZdlZMWnNEUWQvWjFycWY0T05CK2hwdThXeWNhbHIydGUvYTNuWGEvT1gzT0Y3Y1NyOApmaXo1MjEzU0FjK2p6VHFITUI3YnloOERJTEgxUENWRXhNVHI2bU1QKzl4QlhiK285WlVYWE5yOQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ3hqQ0NBYTZnQXdJQkFnSUlUUmE2Q0JCZVZ3SXdEUVlKS29aSWh2Y05BUUVMQlFBd0l6RWhNQjhHQTFVRQpBd3dZVkVWVFZFTkZVbFJ4WVc5NmRtbGxlWFJ2Wldac2NUWnhNQjRYRFRJek1ERXlPREV5TXpRek9Wb1hEVEl6Ck1ERXpNVEV5TXpRek9Wb3dJekVoTUI4R0ExVUVBd3dZVkVWVFZFTkZVbFJ4WVc5NmRtbGxlWFJ2Wldac2NUWngKTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF2alBseFhucy9VU3lndTh2cHlOUQpuV2cwUVUxMFhxaVFNSFpZUFRDamhzVTFaUUc2MW9PS0g3dkVQeGNEVVZnWWdRS2JuWXNuOHNrRnc3QW9GZnZ4CndZUkhhdldGcXJZcUYyRVJWVlYwZEtxL2htTjAramVFNlJXTmhqS25wNGF6NmkzU3VWUlJUejQyYXowVGFLUjMKM044NWhNcFBPcWJ3WVJwV1Q4VStSK1hhdUlaeVYrUS9Vb0c3N2xMZVhBMlpqLzl1M0hxU1RzOEZKMUZqeUlIdwpZUmMwa1F3bXg1OGpGc1dsMXlXSy85K0gwaC9IRkF0ZmI4OTVtMmJsdytjeVk4Uk55UGpVbFJRRmM0UWs1SjA4Ck1LZUlrYVN4cGdJaEhId1Q2ZmdBV05lb24vcDE5QjViWTZ6eW9CcWFFa1ZEbXk1bzh3ajhOYTNPYzFxK0lMczUKT3dJREFRQUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUM3L2h0b3hmdU5MY2grSlRHT1ovZjdXU3ZXbFF0eQpWbUUyS3FPcjFmYlEwOW9teEduWC9YRUhaZGlSaEJ4YmMrT21ITG1iRnBPQUZDSS9EdlVmV3JwemFCTTVGYmFaCmJQeWJUYVUxVzM1UzMvN1l5WjVyY1pCS2lGdlg3K1JFelJUYmF5ZS9jM1JNcHJWRXR1dEl5Z1EwMndDZmhPYWEKSmlYbEJGcU1IR1FrTXRaRlBZVFFwN2cwK3hLd3h1SzFyektNVzZEQnp6N1J6R0RZQlVVSENXcWhPK1VldjZUcQpGVlpBTVN0T04vZ04waVl2Vkxac0RRZC9aMXJxZjRPTkIraHB1OFd5Y2FscjJ0ZS9hM25YYS9PWDNPRjdjU3I4CmZpejUyMTNTQWMranpUcUhNQjdieWg4RElMSDFQQ1ZFeE1UcjZtTVArOXhCWGIrbzlaVVhYTnI5Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000006","name":"certificate-000006","type":"Microsoft.Devices/IotHubs/Certificates","etag":"ImVmMDQ1ODc5LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmU1MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 12:36:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1176'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - ImVmMDQzZDc5LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmU0MDAwMCI=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2022-04-30-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 12:36:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14993'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - ImVmMDRiNDc4LTAwMDAtMDcwMC0wMDAwLTYzZDUxNmUwMDAwMCI=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005?api-version=2022-04-30-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 12:36:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14994'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - '*'
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-iothub/2.3.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000006?api-version=2022-04-30-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 12:36:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14993'
    status:
      code: 200
      message: OK
version: 1
