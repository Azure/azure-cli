interactions:
- request:
    body: '{"name": "iot-hub-for-cert-test000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '60'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22-preview
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:43:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-resource/8.0.1 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2020-03-25T16:43:50Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '428'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:43:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '570'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-03-22-preview
  response:
    body:
      string: '{"error":{"code":"MissingSubscriptionRegistration","message":"The subscription
        is not registered to use namespace ''Microsoft.Devices''. See https://aka.ms/rps-not-found
        for how to register subscriptions.","details":[{"code":"MissingSubscriptionRegistration","target":"Microsoft.Devices","message":"The
        subscription is not registered to use namespace ''Microsoft.Devices''. See
        https://aka.ms/rps-not-found for how to register subscriptions."}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '442'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:43:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 409
      message: Conflict
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - python-requests/2.23.0
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/register?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US"],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US"],"apiVersions":["2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3504'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:43:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.23.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US"],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US"],"apiVersions":["2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3504'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:44:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.23.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US"],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US"],"apiVersions":["2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3504'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:44:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.23.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US"],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US"],"apiVersions":["2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3504'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:44:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.23.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US"],"apiVersions":["2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US"],"apiVersions":["2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"}],"registrationState":"Registered"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3503'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:44:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '570'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-03-22-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b269f70e-cd12-48b4-8492-04406e1c339d","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNGRjNmU2ZjEtNzc1My00YzQxLTk3NWQtYzc4NjMxMzZjNGNl?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1210'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:44:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNGRjNmU2ZjEtNzc1My00YzQxLTk3NWQtYzc4NjMxMzZjNGNl?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:45:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNGRjNmU2ZjEtNzc1My00YzQxLTk3NWQtYzc4NjMxMzZjNGNl?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:45:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNGRjNmU2ZjEtNzc1My00YzQxLTk3NWQtYzc4NjMxMzZjNGNl?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNGRjNmU2ZjEtNzc1My00YzQxLTk3NWQtYzc4NjMxMzZjNGNl?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-03-22-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b269f70e-cd12-48b4-8492-04406e1c339d","resourcegroup":"clitest.rg000002","etag":"AAAAAAxNxs4=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-cert-testlbbt","endpoint":"sb://iothub-ns-iot-hub-fo-3140563-5135cfc839.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1746'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-03-22-preview
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIFVWfkTVfOLQwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRhZXhidHBzeGZvaWgyYXJhMB4XDTIwMDMyNDE2NDM1MFoXDTIw\r\nMDMyODE2NDM1MFowIzEhMB8GA1UEAwwYVEVTVENFUlRhZXhidHBzeGZvaWgyYXJh\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQAnpEIcha6HvaqaHzLUIZP1\r\nViHX2wjeGUrAwRFz51xgsX8A+KitfrKwBG5RnZx8BC/UHsh7vLJRXzfYB8fZOqO9\r\nHrZOo+An8yC1RSggDJ9i6IrzlpZ2opu6LtsNtnpUpa6ZY0rCbFm7ubjG520ydCeh\r\nnHtcMFEBfYVi18W8t1Qjp+jCCzQA1nl096OJHcbhoeARB9VPLxQgOcjfyIgQEEVI\r\nB6IMsPsXenB/QrTTqe03HlGZDxqz27LI4TYPOPqD2Pzw/llJaA3gAvjoOuMNXuLq\r\nSnv3+XGkHPgZKPzVSFtqwCSP1+x5lqSwKT+/lCMY/EO3wwr/n+Udg7dDvCgBZ53r\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAEd64Sg74maO68I4eO1dGtC/FXvfGE3+LeCMJFEThP\r\n/go47Sn/VBm2PIxkmLbbB9s8Ds9MX2oHA0ACRoiCW9W1jUPtmgHYztdgO+TfYbwT\r\nczvdFkyxGs9lf6u1NA591hiP5i5ejdHYGaRhe1b2Gyw5tj8cggNIqjwOCVv2SEzj\r\nrzf/kSTgAb0wg4TXQe5DfNFuh1yaR/aNP/8yOVLAP+Vd3aM0zhAr+BUOxHMWPxhx\r\n6bXC1M4GrCweyp5/Lw57WqWZ23Z97PTGkbFvrWjrBsrI92rzaD+kWvQ7nMQj+jn+\r\nRSm+9IYqmgknYbBgV/kHh4pBkOVuySBRddOQr9rlu458\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1215'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Sat, 28 Mar 2020
        16:43:50 GMT","thumbprint":"6A971AAD2168ED9B798448DAB44F5E3C21A58DE6","isVerified":false,"created":"Wed,
        25 Mar 2020 16:46:44 GMT","updated":"Wed, 25 Mar 2020 16:46:44 GMT","certificate":"-----BEGIN
        CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIFVWfkTVfOLQwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRhZXhidHBzeGZvaWgyYXJhMB4XDTIwMDMyNDE2NDM1MFoXDTIw\r\nMDMyODE2NDM1MFowIzEhMB8GA1UEAwwYVEVTVENFUlRhZXhidHBzeGZvaWgyYXJh\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQAnpEIcha6HvaqaHzLUIZP1\r\nViHX2wjeGUrAwRFz51xgsX8A+KitfrKwBG5RnZx8BC/UHsh7vLJRXzfYB8fZOqO9\r\nHrZOo+An8yC1RSggDJ9i6IrzlpZ2opu6LtsNtnpUpa6ZY0rCbFm7ubjG520ydCeh\r\nnHtcMFEBfYVi18W8t1Qjp+jCCzQA1nl096OJHcbhoeARB9VPLxQgOcjfyIgQEEVI\r\nB6IMsPsXenB/QrTTqe03HlGZDxqz27LI4TYPOPqD2Pzw/llJaA3gAvjoOuMNXuLq\r\nSnv3+XGkHPgZKPzVSFtqwCSP1+x5lqSwKT+/lCMY/EO3wwr/n+Udg7dDvCgBZ53r\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAEd64Sg74maO68I4eO1dGtC/FXvfGE3+LeCMJFEThP\r\n/go47Sn/VBm2PIxkmLbbB9s8Ds9MX2oHA0ACRoiCW9W1jUPtmgHYztdgO+TfYbwT\r\nczvdFkyxGs9lf6u1NA591hiP5i5ejdHYGaRhe1b2Gyw5tj8cggNIqjwOCVv2SEzj\r\nrzf/kSTgAb0wg4TXQe5DfNFuh1yaR/aNP/8yOVLAP+Vd3aM0zhAr+BUOxHMWPxhx\r\n6bXC1M4GrCweyp5/Lw57WqWZ23Z97PTGkbFvrWjrBsrI92rzaD+kWvQ7nMQj+jn+\r\nRSm+9IYqmgknYbBgV/kHh4pBkOVuySBRddOQr9rlu458\r\n-----END
        CERTIFICATE-----\r\n"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAxNx60="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1891'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-03-22-preview
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Sat,
        28 Mar 2020 16:43:50 GMT","thumbprint":"6A971AAD2168ED9B798448DAB44F5E3C21A58DE6","isVerified":false,"created":"Wed,
        25 Mar 2020 16:46:44 GMT","updated":"Wed, 25 Mar 2020 16:46:44 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAxNx60="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '709'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Sat, 28 Mar 2020
        16:43:50 GMT","thumbprint":"6A971AAD2168ED9B798448DAB44F5E3C21A58DE6","isVerified":false,"created":"Wed,
        25 Mar 2020 16:46:44 GMT","updated":"Wed, 25 Mar 2020 16:46:44 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAxNx60="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAAxNx60=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"verificationCode":"6E494031E71F11C9C254F8338399A59A9C2AE1A0647265C2","subject":"TESTCERT000001","expiry":"Sat,
        28 Mar 2020 16:43:50 GMT","thumbprint":"6A971AAD2168ED9B798448DAB44F5E3C21A58DE6","isVerified":false,"created":"Wed,
        25 Mar 2020 16:46:44 GMT","updated":"Wed, 25 Mar 2020 16:46:47 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAxNx88="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '767'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIIQ6WzZzQSIXQwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRhZXhidHBzeGZvaWgyYXJhMB4XDTIwMDMyNDE2NDY0NloXDTIw\r\nMDMyODE2NDY0NlowOzE5MDcGA1UEAwwwNkU0OTQwMzFFNzFGMTFDOUMyNTRGODMz\r\nODM5OUE1OUE5QzJBRTFBMDY0NzI2NUMyMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQA65k6H5h4UDMDuaylQoRb7+d0AmnuFqGC2cFiowoAELvRQgDH1dX4k\r\n8s1EAeH/U9WQ/m8s+cQtrylR62YV19QLUcfXBYyi4FBZ0aVQqZMUkXvKRADbxIZp\r\nGDhHroeDrY3e7NZZrddpO02eGssh/aTNJIseDHQNPFo8/g5zi03441AEwKgto4H/\r\nyQAbrZjroFTxK98KlNxxFlH1zkINUCT5kWMWp1J16PknIqu7ZcE+RlQt4GAUCZHq\r\ntcUv9Rez/OY3ilfvrxNHgGjh2mX3S3Dy6KLRZ9dF6R+qgf/11RBKsN9dGXoMGZ+h\r\nljC215EHzwuuEvu1JibgReGC8KDM3DIDAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQABXDdIwsPNGKSG\r\nICC1UYJP1EO726AkhIF57wWM+pxRi/SKeghSLpQ97s9ZUtyrrBdwf6P/mDwTmcdD\r\nFGMVR7AUwTHENwVxXlAbhhnhJ3yTn80eWHn2sd6SWg6UxqyLbFJ7z39Nq+HJZPOf\r\nEy5yYnzG5tz9HQ0Y6S/X/UrHxv5twGDDkAZETPbOaJKPolAUfWaUuTDYrx2vCpd2\r\nhqNFzaYufstM+eYczPo6J4nfnyzed0BcMUpQkwoRgBh4kgadhR+y+O4t6MnAgrxH\r\nrxatBTHnXG1PyF/VIqUtDuEJhr2z0ZQMI32XuDzv4Fc+rnyzR27AeVwmiU7lU3vJ\r\n5+im3wBJ\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1179'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAAxNx88=
      ParameterSetName:
      - --hub-name -g -n -p --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Sat, 28 Mar 2020
        16:43:50 GMT","thumbprint":"6A971AAD2168ED9B798448DAB44F5E3C21A58DE6","isVerified":true,"created":"Wed,
        25 Mar 2020 16:46:44 GMT","updated":"Wed, 25 Mar 2020 16:46:48 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAxNx9w="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '696'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 25 Mar 2020 16:46:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAAxNx9w=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.7.6 (Windows-10-10.0.18362-SP0) msrest/0.6.11 msrest_azure/0.6.3
        azure-mgmt-iothub/0.8.2 Azure-SDK-For-Python AZURECLI/2.2.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 25 Mar 2020 16:46:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
