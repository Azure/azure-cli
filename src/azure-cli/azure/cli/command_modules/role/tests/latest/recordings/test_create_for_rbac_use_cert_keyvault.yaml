interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.4
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "sans": {}, "key_usage":
      ["cRLSign", "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement",
      "keyCertSign"], "validity_months": 24}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '523'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e3f77b659f3b44a7abb5111f85c7b974"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:03 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4&request_id=e3f77b659f3b44a7abb5111f85c7b974
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e3f77b659f3b44a7abb5111f85c7b974"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"e3f77b659f3b44a7abb5111f85c7b974"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","x5t":"wfvBEWW8mhtVC-gw8qfqid2T9_o","cer":"MIIDQjCCAiqgAwIBAgIQCBDHm0LbQTWwWQQqjlcQjTANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUwNVoXDTI1MTIyMDA1MzUwNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEA0yTEgvnS1VmOdn7a1ugynS/gY2OsGd0ju0bw2IvgymaBs8QNTAqHXLWELPLYTABbejLDmxbdhaJ/9tiR9XN1qdPQQUj4rakmvP712cIoCnYevn9XGQ/j4E5nnXladvb7+GHzvY1/TUTozHk4D81/b7ynjQ12iif6EcnMPUosghEaAQDVLeLP00zyHh8r+BTMwGu/O753nFMwx6PG0gA+7u6ZK0wHVfXOC0I3Gukb1FIn3cNyCW4AgM0971pSj2xKEGV/h8ZF7uHFFLedvDQWcp70vJPkfBkJEA+akfBNDSLJuEmLWxdM3pvPMSJirJzQ0jvKoS6hmxNrgVpErHVKbg==","attributes":{"enabled":true,"nbf":1703049905,"exp":1766208905,"created":1703050505,"updated":1703050505,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050503,"updated":1703050503}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2439'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"e3f77b659f3b44a7abb5111f85c7b974"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_existing_cert000001%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '92'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:10 GMT
      odata-version:
      - '4.0'
      request-id:
      - 414b0e5d-4db8-4c91-9880-1757a1dc3b12
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094AA"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","x5t":"wfvBEWW8mhtVC-gw8qfqid2T9_o","cer":"MIIDQjCCAiqgAwIBAgIQCBDHm0LbQTWwWQQqjlcQjTANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUwNVoXDTI1MTIyMDA1MzUwNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEA0yTEgvnS1VmOdn7a1ugynS/gY2OsGd0ju0bw2IvgymaBs8QNTAqHXLWELPLYTABbejLDmxbdhaJ/9tiR9XN1qdPQQUj4rakmvP712cIoCnYevn9XGQ/j4E5nnXladvb7+GHzvY1/TUTozHk4D81/b7ynjQ12iif6EcnMPUosghEaAQDVLeLP00zyHh8r+BTMwGu/O753nFMwx6PG0gA+7u6ZK0wHVfXOC0I3Gukb1FIn3cNyCW4AgM0971pSj2xKEGV/h8ZF7uHFFLedvDQWcp70vJPkfBkJEA+akfBNDSLJuEmLWxdM3pvPMSJirJzQ0jvKoS6hmxNrgVpErHVKbg==","attributes":{"enabled":true,"nbf":1703049905,"exp":1766208905,"created":1703050505,"updated":1703050505,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050503,"updated":1703050503}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2439'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert000001%27%29
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:12 GMT
      odata-version:
      - '4.0'
      request-id:
      - 0a0160d0-0346-47ab-a8c2-2bba056f8b6a
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A4"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "cli_test_sp_with_kv_existing_cert000001", "keyCredentials":
      [{"@odata.type": "#microsoft.graph.keyCredential", "displayName": null, "endDateTime":
      "2024-12-20T05:35:11Z", "key": "MIIDQjCCAiqgAwIBAgIQCBDHm0LbQTWwWQQqjlcQjTANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUwNVoXDTI1MTIyMDA1MzUwNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEA0yTEgvnS1VmOdn7a1ugynS/gY2OsGd0ju0bw2IvgymaBs8QNTAqHXLWELPLYTABbejLDmxbdhaJ/9tiR9XN1qdPQQUj4rakmvP712cIoCnYevn9XGQ/j4E5nnXladvb7+GHzvY1/TUTozHk4D81/b7ynjQ12iif6EcnMPUosghEaAQDVLeLP00zyHh8r+BTMwGu/O753nFMwx6PG0gA+7u6ZK0wHVfXOC0I3Gukb1FIn3cNyCW4AgM0971pSj2xKEGV/h8ZF7uHFFLedvDQWcp70vJPkfBkJEA+akfBNDSLJuEmLWxdM3pvPMSJirJzQ0jvKoS6hmxNrgVpErHVKbg==",
      "keyId": "88888888-0000-0000-0000-000000000001", "startDateTime": "2023-12-20T05:35:11Z",
      "type": "AsymmetricX509Cert", "usage": "Verify"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1459'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: POST
    uri: https://graph.microsoft.com/v1.0/applications
  response:
    body:
      string: '{"@odata.context": "https://graph.microsoft.com/v1.0/$metadata#applications/$entity",
        "id": "097f7fdf-2b88-476d-93c2-188e074b6720", "deletedDateTime": null, "appId":
        "9e55ddaa-bfc7-4e02-9b35-837bd9336187", "applicationTemplateId": null, "disabledByMicrosoftStatus":
        null, "createdDateTime": "2023-12-20T05:35:14.6341152Z", "displayName": "cli_test_sp_with_kv_existing_cert000001",
        "description": null, "groupMembershipClaims": null, "identifierUris": [],
        "isDeviceOnlyAuthSupported": null, "isFallbackPublicClient": null, "notes":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "serviceManagementReference":
        null, "signInAudience": "AzureADandPersonalMicrosoftAccount", "tags": [],
        "tokenEncryptionKeyId": null, "samlMetadataUrl": null, "defaultRedirectUri":
        null, "certification": null, "optionalClaims": null, "servicePrincipalLockConfiguration":
        null, "requestSignatureVerification": null, "addIns": [], "api": {"acceptMappedClaims":
        null, "knownClientApplications": [], "requestedAccessTokenVersion": 2, "oauth2PermissionScopes":
        [], "preAuthorizedApplications": []}, "appRoles": [], "info": {"logoUrl":
        null, "marketingUrl": null, "privacyStatementUrl": null, "supportUrl": null,
        "termsOfServiceUrl": null}, "keyCredentials": [{"customKeyIdentifier": "C1FBC11165BC9A1B550BE830F2A7EA89DD93F7FA",
        "displayName": "CN=CLIGetDefaultPolicy", "endDateTime": "2024-12-20T05:35:11Z",
        "key": null, "keyId": "88888888-0000-0000-0000-000000000001", "startDateTime":
        "2023-12-20T05:35:11Z", "type": "AsymmetricX509Cert", "usage": "Verify"}],
        "parentalControlSettings": {"countriesBlockedForMinors": [], "legalAgeGroupRule":
        "Allow"}, "passwordCredentials": [], "publicClient": {"redirectUris": []},
        "requiredResourceAccess": [], "verifiedPublisher": {"displayName": null, "verifiedPublisherId":
        null, "addedDateTime": null}, "web": {"homePageUrl": null, "logoutUrl": null,
        "redirectUris": [], "implicitGrantSettings": {"enableAccessTokenIssuance":
        false, "enableIdTokenIssuance": false}, "redirectUriSettings": []}, "spa":
        {"redirectUris": []}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2046'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:18 GMT
      location:
      - https://graph.microsoft.com/v2/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/097f7fdf-2b88-476d-93c2-188e074b6720/Microsoft.DirectoryServices.Application
      odata-version:
      - '4.0'
      request-id:
      - 80790f13-370b-4e96-bf3c-c2eff48e13b1
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF00004052"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: '{"appId": "9e55ddaa-bfc7-4e02-9b35-837bd9336187", "accountEnabled": true}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: POST
    uri: https://graph.microsoft.com/v1.0/servicePrincipals
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals/$entity","id":"1ba92fe9-fe0c-4dc7-a78f-746c3e84de34","deletedDateTime":null,"accountEnabled":true,"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appDescription":null,"appId":"9e55ddaa-bfc7-4e02-9b35-837bd9336187","applicationTemplateId":null,"appOwnerOrganizationId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"createdDateTime":"2023-12-20T05:35:20Z","description":null,"disabledByMicrosoftStatus":null,"displayName":"cli_test_sp_with_kv_existing_cert000001","homepage":null,"loginUrl":null,"logoutUrl":null,"notes":null,"notificationEmailAddresses":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyThumbprint":null,"replyUrls":[],"servicePrincipalNames":["9e55ddaa-bfc7-4e02-9b35-837bd9336187"],"servicePrincipalType":"Application","signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlSingleSignOnSettings":null,"addIns":[],"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[],"oauth2PermissionScopes":[],"passwordCredentials":[],"resourceSpecificApplicationPermissions":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1360'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:20 GMT
      location:
      - https://graph.microsoft.com/v2/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/1ba92fe9-fe0c-4dc7-a78f-746c3e84de34/Microsoft.DirectoryServices.ServicePrincipal
      odata-version:
      - '4.0'
      request-id:
      - 0e2db279-3c7f-4c34-aab4-a290a148ff28
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A8"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%279e55ddaa-bfc7-4e02-9b35-837bd9336187%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[{"id":"097f7fdf-2b88-476d-93c2-188e074b6720","deletedDateTime":null,"appId":"9e55ddaa-bfc7-4e02-9b35-837bd9336187","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:14Z","displayName":"cli_test_sp_with_kv_existing_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C1FBC11165BC9A1B550BE830F2A7EA89DD93F7FA","displayName":"CN=CLIGetDefaultPolicy","endDateTime":"2024-12-20T05:35:11Z","key":null,"keyId":"88888888-0000-0000-0000-000000000001","startDateTime":"2023-12-20T05:35:11Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1914'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:22 GMT
      odata-version:
      - '4.0'
      request-id:
      - d810b52b-6ae3-4cb4-9811-96d8399638f2
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF00000A3C"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications/097f7fdf-2b88-476d-93c2-188e074b6720
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications/$entity","id":"097f7fdf-2b88-476d-93c2-188e074b6720","deletedDateTime":null,"appId":"9e55ddaa-bfc7-4e02-9b35-837bd9336187","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:14Z","displayName":"cli_test_sp_with_kv_existing_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C1FBC11165BC9A1B550BE830F2A7EA89DD93F7FA","displayName":"CN=CLIGetDefaultPolicy","endDateTime":"2024-12-20T05:35:11Z","key":null,"keyId":"88888888-0000-0000-0000-000000000001","startDateTime":"2023-12-20T05:35:11Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1910'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:23 GMT
      odata-version:
      - '4.0'
      request-id:
      - 1ed2bbdc-7fb4-4306-b7e8-d8591551c949
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A9"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/c0f2c11a838c410a8ca343e3a6dd7d16","x5t":"wfvBEWW8mhtVC-gw8qfqid2T9_o","cer":"MIIDQjCCAiqgAwIBAgIQCBDHm0LbQTWwWQQqjlcQjTANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUwNVoXDTI1MTIyMDA1MzUwNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEA0yTEgvnS1VmOdn7a1ugynS/gY2OsGd0ju0bw2IvgymaBs8QNTAqHXLWELPLYTABbejLDmxbdhaJ/9tiR9XN1qdPQQUj4rakmvP712cIoCnYevn9XGQ/j4E5nnXladvb7+GHzvY1/TUTozHk4D81/b7ynjQ12iif6EcnMPUosghEaAQDVLeLP00zyHh8r+BTMwGu/O753nFMwx6PG0gA+7u6ZK0wHVfXOC0I3Gukb1FIn3cNyCW4AgM0971pSj2xKEGV/h8ZF7uHFFLedvDQWcp70vJPkfBkJEA+akfBNDSLJuEmLWxdM3pvPMSJirJzQ0jvKoS6hmxNrgVpErHVKbg==","attributes":{"enabled":true,"nbf":1703049905,"exp":1766208905,"created":1703050505,"updated":1703050505,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050503,"updated":1703050503}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2439'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"@odata.type": "#microsoft.graph.keyCredential", "displayName":
      null, "endDateTime": "2024-12-20T05:35:24Z", "key": "MIIDQjCCAiqgAwIBAgIQCBDHm0LbQTWwWQQqjlcQjTANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUwNVoXDTI1MTIyMDA1MzUwNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEA0yTEgvnS1VmOdn7a1ugynS/gY2OsGd0ju0bw2IvgymaBs8QNTAqHXLWELPLYTABbejLDmxbdhaJ/9tiR9XN1qdPQQUj4rakmvP712cIoCnYevn9XGQ/j4E5nnXladvb7+GHzvY1/TUTozHk4D81/b7ynjQ12iif6EcnMPUosghEaAQDVLeLP00zyHh8r+BTMwGu/O753nFMwx6PG0gA+7u6ZK0wHVfXOC0I3Gukb1FIn3cNyCW4AgM0971pSj2xKEGV/h8ZF7uHFFLedvDQWcp70vJPkfBkJEA+akfBNDSLJuEmLWxdM3pvPMSJirJzQ0jvKoS6hmxNrgVpErHVKbg==",
      "keyId": "687017d2-e777-4d4a-91a6-b9c75373f8a5", "startDateTime": "2023-12-20T05:35:24Z",
      "type": "AsymmetricX509Cert", "usage": "Verify"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1401'
      Content-Type:
      - application/json
      ParameterSetName:
      - --id --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/applications/097f7fdf-2b88-476d-93c2-188e074b6720
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Wed, 20 Dec 2023 05:35:28 GMT
      request-id:
      - fc333ed6-5208-4820-b245-6495b5a61dfc
      strict-transport-security:
      - max-age=31536000
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF00008CC1"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%279e55ddaa-bfc7-4e02-9b35-837bd9336187%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[{"id":"097f7fdf-2b88-476d-93c2-188e074b6720","deletedDateTime":null,"appId":"9e55ddaa-bfc7-4e02-9b35-837bd9336187","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:14Z","displayName":"cli_test_sp_with_kv_existing_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C1FBC11165BC9A1B550BE830F2A7EA89DD93F7FA","displayName":"CN=CLIGetDefaultPolicy","endDateTime":"2024-12-20T05:35:24Z","key":null,"keyId":"687017d2-e777-4d4a-91a6-b9c75373f8a5","startDateTime":"2023-12-20T05:35:24Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1914'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:29 GMT
      odata-version:
      - '4.0'
      request-id:
      - 7cd82a76-d6c6-4ac1-a202-1af033d0b46e
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A3"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: DELETE
    uri: https://graph.microsoft.com/v1.0/applications/097f7fdf-2b88-476d-93c2-188e074b6720
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Wed, 20 Dec 2023 05:35:32 GMT
      request-id:
      - 49115e58-690c-46d8-afbf-bbc47308f002
      strict-transport-security:
      - max-age=31536000
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000080E6"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "sans": {}, "key_usage":
      ["cRLSign", "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement",
      "keyCertSign"], "validity_months": 6}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '522'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"15be7b3b0a2b4e90be8e16636e1e6a3f"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:33 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4&request_id=15be7b3b0a2b4e90be8e16636e1e6a3f
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"15be7b3b0a2b4e90be8e16636e1e6a3f"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"15be7b3b0a2b4e90be8e16636e1e6a3f"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/c00837c7b8014bdca63667e61c9f1d40","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/c00837c7b8014bdca63667e61c9f1d40","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/c00837c7b8014bdca63667e61c9f1d40","x5t":"yAPMQuQSAM5T7hOep7clJ2N6pEU","cer":"MIIDQjCCAiqgAwIBAgIQQqGBJDQZSsGkKx5FAA9vaDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUzNloXDTI0MDYyMDA1MzUzNlowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEAPdiu72IozthoMJ7ToRbMN3n7Omdaq1zbkUTfReGBDM6cxg6Z6O1GEAwOEArRPKxvlwFzbT/KUjkTGIsyizqXkNCQXts3KTSZKYqZVTUTfnPc/A/DnO0u+M78Oa0SZ4VHkQcqaKpJpt9pvhcxH6W/BvEp5yDqyJsyeDZ6fC34fse2EQvwJRXXwEonaDjzxFsmGXK7qrKJHZhpy2TboIjT0MNi7FhDgGRXRBSB/dqsXRGCfDF9Z8b/DJlKxCN20y+Ni76Z1ZelBzz+daaWMQuB4e4y6eVBbfLcWCMZQx8W2DENKjNVhQxOAaB6nzP4ukh4kAyvXNaTnz4AKsSIS1ghpQ==","attributes":{"enabled":true,"nbf":1703049936,"exp":1718861736,"created":1703050536,"updated":1703050536,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050503,"updated":1703050533}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2438'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQDmwFM33hCYIoOfZeV3QxGn5RJMIK37qOX2uZPgtEe/Vp2UZdLmjll90/D36pwGyE8WIx9XIvJox8tSeIlRQZR4/OmxWzFXHRX1XZGs6Ay6FzVUHwzadKCdXaPb1E+n9Dt9P+DhPOneiaYdcHLc1//TP7V1MID1ycwy7oE36tIDYTWlYDlLvUwILy69dB/IQDmDaYF0iR/ovAaE4vE3PwwewgAMna276JMWHfGZU+G9U+qyNsaLR13zRs2W64Ceq3y8/wX+bXESZD4Py0rpqy3ZT+1q52PVaurR2H4kBLtEjj6ZvhF6G6BtTFZjqtbuMdYIieNW1qGxbUPo6VEp6zU4","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"15be7b3b0a2b4e90be8e16636e1e6a3f"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_existing_cert0000012%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '92'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:41 GMT
      odata-version:
      - '4.0'
      request-id:
      - 5684d300-5450-4ede-9aa7-fa08f5247f15
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A8"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/c00837c7b8014bdca63667e61c9f1d40","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/c00837c7b8014bdca63667e61c9f1d40","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/c00837c7b8014bdca63667e61c9f1d40","x5t":"yAPMQuQSAM5T7hOep7clJ2N6pEU","cer":"MIIDQjCCAiqgAwIBAgIQQqGBJDQZSsGkKx5FAA9vaDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUzNloXDTI0MDYyMDA1MzUzNlowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEAPdiu72IozthoMJ7ToRbMN3n7Omdaq1zbkUTfReGBDM6cxg6Z6O1GEAwOEArRPKxvlwFzbT/KUjkTGIsyizqXkNCQXts3KTSZKYqZVTUTfnPc/A/DnO0u+M78Oa0SZ4VHkQcqaKpJpt9pvhcxH6W/BvEp5yDqyJsyeDZ6fC34fse2EQvwJRXXwEonaDjzxFsmGXK7qrKJHZhpy2TboIjT0MNi7FhDgGRXRBSB/dqsXRGCfDF9Z8b/DJlKxCN20y+Ni76Z1ZelBzz+daaWMQuB4e4y6eVBbfLcWCMZQx8W2DENKjNVhQxOAaB6nzP4ukh4kAyvXNaTnz4AKsSIS1ghpQ==","attributes":{"enabled":true,"nbf":1703049936,"exp":1718861736,"created":1703050536,"updated":1703050536,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050503,"updated":1703050533}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2438'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert0000012%27%29
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:42 GMT
      odata-version:
      - '4.0'
      request-id:
      - 98f7c3fd-639a-44fa-9b59-f1ab94478272
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF00008BC9"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "cli_test_sp_with_kv_existing_cert0000012", "keyCredentials":
      [{"@odata.type": "#microsoft.graph.keyCredential", "displayName": null, "endDateTime":
      "2024-06-20T05:35:35Z", "key": "MIIDQjCCAiqgAwIBAgIQQqGBJDQZSsGkKx5FAA9vaDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUzNloXDTI0MDYyMDA1MzUzNlowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEAPdiu72IozthoMJ7ToRbMN3n7Omdaq1zbkUTfReGBDM6cxg6Z6O1GEAwOEArRPKxvlwFzbT/KUjkTGIsyizqXkNCQXts3KTSZKYqZVTUTfnPc/A/DnO0u+M78Oa0SZ4VHkQcqaKpJpt9pvhcxH6W/BvEp5yDqyJsyeDZ6fC34fse2EQvwJRXXwEonaDjzxFsmGXK7qrKJHZhpy2TboIjT0MNi7FhDgGRXRBSB/dqsXRGCfDF9Z8b/DJlKxCN20y+Ni76Z1ZelBzz+daaWMQuB4e4y6eVBbfLcWCMZQx8W2DENKjNVhQxOAaB6nzP4ukh4kAyvXNaTnz4AKsSIS1ghpQ==",
      "keyId": "88888888-0000-0000-0000-000000000002", "startDateTime": "2023-12-20T05:35:41Z",
      "type": "AsymmetricX509Cert", "usage": "Verify"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1460'
      Content-Type:
      - application/json
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: POST
    uri: https://graph.microsoft.com/v1.0/applications
  response:
    body:
      string: '{"@odata.context": "https://graph.microsoft.com/v1.0/$metadata#applications/$entity",
        "id": "efddc614-7acb-41af-bccb-273dc357ca3c", "deletedDateTime": null, "appId":
        "ef07f99a-7ed9-46f6-bce6-25601d0bc122", "applicationTemplateId": null, "disabledByMicrosoftStatus":
        null, "createdDateTime": "2023-12-20T05:35:44.6323285Z", "displayName": "cli_test_sp_with_kv_existing_cert0000012",
        "description": null, "groupMembershipClaims": null, "identifierUris": [],
        "isDeviceOnlyAuthSupported": null, "isFallbackPublicClient": null, "notes":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "serviceManagementReference":
        null, "signInAudience": "AzureADandPersonalMicrosoftAccount", "tags": [],
        "tokenEncryptionKeyId": null, "samlMetadataUrl": null, "defaultRedirectUri":
        null, "certification": null, "optionalClaims": null, "servicePrincipalLockConfiguration":
        null, "requestSignatureVerification": null, "addIns": [], "api": {"acceptMappedClaims":
        null, "knownClientApplications": [], "requestedAccessTokenVersion": 2, "oauth2PermissionScopes":
        [], "preAuthorizedApplications": []}, "appRoles": [], "info": {"logoUrl":
        null, "marketingUrl": null, "privacyStatementUrl": null, "supportUrl": null,
        "termsOfServiceUrl": null}, "keyCredentials": [{"customKeyIdentifier": "C803CC42E41200CE53EE139EA7B72527637AA445",
        "displayName": "CN=CLIGetDefaultPolicy", "endDateTime": "2024-06-20T05:35:35Z",
        "key": null, "keyId": "88888888-0000-0000-0000-000000000002", "startDateTime":
        "2023-12-20T05:35:41Z", "type": "AsymmetricX509Cert", "usage": "Verify"}],
        "parentalControlSettings": {"countriesBlockedForMinors": [], "legalAgeGroupRule":
        "Allow"}, "passwordCredentials": [], "publicClient": {"redirectUris": []},
        "requiredResourceAccess": [], "verifiedPublisher": {"displayName": null, "verifiedPublisherId":
        null, "addedDateTime": null}, "web": {"homePageUrl": null, "logoutUrl": null,
        "redirectUris": [], "implicitGrantSettings": {"enableAccessTokenIssuance":
        false, "enableIdTokenIssuance": false}, "redirectUriSettings": []}, "spa":
        {"redirectUris": []}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2047'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:45 GMT
      location:
      - https://graph.microsoft.com/v2/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/efddc614-7acb-41af-bccb-273dc357ca3c/Microsoft.DirectoryServices.Application
      odata-version:
      - '4.0'
      request-id:
      - bcaffe01-3445-4c7c-8ebb-6d0d813f5bf6
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A9"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: '{"appId": "ef07f99a-7ed9-46f6-bce6-25601d0bc122", "accountEnabled": true}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: POST
    uri: https://graph.microsoft.com/v1.0/servicePrincipals
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals/$entity","id":"6f9ea5d6-c600-417e-9b37-2547403bb1ed","deletedDateTime":null,"accountEnabled":true,"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appDescription":null,"appId":"ef07f99a-7ed9-46f6-bce6-25601d0bc122","applicationTemplateId":null,"appOwnerOrganizationId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"createdDateTime":"2023-12-20T05:35:48Z","description":null,"disabledByMicrosoftStatus":null,"displayName":"cli_test_sp_with_kv_existing_cert0000012","homepage":null,"loginUrl":null,"logoutUrl":null,"notes":null,"notificationEmailAddresses":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyThumbprint":null,"replyUrls":[],"servicePrincipalNames":["ef07f99a-7ed9-46f6-bce6-25601d0bc122"],"servicePrincipalType":"Application","signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlSingleSignOnSettings":null,"addIns":[],"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[],"oauth2PermissionScopes":[],"passwordCredentials":[],"resourceSpecificApplicationPermissions":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1362'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:48 GMT
      location:
      - https://graph.microsoft.com/v2/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/6f9ea5d6-c600-417e-9b37-2547403bb1ed/Microsoft.DirectoryServices.ServicePrincipal
      odata-version:
      - '4.0'
      request-id:
      - dff6f50f-b32b-4f53-a749-9e72702fe185
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A6"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%27ef07f99a-7ed9-46f6-bce6-25601d0bc122%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[{"id":"efddc614-7acb-41af-bccb-273dc357ca3c","deletedDateTime":null,"appId":"ef07f99a-7ed9-46f6-bce6-25601d0bc122","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:44Z","displayName":"cli_test_sp_with_kv_existing_cert0000012","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C803CC42E41200CE53EE139EA7B72527637AA445","displayName":"CN=CLIGetDefaultPolicy","endDateTime":"2024-06-20T05:35:35Z","key":null,"keyId":"88888888-0000-0000-0000-000000000002","startDateTime":"2023-12-20T05:35:41Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1915'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:49 GMT
      odata-version:
      - '4.0'
      request-id:
      - e248e655-c7c5-46e1-bd6c-bdc7ae41f5be
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A2"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications/efddc614-7acb-41af-bccb-273dc357ca3c
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications/$entity","id":"efddc614-7acb-41af-bccb-273dc357ca3c","deletedDateTime":null,"appId":"ef07f99a-7ed9-46f6-bce6-25601d0bc122","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:44Z","displayName":"cli_test_sp_with_kv_existing_cert0000012","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C803CC42E41200CE53EE139EA7B72527637AA445","displayName":"CN=CLIGetDefaultPolicy","endDateTime":"2024-06-20T05:35:35Z","key":null,"keyId":"88888888-0000-0000-0000-000000000002","startDateTime":"2023-12-20T05:35:41Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1911'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:50 GMT
      odata-version:
      - '4.0'
      request-id:
      - ad782072-39fb-4c90-ba6a-47bcdb9327fb
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A7"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/c00837c7b8014bdca63667e61c9f1d40","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/c00837c7b8014bdca63667e61c9f1d40","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/c00837c7b8014bdca63667e61c9f1d40","x5t":"yAPMQuQSAM5T7hOep7clJ2N6pEU","cer":"MIIDQjCCAiqgAwIBAgIQQqGBJDQZSsGkKx5FAA9vaDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUzNloXDTI0MDYyMDA1MzUzNlowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEAPdiu72IozthoMJ7ToRbMN3n7Omdaq1zbkUTfReGBDM6cxg6Z6O1GEAwOEArRPKxvlwFzbT/KUjkTGIsyizqXkNCQXts3KTSZKYqZVTUTfnPc/A/DnO0u+M78Oa0SZ4VHkQcqaKpJpt9pvhcxH6W/BvEp5yDqyJsyeDZ6fC34fse2EQvwJRXXwEonaDjzxFsmGXK7qrKJHZhpy2TboIjT0MNi7FhDgGRXRBSB/dqsXRGCfDF9Z8b/DJlKxCN20y+Ni76Z1ZelBzz+daaWMQuB4e4y6eVBbfLcWCMZQx8W2DENKjNVhQxOAaB6nzP4ukh4kAyvXNaTnz4AKsSIS1ghpQ==","attributes":{"enabled":true,"nbf":1703049936,"exp":1718861736,"created":1703050536,"updated":1703050536,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050503,"updated":1703050533}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2438'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"@odata.type": "#microsoft.graph.keyCredential", "displayName":
      null, "endDateTime": "2024-06-20T05:35:35Z", "key": "MIIDQjCCAiqgAwIBAgIQQqGBJDQZSsGkKx5FAA9vaDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIzMTIyMDA1MjUzNloXDTI0MDYyMDA1MzUzNlowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOj+lbLnnDuBFn0ZTiZmR9RndtnX1oZPYECIBqgB24me/apyiR0mT7QPTwnJkh0Dq0Bi5luFOmRgROE2rGpu5NVL1bRE/pk0TCY/wvEETfzzD8UNvgEweAhX3tqMNopvE163YywYFroQAd+QoMhK7/HNfR32X7sSnMTlQFJIb+t9qfJr8Z2RhGa8kZoFKMrVRLIrhEIixryzxk10D0sNxoS37GOo1WfQDH8cso3O3A84wSvEaJpETtigLdTs5UaW0ZBHbrnqlVYeekXftMUHv7Q/mUPp06yg4L3L0JLBvD9dh74ZfUg5+PK8JFSMprSX28ChILxpFLGmohRb1ejePpUCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFB8YaWgN0E+EgaJMFfX45QLXo16GMB0GA1UdDgQWBBQfGGloDdBPhIGiTBX1+OUC16NehjANBgkqhkiG9w0BAQsFAAOCAQEAPdiu72IozthoMJ7ToRbMN3n7Omdaq1zbkUTfReGBDM6cxg6Z6O1GEAwOEArRPKxvlwFzbT/KUjkTGIsyizqXkNCQXts3KTSZKYqZVTUTfnPc/A/DnO0u+M78Oa0SZ4VHkQcqaKpJpt9pvhcxH6W/BvEp5yDqyJsyeDZ6fC34fse2EQvwJRXXwEonaDjzxFsmGXK7qrKJHZhpy2TboIjT0MNi7FhDgGRXRBSB/dqsXRGCfDF9Z8b/DJlKxCN20y+Ni76Z1ZelBzz+daaWMQuB4e4y6eVBbfLcWCMZQx8W2DENKjNVhQxOAaB6nzP4ukh4kAyvXNaTnz4AKsSIS1ghpQ==",
      "keyId": "022271c7-f421-4b91-a150-52505cdb3beb", "startDateTime": "2023-12-20T05:35:51Z",
      "type": "AsymmetricX509Cert", "usage": "Verify"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1401'
      Content-Type:
      - application/json
      ParameterSetName:
      - --id --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/applications/efddc614-7acb-41af-bccb-273dc357ca3c
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Wed, 20 Dec 2023 05:35:54 GMT
      request-id:
      - 551d4261-3828-4a38-b3e7-57a5c25d1ccb
      strict-transport-security:
      - max-age=31536000
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094AA"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%27ef07f99a-7ed9-46f6-bce6-25601d0bc122%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[{"id":"efddc614-7acb-41af-bccb-273dc357ca3c","deletedDateTime":null,"appId":"ef07f99a-7ed9-46f6-bce6-25601d0bc122","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:44Z","displayName":"cli_test_sp_with_kv_existing_cert0000012","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C803CC42E41200CE53EE139EA7B72527637AA445","displayName":"CN=CLIGetDefaultPolicy","endDateTime":"2024-06-20T05:35:35Z","key":null,"keyId":"022271c7-f421-4b91-a150-52505cdb3beb","startDateTime":"2023-12-20T05:35:51Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1915'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:56 GMT
      odata-version:
      - '4.0'
      request-id:
      - 3d2eabb3-f0e3-450b-b7da-4abd06fa5bfb
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000019D9"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: DELETE
    uri: https://graph.microsoft.com/v1.0/applications/efddc614-7acb-41af-bccb-273dc357ca3c
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Wed, 20 Dec 2023 05:35:57 GMT
      request-id:
      - b52ecec2-eac5-4ef2-bf09-4d4fa6e1898f
      strict-transport-security:
      - max-age=31536000
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A4"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app show
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%279e55ddaa-bfc7-4e02-9b35-837bd9336187%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:36:18 GMT
      odata-version:
      - '4.0'
      request-id:
      - ce193f8f-242d-42b6-9efe-16e3254d62d9
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF00000915"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app show
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications/9e55ddaa-bfc7-4e02-9b35-837bd9336187
  response:
    body:
      string: '{"error":{"code":"Request_ResourceNotFound","message":"Resource ''9e55ddaa-bfc7-4e02-9b35-837bd9336187''
        does not exist or one of its queried reference-property objects are not present.","innerError":{"date":"2023-12-20T05:36:19","request-id":"db6d2f1a-5197-4079-bd5a-383aff73a2ec","client-request-id":"db6d2f1a-5197-4079-bd5a-383aff73a2ec"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '341'
      content-type:
      - application/json
      date:
      - Wed, 20 Dec 2023 05:36:18 GMT
      request-id:
      - db6d2f1a-5197-4079-bd5a-383aff73a2ec
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF00007787"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app show
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%27ef07f99a-7ed9-46f6-bce6-25601d0bc122%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:36:20 GMT
      odata-version:
      - '4.0'
      request-id:
      - c5b83d25-5762-40b5-b8fc-ee9791735e2f
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF0000948F"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app show
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications/ef07f99a-7ed9-46f6-bce6-25601d0bc122
  response:
    body:
      string: '{"error":{"code":"Request_ResourceNotFound","message":"Resource ''ef07f99a-7ed9-46f6-bce6-25601d0bc122''
        does not exist or one of its queried reference-property objects are not present.","innerError":{"date":"2023-12-20T05:36:22","request-id":"12585d1b-3c3c-4e24-bc45-e937bd9fd70d","client-request-id":"12585d1b-3c3c-4e24-bc45-e937bd9fd70d"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '341'
      content-type:
      - application/json
      date:
      - Wed, 20 Dec 2023 05:36:22 GMT
      request-id:
      - 12585d1b-3c3c-4e24-bc45-e937bd9fd70d
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF00007F72"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 404
      message: Not Found
version: 1
