interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/networkWatchers?api-version=2022-01-01
  response:
    body:
      string: '{"value":[{"name":"NetworkWatcher_westus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westus","etag":"W/\"2f330891-d619-4d17-9cab-4c7ea597831e\"","type":"Microsoft.Network/networkWatchers","location":"westus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus","etag":"W/\"f7e92abd-65db-4adf-a2ec-7941130a35c2\"","type":"Microsoft.Network/networkWatchers","location":"eastus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope/providers/Microsoft.Network/networkWatchers/nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope","etag":"W/\"b098d3bc-75c5-4566-a0ee-1072da189dbc\"","type":"Microsoft.Network/networkWatchers","location":"westeurope","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2","etag":"W/\"bff25510-a404-4b88-921e-db9e9d19b077\"","type":"Microsoft.Network/networkWatchers","location":"eastus2","properties":{"provisioningState":"Deleting","runningOperationIds":[]}},{"name":"NetworkWatcher_westcentralus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westcentralus","etag":"W/\"e2da6b8a-7c79-4885-b8c7-091e7b19b003\"","type":"Microsoft.Network/networkWatchers","location":"westcentralus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_westus2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westus2","etag":"W/\"7e93220d-ee08-4844-85e4-eb67550bda5d\"","type":"Microsoft.Network/networkWatchers","location":"westus2","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_uksouth","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_uksouth","etag":"W/\"b44ee4a0-66d6-47bc-aad7-b1bdebcd2e31\"","type":"Microsoft.Network/networkWatchers","location":"uksouth","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_norwayeast","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/SanthoshRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_norwayeast","etag":"W/\"86450203-330c-4541-9800-60bc81e5100a\"","type":"Microsoft.Network/networkWatchers","location":"norwayeast","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_italynorth","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_italynorth","etag":"W/\"4b23f718-e5df-40f9-9301-a1eaca92c618\"","type":"Microsoft.Network/networkWatchers","location":"italynorth","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_centraluseuap","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_centraluseuap","etag":"W/\"c92a1cf9-662b-47b2-8091-4a86fcbe33d7\"","type":"Microsoft.Network/networkWatchers","location":"centraluseuap","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus2euap","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2euap","etag":"W/\"8d0e82f3-13c1-4366-aa8a-9cee64a87ef0\"","type":"Microsoft.Network/networkWatchers","location":"eastus2euap","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4379'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 09:20:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - e72ef5e2-1676-411d-bbf3-cb8239993a35
      - 00c8493a-ce8d-447b-aa32-f4267bf7eb1e
      - b5d826fd-ce7e-4e3e-a012-0a5ccf85014a
      - c94ad80b-dcf4-4c44-97c9-8247a9b6019f
      - 22dce6ac-5108-4a11-9dbc-62c9966bb6ed
      - cf1c38aa-440e-452d-bfc7-f00793ffa094
      - edd5d886-03da-4e64-96dd-cb14286b9a4e
      - ddf46254-b24b-4de4-80f3-210bfa87e41f
      - f294ce9e-ebd4-4062-8b92-a4e8215b268d
      - bc2345bb-1986-492d-b994-28c759377721
      - d4a9b725-b394-4344-b901-2198d6127714
      x-msedge-ref:
      - 'Ref A: 6B22F726B9324B148B0FE8C4A0FDD27F Ref B: MAA201060516031 Ref C: 2024-06-03T09:20:23Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus2", "properties": {"endpoints": [{"name": "aks-azure-cni-vnet",
      "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet",
      "type": "AzureVNet"}, {"name": "aks-private-vnet", "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet",
      "type": "AzureVNet"}, {"address": "google.com", "name": "Google1", "type": "ExternalAddress"}],
      "outputs": [], "testConfigurations": [{"httpConfiguration": {"method": "Get",
      "port": 80, "requestHeaders": [], "validStatusCodeRanges": ["200", "201"]},
      "name": "testconfig2", "protocol": "Http", "testFrequencySec": "120"}, {"httpConfiguration":
      {"method": "Get", "port": 80, "requestHeaders": [], "validStatusCodeRanges":
      ["200", "201"]}, "name": "testconfig1", "protocol": "Http", "testFrequencySec":
      "120"}], "testGroups": [{"destinations": ["aks-private-vnet", "Google1"], "name":
      "tg1", "sources": ["aks-azure-cni-vnet", "aks-private-vnet"], "testConfigurations":
      ["testconfig2", "testconfig1"]}, {"destinations": ["aks-private-vnet", "Google1"],
      "name": "tg2", "sources": ["aks-azure-cni-vnet", "aks-private-vnet"], "testConfigurations":
      ["testconfig2", "testconfig1"]}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      Content-Length:
      - '1334'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-01?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"cmv2-01\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-01\",\r\n
        \ \"etag\": \"W/\\\"4da3f0c6-c526-462f-8294-4db09b929bed\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\": \"8cd40e26-f802-4b40-bc58-0b04f7b82f11\",\r\n
        \   \"endpoints\": [\r\n      {\r\n        \"name\": \"aks-azure-cni-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet\"\r\n
        \     },\r\n      {\r\n        \"name\": \"aks-private-vnet\",\r\n        \"type\":
        \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet\"\r\n
        \     },\r\n      {\r\n        \"name\": \"Google1\",\r\n        \"type\":
        \"ExternalAddress\",\r\n        \"address\": \"google.com\"\r\n      }\r\n
        \   ],\r\n    \"testConfigurations\": [\r\n      {\r\n        \"name\": \"testconfig2\",\r\n
        \       \"testFrequencySec\": 120,\r\n        \"protocol\": \"Http\",\r\n
        \       \"httpConfiguration\": {\r\n          \"port\": 80,\r\n          \"method\":
        \"Get\",\r\n          \"requestHeaders\": [],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"testconfig1\",\r\n
        \       \"testFrequencySec\": 120,\r\n        \"protocol\": \"Http\",\r\n
        \       \"httpConfiguration\": {\r\n          \"port\": 80,\r\n          \"method\":
        \"Get\",\r\n          \"requestHeaders\": [],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      }\r\n    ],\r\n    \"testGroups\": [\r\n      {\r\n
        \       \"name\": \"tg1\",\r\n        \"disable\": false,\r\n        \"testConfigurations\":
        [\r\n          \"testconfig2\",\r\n          \"testconfig1\"\r\n        ],\r\n
        \       \"sources\": [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-private-vnet\"\r\n
        \       ],\r\n        \"destinations\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"Google1\"\r\n        ]\r\n      },\r\n      {\r\n        \"name\":
        \"tg2\",\r\n        \"disable\": false,\r\n        \"testConfigurations\":
        [\r\n          \"testconfig2\",\r\n          \"testconfig1\"\r\n        ],\r\n
        \       \"sources\": [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-private-vnet\"\r\n
        \       ],\r\n        \"destinations\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"Google1\"\r\n        ]\r\n      }\r\n    ],\r\n    \"outputs\":
        [],\r\n    \"connectionMonitorType\": \"MultiEndpoint\"\r\n  },\r\n  \"type\":
        \"Microsoft.Network/networkWatchers/connectionMonitors\",\r\n  \"location\":
        \"eastus2\"\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/0ee8976d-2ca5-40c8-9aef-b2da1d88104b?api-version=2022-01-01&t=638530032272537821&c=MIIHpTCCBo2gAwIBAgITfwNAzkFewm_NciphkAAEA0DOQTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE3MTkyMjQwWhcNMjUwNTEyMTkyMjQwWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJuJT5HwtZYeMETB2FErJ9p7P7i0j5K1z_6Q8ubSfyaHW5BXsFmRWgdTUjKJeDSJeyiDXrTUG_vHsfl5LFuBUd0wRJdi6qPSdJBdjtQBJeEuHnufrh29AhuQ3GWJDrfdtarbHmIM-iXChLaLDQRvAyrn53r4TLJtSXo-E1Nrko3diGh5O-pU8z8JNR1eM_KSRpMlbaKuCB6O4iL0UDcKoYasw64KhNhDeBWLNuZeFBOZlFiurb2p7OZLyPrCVo9R7w5IOOIJ1by-Z8xXliKu4y8En6XZW4zydhykuZhlt1QXtLV_wQlqMBqHzqniOg0cFlPxbHSUfAw3EPoQWdvzZzUCAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSkfu1z-bxmu3Ewf496cDhz0adszDAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGTAsFHn-v_Myc5P-Oa3IJEoH6iGQLYP4rMw8VHz6mNtg8tKrt7uCKm8hnXaILxDW53ybQpLCrIkir-vEkIZRaG_S7xsSov4PJ14t7p21zw25PTidIeFY3Kdx4uG8vhZBZ6nkgAOPe6v-VA7WmYBikI6El7jpz1MaRJMtqxJQIEXw_PbacRK7lughh6X2XvVv0LbV5_jSkYanML03gsTTOQItymOtXsNk0sKM8rhG4XBRFy8vSDa9vBXfWHw3S2-ZvYKpnaklc8_16F4aVu2cPRlAXwaG6XJGkkwl1ClCALQlYxeUWeobHFi0RpMZDprs7h6rHmFARmjrWRf_3vnxqg&s=H1IHeZOjVLZ4eprZnLb8IkQfzG_guj05xSmFfg9fFuaiHHSNt-7kBsb8vCb4i_5BgknrnYvHcNwzdctoQrOQ7LvFLbpEYnpE09anpXHV6BrG-UOgXaLuAUOSOXxGJS9Rrk6i8Qncf_tXzuKzMg1iS0epn4ENUsXjzK95x6v0ppM-LtE1ji5XgoHZl8YFMNqm5eQVOuOh1Z1zggjw6LFP3UtuhWEYr4vyzCjKZxXMcIoueLc-gaH8EKiOx2NGRVkbnYC_XZgvkZYIaSrajkLQv86Mb_S--zHMSLyQnBWNVOO4FVtCX5zrNf9FEL_i7GU8lc5aW3J77cbM_MlkgyzMQw&h=Up207kBF5QK6L9q4zCSS1fsZpDn2WWDOM4aKOCXsvlI
      cache-control:
      - no-cache
      content-length:
      - '2710'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 09:20:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 9e6f17f8-24c1-4a75-bc61-08bc05b8e7d9
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: A9CA3D373DDA4E4A86FD7FBD0348A19F Ref B: MAA201060515033 Ref C: 2024-06-03T09:20:25Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/0ee8976d-2ca5-40c8-9aef-b2da1d88104b?api-version=2022-01-01&t=638530032272537821&c=MIIHpTCCBo2gAwIBAgITfwNAzkFewm_NciphkAAEA0DOQTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE3MTkyMjQwWhcNMjUwNTEyMTkyMjQwWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJuJT5HwtZYeMETB2FErJ9p7P7i0j5K1z_6Q8ubSfyaHW5BXsFmRWgdTUjKJeDSJeyiDXrTUG_vHsfl5LFuBUd0wRJdi6qPSdJBdjtQBJeEuHnufrh29AhuQ3GWJDrfdtarbHmIM-iXChLaLDQRvAyrn53r4TLJtSXo-E1Nrko3diGh5O-pU8z8JNR1eM_KSRpMlbaKuCB6O4iL0UDcKoYasw64KhNhDeBWLNuZeFBOZlFiurb2p7OZLyPrCVo9R7w5IOOIJ1by-Z8xXliKu4y8En6XZW4zydhykuZhlt1QXtLV_wQlqMBqHzqniOg0cFlPxbHSUfAw3EPoQWdvzZzUCAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSkfu1z-bxmu3Ewf496cDhz0adszDAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGTAsFHn-v_Myc5P-Oa3IJEoH6iGQLYP4rMw8VHz6mNtg8tKrt7uCKm8hnXaILxDW53ybQpLCrIkir-vEkIZRaG_S7xsSov4PJ14t7p21zw25PTidIeFY3Kdx4uG8vhZBZ6nkgAOPe6v-VA7WmYBikI6El7jpz1MaRJMtqxJQIEXw_PbacRK7lughh6X2XvVv0LbV5_jSkYanML03gsTTOQItymOtXsNk0sKM8rhG4XBRFy8vSDa9vBXfWHw3S2-ZvYKpnaklc8_16F4aVu2cPRlAXwaG6XJGkkwl1ClCALQlYxeUWeobHFi0RpMZDprs7h6rHmFARmjrWRf_3vnxqg&s=H1IHeZOjVLZ4eprZnLb8IkQfzG_guj05xSmFfg9fFuaiHHSNt-7kBsb8vCb4i_5BgknrnYvHcNwzdctoQrOQ7LvFLbpEYnpE09anpXHV6BrG-UOgXaLuAUOSOXxGJS9Rrk6i8Qncf_tXzuKzMg1iS0epn4ENUsXjzK95x6v0ppM-LtE1ji5XgoHZl8YFMNqm5eQVOuOh1Z1zggjw6LFP3UtuhWEYr4vyzCjKZxXMcIoueLc-gaH8EKiOx2NGRVkbnYC_XZgvkZYIaSrajkLQv86Mb_S--zHMSLyQnBWNVOO4FVtCX5zrNf9FEL_i7GU8lc5aW3J77cbM_MlkgyzMQw&h=Up207kBF5QK6L9q4zCSS1fsZpDn2WWDOM4aKOCXsvlI
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 09:20:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 541ca2a3-3b07-4e64-8762-ba224feda13d
      x-msedge-ref:
      - 'Ref A: A374A3BF59434918B0AF7B574BF375CA Ref B: MAA201060515033 Ref C: 2024-06-03T09:20:27Z'
    status:
      code: 200
      message: ''
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/0ee8976d-2ca5-40c8-9aef-b2da1d88104b?api-version=2022-01-01&t=638530032272537821&c=MIIHpTCCBo2gAwIBAgITfwNAzkFewm_NciphkAAEA0DOQTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE3MTkyMjQwWhcNMjUwNTEyMTkyMjQwWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJuJT5HwtZYeMETB2FErJ9p7P7i0j5K1z_6Q8ubSfyaHW5BXsFmRWgdTUjKJeDSJeyiDXrTUG_vHsfl5LFuBUd0wRJdi6qPSdJBdjtQBJeEuHnufrh29AhuQ3GWJDrfdtarbHmIM-iXChLaLDQRvAyrn53r4TLJtSXo-E1Nrko3diGh5O-pU8z8JNR1eM_KSRpMlbaKuCB6O4iL0UDcKoYasw64KhNhDeBWLNuZeFBOZlFiurb2p7OZLyPrCVo9R7w5IOOIJ1by-Z8xXliKu4y8En6XZW4zydhykuZhlt1QXtLV_wQlqMBqHzqniOg0cFlPxbHSUfAw3EPoQWdvzZzUCAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSkfu1z-bxmu3Ewf496cDhz0adszDAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGTAsFHn-v_Myc5P-Oa3IJEoH6iGQLYP4rMw8VHz6mNtg8tKrt7uCKm8hnXaILxDW53ybQpLCrIkir-vEkIZRaG_S7xsSov4PJ14t7p21zw25PTidIeFY3Kdx4uG8vhZBZ6nkgAOPe6v-VA7WmYBikI6El7jpz1MaRJMtqxJQIEXw_PbacRK7lughh6X2XvVv0LbV5_jSkYanML03gsTTOQItymOtXsNk0sKM8rhG4XBRFy8vSDa9vBXfWHw3S2-ZvYKpnaklc8_16F4aVu2cPRlAXwaG6XJGkkwl1ClCALQlYxeUWeobHFi0RpMZDprs7h6rHmFARmjrWRf_3vnxqg&s=H1IHeZOjVLZ4eprZnLb8IkQfzG_guj05xSmFfg9fFuaiHHSNt-7kBsb8vCb4i_5BgknrnYvHcNwzdctoQrOQ7LvFLbpEYnpE09anpXHV6BrG-UOgXaLuAUOSOXxGJS9Rrk6i8Qncf_tXzuKzMg1iS0epn4ENUsXjzK95x6v0ppM-LtE1ji5XgoHZl8YFMNqm5eQVOuOh1Z1zggjw6LFP3UtuhWEYr4vyzCjKZxXMcIoueLc-gaH8EKiOx2NGRVkbnYC_XZgvkZYIaSrajkLQv86Mb_S--zHMSLyQnBWNVOO4FVtCX5zrNf9FEL_i7GU8lc5aW3J77cbM_MlkgyzMQw&h=Up207kBF5QK6L9q4zCSS1fsZpDn2WWDOM4aKOCXsvlI
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 09:20:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 7e170dc2-1cfe-4d12-a771-473be8f86c1a
      x-msedge-ref:
      - 'Ref A: CF16D7A20CA44472901D3A1E521B29C5 Ref B: MAA201060515033 Ref C: 2024-06-03T09:20:38Z'
    status:
      code: 200
      message: ''
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-01?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"cmv2-01\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-01\",\r\n
        \ \"etag\": \"W/\\\"14d93429-c641-4032-ab41-d70e243cfbac\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\": \"8cd40e26-f802-4b40-bc58-0b04f7b82f11\",\r\n
        \   \"endpoints\": [\r\n      {\r\n        \"name\": \"aks-azure-cni-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet\"\r\n
        \     },\r\n      {\r\n        \"name\": \"aks-private-vnet\",\r\n        \"type\":
        \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet\"\r\n
        \     },\r\n      {\r\n        \"name\": \"Google1\",\r\n        \"type\":
        \"ExternalAddress\",\r\n        \"address\": \"google.com\"\r\n      }\r\n
        \   ],\r\n    \"testConfigurations\": [\r\n      {\r\n        \"name\": \"testconfig2\",\r\n
        \       \"testFrequencySec\": 120,\r\n        \"protocol\": \"Http\",\r\n
        \       \"httpConfiguration\": {\r\n          \"port\": 80,\r\n          \"method\":
        \"Get\",\r\n          \"requestHeaders\": [],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"testconfig1\",\r\n
        \       \"testFrequencySec\": 120,\r\n        \"protocol\": \"Http\",\r\n
        \       \"httpConfiguration\": {\r\n          \"port\": 80,\r\n          \"method\":
        \"Get\",\r\n          \"requestHeaders\": [],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      }\r\n    ],\r\n    \"testGroups\": [\r\n      {\r\n
        \       \"name\": \"tg1\",\r\n        \"disable\": false,\r\n        \"testConfigurations\":
        [\r\n          \"testconfig2\",\r\n          \"testconfig1\"\r\n        ],\r\n
        \       \"sources\": [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-private-vnet\"\r\n
        \       ],\r\n        \"destinations\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"Google1\"\r\n        ]\r\n      },\r\n      {\r\n        \"name\":
        \"tg2\",\r\n        \"disable\": false,\r\n        \"testConfigurations\":
        [\r\n          \"testconfig2\",\r\n          \"testconfig1\"\r\n        ],\r\n
        \       \"sources\": [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-private-vnet\"\r\n
        \       ],\r\n        \"destinations\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"Google1\"\r\n        ]\r\n      }\r\n    ],\r\n    \"outputs\":
        [\r\n      {\r\n        \"type\": \"Workspace\",\r\n        \"workspaceSettings\":
        {\r\n          \"workspaceResourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/defaultresourcegroup-eus2/providers/microsoft.operationalinsights/workspaces/defaultworkspace-9cece3e3-0f7d-47ca-af0e-9772773f90b7-eus2\"\r\n
        \       }\r\n      }\r\n    ],\r\n    \"startTime\": \"2024-06-03T09:20:30.6322856Z\",\r\n
        \   \"connectionMonitorType\": \"MultiEndpoint\"\r\n  },\r\n  \"type\": \"Microsoft.Network/networkWatchers/connectionMonitors\",\r\n
        \ \"location\": \"eastus2\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3097'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 03 Jun 2024 09:20:39 GMT
      etag:
      - W/"14d93429-c641-4032-ab41-d70e243cfbac"
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 5f70c7cd-4f4f-4823-a607-2f35761f9f01
      x-msedge-ref:
      - 'Ref A: ED809B46432C4C36B19698403735EBD4 Ref B: MAA201060515033 Ref C: 2024-06-03T09:20:39Z'
    status:
      code: 200
      message: ''
version: 1
