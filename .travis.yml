dist: trusty
sudo: off
language: python
addons:
  apt:
    packages:
      - libssl-dev
      - libffi-dev
      - python-dev
install: echo 'skip'
cache: pip
jobs:
  include:
    - stage: precheck
      env: PURPOSE='PEP8'
      script: ./scripts/ci/precheck_pep8.sh
      python: 3.6
    - stage: precheck
      env: PURPOSE='Headers'
      script: ./scripts/ci/precheck_header.sh
      python: 3.6
    - stage: verify
      env: 
      - PURPOSE='Automation'
      - AZURE_CLI_TEST_TARGET_PROFILE='2017-03-09'
      script: ./scripts/ci/test_automation.sh
      python: 3.6
    - stage: verify
      env:
      - PURPOSE='Automation'
      - AZURE_CLI_TEST_TARGET_PROFILE='2017-03-09'
      script: ./scripts/ci/test_automation.sh
      python: 2.7
    - stage: verify
      script: ./scripts/ci/test_static.sh
      env: PURPOSE='Static Check'
      python: 3.6
