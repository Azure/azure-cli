interactions:
- request:
    body: '{"location": "eastus", "properties": {"administratorLogin": "admin123",
      "administratorLoginPassword": "SecretPassword123", "administrators": {}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      Content-Length:
      - '145'
      Content-Type:
      - application/json
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002?api-version=2021-02-01-preview
  response:
    body:
      string: '{"operation":"UpsertLogicalServer","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
      cache-control:
      - no-cache
      content-length:
      - '74'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:44:26 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverOperationResults/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"InProgress","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '108'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:44:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"InProgress","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '108'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:44:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"InProgress","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '108'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:44:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"InProgress","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '108'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:44:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"InProgress","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '108'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:44:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"InProgress","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '108'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:44:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"InProgress","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '108'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:45:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/b002e2fa-b9e7-4d60-8858-7b24a9f1638b?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"b002e2fa-b9e7-4d60-8858-7b24a9f1638b","status":"Succeeded","startTime":"2022-06-21T14:44:26.697Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:45:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server create
      Connection:
      - keep-alive
      ParameterSetName:
      - -l -g -n -u -p
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002?api-version=2021-02-01-preview
  response:
    body:
      string: '{"kind":"v12.0","properties":{"administratorLogin":"admin123","version":"12.0","state":"Ready","fullyQualifiedDomainName":"clitestserver000002.database.windows.net","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","restrictOutboundNetworkAccess":"Disabled"},"location":"eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002","name":"clitestserver000002","type":"Microsoft.Sql/servers"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '496'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:45:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -i
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002?api-version=2021-02-01-preview
  response:
    body:
      string: '{"kind":"v12.0","properties":{"administratorLogin":"admin123","version":"12.0","state":"Ready","fullyQualifiedDomainName":"clitestserver000002.database.windows.net","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","restrictOutboundNetworkAccess":"Disabled"},"location":"eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002","name":"clitestserver000002","type":"Microsoft.Sql/servers"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '496'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus", "identity": {"type": "SystemAssigned"}, "properties":
      {"administratorLogin": "admin123", "version": "12.0", "publicNetworkAccess":
      "Enabled", "restrictOutboundNetworkAccess": "Disabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server update
      Connection:
      - keep-alive
      Content-Length:
      - '210'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n -i
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002?api-version=2021-02-01-preview
  response:
    body:
      string: '{"operation":"UpsertLogicalServer","startTime":"2022-06-21T14:46:09.25Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/6b86f6d3-1b8a-47d2-8835-dff7e743b876?api-version=2021-02-01-preview
      cache-control:
      - no-cache
      content-length:
      - '73'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:08 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverOperationResults/6b86f6d3-1b8a-47d2-8835-dff7e743b876?api-version=2021-02-01-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -i
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/6b86f6d3-1b8a-47d2-8835-dff7e743b876?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"6b86f6d3-1b8a-47d2-8835-dff7e743b876","status":"InProgress","startTime":"2022-06-21T14:46:09.25Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -i
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverAzureAsyncOperation/6b86f6d3-1b8a-47d2-8835-dff7e743b876?api-version=2021-02-01-preview
  response:
    body:
      string: '{"name":"6b86f6d3-1b8a-47d2-8835-dff7e743b876","status":"Succeeded","startTime":"2022-06-21T14:46:09.25Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n -i
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002?api-version=2021-02-01-preview
  response:
    body:
      string: '{"identity":{"principalId":"932bfe28-79e6-4c4e-b915-d6ebb4e86caa","type":"SystemAssigned","tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a"},"kind":"v12.0","properties":{"administratorLogin":"admin123","version":"12.0","state":"Ready","fullyQualifiedDomainName":"clitestserver000002.database.windows.net","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","restrictOutboundNetworkAccess":"Disabled"},"location":"eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002","name":"clitestserver000002","type":"Microsoft.Sql/servers"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '636'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002?api-version=2021-02-01-preview
  response:
    body:
      string: '{"identity":{"principalId":"932bfe28-79e6-4c4e-b915-d6ebb4e86caa","type":"SystemAssigned","tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a"},"kind":"v12.0","properties":{"administratorLogin":"admin123","version":"12.0","state":"Ready","fullyQualifiedDomainName":"clitestserver000002.database.windows.net","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","restrictOutboundNetworkAccess":"Disabled"},"location":"eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002","name":"clitestserver000002","type":"Microsoft.Sql/servers"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '636'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002?api-version=2021-02-01-preview
  response:
    body:
      string: '{"identity":{"principalId":"932bfe28-79e6-4c4e-b915-d6ebb4e86caa","type":"SystemAssigned","tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a"},"kind":"v12.0","properties":{"administratorLogin":"admin123","version":"12.0","state":"Ready","fullyQualifiedDomainName":"clitestserver000002.database.windows.net","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","restrictOutboundNetworkAccess":"Disabled"},"location":"eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002","name":"clitestserver000002","type":"Microsoft.Sql/servers"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '636'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/databases/sqltdebyok000004?api-version=2021-05-01-preview
  response:
    body:
      string: '{"operation":"CreateLogicalDatabase","startTime":"2022-06-21T14:46:14.09Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/databaseAzureAsyncOperation/2b0bdd05-b300-4453-a242-a350adc723d6?api-version=2021-05-01-preview
      cache-control:
      - no-cache
      content-length:
      - '75'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:13 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/databaseOperationResults/2b0bdd05-b300-4453-a242-a350adc723d6?api-version=2021-05-01-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/databaseAzureAsyncOperation/2b0bdd05-b300-4453-a242-a350adc723d6?api-version=2021-05-01-preview
  response:
    body:
      string: '{"name":"2b0bdd05-b300-4453-a242-a350adc723d6","status":"InProgress","startTime":"2022-06-21T14:46:14.09Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/databaseAzureAsyncOperation/2b0bdd05-b300-4453-a242-a350adc723d6?api-version=2021-05-01-preview
  response:
    body:
      string: '{"name":"2b0bdd05-b300-4453-a242-a350adc723d6","status":"InProgress","startTime":"2022-06-21T14:46:14.09Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/databaseAzureAsyncOperation/2b0bdd05-b300-4453-a242-a350adc723d6?api-version=2021-05-01-preview
  response:
    body:
      string: '{"name":"2b0bdd05-b300-4453-a242-a350adc723d6","status":"InProgress","startTime":"2022-06-21T14:46:14.09Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:46:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/databaseAzureAsyncOperation/2b0bdd05-b300-4453-a242-a350adc723d6?api-version=2021-05-01-preview
  response:
    body:
      string: '{"name":"2b0bdd05-b300-4453-a242-a350adc723d6","status":"Succeeded","startTime":"2022-06-21T14:46:14.09Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --server --name
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/databases/sqltdebyok000004?api-version=2021-05-01-preview
  response:
    body:
      string: '{"sku":{"name":"GP_Gen5","tier":"GeneralPurpose","family":"Gen5","capacity":2},"kind":"v12.0,user,vcore","properties":{"collation":"SQL_Latin1_General_CP1_CI_AS","maxSizeBytes":34359738368,"status":"Online","databaseId":"de81fc14-56cb-457c-b403-2a5667378dc8","creationDate":"2022-06-21T14:47:00.403Z","currentServiceObjectiveName":"GP_Gen5_2","requestedServiceObjectiveName":"GP_Gen5_2","defaultSecondaryLocation":"westus","catalogCollation":"SQL_Latin1_General_CP1_CI_AS","zoneRedundant":false,"licenseType":"LicenseIncluded","maxLogSizeBytes":193273528320,"readScale":"Disabled","currentSku":{"name":"GP_Gen5","tier":"GeneralPurpose","family":"Gen5","capacity":2},"currentBackupStorageRedundancy":"Geo","requestedBackupStorageRedundancy":"Geo","maintenanceConfigurationId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Maintenance/publicMaintenanceConfigurations/SQL_Default","isLedgerOn":false,"isInfraEncryptionEnabled":false},"location":"eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/databases/sqltdebyok000004","name":"sqltdebyok000004","type":"Microsoft.Sql/servers/databases"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1215'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-azure-mgmt-keyvault/10.0.0 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/sqltdebyok000003?api-version=2021-10-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/sqltdebyok000003","name":"sqltdebyok000003","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{},"systemData":{"createdBy":"azureclilivetest@azuresdkteam.onmicrosoft.com","createdByType":"User","createdAt":"2022-06-21T14:45:35.528Z","lastModifiedBy":"azureclilivetest@azuresdkteam.onmicrosoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-06-21T14:45:35.528Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"6b30bdc6-696a-46fb-82d7-739c2fb147b7","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"vaultUri":"https://sqltdebyok000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1027'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.413.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus", "tags": {}, "properties": {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId": "6b30bdc6-696a-46fb-82d7-739c2fb147b7",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId":
      "932bfe28-79e6-4c4e-b915-d6ebb4e86caa", "permissions": {"keys": ["get", "list",
      "wrapKey", "unwrapKey"]}}], "vaultUri": "https://sqltdebyok000003.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "provisioningState": "Succeeded", "publicNetworkAccess": "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '757'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-azure-mgmt-keyvault/10.0.0 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/sqltdebyok000003?api-version=2021-10-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/sqltdebyok000003","name":"sqltdebyok000003","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{},"systemData":{"createdBy":"azureclilivetest@azuresdkteam.onmicrosoft.com","createdByType":"User","createdAt":"2022-06-21T14:45:35.528Z","lastModifiedBy":"azureclilivetest@azuresdkteam.onmicrosoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-06-21T14:47:16.006Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"6b30bdc6-696a-46fb-82d7-739c2fb147b7","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"932bfe28-79e6-4c4e-b915-d6ebb4e86caa","permissions":{"keys":["get","list","wrapKey","unwrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"vaultUri":"https://sqltdebyok000003.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1189'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.413.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.1 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: POST
    uri: https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/create?api-version=7.3
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=20.245.98.53;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus
      x-ms-keyvault-service-version:
      - 1.9.422.1
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA", "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '47'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.1 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: POST
    uri: https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/create?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/cf71ac1f1d024df898b95205f957bef9","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"5LiwZBM2hOskp28u5O_wYqwC311a-gHigOaFn2Tb4uTknM1we4HC3ryR7wh5nLfme8MPrhx5lU4LcPRJvXA-r5yW98CH6r9O1p_T6DpAgVn0W-XgWmSlHSN3EZedUzvJVno2Nc0x2C8CLG-7N0dFBhb5C039FyvHWbdAFfwbHeW0ba9dTx-Nlzrdj83GZROjjn86IvUij6e-waCzljA6vEwqsc39xSsug0lBVzQ__DuVfLOtOhIsufDSxUECw4pHjZlJCP38JzXVYthxgut-ydHcobxQEO8n4Rhvo_FEr7KecOX6xSg6GuKGTVz3rcBdwZdzvIy61Tam1uiFwj3x8Q","e":"AQAB"},"attributes":{"enabled":true,"created":1655822837,"updated":1655822837,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=20.245.98.53;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - eastus
      x-ms-keyvault-service-version:
      - 1.9.422.1
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"serverKeyType": "AzureKeyVault", "uri": "https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/cf71ac1f1d024df898b95205f957bef9"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key create
      Connection:
      - keep-alive
      Content-Length:
      - '156'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -s -k
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9?api-version=2020-11-01-preview
  response:
    body:
      string: '{"operation":"UpsertLogicalServerEncryptionKeys","startTime":"2022-06-21T14:47:17.527Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverKeyAzureAsyncOperation/ee048e15-8d45-496b-bf12-69278087c4bf?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '88'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:16 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverKeyOperationResults/ee048e15-8d45-496b-bf12-69278087c4bf?api-version=2020-11-01-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -k
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverKeyAzureAsyncOperation/ee048e15-8d45-496b-bf12-69278087c4bf?api-version=2020-11-01-preview
  response:
    body:
      string: '{"name":"ee048e15-8d45-496b-bf12-69278087c4bf","status":"Succeeded","startTime":"2022-06-21T14:47:17.527Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -k
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9?api-version=2020-11-01-preview
  response:
    body:
      string: '{"kind":"azurekeyvault","location":"East US","properties":{"serverKeyType":"AzureKeyVault","uri":"https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/cf71ac1f1d024df898b95205f957bef9","thumbprint":"B1201BAF4E81820C73412EC2280E3D238AC9E6D7","creationDate":"2022-06-21T14:47:18.197Z","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","name":"sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","type":"Microsoft.Sql/servers/keys"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '649'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -k
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9?api-version=2020-11-01-preview
  response:
    body:
      string: '{"kind":"azurekeyvault","location":"East US","properties":{"serverKeyType":"AzureKeyVault","uri":"https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/cf71ac1f1d024df898b95205f957bef9","thumbprint":"B1201BAF4E81820C73412EC2280E3D238AC9E6D7","creationDate":"2022-06-21T14:47:18.197Z","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","name":"sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","type":"Microsoft.Sql/servers/keys"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '649'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys?api-version=2020-11-01-preview
  response:
    body:
      string: '{"value":[{"kind":"azurekeyvault","location":"East US","properties":{"serverKeyType":"AzureKeyVault","uri":"https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/cf71ac1f1d024df898b95205f957bef9","thumbprint":"B1201BAF4E81820C73412EC2280E3D238AC9E6D7","creationDate":"2022-06-21T14:47:18.197Z","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","name":"sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","type":"Microsoft.Sql/servers/keys"},{"kind":"servicemanaged","properties":{"serverKeyType":"ServiceManaged","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/ServiceManaged","name":"ServiceManaged","type":"Microsoft.Sql/servers/keys"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '986'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current?api-version=2020-11-01-preview
  response:
    body:
      string: '{"kind":"servicemanaged","properties":{"serverKeyName":"ServiceManaged","serverKeyType":"ServiceManaged","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current","name":"current","type":"Microsoft.Sql/servers/encryptionProtector"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '373'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"serverKeyName": "sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9",
      "serverKeyType": "AzureKeyVault", "autoRotationEnabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      Content-Length:
      - '166'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -s -t -k --auto-rotation-enabled
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current?api-version=2020-11-01-preview
  response:
    body:
      string: '{"operation":"UpsertLogicalServerEncryptionprotector","startTime":"2022-06-21T14:47:19.92Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorAzureAsyncOperation/e411af1b-b87f-49ae-83d4-3d20f888d84d?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '92'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:20 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorOperationResults/e411af1b-b87f-49ae-83d4-3d20f888d84d?api-version=2020-11-01-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -t -k --auto-rotation-enabled
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorAzureAsyncOperation/e411af1b-b87f-49ae-83d4-3d20f888d84d?api-version=2020-11-01-preview
  response:
    body:
      string: '{"name":"e411af1b-b87f-49ae-83d4-3d20f888d84d","status":"InProgress","startTime":"2022-06-21T14:47:19.92Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -t -k --auto-rotation-enabled
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorAzureAsyncOperation/e411af1b-b87f-49ae-83d4-3d20f888d84d?api-version=2020-11-01-preview
  response:
    body:
      string: '{"name":"e411af1b-b87f-49ae-83d4-3d20f888d84d","status":"InProgress","startTime":"2022-06-21T14:47:19.92Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -t -k --auto-rotation-enabled
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorAzureAsyncOperation/e411af1b-b87f-49ae-83d4-3d20f888d84d?api-version=2020-11-01-preview
  response:
    body:
      string: '{"name":"e411af1b-b87f-49ae-83d4-3d20f888d84d","status":"Succeeded","startTime":"2022-06-21T14:47:19.92Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -t -k --auto-rotation-enabled
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current?api-version=2020-11-01-preview
  response:
    body:
      string: '{"kind":"azurekeyvault","properties":{"serverKeyName":"sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","serverKeyType":"AzureKeyVault","uri":"https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/cf71ac1f1d024df898b95205f957bef9","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current","name":"current","type":"Microsoft.Sql/servers/encryptionProtector"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '527'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current?api-version=2020-11-01-preview
  response:
    body:
      string: '{"kind":"azurekeyvault","properties":{"serverKeyName":"sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9","serverKeyType":"AzureKeyVault","uri":"https://sqltdebyok000003.vault.azure.net/keys/sqltdebyok000005/cf71ac1f1d024df898b95205f957bef9","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current","name":"current","type":"Microsoft.Sql/servers/encryptionProtector"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '527'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"serverKeyName": "ServiceManaged", "serverKeyType": "ServiceManaged"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      Content-Length:
      - '86'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -s -t
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current?api-version=2020-11-01-preview
  response:
    body:
      string: '{"operation":"UpsertLogicalServerEncryptionprotector","startTime":"2022-06-21T14:47:24.033Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorAzureAsyncOperation/1218a7a5-58b4-44f4-8adb-806f65088a32?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '93'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:23 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorOperationResults/1218a7a5-58b4-44f4-8adb-806f65088a32?api-version=2020-11-01-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -t
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/encryptionProtectorAzureAsyncOperation/1218a7a5-58b4-44f4-8adb-806f65088a32?api-version=2020-11-01-preview
  response:
    body:
      string: '{"name":"1218a7a5-58b4-44f4-8adb-806f65088a32","status":"Succeeded","startTime":"2022-06-21T14:47:24.033Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -t
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current?api-version=2020-11-01-preview
  response:
    body:
      string: '{"kind":"servicemanaged","properties":{"serverKeyName":"ServiceManaged","serverKeyType":"ServiceManaged","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current","name":"current","type":"Microsoft.Sql/servers/encryptionProtector"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '373'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server tde-key show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current?api-version=2020-11-01-preview
  response:
    body:
      string: '{"kind":"servicemanaged","properties":{"serverKeyName":"ServiceManaged","serverKeyType":"ServiceManaged","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/encryptionProtector/current","name":"current","type":"Microsoft.Sql/servers/encryptionProtector"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '373'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g -s -k
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/sqltdebyok000003_sqltdebyok000005_cf71ac1f1d024df898b95205f957bef9?api-version=2020-11-01-preview
  response:
    body:
      string: '{"operation":"DeleteLogicalServerEncryptionKeys","startTime":"2022-06-21T14:47:26.05Z"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverKeyAzureAsyncOperation/9107abd1-8f04-475c-bcd2-58289af5b72d?api-version=2020-11-01-preview
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:25 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverKeyOperationResults/9107abd1-8f04-475c-bcd2-58289af5b72d?api-version=2020-11-01-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -k
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/locations/eastus/serverKeyAzureAsyncOperation/9107abd1-8f04-475c-bcd2-58289af5b72d?api-version=2020-11-01-preview
  response:
    body:
      string: '{"name":"9107abd1-8f04-475c-bcd2-58289af5b72d","status":"Succeeded","startTime":"2022-06-21T14:47:26.05Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql server key list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s
      User-Agent:
      - AZURECLI/2.37.0 azsdk-python-mgmt-sql/4.0.0b2 Python/3.10.5 (Linux-5.13.0-1029-azure-x86_64-with-glibc2.31)
        VSTS_0fb41ef4-5012-48a9-bf39-4ee3de03ee35_build_4949_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys?api-version=2020-11-01-preview
  response:
    body:
      string: '{"value":[{"kind":"servicemanaged","properties":{"serverKeyType":"ServiceManaged","autoRotationEnabled":false},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Sql/servers/clitestserver000002/keys/ServiceManaged","name":"ServiceManaged","type":"Microsoft.Sql/servers/keys"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '336'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 21 Jun 2022 14:47:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
