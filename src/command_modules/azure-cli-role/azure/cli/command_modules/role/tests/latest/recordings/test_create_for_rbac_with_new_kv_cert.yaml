interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2018-08-08T22:07:00Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","name":"cli_test_sp_with_kv_new_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-08-08T22:07:00Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.User/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"5963f50c-7c43-405c-af7e-53294de76abd","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[{"disabledPlans":[],"skuId":"a403ebcc-fae0-4ca2-8c8c-7a907fd6c235"}],"assignedPlans":[{"assignedTimestamp":"2017-12-07T23:01:21Z","capabilityStatus":"Enabled","service":"AzureAnalysis","servicePlanId":"2049e525-b859-401b-b2a0-e0a31c4b1fe4"}],"city":null,"companyName":null,"consentProvidedForMinor":null,"country":null,"createdDateTime":"2016-01-06T17:18:25Z","creationType":null,"department":null,"dirSyncEnabled":null,"displayName":"Admin2","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"Admin2","immutableId":null,"isCompromised":null,"jobTitle":null,"lastDirSyncTime":null,"legalAgeGroupClassification":null,"mail":null,"mailNickname":"admin2","mobile":null,"onPremisesDistinguishedName":null,"onPremisesSecurityIdentifier":null,"otherMails":["destanko@microsoft.com"],"passwordPolicies":"None","passwordProfile":null,"physicalDeliveryOfficeName":null,"postalCode":null,"preferredLanguage":"en-US","provisionedPlans":[],"provisioningErrors":[],"proxyAddresses":[],"refreshTokensValidFromDateTime":"2018-06-29T20:46:18Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":null,"state":null,"streetAddress":null,"surname":"Admin2","telephoneNumber":null,"usageLocation":"US","userIdentities":[],"userPrincipalName":"admin2@AzureSDKTeam.onmicrosoft.com","userState":null,"userStateChangedOn":null,"userType":"Member"}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1696']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:07:03 GMT']
      duration: ['2039423']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [+EOS4aiuOEFJVZdbhjMw16/+oK92lidT3YUz+JU856Q=]
      ocp-aad-session-key: [ywQjSAmMjHX3Omkphmjxg5iUI5XvC7oDsTglfudya42ssCYTtF5cZF3qC88UgKXoPZ8AUECdEcVCXX-KMiELAxxbHiXmCUXdPQCpPutxk3An7sMpOMCj15RT1BnThIIF.bRWY4qGICt7opNfSiIML7N6wa4FL0jObsfpMlNcDTJo]
      pragma: [no-cache]
      request-id: [4e948d9b-502a-49a7-97e2-ce015670800e]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId": "5963f50c-7c43-405c-af7e-53294de76abd",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [keyvault create]
      Connection: [keep-alive]
      Content-Length: ['746']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-mgmt-keyvault/1.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"5963f50c-7c43-405c-af7e-53294de76abd","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1106']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-service-version: [1.0.0.221]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [keyvault create]
      Connection: [keep-alive]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-mgmt-keyvault/1.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"5963f50c-7c43-405c-af7e-53294de76abd","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net/","provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1102']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-service-version: [1.0.0.221]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:07:41 GMT']
      duration: ['627116']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [hBrSXgYT6AiW34OnRqqllTrcBhIOEaEk4E+/a+pb/0s=]
      ocp-aad-session-key: [WEt2wkTmEtYBYNvC7SbPCrtIrHjzWQIxf2eRIimJnTU-lFQ7JJhPwm3L7ykmoHzUCcO2SQ0lrx01qk0k-QstsdYbjN_r4gfwyL9M53E4dgnqX4iZTS7cJhgS9o-GlfwU.IRQnr0NafUf3B_nZz6rUaUTxSSVPh9kvC3ScXmdKU5s]
      pragma: [no-cache]
      request-id: [c3c257d5-26d5-4be8-90a1-0f51c25f8068]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: ''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: [0]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 08 Aug 2018 22:07:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      www-authenticate: ['Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
          resource="https://vault.azure.net"']
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 401, message: Unauthorized}
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['477']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"2cf2464c97f34056a93fb717ad7d975f"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:42 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=2cf2464c97f34056a93fb717ad7d975f']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"2cf2464c97f34056a93fb717ad7d975f"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"2cf2464c97f34056a93fb717ad7d975f"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"2cf2464c97f34056a93fb717ad7d975f"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"2cf2464c97f34056a93fb717ad7d975f"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:58 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/2f83cb6ecf9547869edea86021868d82","kid":"https://clitest000002.vault.azure.net/keys/cert1/2f83cb6ecf9547869edea86021868d82","sid":"https://clitest000002.vault.azure.net/secrets/cert1/2f83cb6ecf9547869edea86021868d82","x5t":"YNGWQjyX3PyjW3r7XmO7fU2btJ4","cer":"MIIDQDCCAiigAwIBAgIQVho+Ut5UQxqytY2bGpd4BTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwODA4MjE1NzUzWhcNMTkwOTA4MjIwNzUzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC8smHXYpn3XAHp8qjIVUumrVR3olzrVOPSihUnbIihZAJ5o9UqSXpKdIg6PUTf+50DZcM7dlDhQBSizrZqkYvbFFrR3IB8MzblMpoqHvhJMlcT2CFh8QvQpp17YKY3sdSiJoZgdMQ9L+URJr/ZJCEAvcnhHTEoDGY/WffIW4MGc/ppikKHrxDOthTGwztrFIu80uQba8z2erko2d5Qzv3KfhoRtmngcTbW6lfDwKECxgvSOfOFbLV3OM4ky1/g2ONmISYRHhsLA+Fx3mJknNCPK4OhIV6RSDFTe2w5t0d0hMuJyCAjLuPjnV1btGWu7umErR2z8VxcPPgOz5qvrXaZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQHcgtJWa7gnas4TaS9NJJOJpr/lzAdBgNVHQ4EFgQUB3ILSVmu4J2rOE2kvTSSTiaa/5cwDQYJKoZIhvcNAQELBQADggEBAHNZczm/IGzdxzUOghcNQ61nDCVTMfCEtlcTdylP0F35aMErwvJxrZgOdtaB35cL+UH7fBM3iQBZKGZgxrX+YqhX09cQyp5V9kH/DWKbZROOUKUX9RkUc3WPcxn0gRhXqpXdARmfZEunKE/osUjT+h3KkuhpDDk0HP5BhHUW93BK4NrCI25r3bVal6gg2W4CILZksFKR5aWslrt9zeT6F86caUjWCnB3IzxkbUp0jSB3GJkK7wZID0DSOONEEy0jtu7x96wV46xki8F9WAPAKsZrIM5eRVsaBKIjqaH6KhEUnrCTYi3yWrkGsyqgooklsFFxRxZPWnhJgfIwcGTXjtk=","attributes":{"enabled":true,"nbf":1533765473,"exp":1567980473,"created":1533766073,"updated":1533766073,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1533766063,"updated":1533766063}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:07:59 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "displayName": "azure-cli-2018-08-08-22-07-42",
      "homepage": "http://azure-cli-2018-08-08-22-07-42", "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"],
      "keyCredentials": [{"startDate": "2018-08-08T22:07:42.05431Z", "endDate": "2019-08-08T22:07:42.05431Z",
      "value": "MIIDQDCCAiigAwIBAgIQVho+Ut5UQxqytY2bGpd4BTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwODA4MjE1NzUzWhcNMTkwOTA4MjIwNzUzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC8smHXYpn3XAHp8qjIVUumrVR3olzrVOPSihUnbIihZAJ5o9UqSXpKdIg6PUTf+50DZcM7dlDhQBSizrZqkYvbFFrR3IB8MzblMpoqHvhJMlcT2CFh8QvQpp17YKY3sdSiJoZgdMQ9L+URJr/ZJCEAvcnhHTEoDGY/WffIW4MGc/ppikKHrxDOthTGwztrFIu80uQba8z2erko2d5Qzv3KfhoRtmngcTbW6lfDwKECxgvSOfOFbLV3OM4ky1/g2ONmISYRHhsLA+Fx3mJknNCPK4OhIV6RSDFTe2w5t0d0hMuJyCAjLuPjnV1btGWu7umErR2z8VxcPPgOz5qvrXaZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQHcgtJWa7gnas4TaS9NJJOJpr/lzAdBgNVHQ4EFgQUB3ILSVmu4J2rOE2kvTSSTiaa/5cwDQYJKoZIhvcNAQELBQADggEBAHNZczm/IGzdxzUOghcNQ61nDCVTMfCEtlcTdylP0F35aMErwvJxrZgOdtaB35cL+UH7fBM3iQBZKGZgxrX+YqhX09cQyp5V9kH/DWKbZROOUKUX9RkUc3WPcxn0gRhXqpXdARmfZEunKE/osUjT+h3KkuhpDDk0HP5BhHUW93BK4NrCI25r3bVal6gg2W4CILZksFKR5aWslrt9zeT6F86caUjWCnB3IzxkbUp0jSB3GJkK7wZID0DSOONEEy0jtu7x96wV46xki8F9WAPAKsZrIM5eRVsaBKIjqaH6KhEUnrCTYi3yWrkGsyqgooklsFFxRxZPWnhJgfIwcGTXjtk=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['1573']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"c20bfc39-2310-457c-997f-4c02920238ee","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-08-08-22-07-42","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-08-08-22-07-42","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"60D196423C97DCFCA35B7AFB5E63BB7D4D9BB49E","endDate":"2019-08-08T22:07:42.05431Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-08-08T22:07:42.05431Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-08-08-22-07-42","id":"58f3101f-e0bf-493e-a4f4-87ca5a801b26","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-08-08-22-07-42","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2239']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:07:59 GMT']
      duration: ['4646002']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [+EOS4aiuOEFJVZdbhjMw16/+oK92lidT3YUz+JU856Q=]
      ocp-aad-session-key: [czpN8wQ7Oi8YVeD160HsWcM52uopvd9ttPkfH30ZdFAW5FXGLxGZyHQCflK0fsHCyAKQ118eClmPaWD7K2S4LghaRITR_QEF1IKhpWbY4RpT8wcD6rthAOCOAMFV5icqd0K9-XlzNZgO1vbtVlwsDw.lkmO0OQ26NjtkpPP9AkAE273oYEyhXR4RvwwBW8zsu0]
      pragma: [no-cache]
      request-id: [a6d9f250-36a7-4480-80ae-7327ed4b3df2]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"appId": "c20bfc39-2310-457c-997f-4c02920238ee", "accountEnabled": true}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"0f5862dc-a9a7-425a-b7f8-94899e5880f1","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-08-08-22-07-42","appId":"c20bfc39-2310-457c-997f-4c02920238ee","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-08-08-22-07-42","errorUrl":null,"homepage":"http://azure-cli-2018-08-08-22-07-42","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-08-08-22-07-42","id":"58f3101f-e0bf-493e-a4f4-87ca5a801b26","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-08-08-22-07-42","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["c20bfc39-2310-457c-997f-4c02920238ee","http://cli_test_sp_with_kv_new_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1616']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:07:59 GMT']
      duration: ['1509040']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/0f5862dc-a9a7-425a-b7f8-94899e5880f1/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [hXM0y5tf4jtAu0XM9IyMZVs+30ozRFf/FDYUTguUD7g=]
      ocp-aad-session-key: [53YUU6UIcOHw3mcHbGnw-jgVObTXGN-1KJTjynjX8PoQcdihfU8OfmI69I27SrltE_IU7aJSZ2xhcK1IARUyhn0IXN_W23kUVgtohzYsjou67G0n6nRATmRaFXfCgZDBkrw8Vm51ntzaAViqYF0NEQ.6fR2E1NmqmiNSwIwU3NUICBWlJecSMG7CeYG-uepl00]
      pragma: [no-cache]
      request-id: [0a5d4481-87c5-4cbd-a1dc-593556b4f171]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "0f5862dc-a9a7-425a-b7f8-94899e5880f1"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"0f5862dc-a9a7-425a-b7f8-94899e5880f1","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","createdOn":"2018-08-08T22:08:01.9949232Z","updatedOn":"2018-08-08T22:08:01.9949232Z","createdBy":null,"updatedBy":"5963f50c-7c43-405c-af7e-53294de76abd"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000002"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['903']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:04 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-charge: ['3']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/2f83cb6ecf9547869edea86021868d82","kid":"https://clitest000002.vault.azure.net/keys/cert1/2f83cb6ecf9547869edea86021868d82","sid":"https://clitest000002.vault.azure.net/secrets/cert1/2f83cb6ecf9547869edea86021868d82","x5t":"YNGWQjyX3PyjW3r7XmO7fU2btJ4","cer":"MIIDQDCCAiigAwIBAgIQVho+Ut5UQxqytY2bGpd4BTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwODA4MjE1NzUzWhcNMTkwOTA4MjIwNzUzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC8smHXYpn3XAHp8qjIVUumrVR3olzrVOPSihUnbIihZAJ5o9UqSXpKdIg6PUTf+50DZcM7dlDhQBSizrZqkYvbFFrR3IB8MzblMpoqHvhJMlcT2CFh8QvQpp17YKY3sdSiJoZgdMQ9L+URJr/ZJCEAvcnhHTEoDGY/WffIW4MGc/ppikKHrxDOthTGwztrFIu80uQba8z2erko2d5Qzv3KfhoRtmngcTbW6lfDwKECxgvSOfOFbLV3OM4ky1/g2ONmISYRHhsLA+Fx3mJknNCPK4OhIV6RSDFTe2w5t0d0hMuJyCAjLuPjnV1btGWu7umErR2z8VxcPPgOz5qvrXaZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQHcgtJWa7gnas4TaS9NJJOJpr/lzAdBgNVHQ4EFgQUB3ILSVmu4J2rOE2kvTSSTiaa/5cwDQYJKoZIhvcNAQELBQADggEBAHNZczm/IGzdxzUOghcNQ61nDCVTMfCEtlcTdylP0F35aMErwvJxrZgOdtaB35cL+UH7fBM3iQBZKGZgxrX+YqhX09cQyp5V9kH/DWKbZROOUKUX9RkUc3WPcxn0gRhXqpXdARmfZEunKE/osUjT+h3KkuhpDDk0HP5BhHUW93BK4NrCI25r3bVal6gg2W4CILZksFKR5aWslrt9zeT6F86caUjWCnB3IzxkbUp0jSB3GJkK7wZID0DSOONEEy0jtu7x96wV46xki8F9WAPAKsZrIM5eRVsaBKIjqaH6KhEUnrCTYi3yWrkGsyqgooklsFFxRxZPWnhJgfIwcGTXjtk=","attributes":{"enabled":true,"nbf":1533765473,"exp":1567980473,"created":1533766073,"updated":1533766073,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1533766063,"updated":1533766063}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:04 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"0f5862dc-a9a7-425a-b7f8-94899e5880f1","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-08-08-22-07-42","appId":"c20bfc39-2310-457c-997f-4c02920238ee","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-08-08-22-07-42","errorUrl":null,"homepage":"http://azure-cli-2018-08-08-22-07-42","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-08-08-22-07-42","id":"58f3101f-e0bf-493e-a4f4-87ca5a801b26","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-08-08-22-07-42","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_new_cert000001","c20bfc39-2310-457c-997f-4c02920238ee"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1619']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:08:05 GMT']
      duration: ['458081']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [ZGx5BTxWx3rJ0qV6fN7KouGYhLhktis4+Etrku5CN4A=]
      ocp-aad-session-key: [VC0ogcdhv-uN9uLRfSpqCTnpEkwgDG1uSu8JpCANX5Os1EFNein8q97DmnAvhLvC6ScvJgv04rB6Ny_xvzS5XcJipkOt5CYfRvUwu2EpvhxobDYqQK-47CxOeGbznYM2WIii6KRSsA3kMO0KpTR4bQ.psyT3UKKcdhmQZw_eTQkMiIrslRjKOe_fwYbxAeXRJM]
      pragma: [no-cache]
      request-id: [900cb179-28ca-4d1f-82ed-04812e67c8a2]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27c20bfc39-2310-457c-997f-4c02920238ee%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['161']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:08:05 GMT']
      duration: ['313296']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [NecIdAbtcl2G5DavAD0ay+NyJ0bZ8m4qvkKAOpQmV0w=]
      ocp-aad-session-key: [9HyPdWH8UKuiqqTdsA9BaP5_hd-msVpZFwbM7ZqJ_qIDkUIDofjxYOM2qtfaQMaCJxJ3bO44HlK4-qplJ_wTCkoPy-iV5zXUm7MsSLoQg3chKHw4SJOsA4FzXpIkxVHE4VvAhCU97IM1yCyp5pPKFA.07GwmFCEjOXDandnTnijZJAEw2XUBTf2z1sJdoWEqmU]
      pragma: [no-cache]
      request-id: [b742f4fd-b777-4825-aab6-b3549904c5c2]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27c20bfc39-2310-457c-997f-4c02920238ee%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"c20bfc39-2310-457c-997f-4c02920238ee","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-08-08-22-07-42","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-08-08-22-07-42","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"60D196423C97DCFCA35B7AFB5E63BB7D4D9BB49E","endDate":"2019-08-08T22:07:42.05431Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-08-08T22:07:42.05431Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-08-08-22-07-42","id":"58f3101f-e0bf-493e-a4f4-87ca5a801b26","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-08-08-22-07-42","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2156']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:08:05 GMT']
      duration: ['463626']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [WuWPPeV7dv5/89XBwAEVlawMeyvMAtJ8EugXI+UUkGg=]
      ocp-aad-session-key: [yV6oITh3jQs5AtzGWlQVJiLZnaMSsxf1VvZUxvjs5hf8_UCqt3uQRPLk5ripS3K1T7fOL7JLFKrIBUo3PRfLv3h2jPPOE63pasDNH3NgWOMSX0I87VqxncFkJCTz1mA77pucl3_9qALenpWK42UGsw.rInbxK1aOPJj6s-le3buamIvjsTR7pGJqu2Oz-MzBLk]
      pragma: [no-cache]
      request-id: [6b35578a-4203-48e0-a5ec-e9823c63ab23]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"c20bfc39-2310-457c-997f-4c02920238ee","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-08-08-22-07-42","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-08-08-22-07-42","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"60D196423C97DCFCA35B7AFB5E63BB7D4D9BB49E","endDate":"2019-08-08T22:07:42.05431Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-08-08T22:07:42.05431Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-08-08-22-07-42","id":"58f3101f-e0bf-493e-a4f4-87ca5a801b26","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-08-08-22-07-42","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2153']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:08:05 GMT']
      duration: ['595004']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [WqKhWXvl1okXb47qljo0lPbR3WueJ7PneT8ez1L9elM=]
      ocp-aad-session-key: [58Gd-_mtFY8CVnu6g7xbtn3U99R0Ft9HMecgaDdDTfXc7L-h738JPP_J4BJOm4UckvaJ6zVFTv5DE38PLx3d0eyN6nZ8A_PvO8_F6BPjWXB_3MVyr-Ver4osniADxgqTDD5O3SvrpJCjgC0E6fjJFQ.na-fPYRimMexzLqiWQCU-D9JjfNwWy8oz9_zOxdRgjU]
      pragma: [no-cache]
      request-id: [b0b480b0-17ed-42c8-bc23-1319ce0609c2]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['477']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"714ab1db75084a309d98c832516ea469"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:06 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=714ab1db75084a309d98c832516ea469']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"714ab1db75084a309d98c832516ea469"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvLJh12KZ91wB6fKoyFVLpq1Ud6Jc61Tj0ooVJ2yIoWQCeaPVKkl6SnSIOj1E3/udA2XDO3ZQ4UAUos62apGL2xRa0dyAfDM25TKaKh74STJXE9ghYfEL0Kade2CmN7HUoiaGYHTEPS/lESa/2SQhAL3J4R0xKAxmP1n3yFuDBnP6aYpCh68QzrYUxsM7axSLvNLkG2vM9nq5KNneUM79yn4aEbZp4HE21upXw8ChAsYL0jnzhWy1dzjOJMtf4NjjZiEmER4bCwPhcd5iZJzQjyuDoSFekUgxU3tsObdHdITLicggIy7j451dW7Rlru7phK0ds/FcXDz4Ds+ar612mQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBACnt/CmJwZDNE+3GcRjRaIItZtYAqIWBKVBgmOGpl2k3lyqCxHsyt/6wm9u0zaOU4useD71NSLpxL94PJiXdoM1R2iXm1UQDFqF1lAb8OIbReJ7+gHrSYRDfQBePszeyYwv2HZBJDvIVb2RObfr968sFmZyo/u1N2w1H3TxygsoQXmVg20pmZ075UnpqAwLuIfv9Id4qFIP7pvQmMhbQw+EDTYP1AeKX4Y1e83WvcnbczoQ3CVRW5mPmQXKMS6MZJ3bzlX8zgC7sDx8wcCCSdDMR55iOVE7Vtjp9DT+9YCz24hZYQn/ZZxuOBVHs3VPizTyOKq6AnK4+H+rMBmNmFdE=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"714ab1db75084a309d98c832516ea469"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/0a85a69ecfcd44e2bcb409ab0615ee70","kid":"https://clitest000002.vault.azure.net/keys/cert1/0a85a69ecfcd44e2bcb409ab0615ee70","sid":"https://clitest000002.vault.azure.net/secrets/cert1/0a85a69ecfcd44e2bcb409ab0615ee70","x5t":"FCGCJF-z9tnBYa_vm5vvV-5mMtA","cer":"MIIDQDCCAiigAwIBAgIQLTSEKz33R223fXAZ5cU4YzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwODA4MjE1ODEwWhcNMTkwOTA4MjIwODEwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC8smHXYpn3XAHp8qjIVUumrVR3olzrVOPSihUnbIihZAJ5o9UqSXpKdIg6PUTf+50DZcM7dlDhQBSizrZqkYvbFFrR3IB8MzblMpoqHvhJMlcT2CFh8QvQpp17YKY3sdSiJoZgdMQ9L+URJr/ZJCEAvcnhHTEoDGY/WffIW4MGc/ppikKHrxDOthTGwztrFIu80uQba8z2erko2d5Qzv3KfhoRtmngcTbW6lfDwKECxgvSOfOFbLV3OM4ky1/g2ONmISYRHhsLA+Fx3mJknNCPK4OhIV6RSDFTe2w5t0d0hMuJyCAjLuPjnV1btGWu7umErR2z8VxcPPgOz5qvrXaZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQHcgtJWa7gnas4TaS9NJJOJpr/lzAdBgNVHQ4EFgQUB3ILSVmu4J2rOE2kvTSSTiaa/5cwDQYJKoZIhvcNAQELBQADggEBACH1dMNEk+10Uh1gYuFoWmPMxxq00rmolcO3XMrNxmwUVtxKUV+Op6GNdLHKehv/HirhB3umtrbp3Gums4PptyeghbPA70fUUbMkEDyyhQZLHkfUUmLCY5t+Ivnl4/D/Z/PCPfZy+F+hvaj4hsPvKdA3yue41gEFVGVSHsxq9cg5JSiCEZSWOgXzInLH3/qaKSDe3UokirhTb09vVOFV3pc0zHYe7SEKXb29BnfzuMsE6QFfvYjeCQn3PbjxwquTRYJPilijnxpoxiPXaoYqoeXThHm04uUadTOq59ri3H77GF3xHtAlS9WZlOnMwbrwhOZt5+zAwEYVZzMg7lqzZi0=","attributes":{"enabled":true,"nbf":1533765490,"exp":1567980490,"created":1533766090,"updated":1533766090,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1533766063,"updated":1533766086}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"keyCredentials": [{"startDate": "2018-08-08T22:08:06.276732Z", "endDate":
      "2019-08-08T22:08:06.276732Z", "value": "MIIDQDCCAiigAwIBAgIQLTSEKz33R223fXAZ5cU4YzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwODA4MjE1ODEwWhcNMTkwOTA4MjIwODEwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC8smHXYpn3XAHp8qjIVUumrVR3olzrVOPSihUnbIihZAJ5o9UqSXpKdIg6PUTf+50DZcM7dlDhQBSizrZqkYvbFFrR3IB8MzblMpoqHvhJMlcT2CFh8QvQpp17YKY3sdSiJoZgdMQ9L+URJr/ZJCEAvcnhHTEoDGY/WffIW4MGc/ppikKHrxDOthTGwztrFIu80uQba8z2erko2d5Qzv3KfhoRtmngcTbW6lfDwKECxgvSOfOFbLV3OM4ky1/g2ONmISYRHhsLA+Fx3mJknNCPK4OhIV6RSDFTe2w5t0d0hMuJyCAjLuPjnV1btGWu7umErR2z8VxcPPgOz5qvrXaZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQHcgtJWa7gnas4TaS9NJJOJpr/lzAdBgNVHQ4EFgQUB3ILSVmu4J2rOE2kvTSSTiaa/5cwDQYJKoZIhvcNAQELBQADggEBACH1dMNEk+10Uh1gYuFoWmPMxxq00rmolcO3XMrNxmwUVtxKUV+Op6GNdLHKehv/HirhB3umtrbp3Gums4PptyeghbPA70fUUbMkEDyyhQZLHkfUUmLCY5t+Ivnl4/D/Z/PCPfZy+F+hvaj4hsPvKdA3yue41gEFVGVSHsxq9cg5JSiCEZSWOgXzInLH3/qaKSDe3UokirhTb09vVOFV3pc0zHYe7SEKXb29BnfzuMsE6QFfvYjeCQn3PbjxwquTRYJPilijnxpoxiPXaoYqoeXThHm04uUadTOq59ri3H77GF3xHtAlS9WZlOnMwbrwhOZt5+zAwEYVZzMg7lqzZi0=",
      "keyId": "88888888-0000-0000-0000-000000000003", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Length: ['1335']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Wed, 08 Aug 2018 22:08:12 GMT']
      duration: ['1771768']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [WgqwaA7uWY22D4dquXQHPacPhyKRQEER6e6+ocAnyzw=]
      ocp-aad-session-key: [hbCmflzX9ZEEhonsaJgAnCOyxhuQt_b7BKrEolINLzYNNQsOuTrZPTl_FopKIx67WVSA9FFnsMhAJAd66GBv7b_7EmerY5aeXUb5v_Vca1fKVqXkCw__RDRXM8zkOZglj1oxGyrbT5Zwkk6RDI44kg.fAoEZwsKUNbteCR8lv23VPTEBqoC6PB5LBOofMlg7g8]
      pragma: [no-cache]
      request-id: [30505d6b-8b76-41d5-818e-829298d90bff]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-keyvault/7.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/0a85a69ecfcd44e2bcb409ab0615ee70","kid":"https://clitest000002.vault.azure.net/keys/cert1/0a85a69ecfcd44e2bcb409ab0615ee70","sid":"https://clitest000002.vault.azure.net/secrets/cert1/0a85a69ecfcd44e2bcb409ab0615ee70","x5t":"FCGCJF-z9tnBYa_vm5vvV-5mMtA","cer":"MIIDQDCCAiigAwIBAgIQLTSEKz33R223fXAZ5cU4YzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTgwODA4MjE1ODEwWhcNMTkwOTA4MjIwODEwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC8smHXYpn3XAHp8qjIVUumrVR3olzrVOPSihUnbIihZAJ5o9UqSXpKdIg6PUTf+50DZcM7dlDhQBSizrZqkYvbFFrR3IB8MzblMpoqHvhJMlcT2CFh8QvQpp17YKY3sdSiJoZgdMQ9L+URJr/ZJCEAvcnhHTEoDGY/WffIW4MGc/ppikKHrxDOthTGwztrFIu80uQba8z2erko2d5Qzv3KfhoRtmngcTbW6lfDwKECxgvSOfOFbLV3OM4ky1/g2ONmISYRHhsLA+Fx3mJknNCPK4OhIV6RSDFTe2w5t0d0hMuJyCAjLuPjnV1btGWu7umErR2z8VxcPPgOz5qvrXaZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQHcgtJWa7gnas4TaS9NJJOJpr/lzAdBgNVHQ4EFgQUB3ILSVmu4J2rOE2kvTSSTiaa/5cwDQYJKoZIhvcNAQELBQADggEBACH1dMNEk+10Uh1gYuFoWmPMxxq00rmolcO3XMrNxmwUVtxKUV+Op6GNdLHKehv/HirhB3umtrbp3Gums4PptyeghbPA70fUUbMkEDyyhQZLHkfUUmLCY5t+Ivnl4/D/Z/PCPfZy+F+hvaj4hsPvKdA3yue41gEFVGVSHsxq9cg5JSiCEZSWOgXzInLH3/qaKSDe3UokirhTb09vVOFV3pc0zHYe7SEKXb29BnfzuMsE6QFfvYjeCQn3PbjxwquTRYJPilijnxpoxiPXaoYqoeXThHm04uUadTOq59ri3H77GF3xHtAlS9WZlOnMwbrwhOZt5+zAwEYVZzMg7lqzZi0=","attributes":{"enabled":true,"nbf":1533765490,"exp":1567980490,"created":1533766090,"updated":1533766090,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1533766063,"updated":1533766086}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2382']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 08 Aug 2018 22:08:13 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.58.85;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.854]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"c20bfc39-2310-457c-997f-4c02920238ee","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-08-08-22-07-42","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-08-08-22-07-42","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"142182245FB3F6D9C161AFEF9B9BEF57EE6632D0","endDate":"2019-08-08T22:08:06.276732Z","keyId":"88888888-0000-0000-0000-000000000003","startDate":"2018-08-08T22:08:06.276732Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-08-08-22-07-42","id":"58f3101f-e0bf-493e-a4f4-87ca5a801b26","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-08-08-22-07-42 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-08-08-22-07-42","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2158']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Wed, 08 Aug 2018 22:08:12 GMT']
      duration: ['396705']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [s5K/P2xKeCZaZ6FdSGG0Z9eYryzDiYVRewZeoHCyeCQ=]
      ocp-aad-session-key: [066Hn984VjzGU7sL10U283eEheWI3FdlzeqO5Yp16rNivYWXKhf9Y7x_2uIIfogcp_pVPVbkGxTiqFLc4S4-i5SbcKtZiRAU0CpalzHmHRqzOtZ9OJrrXKlYC9Z7IPuVdLfAnxuGBvLW1Ivs4MwHsw.Fu2H3VkaGg3q3RFjK1Sq8VHpFyUqWPMGwav0GaCO0K0]
      pragma: [no-cache]
      request-id: [56966385-12e5-46ee-bef8-2600d287c468]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/67f5e0db-fcfb-4d0a-bcf3-9f05d7743a57?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Wed, 08 Aug 2018 22:08:14 GMT']
      duration: ['2286856']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [UasoFGN58uUDZzrA1RYY1/OBZjmM666H3oLwSIakuf0=]
      ocp-aad-session-key: [R9277B_t7DqatGMZX_5Fg8BHZQOwkd3QBWZ6u6ZkvAydG1s2ZLX4HLpsSSfaSRqwaLEbyX_dHpodgNUp9fLbRLQpoVqQSKP1awV-iOOCZrVz_xnczQl2wVXg1rWH-9VzJYrh-a401CenwapvfjsiHw.7Zci69FkEHvRvNwcnsTXtHB5vsyAaFuPrBzQVO1vnY0]
      pragma: [no-cache]
      request-id: [4d58d10f-79a1-4652-965a-27379d824d70]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.7.0 (Darwin-17.7.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.4 msrest_azure/0.4.34 resourcemanagementclient/2.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.44]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 08 Aug 2018 22:08:15 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZORVc6NUZDRVJUUlRXRUJaNHxFOTcxODg1MUU2MkI4OUM0LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
