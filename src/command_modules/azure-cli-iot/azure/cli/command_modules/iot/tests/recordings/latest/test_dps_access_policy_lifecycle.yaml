interactions:
- request:
    body: '{"tags": {"use": "az-test"}, "location": "eastus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"eastus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:52:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"name": "iot-dps-for-dps-test000003"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['60']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2017-11-15
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:52:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"eastus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:52:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {}, "location": "eastus", "sku": {"name": "S1", "capacity":
      1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['78']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfZmY3Y2NmZWYtYTQzOS00OTM3LTkwMjgtMjM1NDY2MTM2ZjA3?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['696']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:52:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfZmY3Y2NmZWYtYTQzOS00OTM3LTkwMjgtMjM1NDY2MTM2ZjA3?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:52:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9FY=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:52:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9FY=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:52:59 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9FY=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"properties": {"authorizationPolicies": [{"secondaryKey": "zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=",
      "rights": "ServiceConfig, DeviceConnect, EnrollmentWrite", "primaryKey": "Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=",
      "keyName": "provisioningserviceowner"}, {"rights": "EnrollmentRead", "keyName":
      "policy000002"}], "allocationPolicy": "Hashed", "iotHubs": []}, "location":
      "eastus", "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['439']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"Hashed","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentRead"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfMzNhNjYzNDYtMjVlMi00NjgyLTg0MGEtOTRjMDQxYTZiYTI2?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1139']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9Fw=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/keys/policy000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentRead"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['182']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9Fw=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9Fw=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/keys/policy000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentRead"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['182']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9Fw=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:13 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9Fw=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"properties": {"authorizationPolicies": [{"secondaryKey": "zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=",
      "rights": "ServiceConfig, DeviceConnect, EnrollmentWrite", "primaryKey": "Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=",
      "keyName": "provisioningserviceowner"}, {"secondaryKey": "xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=",
      "rights": "EnrollmentWrite", "primaryKey": "dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=",
      "keyName": "policy000002"}], "allocationPolicy": "Hashed", "iotHubs": []}, "location":
      "eastus", "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['566']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"Hashed","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfOGFjNjEzYjAtZDhjNS00ZWM4LTg0ZGMtMjY2ZDNmZjdkMGQz?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1140']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:18 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9GI=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:19 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/keys/policy000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentWrite"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['183']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9GI=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"dTTSkXUZycil4VegzUYCpUL1XyNKm2xcFLijAl7nNHQ=","secondaryKey":"xQICFOsFtKhKjx7dfxBGRd/OVIVMW9YCi52qeojVh38=","rights":"EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['413']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9GI=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"authorizationPolicies": [{"secondaryKey": "zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=",
      "rights": "ServiceConfig, DeviceConnect, EnrollmentWrite", "primaryKey": "Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=",
      "keyName": "provisioningserviceowner"}], "allocationPolicy": "Hashed", "iotHubs":
      []}, "location": "eastus", "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['374']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"Hashed","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfNGViOTA3ZDgtMDQ2OS00YjJlLWFiYmUtMDAyYjc1MWQwMDI0?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['956']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9Gg=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"Lnx1BD/GHdj8wKu0BERELWztYK1elfXlzs6C+IFs2eo=","secondaryKey":"zAaNxmFu7tTZMfWtA7SONWZZ7aswXgaX628iqul+Q/I=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:29 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9Gg=","name":"iot-dps-for-dps-test000003","location":"eastus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062DE"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:31 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: 'null'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfYzQ4OGYyMDQtMzUwMS00YjJkLTg3NTktZWIxMzM1MGYyYjhi?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['4']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:32 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfYzQ4OGYyMDQtMzUwMS00YjJkLTg3NTktZWIxMzM1MGYyYjhi?api-version=2017-11-15']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfMzNhNjYzNDYtMjVlMi00NjgyLTg0MGEtOTRjMDQxYTZiYTI2?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"Code":"IotHubNotFound","HttpStatusCode":"NotFound","Message":"IotHub
        ''iot-dps-for-dps-test000003'' not found under ResourceGroup ''clitest.rg000001''
        and Subscription ''b9ed95d7-5b40-413f-8e72-74721213a06c''. If you contact
        a support representative please include this correlation identifier: 514d4b9e-bc8f-49b5-b8f5-7ccde38c1cdf,
        timestamp: 2017-12-19 01:53:37Z, errorcode: IH404002."}'}
    headers:
      cache-control: [no-cache]
      content-length: ['464']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfYzQ4OGYyMDQtMzUwMS00YjJkLTg3NTktZWIxMzM1MGYyYjhi?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfOGFjNjEzYjAtZDhjNS00ZWM4LTg0ZGMtMjY2ZDNmZjdkMGQz?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"Code":"IotHubNotFound","HttpStatusCode":"NotFound","Message":"IotHub
        ''iot-dps-for-dps-test000003'' not found under ResourceGroup ''clitest.rg000001''
        and Subscription ''b9ed95d7-5b40-413f-8e72-74721213a06c''. If you contact
        a support representative please include this correlation identifier: 94a1ed6d-4de1-4f59-8085-4ba592c8b026,
        timestamp: 2017-12-19 01:53:49Z, errorcode: IH404002."}'}
    headers:
      cache-control: [no-cache]
      content-length: ['464']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 01:53:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 19 Dec 2017 01:53:51 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdMM0FWUU83VldXUzdZR09FMlRWVTJMVjZMWlBSWVJNNTdDNXw0REY3NjREM0U2ODA2NDlELUVBU1RVUyIsImpvYkxvY2F0aW9uIjoiZWFzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 202, message: Accepted}
version: 1
