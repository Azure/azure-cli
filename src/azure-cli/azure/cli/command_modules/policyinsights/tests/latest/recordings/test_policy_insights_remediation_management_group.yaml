interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - account management-group create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management/register?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management","namespace":"Microsoft.Management","authorization":{"applicationId":"f2c304cf-8e7e-4c3f-8164-16299ad9d272","roleDefinitionId":"c1cf3708-588a-4647-be7f-f400bbe214cf"},"resourceTypes":[{"resourceType":"resources","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"managementGroups","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"getEntities","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults/asyncOperation","locations":[],"apiVersions":["2019-11-01","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"operations","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"tenantBackfillStatus","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"startTenantBackfill","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"}],"registrationState":"Registered","registrationPolicy":"RegistrationRequired"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1914'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:57:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - account management-group create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management","namespace":"Microsoft.Management","authorization":{"applicationId":"f2c304cf-8e7e-4c3f-8164-16299ad9d272","roleDefinitionId":"c1cf3708-588a-4647-be7f-f400bbe214cf"},"resourceTypes":[{"resourceType":"resources","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"managementGroups","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"getEntities","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults/asyncOperation","locations":[],"apiVersions":["2019-11-01","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"operations","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"tenantBackfillStatus","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"startTenantBackfill","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"}],"registrationState":"Registered","registrationPolicy":"RegistrationRequired"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1914'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "cli-test-mg000003", "properties": {"details": {"parent": {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Cache-Control:
      - no-cache
      CommandName:
      - account management-group create
      Connection:
      - keep-alive
      Content-Length:
      - '85'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-managementgroups/0.2.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003","type":"/providers/Microsoft.Management/managementGroups","name":"cli-test-mg000003","status":"NotStarted"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '208'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:09 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.Management/operationResults/create/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
      pragma:
      - no-cache
      request-id:
      - afb44fdd-4b1d-4742-8438-40323a2fcbf6
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ba-restapi:
      - 1.0.3.1546
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - account management-group create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-managementgroups/0.2.0 Azure-SDK-For-Python AZURECLI/2.0.79
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/operationResults/create/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003","type":"/providers/Microsoft.Management/managementGroups","name":"cli-test-mg000003","status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '205'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:20 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.Management/operationResults/create/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
      pragma:
      - no-cache
      request-id:
      - b7d55395-89a1-4337-9f27-1683d1d3fa42
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ba-restapi:
      - 1.0.3.1546
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - account management-group create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-managementgroups/0.2.0 Azure-SDK-For-Python AZURECLI/2.0.79
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/operationResults/create/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003","type":"/providers/Microsoft.Management/managementGroups","name":"cli-test-mg000003","status":"Succeeded","properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","displayName":"cli-test-mg000003","details":{"version":1,"updatedTime":"2020-01-08T21:58:12.5794561Z","updatedBy":"36e2f355-d2e2-4fbc-88ab-4281639dff94","parent":{"id":"/providers/Microsoft.Management/managementGroups/72f988bf-86f1-41af-91ab-2d7cd011db47","name":"72f988bf-86f1-41af-91ab-2d7cd011db47","displayName":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '642'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-id:
      - 23c27d35-c5f6-4569-bf5d-1532a1dfc948
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-ba-restapi:
      - 1.0.3.1546
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --scope --policy -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d?api-version=2019-09-01
  response:
    body:
      string: '{"error":{"code":"PolicyDefinitionNotFound","message":"The policy definition
        ''06a78e20-9358-41c9-923c-fb736d382a4d'' could not be found."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '138'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --scope --policy -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d?api-version=2019-09-01
  response:
    body:
      string: '{"properties":{"displayName":"Audit VMs that do not use managed disks","policyType":"BuiltIn","mode":"All","description":"This
        policy audits VMs that do not use managed disks","metadata":{"category":"Compute"},"parameters":{},"policyRule":{"if":{"anyOf":[{"allOf":[{"field":"type","equals":"Microsoft.Compute/virtualMachines"},{"field":"Microsoft.Compute/virtualMachines/osDisk.uri","exists":"True"}]},{"allOf":[{"field":"type","equals":"Microsoft.Compute/VirtualMachineScaleSets"},{"anyOf":[{"field":"Microsoft.Compute/VirtualMachineScaleSets/osDisk.vhdContainers","exists":"True"},{"field":"Microsoft.Compute/VirtualMachineScaleSets/osdisk.imageUrl","exists":"True"}]}]}]},"then":{"effect":"audit"}}},"id":"/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d","type":"Microsoft.Authorization/policyDefinitions","name":"06a78e20-9358-41c9-923c-fb736d382a4d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '897'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d",
      "scope": "/providers/Microsoft.Management/managementGroups/cli-test-mg000003",
      "enforcementMode": "Default"}, "sku": {"name": "A0", "tier": "Free"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '292'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scope --policy -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.Authorization/policyAssignments/cli-test-pa000001?api-version=2019-09-01
  response:
    body:
      string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d","scope":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003","metadata":{"createdBy":"36e2f355-d2e2-4fbc-88ab-4281639dff94","createdOn":"2020-01-08T21:58:39.7416112Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.Authorization/policyAssignments/cli-test-pa000001","type":"Microsoft.Authorization/policyAssignments","name":"cli-test-pa000001"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '669'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"policyAssignmentId": "/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.authorization/policyassignments/cli-test-pa000001"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation create
      Connection:
      - keep-alive
      Content-Length:
      - '197'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -m -a
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-policyinsights/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.PolicyInsights/remediations/cli-test-remediation000002?api-version=2019-07-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.authorization/policyassignments/cli-test-pa000001","provisioningState":"Succeeded","createdOn":"2020-01-08T21:58:40.6995462Z","lastUpdatedOn":"2020-01-08T21:58:40.7637899Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant"},"id":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.policyinsights/remediations/cli-test-remediation000002","name":"cli-test-remediation000002","type":"Microsoft.PolicyInsights/remediations"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '707'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-policy-insights-requests:
      - '199'
      x-ms-ratelimit-remaining-tenant-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -m
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-policyinsights/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.PolicyInsights/remediations/cli-test-remediation000002?api-version=2019-07-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.authorization/policyassignments/cli-test-pa000001","provisioningState":"Succeeded","createdOn":"2020-01-08T21:58:40.6995462Z","lastUpdatedOn":"2020-01-08T21:58:40.7637899Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant"},"id":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.policyinsights/remediations/cli-test-remediation000002","name":"cli-test-remediation000002","type":"Microsoft.PolicyInsights/remediations"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '707'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-policy-insights-requests:
      - '199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation list
      Connection:
      - keep-alive
      ParameterSetName:
      - -m
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-policyinsights/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.PolicyInsights/remediations?api-version=2019-07-01
  response:
    body:
      string: '{"value":[{"properties":{"policyAssignmentId":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.authorization/policyassignments/cli-test-pa000001","provisioningState":"Succeeded","createdOn":"2020-01-08T21:58:40.6995462Z","lastUpdatedOn":"2020-01-08T21:58:40.7637899Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant"},"id":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.policyinsights/remediations/cli-test-remediation000002","name":"cli-test-remediation000002","type":"Microsoft.PolicyInsights/remediations"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '719'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-policy-insights-requests:
      - '198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation deployment list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -m
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-policyinsights/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.PolicyInsights/remediations/cli-test-remediation000002/listDeployments?api-version=2019-07-01
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-policy-insights-requests:
      - '198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -m
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-policyinsights/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.PolicyInsights/remediations/cli-test-remediation000002?api-version=2019-07-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.authorization/policyassignments/cli-test-pa000001","provisioningState":"Succeeded","createdOn":"2020-01-08T21:58:40.6995462Z","lastUpdatedOn":"2020-01-08T21:58:40.7637899Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant"},"id":"/providers/microsoft.management/managementgroups/cli-test-mg000003/providers/microsoft.policyinsights/remediations/cli-test-remediation000002","name":"cli-test-remediation000002","type":"Microsoft.PolicyInsights/remediations"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '707'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-deletes:
      - '14999'
      x-ms-ratelimit-remaining-tenant-policy-insights-requests:
      - '199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation list
      Connection:
      - keep-alive
      ParameterSetName:
      - -m
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-policyinsights/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.PolicyInsights/remediations?api-version=2019-07-01
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-policy-insights-requests:
      - '199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n --scope
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.Authorization/policyAssignments/cli-test-pa000001?api-version=2019-09-01
  response:
    body:
      string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d","scope":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003","metadata":{"createdBy":"36e2f355-d2e2-4fbc-88ab-4281639dff94","createdOn":"2020-01-08T21:58:39.7416112Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003/providers/Microsoft.Authorization/policyAssignments/cli-test-pa000001","type":"Microsoft.Authorization/policyAssignments","name":"cli-test-pa000001"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '669'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - account management-group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management/register?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management","namespace":"Microsoft.Management","authorization":{"applicationId":"f2c304cf-8e7e-4c3f-8164-16299ad9d272","roleDefinitionId":"c1cf3708-588a-4647-be7f-f400bbe214cf"},"resourceTypes":[{"resourceType":"resources","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"managementGroups","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"getEntities","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults/asyncOperation","locations":[],"apiVersions":["2019-11-01","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"operations","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"tenantBackfillStatus","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"startTenantBackfill","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"}],"registrationState":"Registered","registrationPolicy":"RegistrationRequired"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1914'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - account management-group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-resource/6.0.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management","namespace":"Microsoft.Management","authorization":{"applicationId":"f2c304cf-8e7e-4c3f-8164-16299ad9d272","roleDefinitionId":"c1cf3708-588a-4647-be7f-f400bbe214cf"},"resourceTypes":[{"resourceType":"resources","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"managementGroups","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"getEntities","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview"],"capabilities":"None"},{"resourceType":"operationResults/asyncOperation","locations":[],"apiVersions":["2019-11-01","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"operations","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"],"capabilities":"None"},{"resourceType":"tenantBackfillStatus","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"},{"resourceType":"startTenantBackfill","locations":[],"apiVersions":["2019-11-01","2018-03-01-preview","2018-03-01-beta"],"capabilities":"None"}],"registrationState":"Registered","registrationPolicy":"RegistrationRequired"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1914'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:58:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Cache-Control:
      - no-cache
      CommandName:
      - account management-group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-managementgroups/0.2.0 Azure-SDK-For-Python AZURECLI/2.0.79
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/providers/Microsoft.Management/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003","type":"/providers/Microsoft.Management/managementGroups","name":"cli-test-mg000003","status":"NotStarted"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '208'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:59:04 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/providers/Microsoft.Management/operationResults/delete/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
      pragma:
      - no-cache
      request-id:
      - 45a76dec-602e-417c-83d4-b075cf807da5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-ba-restapi:
      - 1.0.3.1546
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-tenant-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - account management-group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.18362-SP0) msrest/0.6.10 msrest_azure/0.6.2
        azure-mgmt-managementgroups/0.2.0 Azure-SDK-For-Python AZURECLI/2.0.79
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Management/operationResults/delete/managementGroups/cli-test-mg000003?api-version=2018-03-01-preview
  response:
    body:
      string: '{"id":"/providers/Microsoft.Management/managementGroups/cli-test-mg000003","type":"/providers/Microsoft.Management/managementGroups","name":"cli-test-mg000003","status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '207'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 08 Jan 2020 21:59:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-id:
      - bead0848-8485-4947-9d6b-8763e7624570
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-ba-restapi:
      - 1.0.3.1546
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
