interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:38 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=Ah9F_kx3aUNLiNc7JCTXJHw; expires=Sat, 14-Nov-2020 00:54:38 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZIjbkuCeaSf2FyEV0ngGIJ-QQDXeviBD1YJaEvav_AuSvliMfT3fzG9eMce2F_N4tFPal65STot3-Dqs_ijT9Ff9qkDPB5kLAiqsS1VQ44rGKNkb4jxNz0zdj3aM0J_WiVIO0wcX-U-Lfk84-u9hk36c7_ob7vgfgBRplP4Ok1jmggAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - WUS2 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"retentionDays": 7, "diffBackupIntervalInHours": 12}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      Content-Length:
      - '69'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
      accept-language:
      - en-US
    method: PUT
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"operation":"UpdateLogicalDatabase","startTime":"2020-10-15T00:54:39.89Z"}'
    headers:
      azure-asyncoperation:
      - https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyAzureAsyncOperation/053b5b0a-17b8-4a81-8bb4-aa7187c6e1ac?api-version=2020-02-02-preview
      cache-control:
      - no-cache
      content-length:
      - '75'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:40 GMT
      expires:
      - '-1'
      location:
      - https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyOperationResults/053b5b0a-17b8-4a81-8bb4-aa7187c6e1ac?api-version=2020-02-02-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:54 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=Aj10VaRtmZpKtw9cB8TTHV0; expires=Sat, 14-Nov-2020 00:54:55 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZIn7qaWyZq0mL2D-ObI_mu9cVEsftvHrxi44kArEdR3sdrdHGzJm62e3XulNRzhB3huvYHRK3A2gSBCZRxBvP_iT-EQzomWADyiJt7-ThaMO3-diIfFgUc1wu_nQknNd-xgLkOnNJJWQzmgfA0bY-OVQlzfYg2G-nbJq0gMlao7icgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - WUS2 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyAzureAsyncOperation/053b5b0a-17b8-4a81-8bb4-aa7187c6e1ac?api-version=2020-02-02-preview
  response:
    body:
      string: '{"name":"053b5b0a-17b8-4a81-8bb4-aa7187c6e1ac","status":"Succeeded","startTime":"2020-10-15T00:54:39.89Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:55 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=Arg0LO9kJqlDl04UwJeYmBA; expires=Sat, 14-Nov-2020 00:54:56 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZIwpFjo2_BtBSoVMTII1q43GRsUdk6j-2okmC2wNQt494or3VuMgskNBm7QRBZOxfI2SLH34WQwVTbVEaoBYRkBNPfaCT1WV-f8B6hiQXC69fZFjM_qgQ-MmuNEG1KO13vGvTsyzt4hh5vsbAsHLQMvpMC0F-VB-8UfRs-t7lyPa8gAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"properties":{"retentionDays":7,"diffBackupIntervalInHours":12},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default","name":"default","type":"Microsoft.Sql/servers/databases/backupShortTermRetentionPolicies"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '363'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:57 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=AsT68YJK0wRKnB3vKNur5Q8; expires=Sat, 14-Nov-2020 00:54:57 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZIYMt1RuCiciDQlYAZVWy42GQiENg8-AVf_UGvsbEvMgUu0ZUIFXVlouInSALygYn4MZmXBQzi8aA9lkIht1XY4WMvfw5CnYOy4DyyLUAGTaOn8toFlsP0742_1mcOoMAqKcnhI3TbQf6AYqH_kPqQOXU1Ld70sZQZZu5RizkWL-YgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - WUS2 ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
      accept-language:
      - en-US
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"properties":{"retentionDays":7,"diffBackupIntervalInHours":12},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default","name":"default","type":"Microsoft.Sql/servers/databases/backupShortTermRetentionPolicies"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '363'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:58 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=Ar-WNvyH4fdMiNUHaCwhD0c; expires=Sat, 14-Nov-2020 00:54:58 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZIni0H4auh4el7VniaTFVxxzTvP0no9_BcTHzmPsRXx7D5ghNFA8tXEbpVr2w-7mjXcS40kwAhrHb5TDcNB5y4BBhG2XiNWbP22V7hTFb1WM0e3EtMtq-WG3CpnXeuUHpmtendjaMHDOm3cfVAXT6fH7jhlco_Yj8XAEuHyhOgwVYgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"retentionDays": 6, "diffBackupIntervalInHours": 24}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      Content-Length:
      - '69'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
      accept-language:
      - en-US
    method: PUT
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"operation":"UpdateLogicalDatabase","startTime":"2020-10-15T00:55:00.003Z"}'
    headers:
      azure-asyncoperation:
      - https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyAzureAsyncOperation/ebcd54a4-45f1-42d5-9f51-0b8047aeeeea?api-version=2020-02-02-preview
      cache-control:
      - no-cache
      content-length:
      - '76'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:54:59 GMT
      expires:
      - '-1'
      location:
      - https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyOperationResults/ebcd54a4-45f1-42d5-9f51-0b8047aeeeea?api-version=2020-02-02-preview
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:55:14 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=At7xXcqUjhdCj8xXoaSaYn4; expires=Sat, 14-Nov-2020 00:55:15 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZICRx2_Nf0pMHyEB_qJdEthzgd35kj4gYf9Rm38xS1-o2Gin2zcPwGiO1tGmVsq_RuJJN31mghxKIy3efD8g3X476VRQvOvdBqQCTnV8oPO6f6JKrnv5wLEF2O7z9vuOX8ZxtGSqwCqpyuiSppdlFq8Irkr0LH__0qLo4zQ5Fhw_sgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/locations/southeastasia/shortTermRetentionPolicyAzureAsyncOperation/ebcd54a4-45f1-42d5-9f51-0b8047aeeeea?api-version=2020-02-02-preview
  response:
    body:
      string: '{"name":"ebcd54a4-45f1-42d5-9f51-0b8047aeeeea","status":"Succeeded","startTime":"2020-10-15T00:55:00.003Z"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:55:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Charset:
      - utf-8
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
      return-client-request-id:
      - 'true'
      x-client-CPU:
      - x64
      x-client-OS:
      - win32
      x-client-SKU:
      - Python
      x-client-Ver:
      - 1.2.3
    method: GET
    uri: https://login.microsoftonline.com/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Ff686d426-8d16-42db-81b7-ab578e110ccd%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body:
      string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/f686d426-8d16-42db-81b7-ab578e110ccd/.well-known/openid-configuration"}'
    headers:
      access-control-allow-methods:
      - GET, OPTIONS
      access-control-allow-origin:
      - '*'
      cache-control:
      - max-age=86400, private
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:55:16 GMT
      nel:
      - '{"report_to":"network-errors","max_age":86400,"success_fraction":0.001,"failure_fraction":1.0}'
      p3p:
      - CP="DSP CUR OTPi IND OTRi ONL FIN"
      report-to:
      - '{"group":"network-errors","max_age":86400,"endpoints":[{"url":"https://ffde.nelreports.net/api/report?cat=estscorp+wst"}]}'
      set-cookie:
      - fpc=AsW1GzJeYkJLgMYaerjcLM0; expires=Sat, 14-Nov-2020 00:55:17 GMT; path=/;
        secure; HttpOnly; SameSite=None
      - esctx=AQABAAAAAAB2UyzwtQEKR7-rWbgdcBZI7BJuJlHzcVcAXO9viSsD9HX1vOKSeik8o9DQ7HEn2ZTOy_d4tOrMBsj1f2vm2i-O_vXn27waJ7vRcntb5b1d4eNFnxnYRMzfGUp2VjNRQDJ6g-GEJQJx7tiaFaCccqeK6mnXIKdKAPRJgr2aZG3Tr_Fm_uyfPLDGqnjkJaiHAcYgAA;
        domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None
      - x-ms-gateway-slice=corp; path=/; secure; samesite=none; httponly
      - stsservicecookie=estscorp; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ests-server:
      - 2.1.11154.8 - SAN ProdSlices
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sql db str-policy set
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -s -n --retention-days --diffbackup-hours
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-sql/0.21.0 Azure-SDK-For-Python AZURECLI/2.13.0
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default?api-version=2020-02-02-preview
  response:
    body:
      string: '{"properties":{"retentionDays":6,"diffBackupIntervalInHours":24},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ConvertSPOResourceGroup/providers/Microsoft.Sql/servers/convertsposerver1/databases/testdb1/backupShortTermRetentionPolicies/default","name":"default","type":"Microsoft.Sql/servers/databases/backupShortTermRetentionPolicies"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '363'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 15 Oct 2020 00:55:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
