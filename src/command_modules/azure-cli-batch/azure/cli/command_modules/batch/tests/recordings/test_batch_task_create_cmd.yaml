interactions:
- request:
    body: '{"constraints": {"maxWallClockTime": "P1D", "maxTaskRetryCount": 2}, "authenticationTokenSettings":
      {"access": ["job"]}, "multiInstanceSettings": {"coordinationCommandLine": "cmd
      /c echo hello", "numberOfInstances": 3}, "displayName": "displayName", "id":
      "xplatTask", "commandLine": "cmd /c dir /s", "environmentSettings": [{"name":
      "env1", "value": "value1"}, {"name": "env2", "value": "value2"}], "userIdentity":
      {"autoUser": {"elevationLevel": "nonAdmin", "scope": "pool"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['478']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c4c0559c-fd48-11e6-b58e-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:26 GMT']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:25 GMT']
      ETag: ['0x8D45F6CA8A89AF9']
      Last-Modified: ['Mon, 27 Feb 2017 23:59:25 GMT']
      Location: ['https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [6ee16912-a7af-4c92-a87e-6cd37393bf22]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c54f88b8-fd48-11e6-b670-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:27 GMT']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"xplatTask\",\"displayName\":\"displayName\",\"url\":\"https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask\"\
        ,\"eTag\":\"0x8D45F6CA8A89AF9\",\"creationTime\":\"2017-02-27T23:59:25.6811257Z\"\
        ,\"lastModified\":\"2017-02-27T23:59:25.6811257Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:59:25.6811257Z\",\"commandLine\":\"\
        cmd /c dir /s\",\"environmentSettings\":[\r\n    {\r\n      \"name\":\"env1\"\
        ,\"value\":\"value1\"\r\n    },{\r\n      \"name\":\"env2\",\"value\":\"value2\"\
        \r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n      \"scope\"\
        :\"pool\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"multiInstanceSettings\"\
        :{\r\n    \"numberOfInstances\":3,\"coordinationCommandLine\":\"cmd /c echo\
        \ hello\"\r\n  },\"authenticationTokenSettings\":{\r\n    \"access\":[\r\n\
        \      \"job\"\r\n    ]\r\n  },\"constraints\":{\r\n    \"maxWallClockTime\"\
        :\"P1D\",\"retentionTime\":\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\"\
        :2\r\n  },\"executionInfo\":{\r\n    \"retryCount\":0,\"requeueCount\":0\r\
        \n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:25 GMT']
      ETag: ['0x8D45F6CA8A89AF9']
      Last-Modified: ['Mon, 27 Feb 2017 23:59:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [a4c3c382-b7ee-4b21-bd47-b37e56117b4a]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c5ebc034-fd48-11e6-b3ad-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:28 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"xplatTask\",\"displayName\":\"displayName\",\"url\":\"https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask\"\
        ,\"eTag\":\"0x8D45F6CA8A89AF9\",\"creationTime\":\"2017-02-27T23:59:25.6811257Z\"\
        ,\"lastModified\":\"2017-02-27T23:59:25.6811257Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:59:25.6811257Z\",\"commandLine\":\"\
        cmd /c dir /s\",\"environmentSettings\":[\r\n    {\r\n      \"name\":\"env1\"\
        ,\"value\":\"value1\"\r\n    },{\r\n      \"name\":\"env2\",\"value\":\"value2\"\
        \r\n    }\r\n  ],\"userIdentity\":{\r\n    \"autoUser\":{\r\n      \"scope\"\
        :\"pool\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"multiInstanceSettings\"\
        :{\r\n    \"numberOfInstances\":3,\"coordinationCommandLine\":\"cmd /c echo\
        \ hello\"\r\n  },\"authenticationTokenSettings\":{\r\n    \"access\":[\r\n\
        \      \"job\"\r\n    ]\r\n  },\"constraints\":{\r\n    \"maxWallClockTime\"\
        :\"P1D\",\"retentionTime\":\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\"\
        :2\r\n  },\"executionInfo\":{\r\n    \"retryCount\":0,\"requeueCount\":0\r\
        \n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:29 GMT']
      ETag: ['0x8D45F6CA8A89AF9']
      Last-Modified: ['Mon, 27 Feb 2017 23:59:25 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [e334e90b-5294-437a-bed3-3f380953ea07]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c6aef800-fd48-11e6-bc9f-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:29 GMT']
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:27 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [0b7d852c-6242-42c4-9374-d266feb7d740]
    status: {code: 200, message: OK}
- request:
    body: '{"commandLine": "echo hello", "id": "aaa"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['42']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c7595b10-fd48-11e6-98e9-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:30 GMT']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      DataServiceId: ['https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/aaa']
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:31 GMT']
      ETag: ['0x8D45F6CABF2EAA1']
      Last-Modified: ['Mon, 27 Feb 2017 23:59:31 GMT']
      Location: ['https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/aaa']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [27a6b50c-dbb2-4a99-ae6a-5a0c52e8d29b]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c7d5c87e-fd48-11e6-8341-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:31 GMT']
    method: GET
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/aaa?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#tasks/@Element\"\
        ,\"id\":\"aaa\",\"url\":\"https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/aaa\"\
        ,\"eTag\":\"0x8D45F6CABF2EAA1\",\"creationTime\":\"2017-02-27T23:59:31.2012961Z\"\
        ,\"lastModified\":\"2017-02-27T23:59:31.2012961Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-02-27T23:59:31.2012961Z\",\"commandLine\":\"\
        echo hello\",\"userIdentity\":{\r\n    \"autoUser\":{\r\n      \"scope\":\"\
        task\",\"elevationLevel\":\"nonadmin\"\r\n    }\r\n  },\"constraints\":{\r\
        \n    \"maxWallClockTime\":\"P10675199DT2H48M5.4775807S\",\"retentionTime\"\
        :\"P10675199DT2H48M5.4775807S\",\"maxTaskRetryCount\":5\r\n  },\"executionInfo\"\
        :{\r\n    \"retryCount\":0,\"requeueCount\":0\r\n  }\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:32 GMT']
      ETag: ['0x8D45F6CABF2EAA1']
      Last-Modified: ['Mon, 27 Feb 2017 23:59:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [ff845d08-3bc0-4049-abb6-7ab9cdf2c93b]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c88a5a88-fd48-11e6-a2f9-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:32 GMT']
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/aaa?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:31 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [409b8694-6bd5-4991-b761-c4c1e412bef8]
    status: {code: 200, message: OK}
- request:
    body: '{"value": [{"commandLine": "cmd /c dir /s", "constraints": {"maxWallClockTime":
      "P1D", "maxTaskRetryCount": 2}, "environmentSettings": [{"name": "env1", "value":
      "value1"}, {"name": "env2", "value": "value2"}], "displayName": "displayName",
      "id": "xplatTask1"}, {"commandLine": "cmd /c dir /s", "constraints": {"maxWallClockTime":
      "P1D", "maxTaskRetryCount": 2}, "displayName": "displayName1", "id": "xplatTask2"},
      {"commandLine": "cmd /c dir /s", "environmentSettings": [{"name": "env1", "value":
      "value1"}, {"name": "env2", "value": "value2"}], "displayName": "displayName2",
      "id": "xplatTask3"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['599']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-8.1-6.3.9600-SP0) requests/2.9.1 msrest/0.4.5
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      client-request-id: [c91a07fa-fd48-11e6-b645-54ee750f2fc7]
      ocp-date: ['Mon, 27 Feb 2017 23:59:33 GMT']
    method: POST
    uri: https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/addtaskcollection?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clitest1.uksouth.batch.azure.com/$metadata#taskaddresult\"\
        ,\"value\":[\r\n    {\r\n      \"status\":\"Success\",\"taskId\":\"xplatTask1\"\
        ,\"eTag\":\"0x8D45F6CAD10F914\",\"lastModified\":\"2017-02-27T23:59:33.0759956Z\"\
        ,\"location\":\"https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask1\"\
        \r\n    },{\r\n      \"status\":\"Success\",\"taskId\":\"xplatTask3\",\"eTag\"\
        :\"0x8D45F6CAD12D540\",\"lastModified\":\"2017-02-27T23:59:33.0881856Z\",\"\
        location\":\"https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask3\"\
        \r\n    },{\r\n      \"status\":\"Success\",\"taskId\":\"xplatTask2\",\"eTag\"\
        :\"0x8D45F6CAD17B76B\",\"lastModified\":\"2017-02-27T23:59:33.1201899Z\",\"\
        location\":\"https://clitest1.uksouth.batch.azure.com/jobs/xplatJobForTaskTests/tasks/xplatTask2\"\
        \r\n    }\r\n  ]\r\n}"}
    headers:
      Content-Type: [application/json;odata=minimalmetadata]
      DataServiceVersion: ['3.0']
      Date: ['Mon, 27 Feb 2017 23:59:33 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      X-Content-Type-Options: [nosniff]
      request-id: [24da8c14-2057-4380-a622-71c2a847bb5b]
    status: {code: 200, message: OK}
version: 1
