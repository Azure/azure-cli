interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/networkWatchers?api-version=2022-01-01
  response:
    body:
      string: '{"value":[{"name":"NetworkWatcher_westus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westus","etag":"W/\"2f330891-d619-4d17-9cab-4c7ea597831e\"","type":"Microsoft.Network/networkWatchers","location":"westus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus","etag":"W/\"8ab97ab1-e1a0-411f-879f-689a778b30de\"","type":"Microsoft.Network/networkWatchers","location":"eastus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope/providers/Microsoft.Network/networkWatchers/nwcmtest-team-internal1234-diagnostics-networkwatcher-westeurope","etag":"W/\"b098d3bc-75c5-4566-a0ee-1072da189dbc\"","type":"Microsoft.Network/networkWatchers","location":"westeurope","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2","etag":"W/\"736f2622-fd31-4bc0-b823-4e395c6541ec\"","type":"Microsoft.Network/networkWatchers","location":"eastus2","properties":{"provisioningState":"Deleting","runningOperationIds":[]}},{"name":"NetworkWatcher_westcentralus","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westcentralus","etag":"W/\"2f363d7b-b86d-4a5e-8fff-0eede96ac7ee\"","type":"Microsoft.Network/networkWatchers","location":"westcentralus","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_westus2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_westus2","etag":"W/\"7e93220d-ee08-4844-85e4-eb67550bda5d\"","type":"Microsoft.Network/networkWatchers","location":"westus2","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_uksouth","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_uksouth","etag":"W/\"b44ee4a0-66d6-47bc-aad7-b1bdebcd2e31\"","type":"Microsoft.Network/networkWatchers","location":"uksouth","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_norwayeast","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/SanthoshRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_norwayeast","etag":"W/\"86450203-330c-4541-9800-60bc81e5100a\"","type":"Microsoft.Network/networkWatchers","location":"norwayeast","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_italynorth","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_italynorth","etag":"W/\"4b23f718-e5df-40f9-9301-a1eaca92c618\"","type":"Microsoft.Network/networkWatchers","location":"italynorth","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_centraluseuap","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_centraluseuap","etag":"W/\"65ac48a9-a6a0-4a2f-9697-aef2034caff8\"","type":"Microsoft.Network/networkWatchers","location":"centraluseuap","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}},{"name":"NetworkWatcher_eastus2euap","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2euap","etag":"W/\"a2758f60-2022-450e-a3da-95109b7f2d2a\"","type":"Microsoft.Network/networkWatchers","location":"eastus2euap","properties":{"provisioningState":"Succeeded","runningOperationIds":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '4379'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 04 Jun 2024 11:53:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - 113df4a1-22ae-4880-b3f9-7fd0f8670ea7
      - 92b48afb-25b7-40e7-9ce1-aaf8130ad585
      - 171cf33d-efe3-4880-96b3-cbe0e0d95e30
      - 1a3b64a1-c87a-4d8d-933c-de6a83ab75ce
      - b56af945-d610-48d6-8ccd-0d5f0d0c77f8
      - b337510f-fa4d-4c04-9645-83e0fa85bd11
      - 3c6596a6-fbbd-42c2-92ef-c3b158b3aa1f
      - b5b3ddb2-121f-4728-a015-e9dde7219db8
      - 95a2ffdc-b275-430a-bcb5-740551b774eb
      - 942cccb2-33a4-4f68-97d7-06e9f66b5ea2
      - b92883e8-c324-43ff-8594-182c2cf9a7e3
      x-msedge-ref:
      - 'Ref A: 8091B3126D0E44C896D946FE41A145B4 Ref B: MAA201060515019 Ref C: 2024-06-04T11:53:02Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "eastus2", "properties": {"endpoints": [{"filter": {"items":
      [{"address": "npmuser", "type": "AgentAddress"}], "type": "Include"}, "name":
      "aks-private-vnet", "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet",
      "type": "AzureVNet"}, {"filter": {"items": [], "type": "Include"}, "name": "aks-vnet-29306067",
      "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MC_aks-managed-natgw-rg_aks-managed-natgw_eastus2/providers/Microsoft.Network/virtualNetworks/aks-vnet-29306067",
      "type": "AzureVNet"}, {"filter": {"items": [], "type": "Include"}, "name": "aks-azure-cni-vnet",
      "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet",
      "type": "AzureVNet"}], "outputs": [], "testConfigurations": [{"httpConfiguration":
      {"method": "Get", "port": 80, "requestHeaders": [{"name": "UserAgent", "value":
      "Edge"}, {"name": "UserAgent", "value": "Chrome"}], "validStatusCodeRanges":
      ["200", "201"]}, "name": "httptestconfig", "protocol": "Http", "testFrequencySec":
      "60"}, {"name": "tcptestconfig", "protocol": "Tcp", "tcpConfiguration": {"port":
      80}, "testFrequencySec": "60"}, {"icmpConfiguration": {}, "name": "icmptestconfig",
      "protocol": "Icmp", "testFrequencySec": "60"}], "testGroups": [{"destinations":
      ["aks-azure-cni-vnet", "aks-vnet-29306067"], "name": "tg13", "sources": ["aks-private-vnet",
      "aks-vnet-29306067"], "testConfigurations": ["httptestconfig", "tcptestconfig"]},
      {"destinations": ["aks-azure-cni-vnet", "aks-vnet-29306067"], "name": "tg23",
      "sources": ["aks-private-vnet", "aks-azure-cni-vnet"], "testConfigurations":
      ["tcptestconfig", "icmptestconfig"]}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      Content-Length:
      - '1822'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-07?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"cmv2-07\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-07\",\r\n
        \ \"etag\": \"W/\\\"06d95af5-5ae8-491e-88d8-8a85dec2a911\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\": \"73554781-60d2-4711-bd63-514b3a2aebfe\",\r\n
        \   \"endpoints\": [\r\n      {\r\n        \"name\": \"aks-private-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet\",\r\n
        \       \"filter\": {\r\n          \"type\": \"Include\",\r\n          \"items\":
        [\r\n            {\r\n              \"type\": \"AgentAddress\",\r\n              \"address\":
        \"npmuser\"\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n
        \       \"name\": \"aks-vnet-29306067\",\r\n        \"type\": \"AzureVNet\",\r\n
        \       \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MC_aks-managed-natgw-rg_aks-managed-natgw_eastus2/providers/Microsoft.Network/virtualNetworks/aks-vnet-29306067\",\r\n
        \       \"filter\": {\r\n          \"type\": \"Include\",\r\n          \"items\":
        []\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"aks-azure-cni-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet\",\r\n
        \       \"filter\": {\r\n          \"type\": \"Include\",\r\n          \"items\":
        []\r\n        }\r\n      }\r\n    ],\r\n    \"testConfigurations\": [\r\n
        \     {\r\n        \"name\": \"httptestconfig\",\r\n        \"testFrequencySec\":
        60,\r\n        \"protocol\": \"Http\",\r\n        \"httpConfiguration\": {\r\n
        \         \"port\": 80,\r\n          \"method\": \"Get\",\r\n          \"requestHeaders\":
        [\r\n            {\r\n              \"name\": \"UserAgent\",\r\n              \"value\":
        \"Edge\"\r\n            },\r\n            {\r\n              \"name\": \"UserAgent\",\r\n
        \             \"value\": \"Chrome\"\r\n            }\r\n          ],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"tcptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Tcp\",\r\n        \"tcpConfiguration\":
        {\r\n          \"port\": 80,\r\n          \"disableTraceRoute\": false\r\n
        \       }\r\n      },\r\n      {\r\n        \"name\": \"icmptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Icmp\",\r\n        \"icmpConfiguration\":
        {\r\n          \"disableTraceRoute\": false\r\n        }\r\n      }\r\n    ],\r\n
        \   \"testGroups\": [\r\n      {\r\n        \"name\": \"tg13\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"httptestconfig\",\r\n
        \         \"tcptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-vnet-29306067\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      },\r\n      {\r\n        \"name\": \"tg23\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"tcptestconfig\",\r\n
        \         \"icmptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-azure-cni-vnet\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      }\r\n    ],\r\n    \"outputs\": [],\r\n    \"connectionMonitorType\":
        \"MultiEndpoint\"\r\n  },\r\n  \"type\": \"Microsoft.Network/networkWatchers/connectionMonitors\",\r\n
        \ \"location\": \"eastus2\"\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/a6d82163-06f0-47d0-aa6f-c6d9689798fd?api-version=2022-01-01&t=638530987862671796&c=MIIHpTCCBo2gAwIBAgITfwNAzkFewm_NciphkAAEA0DOQTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE3MTkyMjQwWhcNMjUwNTEyMTkyMjQwWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJuJT5HwtZYeMETB2FErJ9p7P7i0j5K1z_6Q8ubSfyaHW5BXsFmRWgdTUjKJeDSJeyiDXrTUG_vHsfl5LFuBUd0wRJdi6qPSdJBdjtQBJeEuHnufrh29AhuQ3GWJDrfdtarbHmIM-iXChLaLDQRvAyrn53r4TLJtSXo-E1Nrko3diGh5O-pU8z8JNR1eM_KSRpMlbaKuCB6O4iL0UDcKoYasw64KhNhDeBWLNuZeFBOZlFiurb2p7OZLyPrCVo9R7w5IOOIJ1by-Z8xXliKu4y8En6XZW4zydhykuZhlt1QXtLV_wQlqMBqHzqniOg0cFlPxbHSUfAw3EPoQWdvzZzUCAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSkfu1z-bxmu3Ewf496cDhz0adszDAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGTAsFHn-v_Myc5P-Oa3IJEoH6iGQLYP4rMw8VHz6mNtg8tKrt7uCKm8hnXaILxDW53ybQpLCrIkir-vEkIZRaG_S7xsSov4PJ14t7p21zw25PTidIeFY3Kdx4uG8vhZBZ6nkgAOPe6v-VA7WmYBikI6El7jpz1MaRJMtqxJQIEXw_PbacRK7lughh6X2XvVv0LbV5_jSkYanML03gsTTOQItymOtXsNk0sKM8rhG4XBRFy8vSDa9vBXfWHw3S2-ZvYKpnaklc8_16F4aVu2cPRlAXwaG6XJGkkwl1ClCALQlYxeUWeobHFi0RpMZDprs7h6rHmFARmjrWRf_3vnxqg&s=HJLLyTGWHkVLVhbuavdPto3WbUMnFS3vKrVBXzqHviu-7XIQ1TJHLsh4Kz7YrDVDgbxEMYWZQRfJxQHVcI_ak8rzc3FTtRMfVNpHwBiWFZXcfuOwrtr6BViuJZr9VyIgaBYrUflprs_PTtvSL47zdR_CKE0X2kwCU9xjNN1XwoKT6xwUg8iGW3RPzSpplakEse5VwDLYyWyo7OGl4crsTJOswfHSV1MdKZID8keSEXR0DUzUVcrIKIIEfMZbCLQXW3KssWKbh6r6zdrD7FHqP_nbQX-f73LheKcpR86IRTfI8_ZNdDgogDURSG4BTN7TDzeAMfvt_Q9a7eZ3uNLWng&h=-oi95U-z9bHhC540oCA3msVWlaqzHYpfLolKdw-MtwQ
      cache-control:
      - no-cache
      content-length:
      - '3556'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 04 Jun 2024 11:53:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 6867b233-dbd9-46df-b3c0-ba0c7b74f27c
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: CAC577C9CED645FFB9A38E8D9CB8DC19 Ref B: MAA201060513035 Ref C: 2024-06-04T11:53:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/a6d82163-06f0-47d0-aa6f-c6d9689798fd?api-version=2022-01-01&t=638530987862671796&c=MIIHpTCCBo2gAwIBAgITfwNAzkFewm_NciphkAAEA0DOQTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE3MTkyMjQwWhcNMjUwNTEyMTkyMjQwWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJuJT5HwtZYeMETB2FErJ9p7P7i0j5K1z_6Q8ubSfyaHW5BXsFmRWgdTUjKJeDSJeyiDXrTUG_vHsfl5LFuBUd0wRJdi6qPSdJBdjtQBJeEuHnufrh29AhuQ3GWJDrfdtarbHmIM-iXChLaLDQRvAyrn53r4TLJtSXo-E1Nrko3diGh5O-pU8z8JNR1eM_KSRpMlbaKuCB6O4iL0UDcKoYasw64KhNhDeBWLNuZeFBOZlFiurb2p7OZLyPrCVo9R7w5IOOIJ1by-Z8xXliKu4y8En6XZW4zydhykuZhlt1QXtLV_wQlqMBqHzqniOg0cFlPxbHSUfAw3EPoQWdvzZzUCAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSkfu1z-bxmu3Ewf496cDhz0adszDAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGTAsFHn-v_Myc5P-Oa3IJEoH6iGQLYP4rMw8VHz6mNtg8tKrt7uCKm8hnXaILxDW53ybQpLCrIkir-vEkIZRaG_S7xsSov4PJ14t7p21zw25PTidIeFY3Kdx4uG8vhZBZ6nkgAOPe6v-VA7WmYBikI6El7jpz1MaRJMtqxJQIEXw_PbacRK7lughh6X2XvVv0LbV5_jSkYanML03gsTTOQItymOtXsNk0sKM8rhG4XBRFy8vSDa9vBXfWHw3S2-ZvYKpnaklc8_16F4aVu2cPRlAXwaG6XJGkkwl1ClCALQlYxeUWeobHFi0RpMZDprs7h6rHmFARmjrWRf_3vnxqg&s=HJLLyTGWHkVLVhbuavdPto3WbUMnFS3vKrVBXzqHviu-7XIQ1TJHLsh4Kz7YrDVDgbxEMYWZQRfJxQHVcI_ak8rzc3FTtRMfVNpHwBiWFZXcfuOwrtr6BViuJZr9VyIgaBYrUflprs_PTtvSL47zdR_CKE0X2kwCU9xjNN1XwoKT6xwUg8iGW3RPzSpplakEse5VwDLYyWyo7OGl4crsTJOswfHSV1MdKZID8keSEXR0DUzUVcrIKIIEfMZbCLQXW3KssWKbh6r6zdrD7FHqP_nbQX-f73LheKcpR86IRTfI8_ZNdDgogDURSG4BTN7TDzeAMfvt_Q9a7eZ3uNLWng&h=-oi95U-z9bHhC540oCA3msVWlaqzHYpfLolKdw-MtwQ
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 04 Jun 2024 11:53:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 89e621ac-0059-40cd-8035-c71e4ac44196
      x-msedge-ref:
      - 'Ref A: E9ACBA67FE394BA38CCCEF7608A884EB Ref B: MAA201060513035 Ref C: 2024-06-04T11:53:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/eastus2/operations/a6d82163-06f0-47d0-aa6f-c6d9689798fd?api-version=2022-01-01&t=638530987862671796&c=MIIHpTCCBo2gAwIBAgITfwNAzkFewm_NciphkAAEA0DOQTANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjQwNTE3MTkyMjQwWhcNMjUwNTEyMTkyMjQwWjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAJuJT5HwtZYeMETB2FErJ9p7P7i0j5K1z_6Q8ubSfyaHW5BXsFmRWgdTUjKJeDSJeyiDXrTUG_vHsfl5LFuBUd0wRJdi6qPSdJBdjtQBJeEuHnufrh29AhuQ3GWJDrfdtarbHmIM-iXChLaLDQRvAyrn53r4TLJtSXo-E1Nrko3diGh5O-pU8z8JNR1eM_KSRpMlbaKuCB6O4iL0UDcKoYasw64KhNhDeBWLNuZeFBOZlFiurb2p7OZLyPrCVo9R7w5IOOIJ1by-Z8xXliKu4y8En6XZW4zydhykuZhlt1QXtLV_wQlqMBqHzqniOg0cFlPxbHSUfAw3EPoQWdvzZzUCAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBSkfu1z-bxmu3Ewf496cDhz0adszDAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGTAsFHn-v_Myc5P-Oa3IJEoH6iGQLYP4rMw8VHz6mNtg8tKrt7uCKm8hnXaILxDW53ybQpLCrIkir-vEkIZRaG_S7xsSov4PJ14t7p21zw25PTidIeFY3Kdx4uG8vhZBZ6nkgAOPe6v-VA7WmYBikI6El7jpz1MaRJMtqxJQIEXw_PbacRK7lughh6X2XvVv0LbV5_jSkYanML03gsTTOQItymOtXsNk0sKM8rhG4XBRFy8vSDa9vBXfWHw3S2-ZvYKpnaklc8_16F4aVu2cPRlAXwaG6XJGkkwl1ClCALQlYxeUWeobHFi0RpMZDprs7h6rHmFARmjrWRf_3vnxqg&s=HJLLyTGWHkVLVhbuavdPto3WbUMnFS3vKrVBXzqHviu-7XIQ1TJHLsh4Kz7YrDVDgbxEMYWZQRfJxQHVcI_ak8rzc3FTtRMfVNpHwBiWFZXcfuOwrtr6BViuJZr9VyIgaBYrUflprs_PTtvSL47zdR_CKE0X2kwCU9xjNN1XwoKT6xwUg8iGW3RPzSpplakEse5VwDLYyWyo7OGl4crsTJOswfHSV1MdKZID8keSEXR0DUzUVcrIKIIEfMZbCLQXW3KssWKbh6r6zdrD7FHqP_nbQX-f73LheKcpR86IRTfI8_ZNdDgogDURSG4BTN7TDzeAMfvt_Q9a7eZ3uNLWng&h=-oi95U-z9bHhC540oCA3msVWlaqzHYpfLolKdw-MtwQ
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 04 Jun 2024 11:53:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 09415dcf-3858-47f1-8476-2ab6cee77a9f
      x-msedge-ref:
      - 'Ref A: 227E29870CB548D1BDC86662CAE66E44 Ref B: MAA201060513035 Ref C: 2024-06-04T11:53:16Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network watcher connection-monitor create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --network-watcher-name --resource-group --location --test-groups
      User-Agent:
      - AZURECLI/2.60.0 azsdk-python-core/1.28.0 Python/3.8.0 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-07?api-version=2022-01-01
  response:
    body:
      string: "{\r\n  \"name\": \"cmv2-07\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus2/connectionMonitors/cmv2-07\",\r\n
        \ \"etag\": \"W/\\\"5740db97-97ad-4621-aba9-1cd8365f2178\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\": \"73554781-60d2-4711-bd63-514b3a2aebfe\",\r\n
        \   \"endpoints\": [\r\n      {\r\n        \"name\": \"aks-private-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-private-rg/providers/Microsoft.Network/virtualNetworks/aks-private-vnet\",\r\n
        \       \"filter\": {\r\n          \"type\": \"Include\",\r\n          \"items\":
        [\r\n            {\r\n              \"type\": \"AgentAddress\",\r\n              \"address\":
        \"npmuser\"\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n
        \       \"name\": \"aks-vnet-29306067\",\r\n        \"type\": \"AzureVNet\",\r\n
        \       \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MC_aks-managed-natgw-rg_aks-managed-natgw_eastus2/providers/Microsoft.Network/virtualNetworks/aks-vnet-29306067\",\r\n
        \       \"filter\": {\r\n          \"type\": \"Include\",\r\n          \"items\":
        []\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"aks-azure-cni-vnet\",\r\n
        \       \"type\": \"AzureVNet\",\r\n        \"resourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aks-azure-cni-rg/providers/Microsoft.Network/virtualNetworks/aks-azure-cni-vnet\",\r\n
        \       \"filter\": {\r\n          \"type\": \"Include\",\r\n          \"items\":
        []\r\n        }\r\n      }\r\n    ],\r\n    \"testConfigurations\": [\r\n
        \     {\r\n        \"name\": \"httptestconfig\",\r\n        \"testFrequencySec\":
        60,\r\n        \"protocol\": \"Http\",\r\n        \"httpConfiguration\": {\r\n
        \         \"port\": 80,\r\n          \"method\": \"Get\",\r\n          \"requestHeaders\":
        [\r\n            {\r\n              \"name\": \"UserAgent\",\r\n              \"value\":
        \"Edge\"\r\n            },\r\n            {\r\n              \"name\": \"UserAgent\",\r\n
        \             \"value\": \"Chrome\"\r\n            }\r\n          ],\r\n          \"validStatusCodeRanges\":
        [\r\n            \"200\",\r\n            \"201\"\r\n          ],\r\n          \"preferHTTPS\":
        false\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"tcptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Tcp\",\r\n        \"tcpConfiguration\":
        {\r\n          \"port\": 80,\r\n          \"disableTraceRoute\": false\r\n
        \       }\r\n      },\r\n      {\r\n        \"name\": \"icmptestconfig\",\r\n
        \       \"testFrequencySec\": 60,\r\n        \"protocol\": \"Icmp\",\r\n        \"icmpConfiguration\":
        {\r\n          \"disableTraceRoute\": false\r\n        }\r\n      }\r\n    ],\r\n
        \   \"testGroups\": [\r\n      {\r\n        \"name\": \"tg13\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"httptestconfig\",\r\n
        \         \"tcptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-vnet-29306067\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      },\r\n      {\r\n        \"name\": \"tg23\",\r\n        \"disable\":
        false,\r\n        \"testConfigurations\": [\r\n          \"tcptestconfig\",\r\n
        \         \"icmptestconfig\"\r\n        ],\r\n        \"sources\": [\r\n          \"aks-private-vnet\",\r\n
        \         \"aks-azure-cni-vnet\"\r\n        ],\r\n        \"destinations\":
        [\r\n          \"aks-azure-cni-vnet\",\r\n          \"aks-vnet-29306067\"\r\n
        \       ]\r\n      }\r\n    ],\r\n    \"outputs\": [\r\n      {\r\n        \"type\":
        \"Workspace\",\r\n        \"workspaceSettings\": {\r\n          \"workspaceResourceId\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/defaultresourcegroup-eus2/providers/microsoft.operationalinsights/workspaces/defaultworkspace-9cece3e3-0f7d-47ca-af0e-9772773f90b7-eus2\"\r\n
        \       }\r\n      }\r\n    ],\r\n    \"startTime\": \"2024-06-04T11:53:09.5197938Z\",\r\n
        \   \"connectionMonitorType\": \"MultiEndpoint\"\r\n  },\r\n  \"type\": \"Microsoft.Network/networkWatchers/connectionMonitors\",\r\n
        \ \"location\": \"eastus2\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3943'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 04 Jun 2024 11:53:18 GMT
      etag:
      - W/"5740db97-97ad-4621-aba9-1cd8365f2178"
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - c57d936c-cad0-476c-8947-c6918760e87b
      x-msedge-ref:
      - 'Ref A: E0EBE4B39CA44C56AD61BFBA5F067555 Ref B: MAA201060513035 Ref C: 2024-06-04T11:53:17Z'
    status:
      code: 200
      message: OK
version: 1
