interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 14:59:29 GMT
      duration:
      - '2305374'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 0Z3ABi/XReZOLKUjrJIzgwPcvAf9LiEj5Lkoseraze4=
      ocp-aad-session-key:
      - LEPXj5ARGJLJTisLPUUqCWicIF82dOvFBGM9sUVLRrczg6XVm3p9NENJ3AWAfH--4mJC_0WLTDfBOHK7S4nao2KXn_pL_ZI06nHzGFyhfr31r7rZEzJo0G1qV426wc59tYzK_KGB31ja6CYQS74o3ATtBPxVIe3_hhJSenH-Y9w.rRxTHGU4OES1U1ZKTKalZxnmwFIKenleyT1VjMcBboI
      pragma:
      - no-cache
      request-id:
      - b11649af-9045-4bb1-ba4c-9eb1a639b23d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 14:59:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"46e4107bcceb4ead89edf8205df5f00d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 14:59:31 GMT
      expires:
      - '-1'
      location:
      - https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=46e4107bcceb4ead89edf8205df5f00d
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"46e4107bcceb4ead89edf8205df5f00d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 14:59:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"46e4107bcceb4ead89edf8205df5f00d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 14:59:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"46e4107bcceb4ead89edf8205df5f00d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 14:59:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"completed","target":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1","request_id":"46e4107bcceb4ead89edf8205df5f00d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 14:59:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/fbb91b7371604233b0c0e1731a869cd6","kid":"https://test-new-kv-cert000002.vault.azure.net/keys/cert1/fbb91b7371604233b0c0e1731a869cd6","sid":"https://test-new-kv-cert000002.vault.azure.net/secrets/cert1/fbb91b7371604233b0c0e1731a869cd6","x5t":"c3QruNVoDhrlfLPBFkQ-JjoR0JA","cer":"MIIDQDCCAiigAwIBAgIQDpSaclkLQDWR4/gVUFGztjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA0MTQ0OTUwWhcNMjExMDA0MTQ1OTUwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCre7Kr/fteDDMSit7AOHP4bwneyVLOa/IZrnhhn0Oxo2ReOVplxG4Iuyty8n2Mg/YezXNpqEdDAvuv1FHoWCEgWbZgHQj67AtDgdLUdXqn83jVGakHoTIdEjvz1PQLm2PqK7ehYLxKxdikYdovXGHu3k2OhmClUtyja2qsYYbrAwm0P/4Zm6sLP8KMhDsClF5Qno1u73kebB9qAFZFbD54xtQ4tjXNrxOTVqm9fmWPcyHOkNOQWRv+RbWRIy1piL5EyB4Uny3H3jOWCuVGk+RjDlor+dNADnPaV8GgKyDIuEzIriQajURIHqFvQLtuCZKEFFJs+wp25JH30eGdTottAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBR9sj4wllmHvtyiTozGGFHj6zq5TzAdBgNVHQ4EFgQUfbI+MJZZh77cok6MxhhR4+s6uU8wDQYJKoZIhvcNAQELBQADggEBAKfENaJGaixWT0Q16zkSyKfmCjTd5wqcaC54wiL8+Pg2mbxggDlI4oUAQTPWdDuX1UK5aQRpWBPJswWITgF8I5E6JkWFhwHKAO23FjWmvNpqYLLE1mHVlK8Mi5I/QwBIK4Vlo96fDdN2ehgPNL0pXICS70QtTLArykLahJ/EoaWNoBlaUhJr5/5zrvlJTQgViO+/WZHduNUC7wfzd0uvJO5Kl/MboSJ8+HNWuiXKViCAmHsS4M0kp6CzUDfblnmpp/v+5oNBpznqpP8lQLQX5FNg5E8UCgEwdPXWYUYqbDoACl+6HJXZaNX8E8S1r887BDLABrTPjkzHIyfz94wAh0o=","attributes":{"enabled":true,"nbf":1599230990,"exp":1633359590,"created":1599231590,"updated":1599231590,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599231572,"updated":1599231572}},"pending":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 14:59:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 14:59:57 GMT
      duration:
      - '2149746'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - GsfGrhypNmqgaGXUdNGPcVDyiMcTM9ol67BByGh3fBs=
      ocp-aad-session-key:
      - akX0F9M84-Kw12ZhIQo_JTw8h5C4wWWU0f_xeG_y2mvgXuWE4SJDeqBObya45XyyznED7H7d944L_ezOGsS8AfS7esTjvYS1K-Oso0w_-izL2-YYGGS_7fjNpX-5U4XcSEI8xwNZYwxV_L6QfgE3fFRKukWOJjc1lLgpWojNiTA.c95_VLdiwpHGNzkd8EQCdjVcoQtok1UcbSmhNK3Vbnw
      pragma:
      - no-cache
      request-id:
      - e750d8f1-4cce-431a-8893-468b4507ba2a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_new_cert000001",
      "keyCredentials": [{"startDate": "2020-09-04T14:59:29.405617Z", "endDate": "2021-09-04T14:59:29.405617Z",
      "value": "MIIDQDCCAiigAwIBAgIQDpSaclkLQDWR4/gVUFGztjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA0MTQ0OTUwWhcNMjExMDA0MTQ1OTUwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCre7Kr/fteDDMSit7AOHP4bwneyVLOa/IZrnhhn0Oxo2ReOVplxG4Iuyty8n2Mg/YezXNpqEdDAvuv1FHoWCEgWbZgHQj67AtDgdLUdXqn83jVGakHoTIdEjvz1PQLm2PqK7ehYLxKxdikYdovXGHu3k2OhmClUtyja2qsYYbrAwm0P/4Zm6sLP8KMhDsClF5Qno1u73kebB9qAFZFbD54xtQ4tjXNrxOTVqm9fmWPcyHOkNOQWRv+RbWRIy1piL5EyB4Uny3H3jOWCuVGk+RjDlor+dNADnPaV8GgKyDIuEzIriQajURIHqFvQLtuCZKEFFJs+wp25JH30eGdTottAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBR9sj4wllmHvtyiTozGGFHj6zq5TzAdBgNVHQ4EFgQUfbI+MJZZh77cok6MxhhR4+s6uU8wDQYJKoZIhvcNAQELBQADggEBAKfENaJGaixWT0Q16zkSyKfmCjTd5wqcaC54wiL8+Pg2mbxggDlI4oUAQTPWdDuX1UK5aQRpWBPJswWITgF8I5E6JkWFhwHKAO23FjWmvNpqYLLE1mHVlK8Mi5I/QwBIK4Vlo96fDdN2ehgPNL0pXICS70QtTLArykLahJ/EoaWNoBlaUhJr5/5zrvlJTQgViO+/WZHduNUC7wfzd0uvJO5Kl/MboSJ8+HNWuiXKViCAmHsS4M0kp6CzUDfblnmpp/v+5oNBpznqpP8lQLQX5FNg5E8UCgEwdPXWYUYqbDoACl+6HJXZaNX8E8S1r887BDLABrTPjkzHIyfz94wAh0o=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_new_cert000001",
      "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1668'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "758eb721-acbe-4288-9e8b-92e61b408972", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "949380ec-c4c3-4c0e-bb11-ecb98b79239b",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_new_cert000001", "errorUrl": null,
        "groupMembershipClaims": null, "homepage": "https://cli_test_sp_with_kv_new_cert000001",
        "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"], "informationalUrls":
        {"termsOfService": null, "support": null, "privacy": null, "marketing": null},
        "isDeviceOnlyAuthSupported": null, "keyCredentials": [{"customKeyIdentifier":
        "73742BB8D5680E1AE57CB3C116443E263A11D090", "endDate": "2021-09-04T14:59:29.405617Z",
        "keyId": "88888888-0000-0000-0000-000000000001", "startDate": "2020-09-04T14:59:29.405617Z",
        "type": "AsymmetricX509Cert", "usage": "Verify", "value": null}], "knownClientApplications":
        [], "logoutUrl": null, "logo@odata.mediaEditLink": "directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_new_cert000001 on behalf
        of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "id": "9e5ef3ad-4a2d-4c43-a9f9-cbb480c7c779", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_new_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 14:59:59 GMT
      duration:
      - '4769546'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - dMQIMqTNmvClkFrJur55SvaXYOP0//qg9V+JHwyJ2DU=
      ocp-aad-session-key:
      - o0_DbesD_CvpaWyhuWuCT7roaEMzAMjAehhYf9BXSdjrq7k8fTyHZPV7z4lpzuLceoFAQGUOIbJNHqzBmXt0dOeRLc6BmqJg_mG_5a8XDy8o98C8mrQi2ofA5eDx2rR8J3h7T4zmN7ksEZUciapttA0Hx41J4xaN1z68vJKJO_Y.CjfLsw3vbRXeMQUPbnmvchLB2_JNVToCycLszDnKgaU
      pragma:
      - no-cache
      request-id:
      - ec52cf9f-5f77-479d-9683-c2fb482fe2df
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "949380ec-c4c3-4c0e-bb11-ecb98b79239b"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"68dcf556-0f1d-4f12-8a9d-d9bb56268148","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"949380ec-c4c3-4c0e-bb11-ecb98b79239b","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"9e5ef3ad-4a2d-4c43-a9f9-cbb480c7c779","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["949380ec-c4c3-4c0e-bb11-ecb98b79239b","http://cli_test_sp_with_kv_new_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 14:59:59 GMT
      duration:
      - '3265965'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/68dcf556-0f1d-4f12-8a9d-d9bb56268148/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - iDfCjbPHceml4blFYegpOKKZrfieP3629W6dPiqX2YM=
      ocp-aad-session-key:
      - mdaCXVUQJdjTlLDWGqpqzhmS3kGAka9zZAEqjkMgfjQ8uB_Zon80qWblmJ1CSkietGLrulmhcdAuQzc-BAvQaXh6dCRjV6Wi0aP47JbKD1fqcyHkhj18p5qQI1G0KPtLvpjlNu7IGlzz89nQpNMPsBp3-u2Teylr7emGvMT-UY8.OTixtilYUFJiYRVYBCIpR2-7DHZ8uQT7XBX-AKE0OtU
      pragma:
      - no-cache
      request-id:
      - 8271ec63-a3e1-450d-a3ff-f81a945299ae
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.52.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-08-14T20:15:12.5169529Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '875'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "68dcf556-0f1d-4f12-8a9d-d9bb56268148"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.52.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"68dcf556-0f1d-4f12-8a9d-d9bb56268148","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","createdOn":"2020-09-04T15:00:02.7433718Z","updatedOn":"2020-09-04T15:00:02.7433718Z","createdBy":null,"updatedBy":"181c08fa-7ac8-48a6-a869-342ab74566a4"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000002"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/fbb91b7371604233b0c0e1731a869cd6","kid":"https://test-new-kv-cert000002.vault.azure.net/keys/cert1/fbb91b7371604233b0c0e1731a869cd6","sid":"https://test-new-kv-cert000002.vault.azure.net/secrets/cert1/fbb91b7371604233b0c0e1731a869cd6","x5t":"c3QruNVoDhrlfLPBFkQ-JjoR0JA","cer":"MIIDQDCCAiigAwIBAgIQDpSaclkLQDWR4/gVUFGztjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA0MTQ0OTUwWhcNMjExMDA0MTQ1OTUwWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCre7Kr/fteDDMSit7AOHP4bwneyVLOa/IZrnhhn0Oxo2ReOVplxG4Iuyty8n2Mg/YezXNpqEdDAvuv1FHoWCEgWbZgHQj67AtDgdLUdXqn83jVGakHoTIdEjvz1PQLm2PqK7ehYLxKxdikYdovXGHu3k2OhmClUtyja2qsYYbrAwm0P/4Zm6sLP8KMhDsClF5Qno1u73kebB9qAFZFbD54xtQ4tjXNrxOTVqm9fmWPcyHOkNOQWRv+RbWRIy1piL5EyB4Uny3H3jOWCuVGk+RjDlor+dNADnPaV8GgKyDIuEzIriQajURIHqFvQLtuCZKEFFJs+wp25JH30eGdTottAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBR9sj4wllmHvtyiTozGGFHj6zq5TzAdBgNVHQ4EFgQUfbI+MJZZh77cok6MxhhR4+s6uU8wDQYJKoZIhvcNAQELBQADggEBAKfENaJGaixWT0Q16zkSyKfmCjTd5wqcaC54wiL8+Pg2mbxggDlI4oUAQTPWdDuX1UK5aQRpWBPJswWITgF8I5E6JkWFhwHKAO23FjWmvNpqYLLE1mHVlK8Mi5I/QwBIK4Vlo96fDdN2ehgPNL0pXICS70QtTLArykLahJ/EoaWNoBlaUhJr5/5zrvlJTQgViO+/WZHduNUC7wfzd0uvJO5Kl/MboSJ8+HNWuiXKViCAmHsS4M0kp6CzUDfblnmpp/v+5oNBpznqpP8lQLQX5FNg5E8UCgEwdPXWYUYqbDoACl+6HJXZaNX8E8S1r887BDLABrTPjkzHIyfz94wAh0o=","attributes":{"enabled":true,"nbf":1599230990,"exp":1633359590,"created":1599231590,"updated":1599231590,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599231572,"updated":1599231572}},"pending":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"68dcf556-0f1d-4f12-8a9d-d9bb56268148","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"949380ec-c4c3-4c0e-bb11-ecb98b79239b","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"9e5ef3ad-4a2d-4c43-a9f9-cbb480c7c779","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_new_cert000001","949380ec-c4c3-4c0e-bb11-ecb98b79239b"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2157'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 15:00:07 GMT
      duration:
      - '2359024'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - qftXp5zc6ydbQAq8Ev582RPlrRAnvm1DC9BwcgegNJ8=
      ocp-aad-session-key:
      - ma4pZ3l4qQnwOtzM-VpZYo02qp_g6DOyCAqwdf_8NUd8xxyhoAEWJTRUJE-ajWyIJWgDJmocf_ABasXeKENVxGIGUF5FTl5ZtHRH9tJWDkk_gdiGenRkzVqoJXWeJOEsDOPsP75u8i4LjMns2-fKn2jmJiS_yih7LlwryDu3fZA.IPz9e90yaLGvLfe4VEhmuxAiY1CJ9d05DzR01cXmvts
      pragma:
      - no-cache
      request-id:
      - af2b0cf7-b0ec-468d-b53b-cafd5e38b35a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27949380ec-c4c3-4c0e-bb11-ecb98b79239b%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 15:00:08 GMT
      duration:
      - '2200209'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - r4tEev3be7u87PpO7+VPxPcExk2Mrz1MtcoSUZnMit4=
      ocp-aad-session-key:
      - InbxYJfhN43jBySHBDzg8gNjJ5bM0xa_tPKx_QhYWdEVYVsxQZfNu1rjoR60Ogt-TpbJeEU9n4pZNZO4IXy6HZkneN-7iXjGZPVhxnSv89ScsOC7mx7F7v-aUqeUYNCEf9GOMch5Slg4hsnTMtILAx4Ro4f6MeSMvsMhF4RngI0.UJtl-9oCpIFwQYkjNLEOKaYvClTXquSoxDYHbzSmikQ
      pragma:
      - no-cache
      request-id:
      - 597c3941-8d19-476b-b869-3acd3ec36d78
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27949380ec-c4c3-4c0e-bb11-ecb98b79239b%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"758eb721-acbe-4288-9e8b-92e61b408972","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"949380ec-c4c3-4c0e-bb11-ecb98b79239b","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"73742BB8D5680E1AE57CB3C116443E263A11D090","endDate":"2021-09-04T14:59:29.405617Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2020-09-04T14:59:29.405617Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"9e5ef3ad-4a2d-4c43-a9f9-cbb480c7c779","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 15:00:09 GMT
      duration:
      - '2385457'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 20Sx+2KAbblHDUuT7nG4FjJAtxjUB+idh3+LFV6WoA4=
      ocp-aad-session-key:
      - n62ECyMsqwRcUk6-kWkNe5_zKSXvoXS56lxSoaDuFv1fAxzI3v2RXkMDTXPyjca6lQvf5_GKDqEgplBrJGrjJ_vOhnEd_14wR-7gRCYTS2lEwLvO1ro2LZtms9ETL_HqpTQ5nKVH7zw3T6uxSIY3U2h4PcSyUhtTEsXm_iQvx-U.KT6deKHMAjKtgwAAzznUC-2UUxokkly9mA8yUeZqsaE
      pragma:
      - no-cache
      request-id:
      - c537d712-0b7c-4471-a52c-78fb8beb8021
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/758eb721-acbe-4288-9e8b-92e61b408972?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"758eb721-acbe-4288-9e8b-92e61b408972","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"949380ec-c4c3-4c0e-bb11-ecb98b79239b","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"73742BB8D5680E1AE57CB3C116443E263A11D090","endDate":"2021-09-04T14:59:29.405617Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2020-09-04T14:59:29.405617Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"9e5ef3ad-4a2d-4c43-a9f9-cbb480c7c779","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 15:00:10 GMT
      duration:
      - '2806265'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - qt/BxpwlIdcBLhm3Pi2n0N5XbbDONRbMh9OSScb48o4=
      ocp-aad-session-key:
      - 2dWnQqHHqyl25IYaNNzj0yG1xtmWFlMNlXZdnsdqVC7Se3Q7i_tqr_xZe6wUUZKq7lNNY5wDaD6f7zqmeaMrAW7gGV21O1p_MnFRHwih1_56ep5RS-c2MMo3jjYH9695ruHJ9c-CxKIGDVgZciFj-tSGFVtGjuUzvZd8m-BHtIs.4n2HiE7sSu3IrKMfkoBxrkI7rbwrwPJcZHSYJqqU99o
      pragma:
      - no-cache
      request-id:
      - aad2904a-622c-4075-8b97-3ab22c7dc25b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"dd36dcaeddf04b52b2f8818562bd7b75"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:12 GMT
      expires:
      - '-1'
      location:
      - https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=dd36dcaeddf04b52b2f8818562bd7b75
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"dd36dcaeddf04b52b2f8818562bd7b75"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"dd36dcaeddf04b52b2f8818562bd7b75"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3uyq/37XgwzEorewDhz+G8J3slSzmvyGa54YZ9DsaNkXjlaZcRuCLsrcvJ9jIP2Hs1zaahHQwL7r9RR6FghIFm2YB0I+uwLQ4HS1HV6p/N41RmpB6EyHRI789T0C5tj6iu3oWC8SsXYpGHaL1xh7t5NjoZgpVLco2tqrGGG6wMJtD/+GZurCz/CjIQ7ApReUJ6Nbu95HmwfagBWRWw+eMbUOLY1za8Tk1apvX5lj3MhzpDTkFkb/kW1kSMtaYi+RMgeFJ8tx94zlgrlRpPkYw5aK/nTQA5z2lfBoCsgyLhMyK4kGo1ESB6hb0C7bgmShBRSbPsKduSR99HhnU6LbQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABaVSwREagEJxEyPkM7wKCFJqOm1EgDkTxs4l1h78AGOmCu5UhLsYNnJEEnrja8Z6TyAq4/teKFOQxDv7Ga65pGqjEJq51EcGt7hVlucghfC+SSFxrIznjD5w03plWjE97nolwdtZswMIzNcMDXdrFVi93G6l5JpxiCfysdTLIJi64G0gftGDwA613n1aMKyzPuw3GtpX5Vv274gOMlLLAeOU+VIffTaqltBGydFSgv12p0vdHDkdWMnHfszMdppzA4lvxbzNfSYokKKDO2/xX+kYEfNH4ziL6WlK30fvSAiJOFLE3yzwznXFpFW0wjv1Kjxf9zJzyoxw3fmeAhD34U=","cancellation_requested":false,"status":"completed","target":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1","request_id":"dd36dcaeddf04b52b2f8818562bd7b75"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/11fdff6b2a47428c84695deeab93a83a","kid":"https://test-new-kv-cert000002.vault.azure.net/keys/cert1/11fdff6b2a47428c84695deeab93a83a","sid":"https://test-new-kv-cert000002.vault.azure.net/secrets/cert1/11fdff6b2a47428c84695deeab93a83a","x5t":"MziaRswWOXiT1yDByQ_HprkzgOg","cer":"MIIDQDCCAiigAwIBAgIQcraLAzqlR2a1g+pRM9e9aDANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA0MTQ1MDIzWhcNMjExMDA0MTUwMDIzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCre7Kr/fteDDMSit7AOHP4bwneyVLOa/IZrnhhn0Oxo2ReOVplxG4Iuyty8n2Mg/YezXNpqEdDAvuv1FHoWCEgWbZgHQj67AtDgdLUdXqn83jVGakHoTIdEjvz1PQLm2PqK7ehYLxKxdikYdovXGHu3k2OhmClUtyja2qsYYbrAwm0P/4Zm6sLP8KMhDsClF5Qno1u73kebB9qAFZFbD54xtQ4tjXNrxOTVqm9fmWPcyHOkNOQWRv+RbWRIy1piL5EyB4Uny3H3jOWCuVGk+RjDlor+dNADnPaV8GgKyDIuEzIriQajURIHqFvQLtuCZKEFFJs+wp25JH30eGdTottAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBR9sj4wllmHvtyiTozGGFHj6zq5TzAdBgNVHQ4EFgQUfbI+MJZZh77cok6MxhhR4+s6uU8wDQYJKoZIhvcNAQELBQADggEBAJh9a1ipTwiwotscgjI9AljYfReuSRq+LVdGRjl3Ck+rSRe/ESbBz64QuBPZmVd4Eoqmo5w6yLGsSzhwgMzCy/Y4LhYKQ4F6pEleU3gmf9Mwb+slPxUqxz1q9s/NZ0d3ceosxxB88ZRFLyte+waMUW8xneWRroB/313P1Qe6H4SoXPZ1pCMZGewXXTwA8hmfVQ0q/faUjAk7XTjz4rTV63LztXgnpNZGNlBQGstupLuJq5h0QBfb3/W0pv8KKSDViqRxJ8uzMzJNx0GEtwwzpdZwyT+I+5eVgFTGAio7ShAxmAEaHO//jAGJNnIdra3v/G0JPdrI1Mx16X2U4G/R+qc=","attributes":{"enabled":true,"nbf":1599231023,"exp":1633359623,"created":1599231623,"updated":1599231623,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599231572,"updated":1599231612}},"pending":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2020-09-04T15:00:06.638195Z", "endDate":
      "2021-09-04T15:00:06.638195Z", "value": "MIIDQDCCAiigAwIBAgIQcraLAzqlR2a1g+pRM9e9aDANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA0MTQ1MDIzWhcNMjExMDA0MTUwMDIzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCre7Kr/fteDDMSit7AOHP4bwneyVLOa/IZrnhhn0Oxo2ReOVplxG4Iuyty8n2Mg/YezXNpqEdDAvuv1FHoWCEgWbZgHQj67AtDgdLUdXqn83jVGakHoTIdEjvz1PQLm2PqK7ehYLxKxdikYdovXGHu3k2OhmClUtyja2qsYYbrAwm0P/4Zm6sLP8KMhDsClF5Qno1u73kebB9qAFZFbD54xtQ4tjXNrxOTVqm9fmWPcyHOkNOQWRv+RbWRIy1piL5EyB4Uny3H3jOWCuVGk+RjDlor+dNADnPaV8GgKyDIuEzIriQajURIHqFvQLtuCZKEFFJs+wp25JH30eGdTottAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBR9sj4wllmHvtyiTozGGFHj6zq5TzAdBgNVHQ4EFgQUfbI+MJZZh77cok6MxhhR4+s6uU8wDQYJKoZIhvcNAQELBQADggEBAJh9a1ipTwiwotscgjI9AljYfReuSRq+LVdGRjl3Ck+rSRe/ESbBz64QuBPZmVd4Eoqmo5w6yLGsSzhwgMzCy/Y4LhYKQ4F6pEleU3gmf9Mwb+slPxUqxz1q9s/NZ0d3ceosxxB88ZRFLyte+waMUW8xneWRroB/313P1Qe6H4SoXPZ1pCMZGewXXTwA8hmfVQ0q/faUjAk7XTjz4rTV63LztXgnpNZGNlBQGstupLuJq5h0QBfb3/W0pv8KKSDViqRxJ8uzMzJNx0GEtwwzpdZwyT+I+5eVgFTGAio7ShAxmAEaHO//jAGJNnIdra3v/G0JPdrI1Mx16X2U4G/R+qc=",
      "keyId": "88888888-0000-0000-0000-000000000003", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1335'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/758eb721-acbe-4288-9e8b-92e61b408972?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 04 Sep 2020 15:00:31 GMT
      duration:
      - '3988775'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 5aglZegLKIoSH8+p/BYGbK1SiTprU5InRiYqvkDNAcE=
      ocp-aad-session-key:
      - Q19OAMXNLfpbRBwV8PJRr9zOv8zHRwf3ZSu1PHnJ8uAjILM8XGcK_PmYd81xQ4lrx0t_VMMNxhNKILacaBG9P2V4C6gqmbgzsArS-yUKK1YQXR7PBnFr82WUdRyGLo_tNpoc7UngYpdMR4DJDpXwi-U-0mqF-9H3tPPb9wVx97U.AEbqWvAyRb_p6uAMZ4vncSEs9GslRbtIKc3N5dOVedI
      pragma:
      - no-cache
      request-id:
      - 5180ca0b-3d04-42ef-8d4d-bb3d4ae6acd7
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/11fdff6b2a47428c84695deeab93a83a","kid":"https://test-new-kv-cert000002.vault.azure.net/keys/cert1/11fdff6b2a47428c84695deeab93a83a","sid":"https://test-new-kv-cert000002.vault.azure.net/secrets/cert1/11fdff6b2a47428c84695deeab93a83a","x5t":"MziaRswWOXiT1yDByQ_HprkzgOg","cer":"MIIDQDCCAiigAwIBAgIQcraLAzqlR2a1g+pRM9e9aDANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA0MTQ1MDIzWhcNMjExMDA0MTUwMDIzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCre7Kr/fteDDMSit7AOHP4bwneyVLOa/IZrnhhn0Oxo2ReOVplxG4Iuyty8n2Mg/YezXNpqEdDAvuv1FHoWCEgWbZgHQj67AtDgdLUdXqn83jVGakHoTIdEjvz1PQLm2PqK7ehYLxKxdikYdovXGHu3k2OhmClUtyja2qsYYbrAwm0P/4Zm6sLP8KMhDsClF5Qno1u73kebB9qAFZFbD54xtQ4tjXNrxOTVqm9fmWPcyHOkNOQWRv+RbWRIy1piL5EyB4Uny3H3jOWCuVGk+RjDlor+dNADnPaV8GgKyDIuEzIriQajURIHqFvQLtuCZKEFFJs+wp25JH30eGdTottAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBR9sj4wllmHvtyiTozGGFHj6zq5TzAdBgNVHQ4EFgQUfbI+MJZZh77cok6MxhhR4+s6uU8wDQYJKoZIhvcNAQELBQADggEBAJh9a1ipTwiwotscgjI9AljYfReuSRq+LVdGRjl3Ck+rSRe/ESbBz64QuBPZmVd4Eoqmo5w6yLGsSzhwgMzCy/Y4LhYKQ4F6pEleU3gmf9Mwb+slPxUqxz1q9s/NZ0d3ceosxxB88ZRFLyte+waMUW8xneWRroB/313P1Qe6H4SoXPZ1pCMZGewXXTwA8hmfVQ0q/faUjAk7XTjz4rTV63LztXgnpNZGNlBQGstupLuJq5h0QBfb3/W0pv8KKSDViqRxJ8uzMzJNx0GEtwwzpdZwyT+I+5eVgFTGAio7ShAxmAEaHO//jAGJNnIdra3v/G0JPdrI1Mx16X2U4G/R+qc=","attributes":{"enabled":true,"nbf":1599231023,"exp":1633359623,"created":1599231623,"updated":1599231623,"recoveryLevel":"Recoverable+Purgeable"},"policy":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599231572,"updated":1599231612}},"pending":{"id":"https://test-new-kv-cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Sep 2020 15:00:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.63;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"758eb721-acbe-4288-9e8b-92e61b408972","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"949380ec-c4c3-4c0e-bb11-ecb98b79239b","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"33389A46CC16397893D720C1C90FC7A6B93380E8","endDate":"2021-09-04T15:00:06.638195Z","keyId":"88888888-0000-0000-0000-000000000003","startDate":"2020-09-04T15:00:06.638195Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/758eb721-acbe-4288-9e8b-92e61b408972/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"9e5ef3ad-4a2d-4c43-a9f9-cbb480c7c779","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 04 Sep 2020 15:00:35 GMT
      duration:
      - '2239365'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 6sefrbwjEnLiuPVqSE8CNdgE3jZeyuKw+YvzR5MjvEY=
      ocp-aad-session-key:
      - CrEpvhQuqYSGeTULLMR10GSyfXRGTxgYwTsq9Gz3pV3YUZsAKU6GrlJRctgu9ef8DhA9Vr0bixI15gIDWNlxZ1QiZ1vjNPQ3huNAsTZS2cvGh-pMNatGHN496uzR2WRoriRAHVwYdxeXCMlxZ87Jfe8C6ZF2XwYrOEuvqQB47Vs.pD9jjbsBnrYZbqa96lQ2L1cdtSvJgG6qXvcTaAQaPOQ
      pragma:
      - no-cache
      request-id:
      - 5549b727-c4f8-4072-bfbd-c3b13227f33d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1 (MSI)
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/758eb721-acbe-4288-9e8b-92e61b408972?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 04 Sep 2020 15:00:36 GMT
      duration:
      - '4373411'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 3rF5dNvuHO6o1tAJ9yOBRpCQjpIX3MtrAUMmsK1IkuE=
      ocp-aad-session-key:
      - 2gSXkY4wbqGyk20vUXRLXW1kR0ZvqDgjelXmdAvsB2M-Ia3ISRCAKNsP8M6hGd5_YzB2wuIRu2gWaYfw5wx6EkGJLgtoxY8xTPKkQ4JksoF5Oo-4KrmD8gkUHur9MOcbPOZAM1iFJurWFAYIHmL0r1m11Xsd5HOVaJTkrUj6oyY.g1NrKYWKRDjiUTpeyZegBrYra3thgjqR1KaBBrS8SHA
      pragma:
      - no-cache
      request-id:
      - f25498ba-702a-465d-98ba-52aabe13f1e8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
