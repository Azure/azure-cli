interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-06-21T18:29:11Z"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group create
      Connection:
      - keep-alive
      Content-Length:
      - '110'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --location --name --tag
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","name":"cli_test_sp_with_kv_existing_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-06-21T18:29:11Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"a1239024-a78f-4b62-a84e-3119f8924ffb","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[{"disabledPlans":["c4801e8a-cb58-4c35-aca6-f2dcc106f287","0898bdbb-73b0-471a-81e5-20f1fe4dd66e","617b097b-4b93-4ede-83de-5f075bb5fb2f","4a51bca5-1eff-43f5-878c-177680f191af","efb0351d-3b08-4503-993d-383af8de41e3","5136a095-5cf0-4aff-bec3-e84448b38ea5","33c4f319-9bdd-48d6-9c4d-410b750a4a5a","4828c8ec-dc2e-4779-b502-87ac9ce28ab7","3e26ee1f-8a5f-4d52-aee2-b81ce45c8f40"],"skuId":"c7df2760-2c81-4ef7-b578-5b5392b571df"},{"disabledPlans":["39b5c996-467e-4e60-bd62-46066f572726"],"skuId":"90d8b3f8-712e-4f7b-aa1e-62e7ae6cbe96"},{"disabledPlans":["e95bec33-7c88-4a70-8e19-b10bd9d0c014","5dbe027f-2339-4123-9542-606e4d348a72"],"skuId":"09015f9f-377f-4538-bbb5-f75ceb09358a"},{"disabledPlans":[],"skuId":"f30db892-07e9-47e9-837c-80727f46fd3d"},{"disabledPlans":[],"skuId":"26a18e8f-4d14-46f8-835a-ed3ba424a961"},{"disabledPlans":[],"skuId":"412ce1a7-a499-41b3-8eb6-b38f2bbc5c3f"},{"disabledPlans":[],"skuId":"488ba24a-39a9-4473-8ee5-19291e71b002"},{"disabledPlans":[],"skuId":"b05e124f-c7cc-45a0-a6aa-8cf78c946968"},{"disabledPlans":["0b03f40b-c404-40c3-8651-2aceb74365fa","b650d915-9886-424b-a08d-633cede56f57","e95bec33-7c88-4a70-8e19-b10bd9d0c014","5dbe027f-2339-4123-9542-606e4d348a72","fe71d6c3-a2ea-4499-9778-da042bf08063","fafd7243-e5c1-4a3a-9e40-495efcb1d3c3"],"skuId":"ea126fc5-a19e-42e2-a731-da9d437bffcf"},{"disabledPlans":[],"skuId":"c5928f49-12ba-48f7-ada3-0d743a3601d5"}],"assignedPlans":[{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"fe71d6c3-a2ea-4499-9778-da042bf08063"},{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"e95bec33-7c88-4a70-8e19-b10bd9d0c014"},{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"5dbe027f-2339-4123-9542-606e4d348a72"},{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"fafd7243-e5c1-4a3a-9e40-495efcb1d3c3"},{"assignedTimestamp":"2019-05-23T14:27:34Z","capabilityStatus":"Enabled","service":"DYN365AISERVICEINSIGHTS","servicePlanId":"1412cdc1-d593-4ad1-9050-40c30ad0b023"},{"assignedTimestamp":"2019-05-10T02:07:48Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"199a5c09-e0ca-4e37-8f7c-b05d533e1ea2"},{"assignedTimestamp":"2019-04-02T19:20:12Z","capabilityStatus":"Enabled","service":"ProjectProgramsAndPortfolios","servicePlanId":"818523f5-016b-4355-9be8-ed6944946ea7"},{"assignedTimestamp":"2019-04-02T19:20:12Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"fa200448-008c-4acb-abd4-ea106ed2199d"},{"assignedTimestamp":"2019-04-02T19:20:12Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"50554c47-71d9-49fd-bc54-42a2765c555c"},{"assignedTimestamp":"2018-11-13T18:49:58Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"50e68c76-46c6-4674-81f9-75456511b170"},{"assignedTimestamp":"2018-11-13T18:49:58Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"17ab22cd-a0b3-4536-910a-cb6eb12696c0"},{"assignedTimestamp":"2018-09-24T17:03:22Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"018fb91e-cee3-418c-9063-d7562978bdaf"},{"assignedTimestamp":"2018-09-24T17:03:20Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"ca4be917-fbce-4b52-839e-6647467a1668"},{"assignedTimestamp":"2018-09-24T17:03:19Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"b1188c4c-1b36-4018-b48b-ee07604f6feb"},{"assignedTimestamp":"2018-09-24T17:03:19Z","capabilityStatus":"Deleted","service":"MicrosoftCommunicationsOnline","servicePlanId":"4828c8ec-dc2e-4779-b502-87ac9ce28ab7"},{"assignedTimestamp":"2018-09-24T17:03:19Z","capabilityStatus":"Deleted","service":"MicrosoftCommunicationsOnline","servicePlanId":"3e26ee1f-8a5f-4d52-aee2-b81ce45c8f40"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Enabled","service":"Sway","servicePlanId":"a23b959c-7ce8-4e57-9140-b90eb88a9e97"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"bea4c11e-220a-4e6d-8eb8-8ea15d019f90"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"6c57d4b6-3b23-47a5-9bc9-69f17b4947b3"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Deleted","service":"OfficeForms","servicePlanId":"159f4cd6-e380-449f-a816-af1a9ef76344"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"2bdbaf8f-738f-4ac7-9234-3c3ee2ce7d0f"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Deleted","service":"SharePoint","servicePlanId":"2125cfd7-2110-4567-83c4-c1cd5275163d"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"da792a53-cbc0-4184-a10d-e544dd34b3c1"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Deleted","service":"SharePoint","servicePlanId":"c4048e79-4474-4c74-ba9b-c31ff225e511"},{"assignedTimestamp":"2018-03-22T06:47:29Z","capabilityStatus":"Deleted","service":"MicrosoftStream","servicePlanId":"acffdce6-c30f-4dc2-81c0-372e33c515ec"},{"assignedTimestamp":"2018-03-17T13:37:22Z","capabilityStatus":"Enabled","service":"WindowsDefenderATP","servicePlanId":"871d91ec-ec1a-452b-a83f-bd76c7d770ef"},{"assignedTimestamp":"2018-03-17T13:37:22Z","capabilityStatus":"Enabled","service":"AzureAdvancedThreatAnalytics","servicePlanId":"14ab5db5-e6c4-4b20-b4bc-13e36fd2227f"},{"assignedTimestamp":"2018-03-17T13:37:22Z","capabilityStatus":"Enabled","service":"Windows","servicePlanId":"e7c91390-7625-45be-94e0-e16907e03118"},{"assignedTimestamp":"2018-01-09T08:57:59Z","capabilityStatus":"Enabled","service":"ProjectWorkManagement","servicePlanId":"b737dad2-2f6c-4c65-90e3-ca563267e8b9"},{"assignedTimestamp":"2018-01-01T02:18:57Z","capabilityStatus":"Enabled","service":"AADPremiumService","servicePlanId":"41781fb2-bc02-4b7c-bd55-b576c07bb09d"},{"assignedTimestamp":"2018-01-01T02:18:57Z","capabilityStatus":"Enabled","service":"MultiFactorService","servicePlanId":"8a256a2b-b617-496d-b51b-e76466e88db0"},{"assignedTimestamp":"2017-12-31T11:40:38Z","capabilityStatus":"Deleted","service":"Adallom","servicePlanId":"932ad362-64a8-4783-9106-97849a1a30b9"},{"assignedTimestamp":"2017-12-16T05:25:47Z","capabilityStatus":"Enabled","service":"To-Do","servicePlanId":"3fb82609-8c27-4f7b-bd51-30634711ee67"},{"assignedTimestamp":"2017-12-16T05:25:47Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"5689bec4-755d-4753-8b61-40975025187c"},{"assignedTimestamp":"2017-12-16T05:25:47Z","capabilityStatus":"Enabled","service":"Adallom","servicePlanId":"2e2ddb96-6af9-4b1d-a3f0-d6ecfd22edb2"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"Adallom","servicePlanId":"8c098270-9dd4-4350-9b30-ba4703f3b36b"},{"assignedTimestamp":"2017-10-07T04:08:23Z","capabilityStatus":"Enabled","service":"Netbreeze","servicePlanId":"03acaee3-9492-4f40-aed4-bcb6b32981b6"},{"assignedTimestamp":"2017-10-07T04:08:23Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"d56f3deb-50d8-465a-bedb-f079817ccac1"},{"assignedTimestamp":"2017-08-13T12:28:53Z","capabilityStatus":"Enabled","service":"OfficeForms","servicePlanId":"e212cbc7-0961-4c40-9825-01117710dcb1"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"MicrosoftCommunicationsOnline","servicePlanId":"27216c54-caf8-4d0d-97e2-517afb5c08f6"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"ProcessSimple","servicePlanId":"76846ad7-7776-4c40-a281-a386362dd1b9"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"TeamspaceAPI","servicePlanId":"57ff2da0-773e-42df-b2af-ffb7a2317929"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"PowerAppsService","servicePlanId":"c68f8d98-5534-41c8-bf36-22fa496fa792"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"Deskless","servicePlanId":"8c7d2df8-86f0-4902-b2ed-a0458298f3b3"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"43de0ff5-c92c-492b-9116-175376d08c38"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"YammerEnterprise","servicePlanId":"7547a3fe-08ee-4ccb-b430-5077c5041653"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"efb87545-963c-4e0d-99df-69c6916d9eb0"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"MicrosoftStream","servicePlanId":"9e700747-8b1d-45e5-ab8d-ef187ceec156"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"0feaeb32-d00e-4d66-bd5a-43b5b83db82c"},{"assignedTimestamp":"2017-06-11T01:38:05Z","capabilityStatus":"Enabled","service":"MicrosoftStream","servicePlanId":"6c6042f5-6f01-4d67-b8c1-eb99d36eed3e"},{"assignedTimestamp":"2017-06-11T01:38:05Z","capabilityStatus":"Enabled","service":"AADPremiumService","servicePlanId":"eec0eb4f-6444-4f95-aba0-50c24d67f998"},{"assignedTimestamp":"2017-06-11T01:38:05Z","capabilityStatus":"Enabled","service":"SCO","servicePlanId":"c1ec4a95-1f05-45b3-a911-aa3fa01094f5"},{"assignedTimestamp":"2017-05-13T03:49:31Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"8e0c0a52-6a6c-4d40-8370-dd62790dcd70"},{"assignedTimestamp":"2016-12-14T10:51:56Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"07699545-9485-468e-95b6-2fca3738be01"},{"assignedTimestamp":"2016-12-14T10:51:56Z","capabilityStatus":"Enabled","service":"PowerAppsService","servicePlanId":"9c0dab89-a30c-4117-86e7-97bda240acd2"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"PowerBI","servicePlanId":"70d33638-9c74-4d01-bfd3-562de28bd4ba"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"34c0d7a0-a70f-4668-9238-47f9fc208882"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"9f431833-0334-42de-a7dc-70aa40db46db"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"4de31727-a228-4ec3-a5bf-8e45b5ca48cc"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Deleted","service":"PowerBI","servicePlanId":"fc0a60aa-feee-4746-a0e3-aecfe81a38dd"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Deleted","service":"AzureAnalysis","servicePlanId":"2049e525-b859-401b-b2a0-e0a31c4b1fe4"},{"assignedTimestamp":"2016-02-26T23:00:35Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"663a804f-1c30-4ff0-9915-9db84f0d1cea"}],"city":"REDMOND","companyName":"MICROSOFT","consentProvidedForMinor":null,"country":null,"createdDateTime":null,"creationType":null,"department":"Azure
        and Web COGS 1010 US","dirSyncEnabled":true,"displayName":"Travis Prescott","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"Travis","immutableId":"1002380","isCompromised":null,"jobTitle":"SOFTWARE
        ENGINEER II","lastDirSyncTime":"2019-05-31T17:03:21Z","legalAgeGroupClassification":null,"mail":"trpresco@microsoft.com","mailNickname":"trpresco","mobile":null,"onPremisesDistinguishedName":"CN=Travis
        Prescott,OU=UserAccounts,DC=redmond,DC=corp,DC=microsoft,DC=com","onPremisesSecurityIdentifier":"S-1-5-21-2127521184-1604012920-1887927527-20039400","otherMails":[],"passwordPolicies":"DisablePasswordExpiration","passwordProfile":null,"physicalDeliveryOfficeName":"18/3200FL","postalCode":null,"preferredLanguage":null,"provisionedPlans":[{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"Adallom"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"Netbreeze"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftOffice"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftOffice"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftOffice"}],"provisioningErrors":[],"proxyAddresses":["X500:/o=MMS/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=f090f69a03ec4c0883b09aba05bc0e7f-Travis
        Prescoefc91e9","SMTP:trpresco@microsoft.com","smtp:trpresco@service.microsoft.com","smtp:trpresco@microsoft.onmicrosoft.com","X500:/o=microsoft/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=Travis Prescott930","X500:/o=Nokia/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=Travis Prescotte5c","X500:/o=microsoft/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=Travis Prescottf88","X500:/o=microsoft/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=31c24bdc1fc944a694953dfc8ed1db9e-Travis
        Prescot","X500:/o=ExchangeLabs/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=2ba2598701d14f2684d504228fa7f530-Travis
        Pres"],"refreshTokensValidFromDateTime":"2019-05-31T16:44:26Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":"trpresco@microsoft.com","state":null,"streetAddress":null,"surname":"Prescott","telephoneNumber":"+1
        (425) 7071057","thumbnailPhoto@odata.mediaEditLink":"directoryObjects/a1239024-a78f-4b62-a84e-3119f8924ffb/Microsoft.DirectoryServices.User/thumbnailPhoto","usageLocation":"US","userIdentities":[],"userPrincipalName":"trpresco@microsoft.com","userState":null,"userStateChangedOn":null,"userType":"Member","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToPersonnelNbr":"138058","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToFullName":"Wang,
        Yugang","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToEmailName":"YUGANGW","extension_18e31482d3fb4a8ea958aa96b662f508_SupervisorInd":"N","extension_18e31482d3fb4a8ea958aa96b662f508_ProfitCenterCode":"P10130001","extension_18e31482d3fb4a8ea958aa96b662f508_CostCenterCode":"10130001","extension_18e31482d3fb4a8ea958aa96b662f508_PositionNumber":"4664","extension_18e31482d3fb4a8ea958aa96b662f508_ZipCode":"98052","extension_18e31482d3fb4a8ea958aa96b662f508_StateProvinceCode":"WA","extension_18e31482d3fb4a8ea958aa96b662f508_CountryShortCode":"US","extension_18e31482d3fb4a8ea958aa96b662f508_CityName":"REDMOND","extension_18e31482d3fb4a8ea958aa96b662f508_BuildingName":"18","extension_18e31482d3fb4a8ea958aa96b662f508_BuildingID":"17","extension_18e31482d3fb4a8ea958aa96b662f508_AddressLine1":"1
        Microsoft Way","extension_18e31482d3fb4a8ea958aa96b662f508_PersonnelNumber":"1002380","extension_18e31482d3fb4a8ea958aa96b662f508_CompanyCode":"1010","extension_18e31482d3fb4a8ea958aa96b662f508_LocationAreaCode":"US"}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '17278'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:29:13 GMT
      duration:
      - '3114696'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 8b/Ht2S1JqSnD0uF+3TSXMqw6CMlMu8U0UwicIuMm2g=
      ocp-aad-session-key:
      - Ra26dtSFH1-Pgk-YH6droJpQ2yJ1ax8v7JOAO-fQcuRnpI-r1xCciEeLFEfq99w1McuJzdToe2mWjoGsG-HfF8fQqdCi1IEaa2pbH5YHHkKZJMGkPQharU5VjywIKdzgXv0LVK_vkq3iyd3d5xVPEA.t0oqgqj00jYoh15GMBOSUBoxOzWPZZqEcfPIf5hF-Os
      pragma:
      - no-cache
      request-id:
      - 6ddca812-ee66-4d70-8ad3-48fe44d70aa1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "a1239024-a78f-4b62-a84e-3119f8924ffb",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      Content-Length:
      - '746'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-keyvault/1.1.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2019-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"a1239024-a78f-4b62-a84e-3119f8924ffb","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.245
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-keyvault/1.1.0
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2019-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"a1239024-a78f-4b62-a84e-3119f8924ffb","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net/","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1102'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.245
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 21 Jun 2019 18:29:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 24}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '511'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA5qaemr87CgHbD57J5onVex2F4dg8fhtw02gMSsFCTUeeFi8ioORtmvV0x1IWBosvj78FrXnIAEqKL0pqvbEJDt4FAHEGSCi71WdubtmNRoqdThzY5HImdjjclYU8oZJmb2tNLYQds1FALcS7DBSYYNcJR0hsDYNfRpgTTLSPjuidjkSlEAtib9um+tdcv6uf2LCnuJkocUGQrvW8DK0sZylj+64aANEeXIOdzUrGbJknz82crLCJtGUl0DFLrZVBi8rdJI6j9xs/0+hJVJC/d5FZDUAStFmdD3HAbIBAsOgASXQzldvKRK9ZLrYaa4XLcSg6hNJfYq3sroDkUotuF","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"712ec39acbe14640aa04e2af81ac7357"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:54 GMT
      expires:
      - '-1'
      location:
      - https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=712ec39acbe14640aa04e2af81ac7357
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA5qaemr87CgHbD57J5onVex2F4dg8fhtw02gMSsFCTUeeFi8ioORtmvV0x1IWBosvj78FrXnIAEqKL0pqvbEJDt4FAHEGSCi71WdubtmNRoqdThzY5HImdjjclYU8oZJmb2tNLYQds1FALcS7DBSYYNcJR0hsDYNfRpgTTLSPjuidjkSlEAtib9um+tdcv6uf2LCnuJkocUGQrvW8DK0sZylj+64aANEeXIOdzUrGbJknz82crLCJtGUl0DFLrZVBi8rdJI6j9xs/0+hJVJC/d5FZDUAStFmdD3HAbIBAsOgASXQzldvKRK9ZLrYaa4XLcSg6hNJfYq3sroDkUotuF","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"712ec39acbe14640aa04e2af81ac7357"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA5qaemr87CgHbD57J5onVex2F4dg8fhtw02gMSsFCTUeeFi8ioORtmvV0x1IWBosvj78FrXnIAEqKL0pqvbEJDt4FAHEGSCi71WdubtmNRoqdThzY5HImdjjclYU8oZJmb2tNLYQds1FALcS7DBSYYNcJR0hsDYNfRpgTTLSPjuidjkSlEAtib9um+tdcv6uf2LCnuJkocUGQrvW8DK0sZylj+64aANEeXIOdzUrGbJknz82crLCJtGUl0DFLrZVBi8rdJI6j9xs/0+hJVJC/d5FZDUAStFmdD3HAbIBAsOgASXQzldvKRK9ZLrYaa4XLcSg6hNJfYq3sroDkUotuF","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"712ec39acbe14640aa04e2af81ac7357"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:06 GMT
      duration:
      - '808763'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 5tXUu3y+ErO1/XND1tRuShyWMEydPW/DHrlAYL3nHdc=
      ocp-aad-session-key:
      - 25-0HKjvJ-OMLQaKa6qyNol_2YDqH3InoRML8cQZf827JZyqM3Ap2cjGPnmYwMZ2rN2A82u502rGy8Ys9f5mxJfDB0roGr3PD24F_QYhzOqlT_MDRyb-kCY-8BLjOmgjWoeQD0jxbf1XBVME8ev8Ow.L2eonk4HI8mTJoTpENLwAGlXXoMQbV-RgIn_2AZO-E4
      pragma:
      - no-cache
      request-id:
      - 793ab314-e838-4aaf-8415-aa59602e7565
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/7981b3c73d584fab9b104f087b3a031b","kid":"https://clitest000002.vault.azure.net/keys/cert1/7981b3c73d584fab9b104f087b3a031b","sid":"https://clitest000002.vault.azure.net/secrets/cert1/7981b3c73d584fab9b104f087b3a031b","x5t":"RZGAltuVzEuwCerEt-L_8IIdMLc","cer":"MIIDQjCCAiqgAwIBAgIQPmUN/hl0SgGBGnbCUMBZMjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAwNFoXDTIxMDYyMTE4MzAwNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAih9x4wmvWEk92DluM7Y1mu1trEMyfapN/VcbhIm48S2jRKvwX78g6BGJXpTTKlFz4zAr1twEa1eeiZmaibMVTIWpQ1XLaMjHtshyEcV9wsusubg3TsFZGGbCHIzgeDFLLDcfCiz1dyGaLJjuHQyyOvCYVs5z0AtlCQ4ipzYEcAabJMdbtgzYcUNt82hbjJj/77KdmyOsR44C7foFOLBbBvQV0ls9GH0Pa0phQjOBh7h4eXYumYhexBhrr//DbmCKnw44A2Ivds4Dqrc0o/C4f62FuxM+0gbFP+qg06QTovkQH0G9Z6EbU/LzJ9Z/ykRb5liAK+I99RzwWxH7yl9NFg==","attributes":{"enabled":true,"nbf":1561141204,"exp":1624300204,"created":1561141804,"updated":1561141804,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141794,"updated":1561141794}},"pending":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2387'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:06 GMT
      duration:
      - '641417'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - I4v0qcnOlje1nXMrnV4NRb3YM/2Yho5JJMkIV0jxR4s=
      ocp-aad-session-key:
      - 68yTvSMlGGX0cBUfNLQQzGMBYy9CYAOPDd9QHykOoylKiastyH0DYarFwNu1eouHNchexfhLx1lu0GCIrziQwuXmEBaQaciPJB7SoPmfoscWEMuLAvO7trBMX6qyUrKI0UjJ-yv-icuI0fxGI3IaaA.HzWx8EG2u3n71kIoReMiKSHEuA-4V2A0lFmHiJME6FU
      pragma:
      - no-cache
      request-id:
      - 3af3939d-1f4c-4309-aa95-1f57f2ea0f61
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_existing_cert000001",
      "keyCredentials": [{"startDate": "2019-06-21T18:30:06.860955Z", "endDate": "2020-06-21T18:30:06.860955Z",
      "value": "MIIDQjCCAiqgAwIBAgIQPmUN/hl0SgGBGnbCUMBZMjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAwNFoXDTIxMDYyMTE4MzAwNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAih9x4wmvWEk92DluM7Y1mu1trEMyfapN/VcbhIm48S2jRKvwX78g6BGJXpTTKlFz4zAr1twEa1eeiZmaibMVTIWpQ1XLaMjHtshyEcV9wsusubg3TsFZGGbCHIzgeDFLLDcfCiz1dyGaLJjuHQyyOvCYVs5z0AtlCQ4ipzYEcAabJMdbtgzYcUNt82hbjJj/77KdmyOsR44C7foFOLBbBvQV0ls9GH0Pa0phQjOBh7h4eXYumYhexBhrr//DbmCKnw44A2Ivds4Dqrc0o/C4f62FuxM+0gbFP+qg06QTovkQH0G9Z6EbU/LzJ9Z/ykRb5liAK+I99RzwWxH7yl9NFg==",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert000001",
      "identifierUris": ["http://cli_test_sp_with_kv_existing_cert000001"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1672'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"60ba53b8-362d-45d9-ba8f-8e5e06f80636","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"fbc74fbf-472c-4a91-bcee-cc6fae73b8c5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"45918096DB95CC4BB009EAC4B7E2FFF0821D30B7","endDate":"2020-06-21T18:30:06.860955Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:30:06.860955Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"d9e67ec8-03c2-48df-a88f-17f16e1bc32a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2768'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:07 GMT
      duration:
      - '9770596'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - 9GQqI6S1ECS4j4T2qnjxLorVEkd1sq21GP7tQfmsPNE=
      ocp-aad-session-key:
      - 4JuU1hyelEeSnssXQzfifyW-srUdeBuy1t04pooNMpKGpdtBVqnpF4FhdN3EUTmS8aL3ubLcP05i3yrSfakLkjVwmIproQFMJXBU8vsAXWe6KzYSGPSEf6ffltHiduI5gjzEx7CSDTZuOxs6fz-ogg.gSAc-z5eN0gw3s4Jz7SdTzOQD-0uaNZiEzu5gyM7JCA
      pragma:
      - no-cache
      request-id:
      - c8fb216b-8be6-44cc-8a11-892952017358
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": true, "appId": "fbc74fbf-472c-4a91-bcee-cc6fae73b8c5"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"b7417b33-aff7-4f3f-af4c-87b2ae0ee4f4","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"fbc74fbf-472c-4a91-bcee-cc6fae73b8c5","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"d9e67ec8-03c2-48df-a88f-17f16e1bc32a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["fbc74fbf-472c-4a91-bcee-cc6fae73b8c5","http://cli_test_sp_with_kv_existing_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2151'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:08 GMT
      duration:
      - '4050442'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/b7417b33-aff7-4f3f-af4c-87b2ae0ee4f4/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - PWJF5MXsNJeXfk2GpX0VavQ33Q7BBlAFQ1PBOgmVl+Y=
      ocp-aad-session-key:
      - fn3-KZJCl-zG4WjOQKObQCsB0bjXB8ktJ8RkSCgHj2iDHiKGtdSARkfBWoXcFgaRHr4WvzDHOG4xOF0BDMY4uQzt2g3UMJ5UO_FAymLr7Z3nqVH8MsAuWJzWn1TBtshIiveW40Sz-ffLeP4tTwDxoA.evCEuUdjW6jlx2XcasWMtXjXhLbir69NaZO3P-t0ARo
      pragma:
      - no-cache
      request-id:
      - 9742b32f-b882-4c92-a501-78c954fd75a2
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "b7417b33-aff7-4f3f-af4c-87b2ae0ee4f4"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-09-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal b7417b33aff74f3faf4c87b2ae0ee4f4
        does not exist in the directory 72f988bf-86f1-41af-91ab-2d7cd011db47."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "b7417b33-aff7-4f3f-af4c-87b2ae0ee4f4"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-09-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal b7417b33aff74f3faf4c87b2ae0ee4f4
        does not exist in the directory 72f988bf-86f1-41af-91ab-2d7cd011db47."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "b7417b33-aff7-4f3f-af4c-87b2ae0ee4f4"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"b7417b33-aff7-4f3f-af4c-87b2ae0ee4f4","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2019-06-21T18:30:22.0155893Z","updatedOn":"2019-06-21T18:30:22.0155893Z","createdBy":null,"updatedBy":"a1239024-a78f-4b62-a84e-3119f8924ffb"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000004"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '2'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"b7417b33-aff7-4f3f-af4c-87b2ae0ee4f4","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"fbc74fbf-472c-4a91-bcee-cc6fae73b8c5","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"d9e67ec8-03c2-48df-a88f-17f16e1bc32a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert000001","fbc74fbf-472c-4a91-bcee-cc6fae73b8c5"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:24 GMT
      duration:
      - '834610'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - zZhyt14zl0OhjZk/+0wTMqtIww9oR8AMqmXQ2MnPyJw=
      ocp-aad-session-key:
      - EZxdQ5Rbk3deulVd-UAUr6InytIFGenZxbJ4waiCfnLrGMj8hiruv8FwYAvLv3Pbuj4iPqYDhEbrbhbLTKkN2cio6W65S20eHNjZDmDhfudQgR1MF8N6z28zXH6pNXqZ89wBb9wH4KFpFGoj7aOfTg._8PCBC_Kajwi-BsF3hLx4aYiFBIKnDWiixYvZ3-tgFw
      pragma:
      - no-cache
      request-id:
      - e6b5429d-da52-4e20-894a-ab245d8a6017
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27fbc74fbf-472c-4a91-bcee-cc6fae73b8c5%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:25 GMT
      duration:
      - '3781514'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - BOyHBDAxSIKAYJlLPcX4gbSnf6edPNykjDKKitPiTVQ=
      ocp-aad-session-key:
      - mt2dF_C1yxipaHIaRRJBLkQXroMv4DFanfoM5JXGk4ZI_1TXw3o9enYdaXSzXHypluFAzAnRp0EeCf4qtL27y1mSoV3IyE5hyZIATDpbQFp0JQL0K44xtS_BYFpDn_dKRg1Y8sE1gobyPFR6efgUtw.DKBH3U5VEg4w9HB1DSTP6l4dfHsL0gVA4oj5vGG_-Cw
      pragma:
      - no-cache
      request-id:
      - 1c7133ac-b2f8-4ef5-8885-7c7749601bd2
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27fbc74fbf-472c-4a91-bcee-cc6fae73b8c5%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"60ba53b8-362d-45d9-ba8f-8e5e06f80636","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"fbc74fbf-472c-4a91-bcee-cc6fae73b8c5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"45918096DB95CC4BB009EAC4B7E2FFF0821D30B7","endDate":"2020-06-21T18:30:06.860955Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:30:06.860955Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"d9e67ec8-03c2-48df-a88f-17f16e1bc32a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:25 GMT
      duration:
      - '766407'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - aLjul60AojNkmrHXU2K8UCWjsiSBDyBxA+NSaz2RTqQ=
      ocp-aad-session-key:
      - XaQift2fgc7JWr7Ix6oEZSUF2hht_auembUn1MZ15nR2YYu2Im75IvxZtudn9LqcHia20MtsvFUST2y_l4IPWqTxzPjtQ_wvs2g1rnQG9jVjjIFJ71mDm7kcOTvImSHVmbkjtUAFhRSKoTDA3gE2Tw.ekfjPuqKV4mNr3YlMeBLeIwHNQv1v-PK62G9Hutxz5s
      pragma:
      - no-cache
      request-id:
      - 8fdec5b2-01ce-44f9-b8c2-b10d4513bdfd
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/60ba53b8-362d-45d9-ba8f-8e5e06f80636?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"60ba53b8-362d-45d9-ba8f-8e5e06f80636","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"fbc74fbf-472c-4a91-bcee-cc6fae73b8c5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"45918096DB95CC4BB009EAC4B7E2FFF0821D30B7","endDate":"2020-06-21T18:30:06.860955Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:30:06.860955Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"d9e67ec8-03c2-48df-a88f-17f16e1bc32a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2682'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:25 GMT
      duration:
      - '846312'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - WiG/DPKn3noJELxY9/Bmask7Igt00cCcbhfOcH/k7Qo=
      ocp-aad-session-key:
      - 6q303QbPkl4it8JdBvNb-zope-FgnEl5vCYEAbLB4nSN4XEKdRZ1XvPdczHbGd0mYDweW5ZfxDRCaD25tKqaUmVs_D1T43696ZNhfKqEPj9P7I16h8bdhszLnEBvPJXH5pBGwMNKITd0fSOXLF8gsQ.OYENnb0xo5m19Q231B5G2_p9pfAupbo0OMVJTi0vd6Q
      pragma:
      - no-cache
      request-id:
      - 95b48e21-5960-46eb-8439-350a32779d5c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/7981b3c73d584fab9b104f087b3a031b","kid":"https://clitest000002.vault.azure.net/keys/cert1/7981b3c73d584fab9b104f087b3a031b","sid":"https://clitest000002.vault.azure.net/secrets/cert1/7981b3c73d584fab9b104f087b3a031b","x5t":"RZGAltuVzEuwCerEt-L_8IIdMLc","cer":"MIIDQjCCAiqgAwIBAgIQPmUN/hl0SgGBGnbCUMBZMjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAwNFoXDTIxMDYyMTE4MzAwNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAih9x4wmvWEk92DluM7Y1mu1trEMyfapN/VcbhIm48S2jRKvwX78g6BGJXpTTKlFz4zAr1twEa1eeiZmaibMVTIWpQ1XLaMjHtshyEcV9wsusubg3TsFZGGbCHIzgeDFLLDcfCiz1dyGaLJjuHQyyOvCYVs5z0AtlCQ4ipzYEcAabJMdbtgzYcUNt82hbjJj/77KdmyOsR44C7foFOLBbBvQV0ls9GH0Pa0phQjOBh7h4eXYumYhexBhrr//DbmCKnw44A2Ivds4Dqrc0o/C4f62FuxM+0gbFP+qg06QTovkQH0G9Z6EbU/LzJ9Z/ykRb5liAK+I99RzwWxH7yl9NFg==","attributes":{"enabled":true,"nbf":1561141204,"exp":1624300204,"created":1561141804,"updated":1561141804,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141794,"updated":1561141794}},"pending":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2387'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2019-06-21T18:30:24.885229Z", "endDate":
      "2020-06-21T18:30:24.885229Z", "value": "MIIDQjCCAiqgAwIBAgIQPmUN/hl0SgGBGnbCUMBZMjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAwNFoXDTIxMDYyMTE4MzAwNFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAih9x4wmvWEk92DluM7Y1mu1trEMyfapN/VcbhIm48S2jRKvwX78g6BGJXpTTKlFz4zAr1twEa1eeiZmaibMVTIWpQ1XLaMjHtshyEcV9wsusubg3TsFZGGbCHIzgeDFLLDcfCiz1dyGaLJjuHQyyOvCYVs5z0AtlCQ4ipzYEcAabJMdbtgzYcUNt82hbjJj/77KdmyOsR44C7foFOLBbBvQV0ls9GH0Pa0phQjOBh7h4eXYumYhexBhrr//DbmCKnw44A2Ivds4Dqrc0o/C4f62FuxM+0gbFP+qg06QTovkQH0G9Z6EbU/LzJ9Z/ykRb5liAK+I99RzwWxH7yl9NFg==",
      "keyId": "d30ba790-ae36-411f-a4c1-3b425d2c2c01", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1339'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/60ba53b8-362d-45d9-ba8f-8e5e06f80636?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:30:26 GMT
      duration:
      - '3849778'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - susOkr8YvnkWhpfwvEOXpfZ/acdphRpz4tl/Fe8Bm3M=
      ocp-aad-session-key:
      - HpVP5N6gMvbIPpudATKqrnEZzIyeC7P9xOsP5APIdCr_bGe-xmppHFMS2HeF3rekN42xTSCh5ThCdGreS4Y4LiZV1Hsxq8DqoKRQCqo-RpoiFI7h1t2igv9BTs9xV5pwjzlt46ANGcPZ3Cd2Qg2yyw.cOtkP2npxpvGPU2L5t71nWpeVK6lPKNBJBgeQ1ceZT0
      pragma:
      - no-cache
      request-id:
      - 27ee6df4-b89c-432e-bfb1-6f67679d4178
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"60ba53b8-362d-45d9-ba8f-8e5e06f80636","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"fbc74fbf-472c-4a91-bcee-cc6fae73b8c5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"45918096DB95CC4BB009EAC4B7E2FFF0821D30B7","endDate":"2020-06-21T18:30:24.885229Z","keyId":"d30ba790-ae36-411f-a4c1-3b425d2c2c01","startDate":"2019-06-21T18:30:24.885229Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/60ba53b8-362d-45d9-ba8f-8e5e06f80636/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"d9e67ec8-03c2-48df-a88f-17f16e1bc32a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:26 GMT
      duration:
      - '3896888'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - sKHAZBgGw8ZD+gPJGLEoUnxY5pfwvBzhG5jUW8+JW0w=
      ocp-aad-session-key:
      - Ueo2XJae0o66ojmjAW20gtx9bRjltpZSywQbsXol2PKAC9hML6XHaaeH9gQPmryxPijOnWzqZfrf8QLw-B7TojaXaSdNRTKC9KPrmn5UMXdVtrIwpw_434ror1cfF3FuMVe8JaFBXR47j24aGNpZmw.xcmyqRZKFfbiG5QrMbbH7SZiPEB16yKGz34EqtJCJP4
      pragma:
      - no-cache
      request-id:
      - d49e2368-54bb-444a-b849-6d2cb16f873b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/60ba53b8-362d-45d9-ba8f-8e5e06f80636?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:30:27 GMT
      duration:
      - '3658509'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - uHyVfaWnz1wZ+Kit9M+ndgirzc7H4vyg8f/Bx6SxLLI=
      ocp-aad-session-key:
      - magv1-3LTSJ8vY0dlxb29GTzABJ1ZoizXZgoxSbVvXhmTYpE4g82YOViSpEBSnc_QIdanoM-gXA8RB86Wq8uFnRlBKPR89pNWFaLiApTxA3-jUZErhwce7362qW_1HXGtJxGCYQzRhQ8chMRGlYTZg.BNur61jzycQ-MG-3XdTXQSRmEjNOb1pdiWZfXo6aiho
      pragma:
      - no-cache
      request-id:
      - 42d7d6a0-8f8b-422c-be96-48a69447d382
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 6}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '510'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA5qaemr87CgHbD57J5onVex2F4dg8fhtw02gMSsFCTUeeFi8ioORtmvV0x1IWBosvj78FrXnIAEqKL0pqvbEJDt4FAHEGSCi71WdubtmNRoqdThzY5HImdjjclYU8oZJmb2tNLYQds1FALcS7DBSYYNcJR0hsDYNfRpgTTLSPjuidjkSlEAtib9um+tdcv6uf2LCnuJkocUGQrvW8DK0sZylj+64aANEeXIOdzUrGbJknz82crLCJtGUl0DFLrZVBi8rdJI6j9xs/0+hJVJC/d5FZDUAStFmdD3HAbIBAsOgASXQzldvKRK9ZLrYaa4XLcSg6hNJfYq3sroDkUotuF","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"24ed5e475b5c45a58d27a682596fca62"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:28 GMT
      expires:
      - '-1'
      location:
      - https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=24ed5e475b5c45a58d27a682596fca62
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA5qaemr87CgHbD57J5onVex2F4dg8fhtw02gMSsFCTUeeFi8ioORtmvV0x1IWBosvj78FrXnIAEqKL0pqvbEJDt4FAHEGSCi71WdubtmNRoqdThzY5HImdjjclYU8oZJmb2tNLYQds1FALcS7DBSYYNcJR0hsDYNfRpgTTLSPjuidjkSlEAtib9um+tdcv6uf2LCnuJkocUGQrvW8DK0sZylj+64aANEeXIOdzUrGbJknz82crLCJtGUl0DFLrZVBi8rdJI6j9xs/0+hJVJC/d5FZDUAStFmdD3HAbIBAsOgASXQzldvKRK9ZLrYaa4XLcSg6hNJfYq3sroDkUotuF","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"24ed5e475b5c45a58d27a682596fca62"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQA5qaemr87CgHbD57J5onVex2F4dg8fhtw02gMSsFCTUeeFi8ioORtmvV0x1IWBosvj78FrXnIAEqKL0pqvbEJDt4FAHEGSCi71WdubtmNRoqdThzY5HImdjjclYU8oZJmb2tNLYQds1FALcS7DBSYYNcJR0hsDYNfRpgTTLSPjuidjkSlEAtib9um+tdcv6uf2LCnuJkocUGQrvW8DK0sZylj+64aANEeXIOdzUrGbJknz82crLCJtGUl0DFLrZVBi8rdJI6j9xs/0+hJVJC/d5FZDUAStFmdD3HAbIBAsOgASXQzldvKRK9ZLrYaa4XLcSg6hNJfYq3sroDkUotuF","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"24ed5e475b5c45a58d27a682596fca62"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:41 GMT
      duration:
      - '895339'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - CLBFhp12uVA5Nnh6MG2VC8aF6kYj6BwyK0Y6WAoeTzc=
      ocp-aad-session-key:
      - TMHZowmMWhV-Ffex5EvamqxYxx2WoeouCilFVhHiU-9frixkghpJ3QIfPvJeMxEMCpxrZUnnaAT9chm45fRpSe5szTON5hpA-A7pk0Vjd845KKoo3uHDiwg5LHV6bP-8UrUIlMra2UCb4RNN5CiO_Q.iE7aT18Y1KxuKeHGYLmh267rpW3tZXbCyMeuQaEzIrM
      pragma:
      - no-cache
      request-id:
      - 48b7ddc6-26a6-4b0c-a23c-a218d53fed3c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/0da818a5284b450d8388ee785bdfcf48","kid":"https://clitest000002.vault.azure.net/keys/cert1/0da818a5284b450d8388ee785bdfcf48","sid":"https://clitest000002.vault.azure.net/secrets/cert1/0da818a5284b450d8388ee785bdfcf48","x5t":"vxy8X3ka0GEev0Y5wksuBgwk3OM","cer":"MIIDQjCCAiqgAwIBAgIQcwYC1iuWRrKBRJgx4vwpBjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAzNVoXDTE5MTIyMTE4MzAzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAXr0r7UrS7wp3XU2wrhl/l78lK7gK1jrxBK20uApa15d6DwW1E3gQVHkVYG006Wd2ttDKbVEAYYik9pTKBHw/KdRGCQwwV40QPW5VomMHK2flZIC2aSctCVmsDTh5hzGDBUrvwDozFngPsSuqOO4vna2/n1xZ8C/+546cyXcO+pZyapE8cLHE8L0UvECUBLL7dBgbP2zcrr6EH/fsJ50S/nYfNzmsaZzbKivnurxVJoV828x5kgNnmE7vTQOfDK2tnFuf3t4V247S1TWh1lphs+/i+I+zSpmysv6Bysvzo8y5Rldv4MESKggSuxniSAKaLxQIo1+oBPNCnFAjpE7WAA==","attributes":{"enabled":true,"nbf":1561141235,"exp":1576953035,"created":1561141835,"updated":1561141835,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141794,"updated":1561141828}},"pending":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2386'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:41 GMT
      duration:
      - '786398'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - qg62oDc8M5MhsuZ0i0axkKSX8o9O0cpnMKv2rNkFY8w=
      ocp-aad-session-key:
      - k5Dh5NmwH3RZ_soKrZFPQlpWLWCUN4oUATwTm8J_NZVSg34yOIt6yJd42V7BuBUn0KMLMMpgieFWG4GL1a02p4UoYangbKbw9P7IPYomh6N_Nl1wQSj8Z7MWwT7SElxF5jxAd2EgWb1l-kh1677fwQ.o4_ggrDcAYCBynajmh6oaF32kG1_tDJqpuGDFv1hC_Y
      pragma:
      - no-cache
      request-id:
      - be65e400-fd16-4605-8809-afdf0f2cc840
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_existing_cert0000012",
      "keyCredentials": [{"startDate": "2019-06-21T18:30:41.236167Z", "endDate": "2019-12-21T18:30:34.000Z",
      "value": "MIIDQjCCAiqgAwIBAgIQcwYC1iuWRrKBRJgx4vwpBjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAzNVoXDTE5MTIyMTE4MzAzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAXr0r7UrS7wp3XU2wrhl/l78lK7gK1jrxBK20uApa15d6DwW1E3gQVHkVYG006Wd2ttDKbVEAYYik9pTKBHw/KdRGCQwwV40QPW5VomMHK2flZIC2aSctCVmsDTh5hzGDBUrvwDozFngPsSuqOO4vna2/n1xZ8C/+546cyXcO+pZyapE8cLHE8L0UvECUBLL7dBgbP2zcrr6EH/fsJ50S/nYfNzmsaZzbKivnurxVJoV828x5kgNnmE7vTQOfDK2tnFuf3t4V247S1TWh1lphs+/i+I+zSpmysv6Bysvzo8y5Rldv4MESKggSuxniSAKaLxQIo1+oBPNCnFAjpE7WAA==",
      "keyId": "88888888-0000-0000-0000-000000000005", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert0000012",
      "identifierUris": ["http://cli_test_sp_with_kv_existing_cert0000012"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1672'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"22602aba-3fcb-48ed-9b8e-a8b04948726b","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"1135b855-b422-4f55-b67a-77bebb479955","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"BF1CBC5F791AD0611EBF4639C24B2E060C24DCE3","endDate":"2019-12-21T18:30:34Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2019-06-21T18:30:41.236167Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"071b2ac0-4b0e-48b4-be65-06349da772bd","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2768'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:41 GMT
      duration:
      - '9156810'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - hjR4RY9nRvxALTOJY4KnXfIpjm/qwj5JntibyjsUFsE=
      ocp-aad-session-key:
      - tzkJ3bP8EyhiOhDoc3CYPnN9Pw0yfSzuINuBrxoh-5hi81BFxfWg1wkiJiludKCzw7jqCp9LOb0tP_E-O4Psxyj1VAPTje6Z5Um2M77U8DVgcZ3HkCxQGDBDePR0EU5ZDYbLYdPFbLE3tZs_vOJswQ.KbCkJXghobZ3-eFb8vOEswqKli5r7vB4juivqRWezMU
      pragma:
      - no-cache
      request-id:
      - b2f3193b-c706-4de0-aac6-b9ba94403b7a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": true, "appId": "1135b855-b422-4f55-b67a-77bebb479955"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"288586fc-9758-4b4c-ac98-a5b903902422","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"1135b855-b422-4f55-b67a-77bebb479955","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"071b2ac0-4b0e-48b4-be65-06349da772bd","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["1135b855-b422-4f55-b67a-77bebb479955","http://cli_test_sp_with_kv_existing_cert0000012"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2159'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:43 GMT
      duration:
      - '5234238'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/288586fc-9758-4b4c-ac98-a5b903902422/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - XJbTIKGdEOf1NlwmY8KyGmuB0cYYMB3F3SW245EhNiA=
      ocp-aad-session-key:
      - r6eTbpzD6QkWqb0cLmX_ZPFgqDiu99I9BwxVOkDIEX9pJJS1SnAhXp5c5oQyCXHMdH3RwdjvjjfsPutUFFGaS0qnal93I_iXzod6CXaeTAU1QREO5CdTxKrz4jBitr_mF_2hs3K0uLSmXLi6VLZ3Pw.ta9EKJ4RmXWm9Dy8LvU1Bg2N4a1Mw5A-yCNydDTR9N8
      pragma:
      - no-cache
      request-id:
      - acd3fd6d-1292-42c0-9fd7-f3e11bc11bfb
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "288586fc-9758-4b4c-ac98-a5b903902422"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000006?api-version=2018-09-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 288586fc97584b4cac98a5b903902422
        does not exist in the directory 72f988bf-86f1-41af-91ab-2d7cd011db47."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "288586fc-9758-4b4c-ac98-a5b903902422"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000007?api-version=2018-09-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 288586fc97584b4cac98a5b903902422
        does not exist in the directory 72f988bf-86f1-41af-91ab-2d7cd011db47."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "288586fc-9758-4b4c-ac98-a5b903902422"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000008?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"288586fc-9758-4b4c-ac98-a5b903902422","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2019-06-21T18:30:56.4504500Z","updatedOn":"2019-06-21T18:30:56.4504500Z","createdBy":null,"updatedBy":"a1239024-a78f-4b62-a84e-3119f8924ffb"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000008","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000008"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '2'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"288586fc-9758-4b4c-ac98-a5b903902422","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"1135b855-b422-4f55-b67a-77bebb479955","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"071b2ac0-4b0e-48b4-be65-06349da772bd","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert0000012","1135b855-b422-4f55-b67a-77bebb479955"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2162'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:58 GMT
      duration:
      - '895815'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - kU2w10RodSRmFDDKfAx6uHxQPwDam6n6u8zYQa+I0/o=
      ocp-aad-session-key:
      - ssrBQOcvLb1TZIF3oidXlMBYKrOoLuWXFnZBtVCDeu8ViuCnunPSsiaRytNj7Mw7qqPgtJmq-DbGuk0yz3qs-Xoa218s0HhWSm4aD0dIrvEwUc_JDdqUtBQzdep0V72llzckbHMHdVrsAFf1DUnK8w.ZNA0HAjfBa_glZWMDe9nkDhI2X82wVZvzmNqep-2n5w
      pragma:
      - no-cache
      request-id:
      - df07b56a-e44b-4153-84f4-70304da707df
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%271135b855-b422-4f55-b67a-77bebb479955%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:59 GMT
      duration:
      - '865007'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - DAEEhUUzhQ8pu+4OxvItbpuvqegmLWoSgzWL1kkCnyk=
      ocp-aad-session-key:
      - iB88wqtiGUsKumYxrPnY7h7YX5Ee3R0GSX50W8sBAslwWU22PmiVwrtfHsyZQDWS1By_JZ8na5shmlqripfeo4KYswiLI3wqN5jIfE43sv8Uk7uTllwkLx9l9bkTcXMDOfV6F1OSWhQyAA7oFWd91g.Cuc5r4by0lzTMneq59twGOrPqOYyvzueP38l-khf9vI
      pragma:
      - no-cache
      request-id:
      - 38504f8c-9b1f-4384-bc26-3fff961d5d94
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%271135b855-b422-4f55-b67a-77bebb479955%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"22602aba-3fcb-48ed-9b8e-a8b04948726b","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"1135b855-b422-4f55-b67a-77bebb479955","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"BF1CBC5F791AD0611EBF4639C24B2E060C24DCE3","endDate":"2019-12-21T18:30:34Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2019-06-21T18:30:41.236167Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"071b2ac0-4b0e-48b4-be65-06349da772bd","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:59 GMT
      duration:
      - '738030'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - +Vo1vaQr1J6K57B7CK/pVo20E97sFK7LOud+zxDHFNk=
      ocp-aad-session-key:
      - 9Vfr39FganVESNDvOERWMP6yOIMkFrYZAO-AhNNbx6hrgweA5pd1MdmrRUJc8-8PJKn_mK85aY67rR9syALwbOEHMuorzOn83JHbBl7aRxHZNGNhB-5I-VYoIqDGjiV2YHERFfpkDU7qVHDEmaRpVQ.T7T1a7AK1ECPQKj-KeZ90gRlMuzrCtiSsP5fg6WrBHU
      pragma:
      - no-cache
      request-id:
      - 7f915d30-ac9e-4368-8f9d-161a751a34bf
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/22602aba-3fcb-48ed-9b8e-a8b04948726b?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"22602aba-3fcb-48ed-9b8e-a8b04948726b","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"1135b855-b422-4f55-b67a-77bebb479955","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"BF1CBC5F791AD0611EBF4639C24B2E060C24DCE3","endDate":"2019-12-21T18:30:34Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2019-06-21T18:30:41.236167Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"071b2ac0-4b0e-48b4-be65-06349da772bd","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2682'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:59 GMT
      duration:
      - '2995631'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - MH0R8mLEKNJg37JupYky5a6a5nCUFLw87urdg3u3YYE=
      ocp-aad-session-key:
      - luEICbXffrBAjwSsFNLPPHANuvcwTA9zILayug1bgpAgchCrg4k95bwUfMh0_Nm2fr27H0u3dkt1XxEtdJy0VYhSdPDXcbmDM-E_qpfa6cLIn5968PbrLRk5AV1Gi02Pyhc7PieAWeADUOAhrphZgw.A_KnGSMm9G_PDq1nLrgT5IKu4AwRoVFfeGQs_U9QhJk
      pragma:
      - no-cache
      request-id:
      - fcbadad0-6619-4220-a5c1-cc437082cbbb
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/0da818a5284b450d8388ee785bdfcf48","kid":"https://clitest000002.vault.azure.net/keys/cert1/0da818a5284b450d8388ee785bdfcf48","sid":"https://clitest000002.vault.azure.net/secrets/cert1/0da818a5284b450d8388ee785bdfcf48","x5t":"vxy8X3ka0GEev0Y5wksuBgwk3OM","cer":"MIIDQjCCAiqgAwIBAgIQcwYC1iuWRrKBRJgx4vwpBjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAzNVoXDTE5MTIyMTE4MzAzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAXr0r7UrS7wp3XU2wrhl/l78lK7gK1jrxBK20uApa15d6DwW1E3gQVHkVYG006Wd2ttDKbVEAYYik9pTKBHw/KdRGCQwwV40QPW5VomMHK2flZIC2aSctCVmsDTh5hzGDBUrvwDozFngPsSuqOO4vna2/n1xZ8C/+546cyXcO+pZyapE8cLHE8L0UvECUBLL7dBgbP2zcrr6EH/fsJ50S/nYfNzmsaZzbKivnurxVJoV828x5kgNnmE7vTQOfDK2tnFuf3t4V247S1TWh1lphs+/i+I+zSpmysv6Bysvzo8y5Rldv4MESKggSuxniSAKaLxQIo1+oBPNCnFAjpE7WAA==","attributes":{"enabled":true,"nbf":1561141235,"exp":1576953035,"created":1561141835,"updated":1561141835,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141794,"updated":1561141828}},"pending":{"id":"https://test_create_for_rbac_with_existing_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2386'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2019-06-21T18:30:59.151859Z", "endDate":
      "2019-12-21T18:30:34.000Z", "value": "MIIDQjCCAiqgAwIBAgIQcwYC1iuWRrKBRJgx4vwpBjANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDYyMTE4MjAzNVoXDTE5MTIyMTE4MzAzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAM/JNf/tDpmMIfzY85Ee6n6ZaOrNAocdl77T4e/B/cEcXJFViIsnzh/7vmu9ebjCVnC0xZp8jIHoYgdlS08xjS6W2rdU5rw1FGEt4/vhu47sf8lK/I76NRcoMOGuMAs9WAwfMBAWs87HJX3YoKoyx/56D5K60aMgeUROMWk09/Ldf1LdLvaXXDWcSErN9mEB3Hk13JcQpJnAlbdwOJlxM54YFCG1yQKcf2BRNjbvCUS5HJZVwvcapRcKRn9QphrTSCn9Br25G2WdcaUOpfc5N6T2gtsc+qYME1jDEnA2JpNftpmP7jZ+JsgISQvxjCsns0LY7yMDwPqJf7z1jidsk3sCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFJjSmP0JdNbWK0CbYtUdkAvmZCv1MB0GA1UdDgQWBBSY0pj9CXTW1itAm2LVHZAL5mQr9TANBgkqhkiG9w0BAQsFAAOCAQEAXr0r7UrS7wp3XU2wrhl/l78lK7gK1jrxBK20uApa15d6DwW1E3gQVHkVYG006Wd2ttDKbVEAYYik9pTKBHw/KdRGCQwwV40QPW5VomMHK2flZIC2aSctCVmsDTh5hzGDBUrvwDozFngPsSuqOO4vna2/n1xZ8C/+546cyXcO+pZyapE8cLHE8L0UvECUBLL7dBgbP2zcrr6EH/fsJ50S/nYfNzmsaZzbKivnurxVJoV828x5kgNnmE7vTQOfDK2tnFuf3t4V247S1TWh1lphs+/i+I+zSpmysv6Bysvzo8y5Rldv4MESKggSuxniSAKaLxQIo1+oBPNCnFAjpE7WAA==",
      "keyId": "301c3c47-ca57-4d00-a8ae-9026b02aadc7", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1336'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/22602aba-3fcb-48ed-9b8e-a8b04948726b?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:31:00 GMT
      duration:
      - '6140346'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - vzT+9Yq+aEnlFAqW4ArMt4wc+vCo9D3Xgf5jgx/UnQk=
      ocp-aad-session-key:
      - xX-ftpIn5W9ywE9t0Ljn7RBeZqThqAH0uMPIm45yJEIZ_GuknLY-iGGHRz0OB7LvUh7LGwuFI1P4pxs5MMIlBkCfegbd9M7O8JS2NCxmPOE_5vIIkVGlvELsULH7LRRLbu4VMgjnFNN103PT4KMWMA.pSw8KfjGDUOimYvYeJGKIejKoiqwIZSuXfRo2fT20zg
      pragma:
      - no-cache
      request-id:
      - 8a9f0e26-4141-4790-be64-a5bb9b3037fc
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"22602aba-3fcb-48ed-9b8e-a8b04948726b","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"1135b855-b422-4f55-b67a-77bebb479955","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"BF1CBC5F791AD0611EBF4639C24B2E060C24DCE3","endDate":"2019-12-21T18:30:34Z","keyId":"301c3c47-ca57-4d00-a8ae-9026b02aadc7","startDate":"2019-06-21T18:30:59.151859Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/22602aba-3fcb-48ed-9b8e-a8b04948726b/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"071b2ac0-4b0e-48b4-be65-06349da772bd","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:31:01 GMT
      duration:
      - '859928'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 7dMU+33Cz+68qE5sK7ANGlhWJX2RrZSFfal152ZxuSk=
      ocp-aad-session-key:
      - NwxbEStDtzTfPRhFVG8hlIvnNwL8O47RlMgTGb3q1KhL267LoiJ81R57uM_hw1TK4rU9SOZfCHukZix9W54ph5kKWdW2zcaY5cpmHjoUdI2JORVvkFBCw10yV3HdJb5ykINVdoP3mA-HLltv__0tFw.XGNO5YqrfY3JsYmmZlaIIYlUGzsneZSms3S3WfW0U3w
      pragma:
      - no-cache
      request-id:
      - 6af05af5-06fe-420a-a1ce-73c9e436d7e9
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/22602aba-3fcb-48ed-9b8e-a8b04948726b?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:31:01 GMT
      duration:
      - '3895644'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 1Sw93lDg24rWQqiNnfxG0tmtbhuAcSA9P0X1MIiqPnE=
      ocp-aad-session-key:
      - MqWu9p_HdbESqB77sg8_x6x9MJKOOlF2_3Q2x90zENOU5K3pQAi8WlVrNJi8jS_UojrWSlpHVFzQ2mrWJRbqGSlDUG_GljfT-lQTXiKs_XaQywtVLi9Jkil_b1yBo8jSPIYhreNab9MD0gqWuwN9Bw.BkhLrBJehw9VWzC8IQVubYnv1TUIIAqA3uW5Ir2TsJo
      pragma:
      - no-cache
      request-id:
      - d5c38820-8188-40da-8b46-8f8072366fe1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --yes --no-wait
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2019-07-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 21 Jun 2019 18:31:02 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZFWElTVElORzo1RkNFUlRFQ3xFQzczMUJBQjQyRDY3OTRBLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2019-07-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
version: 1
