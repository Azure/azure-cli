interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:39 GMT
      duration:
      - '2522840'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - d9tkFBrddlZaDLFew10PwuhNdbhyDReqjWiVa60eihY62PpJO6DqaWHXQwWoa_uVGfmVLCS9H6OmnBI-Iq--KbP_DUYYs34KU5o_DwcnT5sg8MBWO7AHdzQAZfT2lUDC.F_XRYQYftYet79P26T2uokg2kuRBN1uc2li285WB1Ig
      pragma:
      - no-cache
      request-id:
      - 505e38c8-5e17-48ab-b673-634c76b3018e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAw4wy3IqdyyF30p8hjTWctyG6SBb4u26l+arLa22wwDM5FbTEz04z6tH9LhDA5qjzRupvupgCD+Br/JchgGqdBfplnhDhToZT4GBTDlosgV2DXDJJoCjGbizcoq/77LCPVeSf36zkrI6EbU3oNKLCid6CHaNtaLwwU2cY8ZUeTQa9ZypcrRzGV23bxhPZ0/RvgZ/a34WmrJsMeyFdcKL0ayX2rlE3+bFF/3WWPVUGNGXnrBLP4OsyQ7Fg0L2ingO1gTz0wCkMhUBDXQmk7MkNFHGok2gQvtdVKTGixo8pl/eCrk2ifixqhlTPF/yuVNiLxcliU0VsSgTWAdl0ON1Q2QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJbEvqC0IzhNe31UmdScd45A4v/CnNNbWU15TYM66Ekxi0pVkHdQeRNKTEOQC9SnFMsiKj0xZwTU3YkTpW5S4JxFJc7asDNc/X7D7HjxBktEJNVzggslMXtcsz3+OnwLjzi+G1kxl1xaLXbVb8lau2dT92Bo8YCOmHgYnG4eBSpn0uiQVLKHqkVVwguWPxpnRsg0mupgpObitL3nwgBkWArwFg6+8VOT4h87abMxzrWKzGcDkTFgPFQkdCVe/NDoS/U/UjK1ySJJfRzoX6mBpROYLYrZyGrp2GYm6I8eO9yZAC3/k6dwJWAKmJf5h0tnhR0dXT68cL4AJqONvDmj4Z4=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"27c665469d7c480ebe10226425ddb595"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:43 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=27c665469d7c480ebe10226425ddb595
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAw4wy3IqdyyF30p8hjTWctyG6SBb4u26l+arLa22wwDM5FbTEz04z6tH9LhDA5qjzRupvupgCD+Br/JchgGqdBfplnhDhToZT4GBTDlosgV2DXDJJoCjGbizcoq/77LCPVeSf36zkrI6EbU3oNKLCid6CHaNtaLwwU2cY8ZUeTQa9ZypcrRzGV23bxhPZ0/RvgZ/a34WmrJsMeyFdcKL0ayX2rlE3+bFF/3WWPVUGNGXnrBLP4OsyQ7Fg0L2ingO1gTz0wCkMhUBDXQmk7MkNFHGok2gQvtdVKTGixo8pl/eCrk2ifixqhlTPF/yuVNiLxcliU0VsSgTWAdl0ON1Q2QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJbEvqC0IzhNe31UmdScd45A4v/CnNNbWU15TYM66Ekxi0pVkHdQeRNKTEOQC9SnFMsiKj0xZwTU3YkTpW5S4JxFJc7asDNc/X7D7HjxBktEJNVzggslMXtcsz3+OnwLjzi+G1kxl1xaLXbVb8lau2dT92Bo8YCOmHgYnG4eBSpn0uiQVLKHqkVVwguWPxpnRsg0mupgpObitL3nwgBkWArwFg6+8VOT4h87abMxzrWKzGcDkTFgPFQkdCVe/NDoS/U/UjK1ySJJfRzoX6mBpROYLYrZyGrp2GYm6I8eO9yZAC3/k6dwJWAKmJf5h0tnhR0dXT68cL4AJqONvDmj4Z4=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"27c665469d7c480ebe10226425ddb595"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1213'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/4de77c9347064694ba7907968afba624","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/4de77c9347064694ba7907968afba624","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/4de77c9347064694ba7907968afba624","x5t":"qJVaOyEAU4frov0RKBKQoLjejzs","cer":"MIIDQDCCAiigAwIBAgIQAzlzGChUS12hlptjbH/erjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjIwMjE3MDUxNDQ0WhcNMjMwMzE3MDUyNDQ0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDDjDLcip3LIXfSnyGNNZy3IbpIFvi7bqX5qstrbbDAMzkVtMTPTjPq0f0uEMDmqPNG6m+6mAIP4Gv8lyGAap0F+mWeEOFOhlPgYFMOWiyBXYNcMkmgKMZuLNyir/vssI9V5J/frOSsjoRtTeg0osKJ3oIdo21ovDBTZxjxlR5NBr1nKlytHMZXbdvGE9nT9G+Bn9rfhaasmwx7IV1wovRrJfauUTf5sUX/dZY9VQY0ZeesEs/g6zJDsWDQvaKeA7WBPPTAKQyFQENdCaTsyQ0UcaiTaBC+11UpMaLGjymX94KuTaJ+LGqGVM8X/K5U2IvFyWJTRWxKBNYB2XQ43VDZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQm6ysczkRGjXtYKBR5HP1X6wSuEDAdBgNVHQ4EFgQUJusrHM5ERo17WCgUeRz9V+sErhAwDQYJKoZIhvcNAQELBQADggEBAIvk3W3AbwezT/YLRdfVaBZokLDMhiny5kecH/TIQIh1nLraS5z5Zt/CxUtRVVVRyfWQtuMh0urx22xd9U90UdDdA4R1mHVtDQSJAmXyBPvk4Uin75dZZdpkT882ZVqWKhwg0KFB6jiatfCGCiQ2kHL4170S75ZnO9vzZm7K76cUPUSdnyUwVgZCyPs0ZjvK/kvDdxJXt9MVVF4jnTjqhsc7ZGuad95AEVi+ydCigHq9ULqtPtY8pid6KnqU8afSiRCmlvVTloNXZXb6OIMELVjb7wJMOis49Nf7/A/Gj40BNzAV4vmxqvQ56lkmR4DTh3e4sLRTSpBNbj7sDh4nfXc=","attributes":{"enabled":true,"nbf":1645074884,"exp":1679030684,"created":1645075485,"updated":1645075485,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075484,"updated":1645075484}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:47 GMT
      duration:
      - '2445755'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - RAs7YkAh2RxhVMOZu6/MMLs8+jQs7SfVNACQ1peAx6E=
      ocp-aad-session-key:
      - TXMcCdaKOBI2caD1jP8uiKBY1dpMN2ilC4TJClQcvpiiPvHJmwss1KPiaqO8xrkX0F4q92TUCEzmdDfri--mbbK6wF66mZFiMWSX_1dJUdF7OKSY7PDtmcnMgnlYZJXq.E05dOiVp05Vqr21MFcYpB54F1WgwhuTF6TiGsqGKxLc
      pragma:
      - no-cache
      request-id:
      - 67f7c9c0-9cb5-4d18-b27b-f977fe1ba517
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "keyCredentials": [{"startDate": "2022-02-17T05:24:40.455046Z",
      "endDate": "2023-02-17T05:24:40.455046Z", "value": "MIIDQDCCAiigAwIBAgIQAzlzGChUS12hlptjbH/erjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjIwMjE3MDUxNDQ0WhcNMjMwMzE3MDUyNDQ0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDDjDLcip3LIXfSnyGNNZy3IbpIFvi7bqX5qstrbbDAMzkVtMTPTjPq0f0uEMDmqPNG6m+6mAIP4Gv8lyGAap0F+mWeEOFOhlPgYFMOWiyBXYNcMkmgKMZuLNyir/vssI9V5J/frOSsjoRtTeg0osKJ3oIdo21ovDBTZxjxlR5NBr1nKlytHMZXbdvGE9nT9G+Bn9rfhaasmwx7IV1wovRrJfauUTf5sUX/dZY9VQY0ZeesEs/g6zJDsWDQvaKeA7WBPPTAKQyFQENdCaTsyQ0UcaiTaBC+11UpMaLGjymX94KuTaJ+LGqGVM8X/K5U2IvFyWJTRWxKBNYB2XQ43VDZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQm6ysczkRGjXtYKBR5HP1X6wSuEDAdBgNVHQ4EFgQUJusrHM5ERo17WCgUeRz9V+sErhAwDQYJKoZIhvcNAQELBQADggEBAIvk3W3AbwezT/YLRdfVaBZokLDMhiny5kecH/TIQIh1nLraS5z5Zt/CxUtRVVVRyfWQtuMh0urx22xd9U90UdDdA4R1mHVtDQSJAmXyBPvk4Uin75dZZdpkT882ZVqWKhwg0KFB6jiatfCGCiQ2kHL4170S75ZnO9vzZm7K76cUPUSdnyUwVgZCyPs0ZjvK/kvDdxJXt9MVVF4jnTjqhsc7ZGuad95AEVi+ydCigHq9ULqtPtY8pid6KnqU8afSiRCmlvVTloNXZXb6OIMELVjb7wJMOis49Nf7/A/Gj40BNzAV4vmxqvQ56lkmR4DTh3e4sLRTSpBNbj7sDh4nfXc=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_new_cert000001",
      "identifierUris": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1444'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "b85f74bf-63c5-43bc-a40c-f0c9d8f3a622", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "1ab07fe2-8227-45f6-ab6b-b41c309633c5",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_new_cert000001", "errorUrl": null,
        "groupMembershipClaims": null, "homepage": null, "identifierUris": [], "informationalUrls":
        {"termsOfService": null, "support": null, "privacy": null, "marketing": null},
        "isDeviceOnlyAuthSupported": null, "keyCredentials": [{"customKeyIdentifier":
        "A8955A3B21005387EBA2FD11281290A0B8DE8F3B", "endDate": "2023-02-17T05:24:40.455046Z",
        "keyId": "88888888-0000-0000-0000-000000000001", "startDate": "2022-02-17T05:24:40.455046Z",
        "type": "AsymmetricX509Cert", "usage": "Verify", "value": null}], "knownClientApplications":
        [], "logoutUrl": null, "logo@odata.mediaEditLink": "directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_new_cert000001 on behalf
        of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "id": "5580e92b-2603-4cf2-94ab-bd28e000e0a0", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_new_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2522'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:48 GMT
      duration:
      - '14336640'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - kffJL0RubEpJKtcBrzve2az8jsiuGqC8_gVch3y36q0K1tW7rfCIYWyOT4lGIdo3kM8ZNqi7jDkuP2dI7AR0qqQcho55G_5OS2Hodys5hIxnUUJcFenT_szUaxAA8ZgF6TabXQTHtrMHrCFk1NTwLtQbavgl3gZYQqELx7FX7Ik.Zs_CSVgUygKrqvcyGeQnMosCDXu_RkvqSCoTx9Wfhm8
      pragma:
      - no-cache
      request-id:
      - ec62818d-bc24-4214-9c46-c92937564f60
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "1ab07fe2-8227-45f6-ab6b-b41c309633c5"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"17671364-32c9-4950-9431-245e7dd2edef","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"1ab07fe2-8227-45f6-ab6b-b41c309633c5","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"5580e92b-2603-4cf2-94ab-bd28e000e0a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["1ab07fe2-8227-45f6-ab6b-b41c309633c5"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1742'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:49 GMT
      duration:
      - '3309900'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/17671364-32c9-4950-9431-245e7dd2edef/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - 9PLMZOsPzAG28hEmh9stqsUktDvsXJASxrWFCKeN2qc=
      ocp-aad-session-key:
      - bFprqX1g_YlQhahENadnW0TnZ1487g4-_TI_yvXuR3mN5eKuNpMSP1cvLMyvBA4yMZB59Vqh0h-L5sYYdrF1sIZ1lobZW2LP2XOZFKCKH4IvCDzCpQbhM_AoEh-cDiMms0k24oPolWjqwK0Ih5NBNY8ruvIdpA6IZgGr5jiX4tI.dUIV3mq7tKoYnLdi3VP_X060aesxT3TUc6kyfbHsRNk
      pragma:
      - no-cache
      request-id:
      - 17f7b3ed-ae16-4b07-b26b-0015ac9f4075
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/4de77c9347064694ba7907968afba624","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/4de77c9347064694ba7907968afba624","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/4de77c9347064694ba7907968afba624","x5t":"qJVaOyEAU4frov0RKBKQoLjejzs","cer":"MIIDQDCCAiigAwIBAgIQAzlzGChUS12hlptjbH/erjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjIwMjE3MDUxNDQ0WhcNMjMwMzE3MDUyNDQ0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDDjDLcip3LIXfSnyGNNZy3IbpIFvi7bqX5qstrbbDAMzkVtMTPTjPq0f0uEMDmqPNG6m+6mAIP4Gv8lyGAap0F+mWeEOFOhlPgYFMOWiyBXYNcMkmgKMZuLNyir/vssI9V5J/frOSsjoRtTeg0osKJ3oIdo21ovDBTZxjxlR5NBr1nKlytHMZXbdvGE9nT9G+Bn9rfhaasmwx7IV1wovRrJfauUTf5sUX/dZY9VQY0ZeesEs/g6zJDsWDQvaKeA7WBPPTAKQyFQENdCaTsyQ0UcaiTaBC+11UpMaLGjymX94KuTaJ+LGqGVM8X/K5U2IvFyWJTRWxKBNYB2XQ43VDZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQm6ysczkRGjXtYKBR5HP1X6wSuEDAdBgNVHQ4EFgQUJusrHM5ERo17WCgUeRz9V+sErhAwDQYJKoZIhvcNAQELBQADggEBAIvk3W3AbwezT/YLRdfVaBZokLDMhiny5kecH/TIQIh1nLraS5z5Zt/CxUtRVVVRyfWQtuMh0urx22xd9U90UdDdA4R1mHVtDQSJAmXyBPvk4Uin75dZZdpkT882ZVqWKhwg0KFB6jiatfCGCiQ2kHL4170S75ZnO9vzZm7K76cUPUSdnyUwVgZCyPs0ZjvK/kvDdxJXt9MVVF4jnTjqhsc7ZGuad95AEVi+ydCigHq9ULqtPtY8pid6KnqU8afSiRCmlvVTloNXZXb6OIMELVjb7wJMOis49Nf7/A/Gj40BNzAV4vmxqvQ56lkmR4DTh3e4sLRTSpBNbj7sDh4nfXc=","attributes":{"enabled":true,"nbf":1645074884,"exp":1679030684,"created":1645075485,"updated":1645075485,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075484,"updated":1645075484}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%271ab07fe2-8227-45f6-ab6b-b41c309633c5%27%29%20or%20displayName%20eq%20%271ab07fe2-8227-45f6-ab6b-b41c309633c5%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"17671364-32c9-4950-9431-245e7dd2edef","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"1ab07fe2-8227-45f6-ab6b-b41c309633c5","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"5580e92b-2603-4cf2-94ab-bd28e000e0a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["1ab07fe2-8227-45f6-ab6b-b41c309633c5"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1745'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:52 GMT
      duration:
      - '13749984'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - u11sZ1okdFR7AgX/xQW9UqLFNnN36ADlvUxx28vfye0=
      ocp-aad-session-key:
      - QYfW4jSTdYEsV7phP7YtAh6OZujz52L55JGsbpY8s0EsShO_mrmoPPZNJoxpxZTUYDrRVLw3PCgsz9NmYnFjI2SPfQO0ZE0nQBUeepCM2MPtbspBqJtSypjLRRYNbLd8VcpqLw18mU9A8zbYmuaTV00I-XO6D_4ngvic6TD8z_c.VAr9lQpDkcnvSYG6YeKFMFmbM0Txxk9kp2l3Y3FevL4
      pragma:
      - no-cache
      request-id:
      - 0baabf42-be66-4902-b604-f024e18b9d91
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%271ab07fe2-8227-45f6-ab6b-b41c309633c5%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:53 GMT
      duration:
      - '2482310'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - RAs7YkAh2RxhVMOZu6/MMLs8+jQs7SfVNACQ1peAx6E=
      ocp-aad-session-key:
      - Wf3J6xAvu2Ct86yf8FHKZyGuvFmkIJc6Uoq9VZAqDp99bvw5lB_xx79gtyM_TIav5Jdd13q-Lsm7GcxHuMTQNCfRRULMSkTLN7fWOTTjMWJ-GhGejNb4MUmQeFpafHLwI2rR1abUR99umpG6aDXu-25HmrRtoOmbm3GZbwl9PWQ.T3JdhuNhcZs_cJQcgHPQ2nldp-S0vd82d8fatCJZopI
      pragma:
      - no-cache
      request-id:
      - 685f31a4-789d-421c-bd4f-a7f88f6a50b5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%271ab07fe2-8227-45f6-ab6b-b41c309633c5%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"b85f74bf-63c5-43bc-a40c-f0c9d8f3a622","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"1ab07fe2-8227-45f6-ab6b-b41c309633c5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"A8955A3B21005387EBA2FD11281290A0B8DE8F3B","endDate":"2023-02-17T05:24:40.455046Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2022-02-17T05:24:40.455046Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"5580e92b-2603-4cf2-94ab-bd28e000e0a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2318'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:53 GMT
      duration:
      - '2588091'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - RAs7YkAh2RxhVMOZu6/MMLs8+jQs7SfVNACQ1peAx6E=
      ocp-aad-session-key:
      - Lgu5S1O1591Nnjm76goKtc-5J2SYHehOJbx1bdF1spfkLxSKTDvlea183ub0Jw4-4Y955jeMzB1GcqTSkR_Za8kN3tl1ZLoa43XBCBXu1P3xgKohitWwFoxyzZu4G3pw90SUK_r2cJaivtpbONe-JPRZXdJku-EJYbBkysIRZmw.GXciYZ48qa77G12CVhIuT9gAl-Bi1nWQRpGfqz_Nh7k
      pragma:
      - no-cache
      request-id:
      - 6e289c6a-6a62-442c-931e-b7ea5ae029c7
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"b85f74bf-63c5-43bc-a40c-f0c9d8f3a622","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"1ab07fe2-8227-45f6-ab6b-b41c309633c5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"A8955A3B21005387EBA2FD11281290A0B8DE8F3B","endDate":"2023-02-17T05:24:40.455046Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2022-02-17T05:24:40.455046Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"5580e92b-2603-4cf2-94ab-bd28e000e0a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2315'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:24:53 GMT
      duration:
      - '2517929'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 9PLMZOsPzAG28hEmh9stqsUktDvsXJASxrWFCKeN2qc=
      ocp-aad-session-key:
      - 5IcHeZkzTR-mIjDp-FPFqKLZXoBTYELvVERWShmHXfMVVFs1HIHtnq0AIw84vddypaUQHU3F3dk93FmmaAYLhhjD6a5wflkxQpc1OSOh0rwHXxUNPT7A--CwsPm312dYL4MMrsfSwXuerfx2ryt7jMOJe2nFKINTLt4Y65d00ME.3_f_27qMKrchzuBG-ICbEgiDZ7lspYO2pGa6qr33JsA
      pragma:
      - no-cache
      request-id:
      - 285a0f70-91b4-424e-909b-28176398a6e0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAw4wy3IqdyyF30p8hjTWctyG6SBb4u26l+arLa22wwDM5FbTEz04z6tH9LhDA5qjzRupvupgCD+Br/JchgGqdBfplnhDhToZT4GBTDlosgV2DXDJJoCjGbizcoq/77LCPVeSf36zkrI6EbU3oNKLCid6CHaNtaLwwU2cY8ZUeTQa9ZypcrRzGV23bxhPZ0/RvgZ/a34WmrJsMeyFdcKL0ayX2rlE3+bFF/3WWPVUGNGXnrBLP4OsyQ7Fg0L2ingO1gTz0wCkMhUBDXQmk7MkNFHGok2gQvtdVKTGixo8pl/eCrk2ifixqhlTPF/yuVNiLxcliU0VsSgTWAdl0ON1Q2QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJbEvqC0IzhNe31UmdScd45A4v/CnNNbWU15TYM66Ekxi0pVkHdQeRNKTEOQC9SnFMsiKj0xZwTU3YkTpW5S4JxFJc7asDNc/X7D7HjxBktEJNVzggslMXtcsz3+OnwLjzi+G1kxl1xaLXbVb8lau2dT92Bo8YCOmHgYnG4eBSpn0uiQVLKHqkVVwguWPxpnRsg0mupgpObitL3nwgBkWArwFg6+8VOT4h87abMxzrWKzGcDkTFgPFQkdCVe/NDoS/U/UjK1ySJJfRzoX6mBpROYLYrZyGrp2GYm6I8eO9yZAC3/k6dwJWAKmJf5h0tnhR0dXT68cL4AJqONvDmj4Z4=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"a2ae251392774f3c92a5ad02ce66015e"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:56 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=a2ae251392774f3c92a5ad02ce66015e
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAw4wy3IqdyyF30p8hjTWctyG6SBb4u26l+arLa22wwDM5FbTEz04z6tH9LhDA5qjzRupvupgCD+Br/JchgGqdBfplnhDhToZT4GBTDlosgV2DXDJJoCjGbizcoq/77LCPVeSf36zkrI6EbU3oNKLCid6CHaNtaLwwU2cY8ZUeTQa9ZypcrRzGV23bxhPZ0/RvgZ/a34WmrJsMeyFdcKL0ayX2rlE3+bFF/3WWPVUGNGXnrBLP4OsyQ7Fg0L2ingO1gTz0wCkMhUBDXQmk7MkNFHGok2gQvtdVKTGixo8pl/eCrk2ifixqhlTPF/yuVNiLxcliU0VsSgTWAdl0ON1Q2QIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJbEvqC0IzhNe31UmdScd45A4v/CnNNbWU15TYM66Ekxi0pVkHdQeRNKTEOQC9SnFMsiKj0xZwTU3YkTpW5S4JxFJc7asDNc/X7D7HjxBktEJNVzggslMXtcsz3+OnwLjzi+G1kxl1xaLXbVb8lau2dT92Bo8YCOmHgYnG4eBSpn0uiQVLKHqkVVwguWPxpnRsg0mupgpObitL3nwgBkWArwFg6+8VOT4h87abMxzrWKzGcDkTFgPFQkdCVe/NDoS/U/UjK1ySJJfRzoX6mBpROYLYrZyGrp2GYm6I8eO9yZAC3/k6dwJWAKmJf5h0tnhR0dXT68cL4AJqONvDmj4Z4=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"a2ae251392774f3c92a5ad02ce66015e"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1213'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/98c7cde44abb4c48bc3bab5fa02d431a","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/98c7cde44abb4c48bc3bab5fa02d431a","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/98c7cde44abb4c48bc3bab5fa02d431a","x5t":"8uCBC89U6t8m4qb3WCVvr8cClls","cer":"MIIDQDCCAiigAwIBAgIQBxgLSWWNQlKbCHROZo2nUzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjIwMjE3MDUxNDU3WhcNMjMwMzE3MDUyNDU3WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDDjDLcip3LIXfSnyGNNZy3IbpIFvi7bqX5qstrbbDAMzkVtMTPTjPq0f0uEMDmqPNG6m+6mAIP4Gv8lyGAap0F+mWeEOFOhlPgYFMOWiyBXYNcMkmgKMZuLNyir/vssI9V5J/frOSsjoRtTeg0osKJ3oIdo21ovDBTZxjxlR5NBr1nKlytHMZXbdvGE9nT9G+Bn9rfhaasmwx7IV1wovRrJfauUTf5sUX/dZY9VQY0ZeesEs/g6zJDsWDQvaKeA7WBPPTAKQyFQENdCaTsyQ0UcaiTaBC+11UpMaLGjymX94KuTaJ+LGqGVM8X/K5U2IvFyWJTRWxKBNYB2XQ43VDZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQm6ysczkRGjXtYKBR5HP1X6wSuEDAdBgNVHQ4EFgQUJusrHM5ERo17WCgUeRz9V+sErhAwDQYJKoZIhvcNAQELBQADggEBAKOd008E+JtIm+lNrT9sym7JGEcRpIdDjSIJZoWMvjvPPmP03urpi7OF1vxMem1VjACh47T37YGVKza80oe3svOUQqtGMddWVgXeIjmtK/RD879e0ho/qlY/jfSfVEf+E8S5bzLCnv8zKz9i9c4q8KPQHg4T2t20bLv7TCqDHYKTdzYqGOeS/AjmToNlZaN4ccDjjW/DKEDb7CqxPP4SQsXViM7o2/ipCtt3wV4zEFk6C8xgq1BNBSXtajTML2nMf+G969dVEWKg34JcBHMBPNoIif6P3VpdmslhpInbkuVP7m/mq2+yd+Ss/KV7CNY3Jar5UGWjjx3YYTu3VzDdsNo=","attributes":{"enabled":true,"nbf":1645074897,"exp":1679030697,"created":1645075497,"updated":1645075497,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075484,"updated":1645075496}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:24:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2022-02-17T05:24:51.486195Z", "endDate":
      "2023-02-17T05:24:51.486195Z", "value": "MIIDQDCCAiigAwIBAgIQBxgLSWWNQlKbCHROZo2nUzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjIwMjE3MDUxNDU3WhcNMjMwMzE3MDUyNDU3WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDDjDLcip3LIXfSnyGNNZy3IbpIFvi7bqX5qstrbbDAMzkVtMTPTjPq0f0uEMDmqPNG6m+6mAIP4Gv8lyGAap0F+mWeEOFOhlPgYFMOWiyBXYNcMkmgKMZuLNyir/vssI9V5J/frOSsjoRtTeg0osKJ3oIdo21ovDBTZxjxlR5NBr1nKlytHMZXbdvGE9nT9G+Bn9rfhaasmwx7IV1wovRrJfauUTf5sUX/dZY9VQY0ZeesEs/g6zJDsWDQvaKeA7WBPPTAKQyFQENdCaTsyQ0UcaiTaBC+11UpMaLGjymX94KuTaJ+LGqGVM8X/K5U2IvFyWJTRWxKBNYB2XQ43VDZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQm6ysczkRGjXtYKBR5HP1X6wSuEDAdBgNVHQ4EFgQUJusrHM5ERo17WCgUeRz9V+sErhAwDQYJKoZIhvcNAQELBQADggEBAKOd008E+JtIm+lNrT9sym7JGEcRpIdDjSIJZoWMvjvPPmP03urpi7OF1vxMem1VjACh47T37YGVKza80oe3svOUQqtGMddWVgXeIjmtK/RD879e0ho/qlY/jfSfVEf+E8S5bzLCnv8zKz9i9c4q8KPQHg4T2t20bLv7TCqDHYKTdzYqGOeS/AjmToNlZaN4ccDjjW/DKEDb7CqxPP4SQsXViM7o2/ipCtt3wV4zEFk6C8xgq1BNBSXtajTML2nMf+G969dVEWKg34JcBHMBPNoIif6P3VpdmslhpInbkuVP7m/mq2+yd+Ss/KV7CNY3Jar5UGWjjx3YYTu3VzDdsNo=",
      "keyId": "88888888-0000-0000-0000-000000000002", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1335'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:24:59 GMT
      duration:
      - '3821919'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - qhne8Hm9OIJQ6ziAcRvob3sKfSmaN3UwjVY4tCNBNPwUHQ100U1HZRLXeSRpog9Klyzm7hrh5VWEi46r_vacCGwV2nh6E6JJXWtFwqQKCZ5aXvN8UghcDjGmucJ6_234ghgkPtgB_JdMqVLc-u9XtHmmSL_o8lHQ68VR8XlyByM.Z0lHb_rOZkGPn4TZKUqZIsU6dVjwWBYfe4yqr8AgPB4
      pragma:
      - no-cache
      request-id:
      - b623e949-dd84-4e97-9e6e-400a57e872c0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/98c7cde44abb4c48bc3bab5fa02d431a","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/98c7cde44abb4c48bc3bab5fa02d431a","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/98c7cde44abb4c48bc3bab5fa02d431a","x5t":"8uCBC89U6t8m4qb3WCVvr8cClls","cer":"MIIDQDCCAiigAwIBAgIQBxgLSWWNQlKbCHROZo2nUzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjIwMjE3MDUxNDU3WhcNMjMwMzE3MDUyNDU3WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDDjDLcip3LIXfSnyGNNZy3IbpIFvi7bqX5qstrbbDAMzkVtMTPTjPq0f0uEMDmqPNG6m+6mAIP4Gv8lyGAap0F+mWeEOFOhlPgYFMOWiyBXYNcMkmgKMZuLNyir/vssI9V5J/frOSsjoRtTeg0osKJ3oIdo21ovDBTZxjxlR5NBr1nKlytHMZXbdvGE9nT9G+Bn9rfhaasmwx7IV1wovRrJfauUTf5sUX/dZY9VQY0ZeesEs/g6zJDsWDQvaKeA7WBPPTAKQyFQENdCaTsyQ0UcaiTaBC+11UpMaLGjymX94KuTaJ+LGqGVM8X/K5U2IvFyWJTRWxKBNYB2XQ43VDZAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQm6ysczkRGjXtYKBR5HP1X6wSuEDAdBgNVHQ4EFgQUJusrHM5ERo17WCgUeRz9V+sErhAwDQYJKoZIhvcNAQELBQADggEBAKOd008E+JtIm+lNrT9sym7JGEcRpIdDjSIJZoWMvjvPPmP03urpi7OF1vxMem1VjACh47T37YGVKza80oe3svOUQqtGMddWVgXeIjmtK/RD879e0ho/qlY/jfSfVEf+E8S5bzLCnv8zKz9i9c4q8KPQHg4T2t20bLv7TCqDHYKTdzYqGOeS/AjmToNlZaN4ccDjjW/DKEDb7CqxPP4SQsXViM7o2/ipCtt3wV4zEFk6C8xgq1BNBSXtajTML2nMf+G969dVEWKg34JcBHMBPNoIif6P3VpdmslhpInbkuVP7m/mq2+yd+Ss/KV7CNY3Jar5UGWjjx3YYTu3VzDdsNo=","attributes":{"enabled":true,"nbf":1645074897,"exp":1679030697,"created":1645075497,"updated":1645075497,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075484,"updated":1645075496}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2394'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:25:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%271ab07fe2-8227-45f6-ab6b-b41c309633c5%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:25:01 GMT
      duration:
      - '2479689'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - J1IvU7bKe/aK2FqeWPBq6SNlxRJeLa2CYnjoW61ndBM=
      ocp-aad-session-key:
      - SDYDkVi5D4Mh3xSrQ2tnx4fCKOo8udhJUzCYJ-z1bL75NaKi53xjX-du65ClDMePDleTiTdLXSDmSzPb8Oxp_kunNrSsHCtEnc1g4dle0sEMqMm15Zxf8X_QCAGk-agGCk6S-oL7IymecqaPrZVsJFCErMSgJInMMSb6L5u22OA.iC7PkVG6PYiLGboL17QxsZnzfqJ4wnI3u8t0foHRDPU
      pragma:
      - no-cache
      request-id:
      - 5514f2d5-c4d0-4f1f-99c1-f9a17bb8813c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%271ab07fe2-8227-45f6-ab6b-b41c309633c5%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"b85f74bf-63c5-43bc-a40c-f0c9d8f3a622","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"1ab07fe2-8227-45f6-ab6b-b41c309633c5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"F2E0810BCF54EADF26E2A6F758256FAFC702965B","endDate":"2023-02-17T05:24:51.486195Z","keyId":"88888888-0000-0000-0000-000000000002","startDate":"2022-02-17T05:24:51.486195Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"5580e92b-2603-4cf2-94ab-bd28e000e0a0","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2318'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:25:02 GMT
      duration:
      - '2520384'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - gPnpdqpwyGrDEewN8wjIW0CFeFa4Hzg72WshawB8akU=
      ocp-aad-session-key:
      - Lfwo8W6ONiPMCaB1XZzL67WdiHi-0uEG3fE1_o1z6IPwQ0LWrvPMfjw9yCwBmWMTKD1Oi5xxYgUTQOBFhFkc9NbEagwYBSSfSgw-zvAh3h022Pat4IFxcRWf1TCG4PCeP03CuGhKrC28kiDuOStwI3UrAKOTCtdLjzXfdJkN_ms.lV9Wf2fZcMKABnDhhSDaLvOI3UZK2tIRWOiiFFXDuVU
      pragma:
      - no-cache
      request-id:
      - bb789e8c-3226-4f0f-8ee4-02a3e7511d76
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/b85f74bf-63c5-43bc-a40c-f0c9d8f3a622?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:25:02 GMT
      duration:
      - '4047176'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - ynOJBuVKVvcbxyVK1O4YaTAri7pX4Nlqh7r62rgRdOIkQ9JzSPJg6sZqixTS2ZtoM-o-Jf4uEyx5dGXZup_gpY6X2bb4rXzf83HRorySjECUrzXqphyoCBFpOdJdFAGTIMIaERo7iQ4GdqcXg_CEMERRJHPSJd2Z4RrIZW-rglM.3RNMbYaH2vIvk8kac48OB5E8nibfAHLJX8QRcxE9dk0
      pragma:
      - no-cache
      request-id:
      - 22fefe41-c123-4856-bd6a-78216b89850c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
