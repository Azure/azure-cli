interactions:
- request:
    body: '{"location": "westus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_create_rbac_sp_with_cert000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","name":"cli_create_rbac_sp_with_cert000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Sun, 11 Mar 2018 06:47:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:34 GMT']
      duration: ['569254']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [5aCvvOOnXblqJhSqtiezZ8C1Clb59tYXITEEjsQqQ40=]
      ocp-aad-session-key: [FpRAN-pcD3gXdHYZPVDDySqfUaXamVOjpTUpxoFq1NvKZ0TPpsq8TrfVR6GtQQKDQ5CQnvGZO2gJtmRNpF9xm_xgTI2ew-TK0sUdeVIV1PQ_VjeCuiZ04JUmoL_47cn2Rp-5GUhR-irTgoN6VIUzAw.Hzw9ukJ1Z93QAqgtln9rgPHPtBbvpj_52yYmY2m6WRU]
      pragma: [no-cache]
      request-id: [4bbf5917-6abd-438b-8452-d077537dc8fa]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"homepage": "http://azure-cli-2018-03-11-06-47-35", "availableToOtherTenants":
      false, "displayName": "azure-cli-2018-03-11-06-47-35", "keyCredentials": [{"type":
      "AsymmetricX509Cert", "usage": "Verify", "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\\\\nbjAiGA8yMDE4MDMxMTA2NDczNFoYDzIwMTkwMzExMDY0NzM2WjAUMRIwEAYDVQQD\\\\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDJlTzG\\\\nsypWW1ATUc9YQ/xc4ytzwkHST1Dswlx1I5MVSwZYkU+xcxksJ3rgcws3ltIkjtSG\\\\neTd6yb2xpPdwbD9h9amX2k14RKiM7aIJSDS4tEPNy6U7OTcHJ98Fmq4N416S8YqX\\\\nSQPB8ypaG+yeiWg871KmIWI0WezZ70dxG5qZxAFlYxBaaUOH2hJU9pY2zpx9b8qF\\\\nL66XXxxaFZoHKd9IZod9SMULcv5j2qF9R1TWw4Tsd8wmah1vBvC5PDWpLyg4aM1P\\\\nG4XBlBdVLPCc5YRh8flxB1keX0hDdyfEbovUPJ+QdVTzpR6ZUnI7dDCWcyY1DtVY\\\\nOO4Ebrh+u8xtM7QpAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBALlcpoIumnTkkzlP\\\\n9H7vq6ummwfdeSAKC/dA0sqxwynea8DECGCJsPkIc6ODR/cAaCB8YX1mVfXk63Ax\\\\nh0sby2qET84iUZZRdhFZXtzyDFJAixH3TprhVcmo7nw5+cU1W++mM5Av7Y+ikge6\\\\nyvo0l7VpaMk7U5lRACHtV+hT99qLtVJsylnMRrGVxI9ORh9L8ex3vTjzddQ6b/vi\\\\n/RWrCg0XTfULh6QjPEg6kLXFjDkul0kwAdaE+pxI3gdUEEe7LZVNNHCTAzxbz3dE\\\\nLfCqSboviAN93SD1ghc1we/gXP9Qp+PGcUElxR6wgu9op6NU0Leglhb7mUKPDvhZ\\\\nvuLYSnQ=",
      "keyId": "88888888-0000-0000-0000-000000000001", "startDate": "2018-03-11T06:47:35.070684Z",
      "endDate": "2019-03-11T06:47:35.070684Z"}], "identifierUris": ["http://cli_create_rbac_sp_with_cert000001"]}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['1391']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"c276ab4f-eec0-4991-bf16-8c6cf74e0c9f","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b6711ae8-3e8e-4e6b-8711-691196309193","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-11-06-47-35","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-11-06-47-35","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-11T06:47:35.070684Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-03-11T06:47:35.070684Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-11-06-47-35","id":"afca7099-7007-422f-8e07-65a32bec8fdb","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-11-06-47-35","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2102']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:35 GMT']
      duration: ['6800463']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/c276ab4f-eec0-4991-bf16-8c6cf74e0c9f/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [Xy7TId24dS6ToronzUVd/vgZaee3lijQapSUC5Vca/s=]
      ocp-aad-session-key: [5yLAItr3af1NDIQX-DIV0UuyedXuW2e-K7i11rWVIQTDW6is6NFAZKDkkjyH1RFT5sBmDEG7TpU8dYaUZPBVqn4co_c1VSaf4feGwvBZcBoR6P5hg8Q4ei_iP2NMs47rX8j7hBc41SrLCO2BdooWxg.1m0HVL-NXvtwGKtr7i8_xhtnDdgKrzHuicD74gn71rY]
      pragma: [no-cache]
      request-id: [d1757494-7c57-4941-8ed2-7c0c4b1ea030]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"accountEnabled": true, "appId": "b6711ae8-3e8e-4e6b-8711-691196309193"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"020b4eac-25e5-4189-a8e6-164ab9d00f35","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-03-11-06-47-35","appId":"b6711ae8-3e8e-4e6b-8711-691196309193","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-03-11-06-47-35","errorUrl":null,"homepage":"http://azure-cli-2018-03-11-06-47-35","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-11-06-47-35","id":"afca7099-7007-422f-8e07-65a32bec8fdb","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-11-06-47-35","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["b6711ae8-3e8e-4e6b-8711-691196309193","http://cli_create_rbac_sp_with_cert000001"],"servicePrincipalType":"Application","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1584']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:35 GMT']
      duration: ['2703079']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/020b4eac-25e5-4189-a8e6-164ab9d00f35/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [cmmfSsdnBAIEQoSVdNrxUXwW51QiWF0lftDnqRxKdr8=]
      ocp-aad-session-key: [ik1TiOdgrlc02F1NqVIYQmzKXdx0iljU43JhUdQcafXzVKV25SCMatE2nYzMiN8H6ujvSmsDVC-33kjmOHYVigw9Z1gwTrJ-04bry0GNdg_nefy51JoWQLar33qq-WOo4Ck4wzIRULGEHThJ9QE2bQ.6IZ0rW1V068IJV-CZcmlZym59v92xU9XsQpu6nNoEeY]
      pragma: [no-cache]
      request-id: [76e93aeb-34cc-4ce6-bae9-ce34d4f56dbb]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['733']
      content-type: [application/json; charset=utf-8]
      date: ['Sun, 11 Mar 2018 06:47:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"principalId": "020b4eac-25e5-4189-a8e6-164ab9d00f35",
      "roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-01-01-preview
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal 020b4eac25e54189a8e6164ab9d00f35
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['163']
      content-type: [application/json; charset=utf-8]
      date: ['Sun, 11 Mar 2018 06:47:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['733']
      content-type: [application/json; charset=utf-8]
      date: ['Sun, 11 Mar 2018 06:47:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"principalId": "020b4eac-25e5-4189-a8e6-164ab9d00f35",
      "roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"020b4eac-25e5-4189-a8e6-164ab9d00f35","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","createdOn":"2018-03-11T06:47:44.5212008Z","updatedOn":"2018-03-11T06:47:44.5212008Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['721']
      content-type: [application/json; charset=utf-8]
      date: ['Sun, 11 Mar 2018 06:47:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-charge: ['3']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2016-12-14T02:04:45.1393855Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['733']
      content-type: [application/json; charset=utf-8]
      date: ['Sun, 11 Mar 2018 06:47:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"principalId": "020b4eac-25e5-4189-a8e6-164ab9d00f35",
      "roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"020b4eac-25e5-4189-a8e6-164ab9d00f35","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001","createdOn":"2018-03-11T06:47:47.9594890Z","updatedOn":"2018-03-11T06:47:47.9594890Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_create_rbac_sp_with_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000004"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['903']
      content-type: [application/json; charset=utf-8]
      date: ['Sun, 11 Mar 2018 06:47:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-charge: ['2']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"020b4eac-25e5-4189-a8e6-164ab9d00f35","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-03-11-06-47-35","appId":"b6711ae8-3e8e-4e6b-8711-691196309193","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-03-11-06-47-35","errorUrl":null,"homepage":"http://azure-cli-2018-03-11-06-47-35","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-11-06-47-35","id":"afca7099-7007-422f-8e07-65a32bec8fdb","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-11-06-47-35","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://cli_create_rbac_sp_with_cert000001","b6711ae8-3e8e-4e6b-8711-691196309193"],"servicePrincipalType":"Application","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1587']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:50 GMT']
      duration: ['639764']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [XZZhkzlE3oBkIQVB+wQnvi7mbmSLDUoik6doGquKkr4=]
      ocp-aad-session-key: [zi8tDH1-5D-nkj7EcnAA5Kg4knXr7G2CQg2vsBwECmX1B3RM5aG1n2x-cxN1G0WjGlLa92RC-nrsIvNGgrs_oUfVF7wkHayFCVPIzPpJPPSqN0NG1qPPv8xUQIaJ9xb5dJY_Uhhd8A77Se3nCX__Ng.3i58uKpxAIPT_1cUU4kx_nl2nDdgZSy2Vf5BLi3YxcQ]
      pragma: [no-cache]
      request-id: [0b0bf09b-0aac-43c9-abcb-f51b13f103fd]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27b6711ae8-3e8e-4e6b-8711-691196309193%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['161']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:50 GMT']
      duration: ['571099']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [HQ5deQpwcsPe4hh8xoHwaI2OVqdobLjJJnUjAQRcE5o=]
      ocp-aad-session-key: [_3NdY8h-jCJSDSaM34q3I9Amlx0kKFUIENm8pz4W0KjtqotqE1tF_brhKwtMOGsjlmIEtu1N6uRjiqXDKn-eCXzVk231On61hTkPOkLsvMEcMjQpFmRVtObhlJEXWK-94wlV6GN8OHDBHKvKL5jxzw.FilsJKmP9_XDh0TAcnXPG8OztxrITSqF-oAyoufOAps]
      pragma: [no-cache]
      request-id: [0731bf44-52d0-439a-95d3-3a64175dae0f]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27b6711ae8-3e8e-4e6b-8711-691196309193%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"c276ab4f-eec0-4991-bf16-8c6cf74e0c9f","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b6711ae8-3e8e-4e6b-8711-691196309193","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-11-06-47-35","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-11-06-47-35","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-11T06:47:35.070684Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-03-11T06:47:35.070684Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-11-06-47-35","id":"afca7099-7007-422f-8e07-65a32bec8fdb","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-11-06-47-35","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2019']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:50 GMT']
      duration: ['736434']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [cchiu08RtZQ3+O1oL4RWyxlt169wEFih863TtAv+d54=]
      ocp-aad-session-key: [IiHjwUHuo6fnT-JR1oQm_FwzQSpBuIwlpIJARByWMweSozJ6Prpmm9V2oQfsBaUAnkOo_NbdGUJhhC_dAUNxLlzQmnEd8pFyamblRwXVrPt9_8hjEylRZtqjsar9sgeOmcljHqFnlV2YXzDWdDtzbQ.J9g20uSFBnsHVJyb27p0PQSty8KZc4WJxAwgD01yVxo]
      pragma: [no-cache]
      request-id: [cd352a03-657b-463d-bf40-0d1ac815180d]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/c276ab4f-eec0-4991-bf16-8c6cf74e0c9f?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"c276ab4f-eec0-4991-bf16-8c6cf74e0c9f","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b6711ae8-3e8e-4e6b-8711-691196309193","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-11-06-47-35","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-11-06-47-35","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-11T06:47:35.070684Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-03-11T06:47:35.070684Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-11-06-47-35","id":"afca7099-7007-422f-8e07-65a32bec8fdb","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-11-06-47-35","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2016']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:50 GMT']
      duration: ['563805']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [5BBtH58glal76DPl+ASyPHMwG0liNn9ZIk9MbtD/h8c=]
      ocp-aad-session-key: [CWQ_ACay-WZA-ZspZZN05GeauL-Tn_QtNUTaRVVa2TI3CbXo86qH0i4Zf5mL2Ktd3gOLv-UafCmjDYZaarQ3tCM-lhtrTwcrmA-LVgQf6POwpPzoEr-PVferJyxeRaKpspCzSrqHR2ncAbdD4olkIQ.SL9wBxaqgPfl8w-95OxYKQuYPadPNbtLZbO5z-SBL20]
      pragma: [no-cache]
      request-id: [3d099564-f046-4412-9515-2a3c37fec172]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"keyCredentials": [{"type": "AsymmetricX509Cert", "usage": "Verify",
      "value": "MIICoTCCAYkCAgPoMA0GCSqGSIb3DQEBBQUAMBQxEjAQBgNVBAMMCUNMSS1Mb2dp\\nbjAiGA8yMDE4MDMxMTA2NDc1MFoYDzIwMTkwMzExMDY0NzUyWjAUMRIwEAYDVQQD\\nDAlDTEktTG9naW4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDGvTlt\\nGZKqGhdB86901Dd+7m75LYciTkFnbq05f1+hVImFE3oNOjmt67LpFJ3r+nyV8nKP\\nS0q2KaBawJJnP6f1PWb8D6qXMzh1CcI0QT4T83AfaORjDCB8UG+90mGDPKbgXy1c\\nxFQpJAx0zGNc5gqzx6Chz2bOfgHbuCOz77O0RwgpcRE3VYGkjnu+H27M//jpOvsY\\nA98pehnHW6aQAoHXZeH5tYQspFmyfU8PDR64MUs9N5FQiS9yu0pKBSXqaUkRt5Sc\\nXUBXHJQKl2uDtBAP3e4Q9vjRibZOHM2V7HH27Um9V1WNusxRlO0tiSeZSqSfCNQz\\nAD9M54GS0a86fnmTAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBAITaxqvBm8+4Si+O\\nSUAIMl5PhwYFtV1SVLXOU26wc5dMDtxbKIcR3dhMNY52pkesvIvUWjygTFL0qI7N\\nCD7z28r8A/EqrjkYaFwLSYWoV692YsPUPFuFd4ZT9GbuO2uqOrTnAQ+eGi3GwZ2+\\n1t3egkRBZ2IEdGLydSboK9Ja5gy2ef5NbHvE4YV/RqpK0+SpQEDerbMuHDKJNrLL\\na/sbClTde0+S0uKbd0E1EK0hYaTLfWpI6NGaTqpDgIkTBetVLc3Txaxsh/eZQHZR\\nDaRqwt2vqLbz02ry/Vxp2iSZjoaw3T8YJ5AqiWEhkXm5lu3Iq637C5eW4wFBWxVc\\ndI/5+q8=",
      "keyId": "88888888-0000-0000-0000-000000000005", "startDate": "2018-03-11T06:47:51.90728Z",
      "endDate": "2019-03-11T06:47:51.90728Z"}]}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp reset-credentials]
      Connection: [keep-alive]
      Content-Length: ['1149']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/c276ab4f-eec0-4991-bf16-8c6cf74e0c9f?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Sun, 11 Mar 2018 06:47:51 GMT']
      duration: ['4552212']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [EwDhs/L/kAGwoaOJJKduPokkzFWCLiIHqH+o2/HGOBI=]
      ocp-aad-session-key: [fKIINzhz36DLBim8A5ZOz2j4tjNvnw-sgoq_6XXa6zIaJG35-eU3EkT2CtGzkdepd-m0YRzSiVyChblSMjXBIIPOL1maYFY6RJDzoiU4MxgFwE8jbPj2S0Za4rSt1HK5V2Cx6yaVTjULeFjKHHtByw.pF8fK9mNJb4KJkRRuuW7s7fax6ehF6OM65oaeezGzdI]
      pragma: [no-cache]
      request-id: [828a0901-411c-44c3-bc4e-5c55f1e43488]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_create_rbac_sp_with_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"c276ab4f-eec0-4991-bf16-8c6cf74e0c9f","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b6711ae8-3e8e-4e6b-8711-691196309193","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-03-11-06-47-35","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-03-11-06-47-35","identifierUris":["http://cli_create_rbac_sp_with_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-03-11T06:47:51.90728Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2018-03-11T06:47:51.90728Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":false,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-03-11-06-47-35","id":"afca7099-7007-422f-8e07-65a32bec8fdb","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-03-11-06-47-35 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-03-11-06-47-35","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2017']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Sun, 11 Mar 2018 06:47:52 GMT']
      duration: ['562099']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [kpTVY9vhytH2Y1JxyUkph+h7pjb7c5rbFUPU3WdgiQ0=]
      ocp-aad-session-key: [X1DKd0jV5etFjC7GW5SrQ98gLrdCBP0t0eWOAajBN5eNEBB-sp2OUxc5_Z1_UL-XGzaIB6_76qBKLbbbVxoklm1qpFIxmQQ1Cmy9b9Fb6m2HlSfHcX1lIyHUJO__mu8k0J66mJV3DaACeO1P5h1Grg.g3_aH1I5EaCF6TcVYqbIfdF9u36BOrSYtph_yKsr9F0]
      pragma: [no-cache]
      request-id: [0da3fbbb-60ce-4ce9-80b7-5a3209c755dd]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 graphrbacmanagementclient/0.31.0 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/c276ab4f-eec0-4991-bf16-8c6cf74e0c9f?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Sun, 11 Mar 2018 06:47:56 GMT']
      duration: ['34781941']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [Dv72AcCemnmm/GYguwEfXSa0gt5rEWvxyBbksyTbSc4=]
      ocp-aad-session-key: [1wHsRP0gGcreTmNAf44AtmlfVglW8eaTNAtLegLQPPNvAUEwk6O0sJ1tIQkZ-GrMl29pjINcgRGjvjcU-FKQnvaEmaH2tyuhjumB46aTgzGVCB2b54EiJurPlbCfWZRNurtxqIG6RcGQ4Mlq0_NkNQ.QZIfFbLkKyLIDNe4alCncuz_TdGuGwhSmvW8rKwv5Wo]
      pragma: [no-cache]
      request-id: [eaffed01-4782-4800-9a5f-931d4289405a]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.26
          msrest_azure/0.4.21 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.29]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_create_rbac_sp_with_cert000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Sun, 11 Mar 2018 06:47:57 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZDUkVBVEU6NUZSQkFDOjVGU1A6NUZXSVRIOjVGQ0VSVFJXN0RPQkRMT3xGODEzRjBFNTEwMTk0MUY3LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 202, message: Accepted}
version: 1
