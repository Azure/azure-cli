interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.RecoveryServices/vaults/clitest-vault000002''
        under resource group ''clitest.rg000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '241'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:07:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: '{"location": "westus", "properties": {"publicNetworkAccess": "Enabled",
      "monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Enabled"}, "classicAlertSettings": {"alertsForCriticalOperations": "Enabled"}}},
      "sku": {"name": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      Content-Length:
      - '262'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A07%3A27.7983505Z''\"","properties":{"provisioningState":"Provisioning","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/MjA0NzsyM2I5NzlmOC1jN2U3LTRmMjItYmU5ZC1hMTg1YWFmMmE3MjI=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '670'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:07:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '294'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/MjA0NzsyM2I5NzlmOC1jN2U3LTRmMjItYmU5ZC1hMTg1YWFmMmE3MjI=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/MjA0NzsyM2I5NzlmOC1jN2U3LTRmMjItYmU5ZC1hMTg1YWFmMmE3MjI=\"\
        ,\r\n  \"name\": \"MjA0NzsyM2I5NzlmOC1jN2U3LTRmMjItYmU5ZC1hMTg1YWFmMmE3MjI=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:08:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A07%3A28.6716624Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '667'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:08:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.RecoveryServices/vaults/clitest-vault000003''
        under resource group ''clitest.rg000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '241'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:08:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: '{"location": "westus", "properties": {"publicNetworkAccess": "Enabled",
      "monitoringSettings": {"azureMonitorAlertSettings": {"alertsForAllJobFailures":
      "Enabled"}, "classicAlertSettings": {"alertsForCriticalOperations": "Enabled"}}},
      "sku": {"name": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      Content-Length:
      - '262'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A08%3A32.767679Z''\"","properties":{"provisioningState":"Provisioning","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NzthYjA0NmZmZC0yYTFiLTRiYWYtOWE5ZC0yNTViZjI2Zjg0OWE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '669'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:08:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '293'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NzthYjA0NmZmZC0yYTFiLTRiYWYtOWE5ZC0yNTViZjI2Zjg0OWE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/MjA0NzthYjA0NmZmZC0yYTFiLTRiYWYtOWE5ZC0yNTViZjI2Zjg0OWE=\"\
        ,\r\n  \"name\": \"MjA0NzthYjA0NmZmZC0yYTFiLTRiYWYtOWE5ZC0yNTViZjI2Zjg0OWE=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:09:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --location
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A08%3A33.6155438Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '667'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:09:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2023-01-28T09:07:20Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:10:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-msi/6.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007?api-version=2022-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","name":"clitest-identity1000007","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","clientId":"82c9bded-1f04-45ad-a81d-28911347c423"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:10:15 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1177'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-msi/6.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007?api-version=2022-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","name":"clitest-identity1000007","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","clientId":"82c9bded-1f04-45ad-a81d-28911347c423"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:10:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2023-01-28T09:07:20Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:10:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-msi/6.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008?api-version=2022-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","name":"clitest-identity2000008","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0","clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:10:20 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1167'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-msi/6.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008?api-version=2022-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","name":"clitest-identity2000008","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0","clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '464'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:10:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A07%3A28.6716624Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '667'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:10:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "userassigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '414'
      Content-Type:
      - application/json
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:10:23 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '294'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=\"\
        ,\r\n  \"name\": \"NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:11:24 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=\"\
        ,\r\n  \"name\": \"NDA5NTs5Njc5YzFhZi1jZjNiLTQyYzMtYTQ4My05MjAzN2UxYmNlN2M=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:12:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A11%3A25.0305433Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1327'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:12:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A11%3A25.0305433Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1327'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:12:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "systemassigned,userassigned"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '53'
      Content-Type:
      - application/json
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:12:27 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '293'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=\"\
        ,\r\n  \"name\": \"NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:13:27 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=\"\
        ,\r\n  \"name\": \"NDA5NTtkOTYwNzliNS1hMmQ3LTQ3OWYtYjE5Ni1kOTYxZmMyNThiODE=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:14:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A13%3A28.754791Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1395'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:14:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A08%3A33.6155438Z''\"","properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '667'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:14:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "userassigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '240'
      Content-Type:
      - application/json
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:14:31 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '290'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=\"\
        ,\r\n  \"name\": \"NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:15:31 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=\"\
        ,\r\n  \"name\": \"NDA5NTs1MWQzYThhNS0yYmVlLTQxYzctODNkNi1iZDRhODBhOGYzZmQ=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:16:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A15%3A32.9148124Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1053'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:16:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A15%3A32.9148124Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1053'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:16:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "systemassigned,userassigned"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '53'
      Content-Type:
      - application/json
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:16:35 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=?api-version=2022-10-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '290'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=\"\
        ,\r\n  \"name\": \"NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:17:35 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=\"\
        ,\r\n  \"name\": \"NDA5NTtkZGZlM2RlMi03YzZhLTQ4ZjYtYjk2Zi05YzJmYzgwZDNkYjA=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:18:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - --system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A17%3A36.351556Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"db1d9d10-3782-4f60-b79b-b5b7d0d42bf8","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1121'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:18:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --enable-purge-protection
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10352'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --enable-purge-protection
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:09:38.237Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '976'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "12f8ea5c-1212-449e-b31c-0a574f43076e",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault update
      Connection:
      - keep-alive
      Content-Length:
      - '613'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --enable-purge-protection
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:41.257Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1005'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1163'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.8.0b2 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://clitest000004.vault.azure.net/keys/clitest-key1000005/create?api-version=7.4-preview.1
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.238.138;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.679.1
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA", "key_size": 2048, "key_ops": ["decrypt", "encrypt", "sign",
      "unwrapKey", "verify", "wrapKey"], "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '142'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.8.0b2 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://clitest000004.vault.azure.net/keys/clitest-key1000005/create?api-version=7.4-preview.1
  response:
    body:
      string: '{"key":{"kid":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b","kty":"RSA","key_ops":["decrypt","encrypt","sign","unwrapKey","verify","wrapKey"],"n":"0We88t5YzQeNSg-oBMhbCwKEU6tDk3d8lNdTp3H9IvF7wKJVJwV9RwkO5qHYQ27gTodfLqiCvj3mv7FduEVx1MhHeKsFaxof8oYV1S9eH3wBMaqLGq3OAkwgYFcsT5hG43DvzA17Jh1lGRjgt-vrI62I0k3vucJddJVkJTALbLQanTaooJmfbdNHoeAs9W3B5fZ-PaXCfeC4DCMf_RaW8WKXSay_gxvtDUpccUKz0ANTcexKmMKbdy28dA0TQy6xRO1zlcWnDp1lbChN7IrkMGr2vB1kGzWX8z_lx0mTPjqI9u34nTLcIlgOhaM_NbVEIcBCPV-a_htQlH8v3n1mHQ","e":"AQAB"},"attributes":{"enabled":true,"created":1674897524,"updated":1674897524,"recoveryLevel":"CustomizedRecoverable","recoverableDays":7,"exportable":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '705'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.238.138;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.679.1
    status:
      code: 200
      message: OK
- request:
    body: '{"kty": "RSA", "key_size": 2048, "key_ops": ["decrypt", "encrypt", "sign",
      "unwrapKey", "verify", "wrapKey"], "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '142'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.8.0b2 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://clitest000004.vault.azure.net/keys/clitest-key2000006/create?api-version=7.4-preview.1
  response:
    body:
      string: '{"key":{"kid":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255","kty":"RSA","key_ops":["decrypt","encrypt","sign","unwrapKey","verify","wrapKey"],"n":"wgYIsn-Sp4jgIWW0LwXRbEkpyxSQf9HUkjt1qPZjdMsXSMJiAjnz_h5bH3MYfHiyTcne9K0015rcid91gIwxEtXJiq9wXrpRSvbdCChGmVzD6xshCdIug-R_s8bpICvAlNYuB4xL2egsdjS8GcDmhL_N1qNr9YiImsns4hdtxaz3aczuo-C-bKYFVAcpLn52MO4SwW9k2ttPZCEVTS_Tdc_4yEwFkU2t4Ayt5K_XNj-V-J9H26ccEt7F9ioBne8XmhYlMMDh0rSFSi68yLGVk9RcZ5Jl3pUxa4w1gpsBvTXn5O2PW5hbJaU5MiqIDJIt0t_wR3IVjYP2EUjOBIz7UQ","e":"AQAB"},"attributes":{"enabled":true,"created":1674897525,"updated":1674897525,"recoveryLevel":"CustomizedRecoverable","recoverableDays":7,"exportable":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '705'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.238.138;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.679.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10352'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:41.257Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1005'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "12f8ea5c-1212-449e-b31c-0a574f43076e",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "2f228df5-07e8-450b-9d51-050fdbbc4a00", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '785'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:48.703Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1167'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1180'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10352'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:48.703Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1167'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "12f8ea5c-1212-449e-b31c-0a574f43076e",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "2f228df5-07e8-450b-9d51-050fdbbc4a00", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '957'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:52.875Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1329'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1179'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10352'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:52.875Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1329'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "12f8ea5c-1212-449e-b31c-0a574f43076e",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "2f228df5-07e8-450b-9d51-050fdbbc4a00", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "31ded529-1a24-457c-bb08-5c973b70024e", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '1129'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:56.38Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"31ded529-1a24-457c-bb08-5c973b70024e","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1490'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1174'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm/providers/Microsoft.KeyVault/vaults/iaasencrypted-kv","name":"iaasencrypted-kv","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.new.vaults/providers/Microsoft.KeyVault/vaults/jakavetKVNew","name":"jakavetKVNew","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jakavetRG/providers/Microsoft.KeyVault/vaults/jakavetKV2","name":"jakavetKV2","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseTest/providers/Microsoft.KeyVault/vaults/akkanasecmktest","name":"akkanasecmktest","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Owner":"akkanase","Purpose":"Testing","Mab
        Used":"yes","Delete By":"05-2023"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvault1","name":"cmkkeyvault1","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseOSS/providers/Microsoft.KeyVault/vaults/akkanase","name":"akkanase","type":"Microsoft.KeyVault/vaults","location":"southeastasia","tags":{"Mab
        Used":"yes","Purpose":"Testing","Delete By":"05-2022","Owner":"akkanase"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/testaka","name":"testaka","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseCMK1","name":"akkanaseCMK1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cmk.system/providers/Microsoft.KeyVault/vaults/cmkkeyvaultea1","name":"cmkkeyvaultea1","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","DeleteBy":"05-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/afstests/providers/Microsoft.KeyVault/vaults/akkanaseTestKV","name":"akkanaseTestKV","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCMK/providers/Microsoft.KeyVault/vaults/akkanaseEUAP","name":"akkanaseEUAP","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/chandrikarg/providers/Microsoft.KeyVault/vaults/adikayeth","name":"adikayeth","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/akkanaseCcyGrs/providers/Microsoft.KeyVault/vaults/akkanseHSMTest","name":"akkanseHSMTest","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MabUsed":"Yes","Owner":"akkanase","DeleteBy":"01-2025","Purpose":"Testing"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PORTAL.DPP.BVT.OSS.PROTECT.EXISTING/providers/Microsoft.KeyVault/vaults/PORTALDPPBVTKV","name":"PORTALDPPBVTKV","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagakv","name":"hiagakv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"02-2025"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/oss-clitest-keyvault","name":"oss-clitest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-pstest-rg/providers/Microsoft.KeyVault/vaults/oss-pstest-keyvault","name":"oss-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/cmk-pstest-keyvault","name":"cmk-pstest-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"MABUsed":"yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv","name":"sarath-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/OSS-PORTAL-BVT-KEYVAULT-DONOTUSE/providers/Microsoft.KeyVault/vaults/OSS-PORTALBVT-KEYVAULT","name":"OSS-PORTALBVT-KEYVAULT","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Mab
        Used":"yes","Purpose":"Testing","Owner":"akkanase","DeleteBy":"05-2040"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sarath-rg/providers/Microsoft.KeyVault/vaults/sarath-kv2","name":"sarath-kv2","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/oss-clicloudtest-kv","name":"oss-clicloudtest-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest-rg/providers/Microsoft.KeyVault/vaults/psclicloudtestkeyvault","name":"psclicloudtestkeyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"BVT","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagargeus/providers/Microsoft.KeyVault/vaults/hiagakvEUS","name":"hiagakvEUS","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"MABUsed":"Yes","Owner":"hiaga","Purpose":"testing","DeleteBy":"01-2099"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/OSSBVTPortal","name":"OSSBVTPortal","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DoNotUse-OSS-BVT-ECY-RG/providers/Microsoft.KeyVault/vaults/donotuseoss-bvt-keyvault","name":"donotuseoss-bvt-keyvault","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"Mab
        Used":"yes","Purpose":"BVT","Owner":"akkanase","Delete By":"05-2030"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adkayeth/providers/Microsoft.KeyVault/vaults/testkvfordemo","name":"testkvfordemo","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sql-clicloudtest-rg/providers/Microsoft.KeyVault/vaults/akneema-kv","name":"akneema-kv","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{"Owner":"akneema","Purpose":"Testing","MABUsed":"Yes","DeleteBy":"12-9999"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/oss-clitest-rg/providers/Microsoft.KeyVault/vaults/samarthkv2","name":"samarthkv2","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DonotUse-OSS-BVT-EA-RG/providers/Microsoft.KeyVault/vaults/dontuseosspolchangekv","name":"dontuseosspolchangekv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.encryptedvm-eastasia/providers/Microsoft.KeyVault/vaults/iaasenc-win-v2-kv","name":"iaasenc-win-v2-kv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/donotuseosskvearg/providers/Microsoft.KeyVault/vaults/dontuseossbvtkv","name":"dontuseossbvtkv","type":"Microsoft.KeyVault/vaults","location":"eastasia","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv1","name":"gvjreddy-test-enc-vm-kv1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-enc-vm-kv2","name":"gvjreddy-test-enc-vm-kv2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaKVEUS1","name":"hiagaKVEUS1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/hiagarg/providers/Microsoft.KeyVault/vaults/hiagaCrrDesKv","name":"hiagaCrrDesKv","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iaasvm.cmk.descrr/providers/Microsoft.KeyVault/vaults/iaasdescrr-des-keyvault","name":"iaasdescrr-des-keyvault","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/gvjreddy_test_rg/providers/Microsoft.KeyVault/vaults/gvjreddy-test-uaen-kv","name":"gvjreddy-test-uaen-kv","type":"Microsoft.KeyVault/vaults","location":"uaenorth","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10352'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:18:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:18:56.38Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"31ded529-1a24-457c-bb08-5c973b70024e","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1490'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:19:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "12f8ea5c-1212-449e-b31c-0a574f43076e",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "2f228df5-07e8-450b-9d51-050fdbbc4a00", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "31ded529-1a24-457c-bb08-5c973b70024e", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}, {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId":
      "db1d9d10-3782-4f60-b79b-b5b7d0d42bf8", "permissions": {"keys": ["get", "unwrapKey",
      "wrapKey", "list"]}}], "vaultUri": "https://clitest000004.vault.azure.net/",
      "enabledForDeployment": false, "enableSoftDelete": true, "softDeleteRetentionInDays":
      7, "enablePurgeProtection": true, "provisioningState": "Succeeded", "publicNetworkAccess":
      "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '1301'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/clitest000004","name":"clitest000004","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"systemData":{"createdBy":"zubairabid@microsoft.com","createdByType":"User","createdAt":"2023-01-28T09:09:38.237Z","lastModifiedBy":"zubairabid@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-28T09:19:16.897Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"12f8ea5c-1212-449e-b31c-0a574f43076e","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"2f228df5-07e8-450b-9d51-050fdbbc4a00","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"31ded529-1a24-457c-bb08-5c973b70024e","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}},{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"db1d9d10-3782-4f60-b79b-b5b7d0d42bf8","permissions":{"keys":["get","unwrapKey","wrapKey","list"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://clitest000004.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1653'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:19:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.644.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1173'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A13%3A28.754791Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1395'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:19:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"MicrosoftManaged","lastUpdateStatus":"NotEnabled","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '483'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:19:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},
      "kekIdentity": {"userAssignedIdentity": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},
      "infrastructureEncryption": "Disabled"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '415'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:19:20 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '291'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=\"\
        ,\r\n  \"name\": \"NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:20:20 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=\"\
        ,\r\n  \"name\": \"NDA5NTs5ZTNkNWNlNC1hYzcwLTQ1ZjctYmY2Yy0yYjJhY2ZmZWU1ZjQ=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:21:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A20%3A22.5158634Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:21:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:21:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '298'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A20%3A22.5158634Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:21:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:21:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},
      "kekIdentity": {"userAssignedIdentity": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008"}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '375'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:21:27 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '290'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=\"\
        ,\r\n  \"name\": \"NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:22:28 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=\"\
        ,\r\n  \"name\": \"NDA5NTtmOWU1YmU5YS1mZjM5LTRkZDYtYTBiYi01OWNkNzE3ZTNhOTE=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:23:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A22%3A29.4993809Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:23:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:23:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A22%3A29.4993809Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008"},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1802'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:23:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '800'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:23:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '298'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255"},
      "kekIdentity": {"useSystemAssignedIdentity": true}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '216'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:23:33 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '289'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=\"\
        ,\r\n  \"name\": \"NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:24:33 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=\"\
        ,\r\n  \"name\": \"NDA5NTs1OWFiNGYxYy1jMzdjLTQyMTktYmVjYS1hODMwZWU0MjNiYTY=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:25:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A24%3A36.8006578Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:25:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '607'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:25:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A24%3A36.8006578Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:25:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '607'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:25:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '298'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '164'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:25:40 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '289'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=\"\
        ,\r\n  \"name\": \"NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:26:41 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationResults/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/operationStatus/NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=\"\
        ,\r\n  \"name\": \"NDA5NTs2NThhYmIyYS00MTBhLTQyOTctYWIxNS04MGMxZTgwNTJiZDU=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:27:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000002","etag":"W/\"datetime''2023-01-28T09%3A26%3A42.7086944Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"31ded529-1a24-457c-bb08-5c973b70024e","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity2000008":{"clientId":"caf07789-cdc2-4fc7-afda-fe6b8154fe2f","principalId":"67e41bf2-e892-4bf0-bbbd-3fa5a1d136a0"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Disabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1637'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:27:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '607'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:27:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '297'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A17%3A36.351556Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"db1d9d10-3782-4f60-b79b-b5b7d0d42bf8","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":null,"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1121'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:27:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"MicrosoftManaged","lastUpdateStatus":"NotEnabled","infrastructureEncryptionState":"Disabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '483'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:27:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '297'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255"},
      "kekIdentity": {"useSystemAssignedIdentity": true}, "infrastructureEncryption":
      "Enabled"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '255'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:27:47 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '288'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=\"\
        ,\r\n  \"name\": \"NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:28:47 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=\"\
        ,\r\n  \"name\": \"NDA5NTswMzc2NjBlZS02YzE5LTQ4NGEtOGYwYy04ZjYwOThlMGNkNjA=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:29:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-system-assigned --infrastructure-encryption -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A28%3A49.0584576Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"db1d9d10-3782-4f60-b79b-b5b7d0d42bf8","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Enabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1362'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:29:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '606'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:29:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '296'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A28%3A49.0584576Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"db1d9d10-3782-4f60-b79b-b5b7d0d42bf8","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255"},"kekIdentity":{"useSystemAssignedIdentity":true,"userAssignedIdentity":null},"infrastructureEncryption":"Enabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1362'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:29:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"useSystemAssignedIdentity":true,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key2000006/0bd9616c7a3345aabc8d8e5686933255","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '606'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:29:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '296'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"encryption": {"keyVaultProperties": {"keyUri": "https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},
      "kekIdentity": {"userAssignedIdentity": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      Content-Length:
      - '375'
      Content-Type:
      - application/json
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: PATCH
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:29:54 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=?api-version=2022-10-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '292'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=\"\
        ,\r\n  \"name\": \"NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=\"\
        ,\r\n  \"status\": \"InProgress\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=?api-version=2022-10-01
      cache-control:
      - no-cache
      content-length:
      - '361'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:30:54 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationResults/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=?api-version=2022-10-01
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=?api-version=2022-10-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/operationStatus/NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=\"\
        ,\r\n  \"name\": \"NDA5NTtjN2YzNDE5Yi0wZjRjLTQ2YWQtYmI0Mi1kOTg5ZjMwN2IwZjk=\"\
        ,\r\n  \"status\": \"Succeeded\",\r\n  \"percentComplete\": 0.0\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '360'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:31:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption update
      Connection:
      - keep-alive
      ParameterSetName:
      - --encryption-key-id --mi-user-assigned -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: '{"location":"westus","name":"clitest-vault000003","etag":"W/\"datetime''2023-01-28T09%3A30%3A55.4251965Z''\"","identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"db1d9d10-3782-4f60-b79b-b5b7d0d42bf8","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007":{"clientId":"82c9bded-1f04-45ad-a81d-28911347c423","principalId":"2f228df5-07e8-450b-9d51-050fdbbc4a00"}}},"properties":{"provisioningState":"Succeeded","privateEndpointStateForBackup":"None","privateEndpointStateForSiteRecovery":"None","encryption":{"keyVaultProperties":{"keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b"},"kekIdentity":{"useSystemAssignedIdentity":false,"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007"},"infrastructureEncryption":"Enabled"},"monitoringSettings":{"azureMonitorAlertSettings":{"alertsForAllJobFailures":"Enabled"},"classicAlertSettings":{"alertsForCriticalOperations":"Enabled"}},"publicNetworkAccess":"Enabled"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003","type":"Microsoft.RecoveryServices/vaults","sku":{"name":"Standard"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1527'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:31:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault encryption show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig?api-version=2022-06-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupEncryptionConfigs/backupResourceEncryptionConfig","name":"backupResourceEncryptionConfig","type":"Microsoft.RecoveryServices/vaults/backupEncryptionConfigs","properties":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/clitest-identity1000007","useSystemAssignedIdentity":false,"encryptionAtRestType":"CustomerManaged","keyUri":"https://clitest000004.vault.azure.net/keys/clitest-key1000005/488b0489d0b249eeb84b94b8c970310b","subscriptionId":"","lastUpdateStatus":"Succeeded","infrastructureEncryptionState":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '799'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 09:31:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '295'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup container list
      Connection:
      - keep-alive
      ParameterSetName:
      - --backup-management-type -v -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003/backupProtectionContainers?api-version=2022-06-01-preview&%24filter=backupManagementType+eq+%27AzureIaasVM%27+and+status+eq+%27Registered%27
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:32:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '291'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --yes
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000003?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:32:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '48'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup container list
      Connection:
      - keep-alive
      ParameterSetName:
      - --backup-management-type -v -g --query
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservicesbackup/1.0.0b1 Python/3.10.7
        (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002/backupProtectionContainers?api-version=2022-06-01-preview&%24filter=backupManagementType+eq+%27AzureIaasVM%27+and+status+eq+%27Registered%27
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json
      date:
      - Sat, 28 Jan 2023 09:32:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '290'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - backup vault delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --yes
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-recoveryservices/2.2.0 Python/3.10.7 (Windows-10-10.0.22621-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.RecoveryServices/vaults/clitest-vault000002?api-version=2022-10-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 09:32:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '47'
    status:
      code: 200
      message: OK
version: 1
