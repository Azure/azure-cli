interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [consumption usage list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 consumptionmanagementclient/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988/providers/Microsoft.Consumption/usageDetails?$expand=meterDetails&$filter=usageEnd%20ge%202017-03-03T23%3A59%3A59Z%20and%20usageEnd%20le%202017-04-04T23%3A59%3A59Z&$top=5&api-version=2017-04-24-preview
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/4d8c2ef3374a337ce1fd755fb8b69840","type":"Microsoft.Consumption/usageDetails","name":"4d8c2ef3374a337ce1fd755fb8b69840","tags":{"AccountName":"abcd","PoolName":"hjkl","MeteredService":"Compute","MeteredServiceType":"External","CloudServiceName":"304F6604-3F74-4D34-88CB-9CE0AFE7FAE2-CloudService","PoolSubscriptionId":"7122b0e6-cf8f-4ce6-9bd3-d700ed2bcc03"},"properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-04T00:00:00Z","usageEnd":"2017-04-04T23:59:59Z","instanceName":"abcd","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/abcdef/providers/Microsoft.Batch/batchAccounts/abcd","instanceLocation":"krsouth","currency":"USD","usageQuantity":0.000273,"billableQuantity":0.0,"pretaxCost":0.0,"isEstimated":false,"meterId":"fe167397-a38d-43c3-9bb3-8e2907e56a41","meterDetails":{"meterName":"Data
        Transfer Out (GB)","meterCategory":"Networking","unit":"GB","meterLocation":"Zone
        2","totalIncludedQuantity":5.00000000}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/96a719e9972f564e3904d122c43cfc0d","type":"Microsoft.Consumption/usageDetails","name":"96a719e9972f564e3904d122c43cfc0d","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-04T00:00:00Z","usageEnd":"2017-04-04T23:59:59Z","instanceName":"SSSSS","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NewSearchGroup/providers/Microsoft.HDInsight/clusters/SSSSS","instanceLocation":"westus","currency":"USD","usageQuantity":30.0,"billableQuantity":30.0,"pretaxCost":9.600027807428065950698902935,"isEstimated":false,"meterId":"fa9dc70f-f562-44af-b965-b4576aefed95","meterDetails":{"meterName":"Compute
        Hours","meterCategory":"Business Analytics","meterSubCategory":"A3 HDInsight
        (Non-Windows)","unit":"Hours","totalIncludedQuantity":0.00000000,"pretaxStandardRate":0.3200}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/f07199feb5a5dabb6795a1fa1276b46a","type":"Microsoft.Consumption/usageDetails","name":"f07199feb5a5dabb6795a1fa1276b46a","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-04T00:00:00Z","usageEnd":"2017-04-04T23:59:59Z","instanceName":"bextsa001","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/bextresourcegroup1/providers/Microsoft.Storage/storageAccounts/bextsa001","instanceLocation":"uswest","currency":"USD","usageQuantity":1.8655,"billableQuantity":1.8655,"pretaxCost":0.0006352779319668586178831334,"isEstimated":false,"meterId":"f8c187bb-5a47-46ae-b874-f186d207fff4","meterDetails":{"meterName":"Standard
        IO - Block Blob List Operation Units (in 10,000s)","meterCategory":"Data Management","unit":"10,000s","totalIncludedQuantity":0.00000000,"pretaxStandardRate":0.0004}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/c152aabecc33190b8c02e1b360ade6ab","type":"Microsoft.Consumption/usageDetails","name":"c152aabecc33190b8c02e1b360ade6ab","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-04T00:00:00Z","usageEnd":"2017-04-04T23:59:59Z","instanceName":"bextsa001","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/bextresourcegroup1/providers/Microsoft.Storage/storageAccounts/bextsa001","instanceLocation":"uswest","currency":"USD","usageQuantity":0.3392,"billableQuantity":0.3392,"pretaxCost":0.0001231422268144879778826552,"isEstimated":false,"meterId":"d3824379-dc7e-472b-9e67-3f4a7eadc05b","meterDetails":{"meterName":"Standard
        IO - Page Blob Read Operation Units (in 10,000s)","meterCategory":"Data Management","unit":"10,000s","totalIncludedQuantity":0.00000000,"pretaxStandardRate":0.0004}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/usageDetails/48e8a3ffc3a426923ad278f8f6d77057","type":"Microsoft.Consumption/usageDetails","name":"48e8a3ffc3a426923ad278f8f6d77057","properties":{"billingPeriodId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/billingPeriods/201705-1","invoiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Billing/invoices/201705-217089190378988","usageStart":"2017-04-04T00:00:00Z","usageEnd":"2017-04-04T23:59:59Z","instanceName":"bextsa001","instanceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/bextresourcegroup1/providers/Microsoft.Storage/storageAccounts/bextsa001","instanceLocation":"uswest","currency":"USD","usageQuantity":0.083204,"billableQuantity":0.083204,"pretaxCost":0.0020754716981132075471698113,"isEstimated":false,"meterId":"c1635534-1c1d-4fc4-b090-88fc2672ef87","meterDetails":{"meterName":"Standard
        IO - Block Blob (GB)","meterCategory":"Storage","meterSubCategory":"Locally
        Redundant","unit":"GB","totalIncludedQuantity":0.00000000,"pretaxStandardRate":0.0240}}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5894']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 17 May 2017 01:56:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
version: 1
