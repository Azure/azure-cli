version: 1
content:
- group:
    name: eventgrid
    summary: Manage Azure Event Grid topics and subscriptions.
- group:
    name: eventgrid topic
    summary: Manage Azure Event Grid topics.
- command:
    name: eventgrid topic create
    summary: Create a topic.
    examples:
    - summary: Create a new topic.
      command: az eventgrid topic create -g rg1 --name topic1 -l westus2
- command:
    name: eventgrid topic update
    summary: Update a topic.
    examples:
    - summary: Update the properties of an existing topic.
      command: az eventgrid topic update -g rg1 --name topic1 --tags Dept=IT
- command:
    name: eventgrid topic delete
    summary: Delete a topic.
    examples:
    - summary: Delete a topic.
      command: az eventgrid topic delete -g rg1 --name topic1
- command:
    name: eventgrid topic list
    summary: List available topics.
    examples:
    - summary: List all topics in the current Azure subscription.
      command: az eventgrid topic list
    - summary: List all topics in a resource group.
      command: az eventgrid topic list -g rg1
- command:
    name: eventgrid topic show
    summary: Get the details of a topic.
    examples:
    - summary: Show the details of a topic.
      command: az eventgrid topic show -g rg1 -n topic1
    - summary: Show the details of a topic based on resource ID.
      command: az eventgrid topic show --ids /subscriptions/55f3dcd4-cac7-43b4-990b-a139d62a1eb2/resourceGroups/kalstest/providers/Microsoft.EventGrid/topics/topic1
- group:
    name: eventgrid topic key
    summary: Manage shared access keys of a topic.
- command:
    name: eventgrid topic key list
    summary: List shared access keys of a topic.
- command:
    name: eventgrid topic key regenerate
    summary: Regenerate a shared access key of a topic.
- group:
    name: eventgrid event-subscription
    summary: Manage event subscriptions for an Event Grid topic or for an Azure resource.
- command:
    name: eventgrid event-subscription create
    summary: Create a new event subscription for an Event Grid topic or for an Azure resource.
    examples:
    - summary: Create a new event subscription for an Event Grid topic, using default filters.
      command: |
        az eventgrid event-subscription create -g rg1 --topic-name topic1 --name es1 \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code
    - summary: Create a new event subscription for a subscription, using default filters.
      command: |
        az eventgrid event-subscription create --name es2 \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code
    - summary: Create a new event subscription for a resource group, using default filters.
      command: |
        az eventgrid event-subscription create -g rg1 --name es3 \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code
    - summary: Create a new event subscription for a storage account, using default filters.
      command: |
        az eventgrid event-subscription create --resource-id "/subscriptions/55f3dcd4-cac7-43b4-990b-a139d62a1eb2/resourceGroups/kalstest/providers/Microsoft.Storage/storageaccounts/kalsegblob" --name es3 \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code
    - summary: Create a new event subscription for a subscription, with a filter specifying a subject prefix.
      command: |
        az eventgrid event-subscription create --name es4 \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code \
            --subject-begins-with mysubject_prefix
    - summary: Create a new event subscription for a resource group, with a filter specifying a subject suffix.
      command: |
        az eventgrid event-subscription create -g rg2 --name es5 \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code \
            --subject-ends-with mysubject_suffix
    - summary: Create a new event subscription for a subscription, using default filters, and an EventHub as a destination.
      command: |
        az eventgrid event-subscription create --name es2 --endpoint-type eventhub \
            --endpoint /subscriptions/55f3dcd4-cac7-43b4-990b-a139d62a1eb2/resourceGroups/TestRG/providers/Microsoft.EventHub/namespaces/ContosoNamespace/eventhubs/EH1
- command:
    name: eventgrid event-subscription update
    summary: Update an event subscription.
    examples:
    - summary: Update an event subscription for an Event Grid topic to specify a new endpoint.
      command: |
        az eventgrid event-subscription update -g rg1 --topic-name topic1 --name es1 \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code
    - summary: Update an event subscription for a subscription to specify a new subject-ends-with filter.
      command: |
        az eventgrid event-subscription update --name es2 --subject-ends-with .jpg
    - summary: Update an event subscription for a resource group to specify a new endpoint and a new subject-ends-with filter.
      command: |
        az eventgrid event-subscription update -g rg1 --name es3  --subject-ends-with .png \
            --endpoint https://contoso.azurewebsites.net/api/f1?code=code
    - summary: Update an event subscription for a storage account to specify a new list of included event types.
      command: |
        az eventgrid event-subscription update --resource-id "/subscriptions/55f3dcd4-cac7-43b4-990b-a139d62a1eb2/resourceGroups/kalstest/providers/microsoft.storage/storageaccounts/kalsegblob" --name es3 \
            --included-event-types Microsoft.Storage.BlobCreated Microsoft.Storage.BlobDeleted
- command:
    name: eventgrid event-subscription delete
    summary: Delete an event subscription.
    examples:
    - summary: Delete an event subscription for an Event Grid topic.
      command: |
        az eventgrid event-subscription delete -g rg1 --topic-name topic1 --name es1
    - summary: Delete an event subscription for a subscription.
      command: |
        az eventgrid event-subscription delete --name es2
    - summary: Delete an event subscription for a resource group.
      command: |
        az eventgrid event-subscription delete -g rg1 --name es3
    - summary: Delete an event subscription for a storage account.
      command: |
        az eventgrid event-subscription delete --resource-id "/subscriptions/55f3dcd4-cac7-43b4-990b-a139d62a1eb2/resourceGroups/kalstest/providers/microsoft.storage/storageaccounts/kalsegblob" --name es3
- command:
    name: eventgrid event-subscription list
    summary: List event subscriptions.
    examples:
    - summary: List all event subscriptions for an Event Grid topic.
      command: |
        az eventgrid event-subscription list -g rg1 --topic-name topic1
    - summary: List all event subscriptions for a storage account.
      command: |
        az eventgrid event-subscription list --resource-id /subscriptions/55f3dcd4-cac7-43b4-990b-a139d62a1eb2/resourceGroups/kalstest/providers/Microsoft.Storage/storageaccounts/kalsegblob
    - summary: List all event subscriptions for a topic-type in a specific location (under the currently selected Azure subscription).
      command: |
        az eventgrid event-subscription list --topic-type Microsoft.Storage.StorageAccounts --location westus2
    - summary: List all event subscriptions for a topic-type in a specific location under a specified resource group.
      command: |
        az eventgrid event-subscription list --topic-type Microsoft.Storage.StorageAccounts --location westus2 --resource-group kalstest
    - summary: List all regional event subscriptions in a specific location (under the currently selected Azure subscription).
      command: |
        az eventgrid event-subscription list --location westus2
    - summary: List all event subscriptions in a specific location under a specified resource group.
      command: |
        az eventgrid event-subscription list --location westus2 --resource-group kalstest
    - summary: List all global event subscriptions (under the currently selected Azure subscription).
      command: |
        az eventgrid event-subscription list
    - summary: List all global event subscriptions under the currently selected resource group.
      command: |
        az eventgrid event-subscription list --resource-group kalstest
- command:
    name: eventgrid event-subscription show
    summary: Get the details of an event subscription.
    examples:
    - summary: Show the details of an event subscription for an Event Grid topic.
      command: |
        az eventgrid event-subscription show -g rg1 --topic-name topic1 --name es1
    - summary: Show the details of an event subscription for a subscription.
      command: |
        az eventgrid event-subscription show --name es2
    - summary: Show the details of an event subscription for a resource group.
      command: |
        az eventgrid event-subscription show -g rg1 --name es3
    - summary: Show the details of an event subscription for a storage account.
      command: |
        az eventgrid event-subscription show --resource-id "/subscriptions/55f3dcd4-cac7-43b4-990b-a139d62a1eb2/resourceGroups/kalstest/providers/microsoft.storage/storageaccounts/kalsegblob" --name es3
- group:
    name: eventgrid topic-type
    summary: Get details for topic types.
- command:
    name: eventgrid topic-type list
    summary: List registered topic types.
- command:
    name: eventgrid topic-type show
    summary: Get the details for a topic type.
- command:
    name: eventgrid topic-type list-event-types
    summary: List the event types supported by a topic type.
