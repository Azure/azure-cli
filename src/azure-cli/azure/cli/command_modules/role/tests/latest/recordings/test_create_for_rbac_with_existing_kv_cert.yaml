interactions:
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:26:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 24}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '511'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBqGWOYXwql5252dBzbLbnRZFKCTi0v/r+J6Vu34z890AvNWHY7eAhlk+RHTHapPtOVG9+duUzwZ+DGoGXMvAPKVJrBCPAshssJGefYBdBT0r3IxDd5zsrPxOTpoMpu5NTrPpe2WxVlt+hnbUcrAOkJ+Ic+lBVGDj1axpy3MN50tkX6dKZWv9X+31F0FRXKgxzbdcTN6celjW/B5w6KMNX4gphShD5kClhSnXnGVuqHSQpvoA46iOiJzDUr/dKZQ5gkQIzC6oKFPO8y5P00Vj+KNkSIVzegqYhZ3pgb3X84jsnzta+Uc1MkmZwnYF6tj5QDLWSsEPz3YRk+t36Iys/e","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"c32cff6da6ea47039f66e08d48e2b422"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:26:34 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=c32cff6da6ea47039f66e08d48e2b422
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBqGWOYXwql5252dBzbLbnRZFKCTi0v/r+J6Vu34z890AvNWHY7eAhlk+RHTHapPtOVG9+duUzwZ+DGoGXMvAPKVJrBCPAshssJGefYBdBT0r3IxDd5zsrPxOTpoMpu5NTrPpe2WxVlt+hnbUcrAOkJ+Ic+lBVGDj1axpy3MN50tkX6dKZWv9X+31F0FRXKgxzbdcTN6celjW/B5w6KMNX4gphShD5kClhSnXnGVuqHSQpvoA46iOiJzDUr/dKZQ5gkQIzC6oKFPO8y5P00Vj+KNkSIVzegqYhZ3pgb3X84jsnzta+Uc1MkmZwnYF6tj5QDLWSsEPz3YRk+t36Iys/e","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"c32cff6da6ea47039f66e08d48e2b422"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:26:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_existing_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:36 GMT
      duration:
      - '2286378'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 9PLMZOsPzAG28hEmh9stqsUktDvsXJASxrWFCKeN2qc=
      ocp-aad-session-key:
      - zp5YR6dCfEo7U-da5nvLTOiU4J_WJIGftRCiIIiLPSzh6azBLZYQbCppaCnFi3W2viqYex5RHbWCeUYv99C4o0vCGEJTtHMH9g1NI41Luynwq_Vx2VYJ3Eqqt5klojU2KA8nehTn5G7-2H8r9LAkwVVk3GkliBgZtz-bN0hcif8.wqUfwT7AePZBgCdNkT7oEo4K8Lafmz-9Nq7kNh6lRk8
      pragma:
      - no-cache
      request-id:
      - bf0bd577-2845-4032-8018-62aad9ee985b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/d6e92294ce0b4ee1b751523996874cf4","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/d6e92294ce0b4ee1b751523996874cf4","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/d6e92294ce0b4ee1b751523996874cf4","x5t":"NuT2riVb3Qh_E-qJxGV8gXid1WM","cer":"MIIDQjCCAiqgAwIBAgIQazaSHBRESmayl+oLAUPd+jANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTYzNVoXDTI0MDIxNzA1MjYzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAb8E+JZ94EuFYI/me5MkYhOYKzN/fbKtSQZKButlvd/rPzlK/njS6aXkcZl9jUXbTT83Xx5R4ymhtgdyOAgM5NTu4z3f0uP9DZH9FXE583lF3AHF/2IwetuhHjFPfdmtE6ck4vNz4Dq9w1tsKHV9xL0QCcCHE9LIi1Og/xQFkJeQt8yDAITQ4hk6gwl0UP8QMZF6bGTjCgLQCadNidh/+zcUNwUG3ptNAP9wNv3rtpbq6mQ8RfH/l4JQy+ApxdxWcIYbdTDk+1l2SbrQEDbIa7em0jwZZYaaoo8z63rs93utyFqI+Ih8sMyXbh/0lR3Dpsav1gkM+usd/pMYzP2l1RQ==","attributes":{"enabled":true,"nbf":1645074995,"exp":1708147595,"created":1645075595,"updated":1645075595,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075594,"updated":1645075594}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2409'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:26:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:38 GMT
      duration:
      - '2365022'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 9PLMZOsPzAG28hEmh9stqsUktDvsXJASxrWFCKeN2qc=
      ocp-aad-session-key:
      - CAmCgm7v-n-ipGnrQEWSgcBhI_cyJ8SZs8zLRWp1xwiRCi_bX_bNIur7wtEiRZxGS3cEWEXkuWo7cSZRDKR1gR18UsnGmSo92NYNrk8S7_YT9z-sh9jXFxSWSIgJgENvxYwJLxl6E21ko_b-E_uvU0tt37yZy70eP09HVMqUaTE.ejUl96YgBAIzaqB6wbKl3tYff3uftODRvCNGwseH5Mg
      pragma:
      - no-cache
      request-id:
      - c14a120f-389e-43b0-ab90-db6f0dd11850
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "keyCredentials": [{"startDate": "2022-02-17T05:26:36.995936Z",
      "endDate": "2023-02-17T05:26:36.995936Z", "value": "MIIDQjCCAiqgAwIBAgIQazaSHBRESmayl+oLAUPd+jANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTYzNVoXDTI0MDIxNzA1MjYzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAb8E+JZ94EuFYI/me5MkYhOYKzN/fbKtSQZKButlvd/rPzlK/njS6aXkcZl9jUXbTT83Xx5R4ymhtgdyOAgM5NTu4z3f0uP9DZH9FXE583lF3AHF/2IwetuhHjFPfdmtE6ck4vNz4Dq9w1tsKHV9xL0QCcCHE9LIi1Og/xQFkJeQt8yDAITQ4hk6gwl0UP8QMZF6bGTjCgLQCadNidh/+zcUNwUG3ptNAP9wNv3rtpbq6mQ8RfH/l4JQy+ApxdxWcIYbdTDk+1l2SbrQEDbIa7em0jwZZYaaoo8z63rs93utyFqI+Ih8sMyXbh/0lR3Dpsav1gkM+usd/pMYzP2l1RQ==",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert000001",
      "identifierUris": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1453'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "6d699fea-0cec-43d5-a220-9c71f2cca156", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "912576fa-3028-4ae4-96bc-1d6598154d4f",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_existing_cert000001", "errorUrl":
        null, "groupMembershipClaims": null, "homepage": null, "identifierUris": [],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [{"customKeyIdentifier": "36E4F6AE255BDD087F13EA89C4657C81789DD563", "endDate":
        "2023-02-17T05:26:36.995936Z", "keyId": "88888888-0000-0000-0000-000000000001",
        "startDate": "2022-02-17T05:26:36.995936Z", "type": "AsymmetricX509Cert",
        "usage": "Verify", "value": null}], "knownClientApplications": [], "logoutUrl":
        null, "logo@odata.mediaEditLink": "directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_existing_cert000001 on
        behalf of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert000001",
        "id": "18b6452b-9291-4d45-93fc-c77cda3aee5e", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_existing_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2547'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:39 GMT
      duration:
      - '4189323'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - J1IvU7bKe/aK2FqeWPBq6SNlxRJeLa2CYnjoW61ndBM=
      ocp-aad-session-key:
      - JYIjoZxTXCXD2NCfZKG29mFENozcwjIC2zP_eguGqMiMU9Bod6tUU_7SJhB6Xe-hu9vKzEyrpEK3qGpUQgBW8HVwAkXx44AgA3kKDfm4QA1YYbzEtMbeL4sx_izDn6ENiwsW02FU5BjiOKtHpYk1aRhOm3ME4Ah-S1zEUdWFCuI.V6fGuqlebk4Eft1cJ1rQAgLf25RGSIHyemkj531DFws
      pragma:
      - no-cache
      request-id:
      - d7ed0726-57ca-4980-be63-eb2d8a78736c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "912576fa-3028-4ae4-96bc-1d6598154d4f"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"5e9f931a-733f-415e-b8b5-be658205721b","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"912576fa-3028-4ae4-96bc-1d6598154d4f","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"18b6452b-9291-4d45-93fc-c77cda3aee5e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["912576fa-3028-4ae4-96bc-1d6598154d4f"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1772'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:39 GMT
      duration:
      - '3301138'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/5e9f931a-733f-415e-b8b5-be658205721b/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - 9PLMZOsPzAG28hEmh9stqsUktDvsXJASxrWFCKeN2qc=
      ocp-aad-session-key:
      - KqQbf7zVQZnSGvrLdqz8rlZDlX7wx83Qtlol4Pa8n0ClVshYY2H52nQggoJOqBTI_E7Q2oj3KoLAQPf_NODB0ZPPt2XwAU51oFl306Ab1H9kByxJUaq_jt7Ns9Y5424D95ztdNzlmjgoc5SxR1C4R3gVP9kHLV_wLJATNFTuFHg.7Gv9AQCe8gjZsFsNQpEksIexz5gUbWwCeevMbKjwv8s
      pragma:
      - no-cache
      request-id:
      - 4c83bf40-6222-4562-9c1d-404c573e4808
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27912576fa-3028-4ae4-96bc-1d6598154d4f%27%29%20or%20displayName%20eq%20%27912576fa-3028-4ae4-96bc-1d6598154d4f%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"5e9f931a-733f-415e-b8b5-be658205721b","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"912576fa-3028-4ae4-96bc-1d6598154d4f","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"18b6452b-9291-4d45-93fc-c77cda3aee5e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["912576fa-3028-4ae4-96bc-1d6598154d4f"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1775'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:40 GMT
      duration:
      - '2528776'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - gPnpdqpwyGrDEewN8wjIW0CFeFa4Hzg72WshawB8akU=
      ocp-aad-session-key:
      - e_xnWN4m_qvZQaz5VFZM5MLAZMOII4o0CuYX1ns4xDHfB7drN_k9SYY7nco-XHQtToWHLtCown3LtvLRlnIPnnk0H71bwFn5FsPYk-Kt0DOVKt6ppG2WGFaA1fRYbV4vTdTYf8rhARYt__n5a5UbNNFG0Dua13M2YHaI3Lov5mQ.Spze9SRg4PgfkcciblfKknYDuu0nK3YyWSO1HolMevY
      pragma:
      - no-cache
      request-id:
      - 9618f9ea-c507-4a17-84ef-ea0d4ee557a0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27912576fa-3028-4ae4-96bc-1d6598154d4f%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:40 GMT
      duration:
      - '2455487'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - u11sZ1okdFR7AgX/xQW9UqLFNnN36ADlvUxx28vfye0=
      ocp-aad-session-key:
      - zSg9RxmkdNmu_PUMufZp-R_TJSXhWZtBE791GQEaThZu8jikgZ7yvh9nF0qRt9iec9nMKCJJlYPdI4WpawvPf_aQRcDaoYnP7W-Cha0JORBkmkVGYqD3-vzTI6L1FwgHFBOK-UdNC8yemHkggqcETJFvYzjBenuBtBEPsaOu1Hs.RKJDWkbmKdw57jpCNQJ_nkrDbYSoq87YE89sgGPkycM
      pragma:
      - no-cache
      request-id:
      - 1b556b42-e5ed-435d-8f47-cb599fbd190b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27912576fa-3028-4ae4-96bc-1d6598154d4f%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"6d699fea-0cec-43d5-a220-9c71f2cca156","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"912576fa-3028-4ae4-96bc-1d6598154d4f","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"36E4F6AE255BDD087F13EA89C4657C81789DD563","endDate":"2023-02-17T05:26:36.995936Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2022-02-17T05:26:36.995936Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"18b6452b-9291-4d45-93fc-c77cda3aee5e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2343'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:41 GMT
      duration:
      - '2510816'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - J1IvU7bKe/aK2FqeWPBq6SNlxRJeLa2CYnjoW61ndBM=
      ocp-aad-session-key:
      - zfkpgVxUMfWsoQkzk7b_rP9AxdGyJRqCkfgKXBzYwVWvC6wRcBsiQdAz_Rss-CPTZEsmDQgPw4aNV64khBfV3Y4fkVBjNbUrzIf_uxjs7gP5zrrf-u7lbgXwhRI8oGwFLWC81Q4sfK5Krr8ANDO0RjpargdOPPMxXWpMon7huxk.Oyvj1mSXRpqXn14_yApz-69O7ZOl9_VYF-DChYhJBN0
      pragma:
      - no-cache
      request-id:
      - 5b30eb6f-2584-474e-b890-642e5086e980
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/6d699fea-0cec-43d5-a220-9c71f2cca156?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"6d699fea-0cec-43d5-a220-9c71f2cca156","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"912576fa-3028-4ae4-96bc-1d6598154d4f","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"36E4F6AE255BDD087F13EA89C4657C81789DD563","endDate":"2023-02-17T05:26:36.995936Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2022-02-17T05:26:36.995936Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"18b6452b-9291-4d45-93fc-c77cda3aee5e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2340'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:41 GMT
      duration:
      - '2380521'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 9PLMZOsPzAG28hEmh9stqsUktDvsXJASxrWFCKeN2qc=
      ocp-aad-session-key:
      - 5zviYIwaK2JBH0hk1AhnA_-aAEMdDXvNjWGJOg-yObhAfy46JIFz1F99S8ZDAEq-fgogi8cOYPOoYHZVqQGnjWrLWAMUKG7fCRet4chZ8v4yATcHsUPvKfQOvbI7ixER1dmR73EiSE_yzgRDyBnI-9eauT2GXRMxvRz4e3HpMdk.kypGlRySUho74LDuL6qvt1gPTi2rAVyGAiyRknhpJXw
      pragma:
      - no-cache
      request-id:
      - a3d32357-51b4-4980-a0ae-32c9f8dc7579
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/d6e92294ce0b4ee1b751523996874cf4","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/d6e92294ce0b4ee1b751523996874cf4","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/d6e92294ce0b4ee1b751523996874cf4","x5t":"NuT2riVb3Qh_E-qJxGV8gXid1WM","cer":"MIIDQjCCAiqgAwIBAgIQazaSHBRESmayl+oLAUPd+jANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTYzNVoXDTI0MDIxNzA1MjYzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAb8E+JZ94EuFYI/me5MkYhOYKzN/fbKtSQZKButlvd/rPzlK/njS6aXkcZl9jUXbTT83Xx5R4ymhtgdyOAgM5NTu4z3f0uP9DZH9FXE583lF3AHF/2IwetuhHjFPfdmtE6ck4vNz4Dq9w1tsKHV9xL0QCcCHE9LIi1Og/xQFkJeQt8yDAITQ4hk6gwl0UP8QMZF6bGTjCgLQCadNidh/+zcUNwUG3ptNAP9wNv3rtpbq6mQ8RfH/l4JQy+ApxdxWcIYbdTDk+1l2SbrQEDbIa7em0jwZZYaaoo8z63rs93utyFqI+Ih8sMyXbh/0lR3Dpsav1gkM+usd/pMYzP2l1RQ==","attributes":{"enabled":true,"nbf":1645074995,"exp":1708147595,"created":1645075595,"updated":1645075595,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075594,"updated":1645075594}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2409'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:26:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2022-02-17T05:26:40.3007Z", "endDate":
      "2023-02-17T05:26:40.3007Z", "value": "MIIDQjCCAiqgAwIBAgIQazaSHBRESmayl+oLAUPd+jANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTYzNVoXDTI0MDIxNzA1MjYzNVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAb8E+JZ94EuFYI/me5MkYhOYKzN/fbKtSQZKButlvd/rPzlK/njS6aXkcZl9jUXbTT83Xx5R4ymhtgdyOAgM5NTu4z3f0uP9DZH9FXE583lF3AHF/2IwetuhHjFPfdmtE6ck4vNz4Dq9w1tsKHV9xL0QCcCHE9LIi1Og/xQFkJeQt8yDAITQ4hk6gwl0UP8QMZF6bGTjCgLQCadNidh/+zcUNwUG3ptNAP9wNv3rtpbq6mQ8RfH/l4JQy+ApxdxWcIYbdTDk+1l2SbrQEDbIa7em0jwZZYaaoo8z63rs93utyFqI+Ih8sMyXbh/0lR3Dpsav1gkM+usd/pMYzP2l1RQ==",
      "keyId": "f9c726d9-bb1a-4824-819b-2ef1f869fa45", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1335'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/6d699fea-0cec-43d5-a220-9c71f2cca156?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:26:44 GMT
      duration:
      - '3574527'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - hYrBED3tRVEUXCFYju-ye17Ud_kreVDpi5NA_Euh4Mf597Gwa_ytP4vwhwmzeN9MiG8C0uUJXQ42P5ANRr9030lbjcivGSm9hEJPR3WvpBmp_bIGJPbiolznJJrsEIsLVJUjup4Yh5jZNO4FwRfEuNh6r4U1ajKItK3O4JQ73s4.1dIwJdlPkVhZmXY6-nsdFLecmnn6TmuaJs9Yw334HMs
      pragma:
      - no-cache
      request-id:
      - 014e85fc-1997-4481-b528-9e1cd9d83eee
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27912576fa-3028-4ae4-96bc-1d6598154d4f%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:44 GMT
      duration:
      - '2512030'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - RAs7YkAh2RxhVMOZu6/MMLs8+jQs7SfVNACQ1peAx6E=
      ocp-aad-session-key:
      - 0iSppkNqHBTZcl5orKtApPM1kragHjnmEzJ_JBsulL6ZYYiCJbPvvG4lRH5NN3FKV5S_y90TuYdDokL-BIWhEtWzisk-DEf-UucH8MiMCGmF0KMsdmEuChJ_fxxB0wmmP-zi4cW3ShmEKYvu8B99nTY7ienOzvDlxlCkzYLPD8A.paWzNBtt01LnM1IaVmgklYFz6ggRPVeiwy2tZn2WPbU
      pragma:
      - no-cache
      request-id:
      - 75935d1b-cb20-48cd-9cd3-00978087a72c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27912576fa-3028-4ae4-96bc-1d6598154d4f%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"6d699fea-0cec-43d5-a220-9c71f2cca156","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"912576fa-3028-4ae4-96bc-1d6598154d4f","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"36E4F6AE255BDD087F13EA89C4657C81789DD563","endDate":"2023-02-17T05:26:40.3007Z","keyId":"f9c726d9-bb1a-4824-819b-2ef1f869fa45","startDate":"2022-02-17T05:26:40.3007Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/6d699fea-0cec-43d5-a220-9c71f2cca156/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"18b6452b-9291-4d45-93fc-c77cda3aee5e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2339'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:26:45 GMT
      duration:
      - '2598177'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - J1IvU7bKe/aK2FqeWPBq6SNlxRJeLa2CYnjoW61ndBM=
      ocp-aad-session-key:
      - sI7OSNmhh_kMWpI8qv1tc0H_AFpzeSxbYODMg4fzKHz0pvij6-GM8SjG5VzrxYjfZ_0KeQHHsLjlJdLHnGeOax-Tu7ksg-Nmc0IAly-KZyA4x5PeGmozQq4u7R8cpxkQDBoUwnF6AhkaOwBwGXs_c-poQh4WnBy2HH5qNNuGEz0.dmsSE1xm3O6BAAGpw7ZQ-W5vmQp6jNH-3q69l7eNkeA
      pragma:
      - no-cache
      request-id:
      - 9a591280-3197-4789-82f4-04b79a8a735c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/6d699fea-0cec-43d5-a220-9c71f2cca156?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:26:45 GMT
      duration:
      - '3500145'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - _zUC9seZt6PiS_RaEZPD45nz9QTAVT1z1puUDf6RwKSZrv7d6DqUZUbfKh8YTsmJwwrD8ArBFb2s2lwRq7SaAa77azFSlrkBR90QbY0oaqygF8IjPxRBDwF8EpTUzRgFA6Fskxd1A65dmYoCJlt8s0l_CvFqi_BQtvOGA8DzCp0.5zzD0M0UHfc390Eu8ZHt-bred6o9meJ5Hr6x2BX5-jo
      pragma:
      - no-cache
      request-id:
      - fff42517-f0d9-4052-80cf-634768142cc2
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 6}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '510'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBqGWOYXwql5252dBzbLbnRZFKCTi0v/r+J6Vu34z890AvNWHY7eAhlk+RHTHapPtOVG9+duUzwZ+DGoGXMvAPKVJrBCPAshssJGefYBdBT0r3IxDd5zsrPxOTpoMpu5NTrPpe2WxVlt+hnbUcrAOkJ+Ic+lBVGDj1axpy3MN50tkX6dKZWv9X+31F0FRXKgxzbdcTN6celjW/B5w6KMNX4gphShD5kClhSnXnGVuqHSQpvoA46iOiJzDUr/dKZQ5gkQIzC6oKFPO8y5P00Vj+KNkSIVzegqYhZ3pgb3X84jsnzta+Uc1MkmZwnYF6tj5QDLWSsEPz3YRk+t36Iys/e","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"a6a22ad8da104d6097f3a8095693e150"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:26:48 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=a6a22ad8da104d6097f3a8095693e150
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBqGWOYXwql5252dBzbLbnRZFKCTi0v/r+J6Vu34z890AvNWHY7eAhlk+RHTHapPtOVG9+duUzwZ+DGoGXMvAPKVJrBCPAshssJGefYBdBT0r3IxDd5zsrPxOTpoMpu5NTrPpe2WxVlt+hnbUcrAOkJ+Ic+lBVGDj1axpy3MN50tkX6dKZWv9X+31F0FRXKgxzbdcTN6celjW/B5w6KMNX4gphShD5kClhSnXnGVuqHSQpvoA46iOiJzDUr/dKZQ5gkQIzC6oKFPO8y5P00Vj+KNkSIVzegqYhZ3pgb3X84jsnzta+Uc1MkmZwnYF6tj5QDLWSsEPz3YRk+t36Iys/e","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"a6a22ad8da104d6097f3a8095693e150"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:26:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBqGWOYXwql5252dBzbLbnRZFKCTi0v/r+J6Vu34z890AvNWHY7eAhlk+RHTHapPtOVG9+duUzwZ+DGoGXMvAPKVJrBCPAshssJGefYBdBT0r3IxDd5zsrPxOTpoMpu5NTrPpe2WxVlt+hnbUcrAOkJ+Ic+lBVGDj1axpy3MN50tkX6dKZWv9X+31F0FRXKgxzbdcTN6celjW/B5w6KMNX4gphShD5kClhSnXnGVuqHSQpvoA46iOiJzDUr/dKZQ5gkQIzC6oKFPO8y5P00Vj+KNkSIVzegqYhZ3pgb3X84jsnzta+Uc1MkmZwnYF6tj5QDLWSsEPz3YRk+t36Iys/e","cancellation_requested":false,"status":"completed","target":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1","request_id":"a6a22ad8da104d6097f3a8095693e150"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:27:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_existing_cert0000012%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:02 GMT
      duration:
      - '13872705'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - g3GHCLC2VuCK0y75aaOFxEYx9lRaxz2KFzfXeQUdUq0=
      ocp-aad-session-key:
      - VdkyFddiaHsBUjbME_tVKLA1--4lbKTVy__El60KjecjUM_7b0qBvtS6yaQFvb8qo7_t0s64GcXtgz-QPVN89NT_PijDzLt7YmTwv6_2v_YkrTDp2dDUHLkaJuIdS25CBnz3MQc1XJLlHdiA9hx1rEQJcTgWkFZ49tM7jJkV21c.VCKLtylPOYgp1ruWXEJ8i1R1YapjDF01I1qrmQ6KgDo
      pragma:
      - no-cache
      request-id:
      - af9b2ce3-c458-4a1d-81ec-e282819576b9
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/fe27ec32e1fd43ad8ce4e05845521446","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/fe27ec32e1fd43ad8ce4e05845521446","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/fe27ec32e1fd43ad8ce4e05845521446","x5t":"cNRuw9IHAevMVn4JRBD_WU_YpQg","cer":"MIIDQjCCAiqgAwIBAgIQYn15e44GRzGoPczGgHyNWzANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTY1MVoXDTIyMDgxNzA1MjY1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAMlyLrQBKHHfQQEZnv0K1XUCQ6QnPQeOsmigwn0HutnOMl0eNWE4fivNnj5pL7A3F7oeTygfXlZI7HsSgDD9pWbQz4KkT2Cu8L8HOYL4imxEZFbIgNbXPARHEUL4BC5juEo5bApeInR66AL2F7dyRHXpxcKcPI3dIkpQWCMtfKIlRsTb7WH+46HZJazyUZp4qy7Qj6mFTV3vfk/N9d6VvOcG6JviBIeVmTOkzHEHvZnXeMNw5AVSa8rin37FzmmpUnBly/t3zoVQzzqotnUBx7Jw+KQVQDA1eT9Tosi5SjDQ7HCxX9eRQ3WrXj11JJGBl++CUrJkJruuns84rctZ+fw==","attributes":{"enabled":true,"nbf":1645075011,"exp":1660714011,"created":1645075611,"updated":1645075611,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075594,"updated":1645075608}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2408'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:27:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:04 GMT
      duration:
      - '2391977'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - DAw5Xouni4vnNqdG5CMIO5OXDPvNDM9oBrq9N9oHH38=
      ocp-aad-session-key:
      - S-LOxn9iAx5yo4CAaygoCVhsKIawrm85kdYi0J7j08dw84mSN8cBC4GPBKeHrUVoz3zxBZ1gvZUFhO0P_JFD8bt1ifaJjUdC3QtAITxUq5wbQkRoA2DP04--9_F61mT6Y1I0Sy9KxacydkTeWLcnATXmZ9JwZP3IsUCUSOF5Xb4.5MEnMnLO8r1uoG2fPJw9AzVFV1z_qZnAa54OBP8W26Q
      pragma:
      - no-cache
      request-id:
      - 9af0be80-07a7-419a-97c7-cca846a0a9aa
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "keyCredentials": [{"startDate": "2022-02-17T05:27:03.183711Z",
      "endDate": "2022-08-17T05:26:50.000Z", "value": "MIIDQjCCAiqgAwIBAgIQYn15e44GRzGoPczGgHyNWzANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTY1MVoXDTIyMDgxNzA1MjY1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAMlyLrQBKHHfQQEZnv0K1XUCQ6QnPQeOsmigwn0HutnOMl0eNWE4fivNnj5pL7A3F7oeTygfXlZI7HsSgDD9pWbQz4KkT2Cu8L8HOYL4imxEZFbIgNbXPARHEUL4BC5juEo5bApeInR66AL2F7dyRHXpxcKcPI3dIkpQWCMtfKIlRsTb7WH+46HZJazyUZp4qy7Qj6mFTV3vfk/N9d6VvOcG6JviBIeVmTOkzHEHvZnXeMNw5AVSa8rin37FzmmpUnBly/t3zoVQzzqotnUBx7Jw+KQVQDA1eT9Tosi5SjDQ7HCxX9eRQ3WrXj11JJGBl++CUrJkJruuns84rctZ+fw==",
      "keyId": "88888888-0000-0000-0000-000000000002", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert0000012",
      "identifierUris": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1451'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "f9eddd8f-26df-4743-9ff8-f703b726c2bc", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "9ede8746-73f2-4baf-ab79-d67282b76e51",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_existing_cert0000012", "errorUrl":
        null, "groupMembershipClaims": null, "homepage": null, "identifierUris": [],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [{"customKeyIdentifier": "70D46EC3D20701EBCC567E094410FF594FD8A508", "endDate":
        "2022-08-17T05:26:50Z", "keyId": "88888888-0000-0000-0000-000000000002", "startDate":
        "2022-02-17T05:27:03.183711Z", "type": "AsymmetricX509Cert", "usage": "Verify",
        "value": null}], "knownClientApplications": [], "logoutUrl": null, "logo@odata.mediaEditLink":
        "directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_existing_cert0000012
        on behalf of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert0000012",
        "id": "1517c469-ed08-48ca-a983-1a2f2e3010b2", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_existing_cert0000012
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_existing_cert0000012",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2545'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:05 GMT
      duration:
      - '4119987'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - g3GHCLC2VuCK0y75aaOFxEYx9lRaxz2KFzfXeQUdUq0=
      ocp-aad-session-key:
      - xCPz5Sc-9zbsGBHQH8xXbirTOogJh1W-epEKR3qr_KiNPUP55_v_NidOon96sVQBFTS_fsZzcQlHx0ozr4HXM8RO-iNzPbTAZ4X_O-cjhO6wP2Gna819z7z5b85NCLUcle9ton4M8Lzt59YKEIh3uNEFnKJtfPa7tr112KXagcw.2yHdq4OMVjHSD6y97F9UyvoEfOdsLtuoNe3r5dHS6Z4
      pragma:
      - no-cache
      request-id:
      - bc1a438d-5645-47a4-9327-a0d8b73bc980
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "9ede8746-73f2-4baf-ab79-d67282b76e51"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --keyvault --cert -n
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"4375d941-2bee-44d5-a070-94f7f17553cc","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"9ede8746-73f2-4baf-ab79-d67282b76e51","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"1517c469-ed08-48ca-a983-1a2f2e3010b2","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["9ede8746-73f2-4baf-ab79-d67282b76e51"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1778'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:05 GMT
      duration:
      - '3344241'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/4375d941-2bee-44d5-a070-94f7f17553cc/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - YawNQr1dZQ305g4BraOh4D2uiFNsxdHpUlcdUQYyck0=
      ocp-aad-session-key:
      - S9iD1rL08XYe2QD1s0zU-tGKiphVeeYHvqc87LKTsWjTtKiQxDuaNF7l12MftVJHuPjksJoBAE5KCogRQa3pDq5bEAz1LZoDIe0dWQyTSKkpk5Pvx7IMhZwa_XQocqPXuqRRdd6ovFqTkeszLI0erGyuc1YNVTFutoh4dksNams.GJT2kfSxVqV78jDonBLRsugIr5h4WTeDqlfbe3oJ9cM
      pragma:
      - no-cache
      request-id:
      - 07f0c794-97dd-4d7c-a98f-4ddd533d6111
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%279ede8746-73f2-4baf-ab79-d67282b76e51%27%29%20or%20displayName%20eq%20%279ede8746-73f2-4baf-ab79-d67282b76e51%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"4375d941-2bee-44d5-a070-94f7f17553cc","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"9ede8746-73f2-4baf-ab79-d67282b76e51","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"1517c469-ed08-48ca-a983-1a2f2e3010b2","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["9ede8746-73f2-4baf-ab79-d67282b76e51"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1781'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:06 GMT
      duration:
      - '2953960'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - g3GHCLC2VuCK0y75aaOFxEYx9lRaxz2KFzfXeQUdUq0=
      ocp-aad-session-key:
      - YUECge85zOc6XI_PUEPh8K2_gN-PIEGJcUpNuOOUsT9iTL1GmlSXYyy-A-QPhvkXEpMxirR1nALd-PX3gjfPbHEkJ46cKELqn7VCsx6EBiByOObm6loUpBvGVQahrIqtfKeXCvOdeY5An_J7h6pVxuQzQvtFWwmYMwd9ZaPA1lU.bSKBhBIScPAoEsPd8u_kFocLqDnqq9vxN7jlSqLihm8
      pragma:
      - no-cache
      request-id:
      - f8d594f2-40a5-444c-9853-d3488f68986c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%279ede8746-73f2-4baf-ab79-d67282b76e51%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:07 GMT
      duration:
      - '2406782'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - gPnpdqpwyGrDEewN8wjIW0CFeFa4Hzg72WshawB8akU=
      ocp-aad-session-key:
      - dmUi0JPAbVIdD4EYgokSU4e3I5l-euAqIU25LwMsaX7sEHoVUMDeed9jMrExh_SeCWWaCrBJWqxTU7p2-VR-kst06LzbQphN-7-uD33JRse0BlVrEvs5Gd9MBuHDhvnMImRc0nOwL2gJD_q0jIbZuIFaTrt6Gr8SUyZ74SviXO0.S8qhGg0HqZAcN1RlrrWMe_v_gtiICOXVvJqSEAydNKk
      pragma:
      - no-cache
      request-id:
      - 8e1d0592-09a8-40c4-a780-a2ec3e418ed8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%279ede8746-73f2-4baf-ab79-d67282b76e51%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"f9eddd8f-26df-4743-9ff8-f703b726c2bc","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"9ede8746-73f2-4baf-ab79-d67282b76e51","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"70D46EC3D20701EBCC567E094410FF594FD8A508","endDate":"2022-08-17T05:26:50Z","keyId":"88888888-0000-0000-0000-000000000002","startDate":"2022-02-17T05:27:03.183711Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"1517c469-ed08-48ca-a983-1a2f2e3010b2","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2341'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:07 GMT
      duration:
      - '2684258'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - EXN4oijypxf4f_sBKu-SoYfugXFDphbs6rn_BiTRHUY_ZXXLzGYA7fxtx47AcTep8rCdtvWlQjutbbFUBrzOuUDuxdDGZ9VduN2YQrw3il7h-MxpKQaZTKhS_8Xnw78mqrxvQG3benQJHdRdhcoWSmHf9_tLtStdRFOAldaBdcM.49ric6wPYFK3Mjoc9SPnFfmt68dq7ZjbWSRRaPoh1XI
      pragma:
      - no-cache
      request-id:
      - 2ec63aca-501f-4770-8397-30112143a6f1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/f9eddd8f-26df-4743-9ff8-f703b726c2bc?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"f9eddd8f-26df-4743-9ff8-f703b726c2bc","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"9ede8746-73f2-4baf-ab79-d67282b76e51","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"70D46EC3D20701EBCC567E094410FF594FD8A508","endDate":"2022-08-17T05:26:50Z","keyId":"88888888-0000-0000-0000-000000000002","startDate":"2022-02-17T05:27:03.183711Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"1517c469-ed08-48ca-a983-1a2f2e3010b2","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2338'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:08 GMT
      duration:
      - '2398848'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 9PLMZOsPzAG28hEmh9stqsUktDvsXJASxrWFCKeN2qc=
      ocp-aad-session-key:
      - AVYch4MUpVP8IAaHVz6Al9j7GOcTCdqoxdOl9LbeBBBJJ2RIzGAqqYOylwEl605GGRFmgVFiBUco_Je4Il4jESYUailrPMYQScmj6__jdNJXbO1O13qgSvxENa2ncuxshuYhKKKQ9rZ3hrWbie5sugVbg1jD39l-B6jmNdi1RK4.0_1zhAY3fGBvR3SxL_-sM2ZyF4_bdWI-msr24FdqVj8
      pragma:
      - no-cache
      request-id:
      - 21c3c99a-f0c4-418b-8a60-4fddf5b8755d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/fe27ec32e1fd43ad8ce4e05845521446","kid":"https://test-rbac-exist-kv000002.vault.azure.net/keys/cert1/fe27ec32e1fd43ad8ce4e05845521446","sid":"https://test-rbac-exist-kv000002.vault.azure.net/secrets/cert1/fe27ec32e1fd43ad8ce4e05845521446","x5t":"cNRuw9IHAevMVn4JRBD_WU_YpQg","cer":"MIIDQjCCAiqgAwIBAgIQYn15e44GRzGoPczGgHyNWzANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTY1MVoXDTIyMDgxNzA1MjY1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAMlyLrQBKHHfQQEZnv0K1XUCQ6QnPQeOsmigwn0HutnOMl0eNWE4fivNnj5pL7A3F7oeTygfXlZI7HsSgDD9pWbQz4KkT2Cu8L8HOYL4imxEZFbIgNbXPARHEUL4BC5juEo5bApeInR66AL2F7dyRHXpxcKcPI3dIkpQWCMtfKIlRsTb7WH+46HZJazyUZp4qy7Qj6mFTV3vfk/N9d6VvOcG6JviBIeVmTOkzHEHvZnXeMNw5AVSa8rin37FzmmpUnBly/t3zoVQzzqotnUBx7Jw+KQVQDA1eT9Tosi5SjDQ7HCxX9eRQ3WrXj11JJGBl++CUrJkJruuns84rctZ+fw==","attributes":{"enabled":true,"nbf":1645075011,"exp":1660714011,"created":1645075611,"updated":1645075611,"recoveryLevel":"CustomizedRecoverable+Purgeable"},"policy":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1645075594,"updated":1645075608}},"pending":{"id":"https://test-rbac-exist-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2408'
      content-type:
      - application/json; charset=utf-8
      date:
      - Thu, 17 Feb 2022 05:27:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.27;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.276.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2022-02-17T05:27:06.554522Z", "endDate":
      "2022-08-17T05:26:50.000Z", "value": "MIIDQjCCAiqgAwIBAgIQYn15e44GRzGoPczGgHyNWzANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTIyMDIxNzA1MTY1MVoXDTIyMDgxNzA1MjY1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKf9NpO2x4DIc+f261IslaFLByDb09hs73UF82Bcbr3NULhZhU7PChC+JzPdF6wV2xNHELBs2gj1bgJ1KnZENOi4a3T/gHLLNH6E3XMVTbtnWnwORFdyOsTAqwAij0aNaLorlYQ8YAsBXeTeaVN+LCdJs7ye92wfAzknojMn5KrbU17nj/NPEgaVIObrfHwjLpU5uPgCb+RZxuR9Wn3FpcLtp7yFbB54KMyixFpBmzy/N/X1V+MibYTlcX5zin8Qpkmz37srY1eVq5dsJrc9QC60bOOaghH8gOsUGKTV7MyKipQawT3bZvdq8sE9W3dRDv8sZ/4XFG8EfVqjx29LhBkCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFHojVkRuaHvzsCaOebKoEIG8jowpMB0GA1UdDgQWBBR6I1ZEbmh787AmjnmyqBCBvI6MKTANBgkqhkiG9w0BAQsFAAOCAQEAMlyLrQBKHHfQQEZnv0K1XUCQ6QnPQeOsmigwn0HutnOMl0eNWE4fivNnj5pL7A3F7oeTygfXlZI7HsSgDD9pWbQz4KkT2Cu8L8HOYL4imxEZFbIgNbXPARHEUL4BC5juEo5bApeInR66AL2F7dyRHXpxcKcPI3dIkpQWCMtfKIlRsTb7WH+46HZJazyUZp4qy7Qj6mFTV3vfk/N9d6VvOcG6JviBIeVmTOkzHEHvZnXeMNw5AVSa8rin37FzmmpUnBly/t3zoVQzzqotnUBx7Jw+KQVQDA1eT9Tosi5SjDQ7HCxX9eRQ3WrXj11JJGBl++CUrJkJruuns84rctZ+fw==",
      "keyId": "a0ce8c4a-b9cb-42e4-ad2c-8581e288a780", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1336'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/f9eddd8f-26df-4743-9ff8-f703b726c2bc?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:27:10 GMT
      duration:
      - '3974074'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y14Dpr6leD4UVfrzdRG1VJxF7/mw+HEvVSmSmtMwt80=
      ocp-aad-session-key:
      - ZSjWpVGh0L642pBD7JJwj07CRcJFY3n7L5H28jzdN-SFxiaBEvYNUcMfmw7HRBvajnX_zbN2Q_tGkghHw8dEZGS00iUMOXCBTS5nYC-VImCIXRBi1ZqUY680fF_SIX44EkceQeXdjpiIABQzqMlJALhPwCOn9f-u0DwixN1qtig.1XAhRMfGrqwtGEyhKqd2-MdVcTY1JiYev8TwbAqjK1U
      pragma:
      - no-cache
      request-id:
      - 197ff827-c195-4f96-a449-b1b24400881e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%279ede8746-73f2-4baf-ab79-d67282b76e51%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:11 GMT
      duration:
      - '2448514'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - v5BsBCaRkT-lJSAhxIiJ9OJC-wV1e_SI4laJs1WS2FmQ247ZBztF0rwwPWxQmlJKJvTFbletJCsJyHIxeSmAzqHGRLTSnzh4ZFPM6n-VtADb6uQ9EJSgv7wBoxfSuYHJ-Vn9JnhEDWGCTfR3GtAKKssPd8JSNrg6noc8ZrDnaqo.oFAEqtYVndl8bT7HneX1TqGFD-jw241HiFOYyRBWKG4
      pragma:
      - no-cache
      request-id:
      - 64c4a219-64bc-4baf-8543-3891fbd2bc20
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%279ede8746-73f2-4baf-ab79-d67282b76e51%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"f9eddd8f-26df-4743-9ff8-f703b726c2bc","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"9ede8746-73f2-4baf-ab79-d67282b76e51","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"70D46EC3D20701EBCC567E094410FF594FD8A508","endDate":"2022-08-17T05:26:50Z","keyId":"a0ce8c4a-b9cb-42e4-ad2c-8581e288a780","startDate":"2022-02-17T05:27:06.554522Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/f9eddd8f-26df-4743-9ff8-f703b726c2bc/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"1517c469-ed08-48ca-a983-1a2f2e3010b2","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2341'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 17 Feb 2022 05:27:11 GMT
      duration:
      - '2489655'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - DAw5Xouni4vnNqdG5CMIO5OXDPvNDM9oBrq9N9oHH38=
      ocp-aad-session-key:
      - r9qPnKBidAH5Q-9U8zygLCTHUFVQ1Rj1IxLtFdEquWGAo2oUe1fPwUoN6Nyur6Fd8R4TjsdkBEBRrGgc4E5uJv-cXcrOkHDLXOhnnS5Bd95fu8c_FFV1c_n8eDSVTMmNT8XyOBMBW1otWzU-w68kfRdO4iyupVGo0wPgg3fU-yw.fxB8HNiNXWeOHf12_sTGSz2Jv_i89FkwWkoeh_85TQ4
      pragma:
      - no-cache
      request-id:
      - 730dc7f6-7eec-46ee-9041-2947aeb5d0de
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.2 (Windows-10-10.0.19044-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.33.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/f9eddd8f-26df-4743-9ff8-f703b726c2bc?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 17 Feb 2022 05:27:12 GMT
      duration:
      - '3807623'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y2iXiMm2DZsPlDThXQrjP5np/vbJ131SFHRDIV8KDwA=
      ocp-aad-session-key:
      - 2eDpWJOCXJyKWiHjQRyzZ2WuHZp4CP758zkjs68bKivOnP1YHKhT2H0Ux78f9-D0tpmm81tXPhDHKCHv33FefnLTrTsYtBAEU6mwa7rOlAi1WoLjNRdsK-vxzoYthpRaPlSSErv5KbpyB7-4joEPxH7Sj7nM6qJUdhjUEmGVle0.6OGMnZDBzfcc1YR1Xn9NE1M6YVrG9cNEbFZ31hFmMi0
      pragma:
      - no-cache
      request-id:
      - ee07c04a-0c16-4b4d-b870-56ba30d31ed7
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
