interactions:
- request:
    body: '{"name": "dps000002"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '21'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2021-10-15
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1194'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-azure-mgmt-resource/22.0.0 Python/3.10.9 (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31)
        VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2023-01-28T13:58:09Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {}, "sku": {"name": "S1", "capacity":
      1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '78'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfOGYxMDQ0ZTEtZjdmZC00ODI2LWIwZDktMWZhMTU0ZDllMWZkO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '500'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfOGYxMDQ0ZTEtZjdmZC00ODI2LWIwZDktMWZhMTU0ZDllMWZkO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAABZ0/3o=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne00944942"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '681'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --name -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2021-10-15
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJUVJwUVJkc1BWYUF3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56TUI0WERUSXpNREV5T0RFek5UZzBORm9YRFRJegpNREV6TVRFek5UZzBORm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeHZZTmVhQWIwNFUzc212RVNpQkoKS1lBL2Y3VHY0TjErZ1YwVkVYSUhkSG5Qekx2YW9LVUIyRjdubFR6MG11cXhnM1BDa29jdElHSEJkWis0Ri9PdwpmaEc3TWl1ZHBXYURGMEFwZ3lWclJxWis4NXN2azZZaWxOM2tHZkpKWnp5OEw5clVwd2hVQ0tTWmZncnpYQ3VDCjNqTHFvYTg3T3h4VDRvcU9RMHJPMStNQ3JnaUxjRWQxWkhEMDlwVWdVa2owQWN4MGp2M0RuTHBKenpwbGRkWGcKOWFUeFZVdHo1bkRzV3FxVStmWVIwSmcyVndiaGlEQTQxclMrTGttaG5QN28rM2FCL2R5RTBsRm5BSUFxVXY2MwpjUFU0NjNGQzZCSEFUaDZPQTByY2lwT3NiZkYyQ1E5bForQWhmbldwMDBpM2RaemxkdkpQdUZCNEFiaEhzbStPClJRSURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBdDNINmpJUE1UWlhNU2tmazUzWXU0NzB6cU1WeUYKc2NTZFlPdUpGMERLSEhQY2NHTzQ2Q0J6VnArVW1ET0NLUE1rNWF1TXdwYlpUajljcmFiWVdoTGtnNVRsRHhUQgpOcFhjeW1wOXBsMDdVTDFrZ2JYUkJmN3JpRENYdlFWNDZ4TGtOZFhsTVFjakhLb1h3QnhBRnJTdkYzdXNUTWg1CnIxNkt2ajFndjFUbWpiNlZLY1VpMGM1dktDYVJzMHBpbjh1ZWVySlFMdW9tZ1h2TzRTNVVlalRBaGVTYVV6ZVcKb0dra3NUTnRWN0J2RVU5aTRHeXRuWHFVaHh4STVtYUhOT1JoM2lvNm4ycGtEeDR0VnhuK09LdjFoS0JHQWtGRwpFYVQrU1FjcGUydDNibXdHK3ZxZTlrRERJdzBNZlN4Vnp4WittR1VqNUIzZ2haV1dWN2paWlpOLwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1383'
      Content-Type:
      - application/json
      ParameterSetName:
      - --dps-name -g --name -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003?api-version=2021-10-15
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000007","expiry":"Tue, 31 Jan 2023
        13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:45 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ4ODY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE1MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '593'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1191'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --name -p --verified
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:45 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ4ODY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE1MDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '605'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJUVJwUVJkc1BWYUF3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56TUI0WERUSXpNREV5T0RFek5UZzBORm9YRFRJegpNREV6TVRFek5UZzBORm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeHZZTmVhQWIwNFUzc212RVNpQkoKS1lBL2Y3VHY0TjErZ1YwVkVYSUhkSG5Qekx2YW9LVUIyRjdubFR6MG11cXhnM1BDa29jdElHSEJkWis0Ri9PdwpmaEc3TWl1ZHBXYURGMEFwZ3lWclJxWis4NXN2azZZaWxOM2tHZkpKWnp5OEw5clVwd2hVQ0tTWmZncnpYQ3VDCjNqTHFvYTg3T3h4VDRvcU9RMHJPMStNQ3JnaUxjRWQxWkhEMDlwVWdVa2owQWN4MGp2M0RuTHBKenpwbGRkWGcKOWFUeFZVdHo1bkRzV3FxVStmWVIwSmcyVndiaGlEQTQxclMrTGttaG5QN28rM2FCL2R5RTBsRm5BSUFxVXY2MwpjUFU0NjNGQzZCSEFUaDZPQTByY2lwT3NiZkYyQ1E5bForQWhmbldwMDBpM2RaemxkdkpQdUZCNEFiaEhzbStPClJRSURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBdDNINmpJUE1UWlhNU2tmazUzWXU0NzB6cU1WeUYKc2NTZFlPdUpGMERLSEhQY2NHTzQ2Q0J6VnArVW1ET0NLUE1rNWF1TXdwYlpUajljcmFiWVdoTGtnNVRsRHhUQgpOcFhjeW1wOXBsMDdVTDFrZ2JYUkJmN3JpRENYdlFWNDZ4TGtOZFhsTVFjakhLb1h3QnhBRnJTdkYzdXNUTWg1CnIxNkt2ajFndjFUbWpiNlZLY1VpMGM1dktDYVJzMHBpbjh1ZWVySlFMdW9tZ1h2TzRTNVVlalRBaGVTYVV6ZVcKb0dra3NUTnRWN0J2RVU5aTRHeXRuWHFVaHh4STVtYUhOT1JoM2lvNm4ycGtEeDR0VnhuK09LdjFoS0JHQWtGRwpFYVQrU1FjcGUydDNibXdHK3ZxZTlrRERJdzBNZlN4Vnp4WittR1VqNUIzZ2haV1dWN2paWlpOLwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==",
      "isVerified": true}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1403'
      Content-Type:
      - application/json
      ParameterSetName:
      - --dps-name -g --name -p --verified
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/verified-certificate-000004?api-version=2021-10-15
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000007","expiry":"Tue, 31 Jan 2023
        13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:47 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/verified-certificate-000004","name":"verified-certificate-000004","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ5NjY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE3MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '612'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1175'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:45 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ4ODY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE1MDAwMCI="},{"properties":{"subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:47 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/verified-certificate-000004","name":"verified-certificate-000004","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ5NjY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE3MDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1218'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --name
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003?api-version=2021-10-15
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000007","expiry":"Tue, 31 Jan 2023
        13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:45 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ4ODY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE1MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '593'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate update
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --name -p --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:45 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ4ODY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE1MDAwMCI="},{"properties":{"subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:47 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/verified-certificate-000004","name":"verified-certificate-000004","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ5NjY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE3MDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1218'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJUVJwUVJkc1BWYUF3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56TUI0WERUSXpNREV5T0RFek5UZzBORm9YRFRJegpNREV6TVRFek5UZzBORm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeHZZTmVhQWIwNFUzc212RVNpQkoKS1lBL2Y3VHY0TjErZ1YwVkVYSUhkSG5Qekx2YW9LVUIyRjdubFR6MG11cXhnM1BDa29jdElHSEJkWis0Ri9PdwpmaEc3TWl1ZHBXYURGMEFwZ3lWclJxWis4NXN2azZZaWxOM2tHZkpKWnp5OEw5clVwd2hVQ0tTWmZncnpYQ3VDCjNqTHFvYTg3T3h4VDRvcU9RMHJPMStNQ3JnaUxjRWQxWkhEMDlwVWdVa2owQWN4MGp2M0RuTHBKenpwbGRkWGcKOWFUeFZVdHo1bkRzV3FxVStmWVIwSmcyVndiaGlEQTQxclMrTGttaG5QN28rM2FCL2R5RTBsRm5BSUFxVXY2MwpjUFU0NjNGQzZCSEFUaDZPQTByY2lwT3NiZkYyQ1E5bForQWhmbldwMDBpM2RaemxkdkpQdUZCNEFiaEhzbStPClJRSURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBdDNINmpJUE1UWlhNU2tmazUzWXU0NzB6cU1WeUYKc2NTZFlPdUpGMERLSEhQY2NHTzQ2Q0J6VnArVW1ET0NLUE1rNWF1TXdwYlpUajljcmFiWVdoTGtnNVRsRHhUQgpOcFhjeW1wOXBsMDdVTDFrZ2JYUkJmN3JpRENYdlFWNDZ4TGtOZFhsTVFjakhLb1h3QnhBRnJTdkYzdXNUTWg1CnIxNkt2ajFndjFUbWpiNlZLY1VpMGM1dktDYVJzMHBpbjh1ZWVySlFMdW9tZ1h2TzRTNVVlalRBaGVTYVV6ZVcKb0dra3NUTnRWN0J2RVU5aTRHeXRuWHFVaHh4STVtYUhOT1JoM2lvNm4ycGtEeDR0VnhuK09LdjFoS0JHQWtGRwpFYVQrU1FjcGUydDNibXdHK3ZxZTlrRERJdzBNZlN4Vnp4WittR1VqNUIzZ2haV1dWN2paWlpOLwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate update
      Connection:
      - keep-alive
      Content-Length:
      - '1383'
      Content-Type:
      - application/json
      If-Match:
      - ImZiMDQ4ODY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE1MDAwMCI=
      ParameterSetName:
      - --dps-name -g --name -p --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003?api-version=2021-10-15
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000007","expiry":"Tue, 31 Jan 2023
        13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:49 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDRjZTY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE5MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '593'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1187'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - ImZiMDRjZTY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE5MDAwMCI=
      ParameterSetName:
      - --dps-name -g -n --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003/generateVerificationCode?api-version=2021-10-15
  response:
    body:
      string: '{"properties":{"verificationCode":"E68F18490867F680FED3D23C1DDD7BAB1A06B36690ACDCB0","subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:51 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJUVJwUVJkc1BWYUF3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56TUI0WERUSXpNREV5T0RFek5UZzBORm9YRFRJegpNREV6TVRFek5UZzBORm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeHZZTmVhQWIwNFUzc212RVNpQkoKS1lBL2Y3VHY0TjErZ1YwVkVYSUhkSG5Qekx2YW9LVUIyRjdubFR6MG11cXhnM1BDa29jdElHSEJkWis0Ri9PdwpmaEc3TWl1ZHBXYURGMEFwZ3lWclJxWis4NXN2azZZaWxOM2tHZkpKWnp5OEw5clVwd2hVQ0tTWmZncnpYQ3VDCjNqTHFvYTg3T3h4VDRvcU9RMHJPMStNQ3JnaUxjRWQxWkhEMDlwVWdVa2owQWN4MGp2M0RuTHBKenpwbGRkWGcKOWFUeFZVdHo1bkRzV3FxVStmWVIwSmcyVndiaGlEQTQxclMrTGttaG5QN28rM2FCL2R5RTBsRm5BSUFxVXY2MwpjUFU0NjNGQzZCSEFUaDZPQTByY2lwT3NiZkYyQ1E5bForQWhmbldwMDBpM2RaemxkdkpQdUZCNEFiaEhzbStPClJRSURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBdDNINmpJUE1UWlhNU2tmazUzWXU0NzB6cU1WeUYKc2NTZFlPdUpGMERLSEhQY2NHTzQ2Q0J6VnArVW1ET0NLUE1rNWF1TXdwYlpUajljcmFiWVdoTGtnNVRsRHhUQgpOcFhjeW1wOXBsMDdVTDFrZ2JYUkJmN3JpRENYdlFWNDZ4TGtOZFhsTVFjakhLb1h3QnhBRnJTdkYzdXNUTWg1CnIxNkt2ajFndjFUbWpiNlZLY1VpMGM1dktDYVJzMHBpbjh1ZWVySlFMdW9tZ1h2TzRTNVVlalRBaGVTYVV6ZVcKb0dra3NUTnRWN0J2RVU5aTRHeXRuWHFVaHh4STVtYUhOT1JoM2lvNm4ycGtEeDR0VnhuK09LdjFoS0JHQWtGRwpFYVQrU1FjcGUydDNibXdHK3ZxZTlrRERJdzBNZlN4Vnp4WittR1VqNUIzZ2haV1dWN2paWlpOLwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDRlZTY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTFiMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2025'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMzakNDQWNhZ0F3SUJBZ0lJVHY0MlpLcXZDbmN3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56TUI0WERUSXpNREV5T0RFek5UZzFNVm9YRFRJegpNREV6TVRFek5UZzFNVm93T3pFNU1EY0dBMVVFQXd3d1JUWTRSakU0TkRrd09EWTNSalk0TUVaRlJETkVNak5ECk1VUkVSRGRDUVVJeFFUQTJRak0yTmprd1FVTkVRMEl3TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEEKTUlJQkNnS0NBUUVBNHRuTG12VGQ2NmsxZVBubi9kQUFhTVh6aWNCOTJidk4zT09FK3NzeDFDOGZNaWJBNnczKwpjbTdWU0hGbmFYLy9RV0VxczNuRWFKWmhHUWh0amVDdCtQNU0rVm9mZmhGSGxUZ2daU1Y2YUJSdUZQU21oVlIrCm5VSGk5Tlh6eVYxcjFYS2NvRDdOT1BZN2V4cWJyVDBiQzRVMHN6ZUxoTE81WDc5YjhKbmRZdW9JV0s4dzRNMEsKQ3FuZmY5MUhPVzZwWUF2NHd5ekNzeTdsNERMRnFUREpSeUtUTWdPaklKSjlRUmFuc3RTWmhHZHg0dTEyekFYaApHSTkrU0hWYm1GUDRiNGUxUi9jYWRReEZEdkw0L1dIYUdpY2Z2RGhLQmRmWlBDa3E3am8yaDlMa2k5R2R0VUc0CldPdkIyaFR6R1Q2VFZuSVdxcWdTVWdhRE9reXNlcmxmcXdJREFRQUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUIKQVFBOHcySlRLeWpnbHUwWlJ5UmVtbmQ5OTNrOWZRd2VDN21YN0pYbTd5TExIVGlvZWUrT3oyelZjdmpZWTRDWQpDUENLYmVYUVBzZm0vbHlBNmdzRGVwWkJ5bG90RDBMSFpXcDhxQ09JaGRMeHRHcTlmNWpoUmVRcW1wTnVqeDB1CjVIRjVyNEljNzZqWFBxTllQNUNWVENIM2JZU2xNZHF4YTJ4Y0RBRFpYV2RFMzhPOU5CUlNaTzNocCtEWVBmUTEKYXN3dEdHN05IenZWNEdpYVJ0NVY2RVhENDlRUHRNVzNYK1pnbEFpYVI0eC8yWmlQWGZnVk1QaEU2aXBZTHNxSApJSzRCUlJUbkdDYk1Qc1ZGYWJXY1NsNFcvbDIzN1lrTElHOGtYblpaczJ1eFNxYy9ZY09pQmdWWUl2Y1hKZzNnCm9DVEp4U1NRRys4cXdFWmlaNUx3bk5qUQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1427'
      Content-Type:
      - application/json
      If-Match:
      - ImZiMDRlZTY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTFiMDAwMCI=
      ParameterSetName:
      - --dps-name -g -n -p --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003/verify?api-version=2021-10-15
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000007","expiry":"Tue, 31 Jan 2023
        13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:52 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDRmYzY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTFjMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '592'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1195'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --dps-name -g --name -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:52 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003","name":"certificate000003","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDRmYzY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTFjMDAwMCI="},{"properties":{"subject":"TESTCERT000007","expiry":"Tue,
        31 Jan 2023 13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:47 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/verified-certificate-000004","name":"verified-certificate-000004","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQ5NjY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE3MDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN4akNDQWE2Z0F3SUJBZ0lJUVJwUVJkc1BWYUF3RFFZSktvWklodmNOQVFFTEJRQXdJekVoTUI4R0ExVUUKQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56TUI0WERUSXpNREV5T0RFek5UZzBORm9YRFRJegpNREV6TVRFek5UZzBORm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxRM1pqZHZhbkpwTmpSemNtczBjMk56Ck1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeHZZTmVhQWIwNFUzc212RVNpQkoKS1lBL2Y3VHY0TjErZ1YwVkVYSUhkSG5Qekx2YW9LVUIyRjdubFR6MG11cXhnM1BDa29jdElHSEJkWis0Ri9PdwpmaEc3TWl1ZHBXYURGMEFwZ3lWclJxWis4NXN2azZZaWxOM2tHZkpKWnp5OEw5clVwd2hVQ0tTWmZncnpYQ3VDCjNqTHFvYTg3T3h4VDRvcU9RMHJPMStNQ3JnaUxjRWQxWkhEMDlwVWdVa2owQWN4MGp2M0RuTHBKenpwbGRkWGcKOWFUeFZVdHo1bkRzV3FxVStmWVIwSmcyVndiaGlEQTQxclMrTGttaG5QN28rM2FCL2R5RTBsRm5BSUFxVXY2MwpjUFU0NjNGQzZCSEFUaDZPQTByY2lwT3NiZkYyQ1E5bForQWhmbldwMDBpM2RaemxkdkpQdUZCNEFiaEhzbStPClJRSURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBdDNINmpJUE1UWlhNU2tmazUzWXU0NzB6cU1WeUYKc2NTZFlPdUpGMERLSEhQY2NHTzQ2Q0J6VnArVW1ET0NLUE1rNWF1TXdwYlpUajljcmFiWVdoTGtnNVRsRHhUQgpOcFhjeW1wOXBsMDdVTDFrZ2JYUkJmN3JpRENYdlFWNDZ4TGtOZFhsTVFjakhLb1h3QnhBRnJTdkYzdXNUTWg1CnIxNkt2ajFndjFUbWpiNlZLY1VpMGM1dktDYVJzMHBpbjh1ZWVySlFMdW9tZ1h2TzRTNVVlalRBaGVTYVV6ZVcKb0dra3NUTnRWN0J2RVU5aTRHeXRuWHFVaHh4STVtYUhOT1JoM2lvNm4ycGtEeDR0VnhuK09LdjFoS0JHQWtGRwpFYVQrU1FjcGUydDNibXdHK3ZxZTlrRERJdzBNZlN4Vnp4WittR1VqNUIzZ2haV1dWN2paWlpOLwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCgotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ3hqQ0NBYTZnQXdJQkFnSUlRUnBRUmRzUFZhQXdEUVlKS29aSWh2Y05BUUVMQlFBd0l6RWhNQjhHQTFVRQpBd3dZVkVWVFZFTkZVbFEzWmpkdmFuSnBOalJ6Y21zMGMyTnpNQjRYRFRJek1ERXlPREV6TlRnME5Gb1hEVEl6Ck1ERXpNVEV6TlRnME5Gb3dJekVoTUI4R0ExVUVBd3dZVkVWVFZFTkZVbFEzWmpkdmFuSnBOalJ6Y21zMGMyTnoKTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF4dllOZWFBYjA0VTNzbXZFU2lCSgpLWUEvZjdUdjROMStnVjBWRVhJSGRIblB6THZhb0tVQjJGN25sVHowbXVxeGczUENrb2N0SUdIQmRaKzRGL093CmZoRzdNaXVkcFdhREYwQXBneVZyUnFaKzg1c3ZrNllpbE4za0dmSkpaenk4TDlyVXB3aFVDS1NaZmdyelhDdUMKM2pMcW9hODdPeHhUNG9xT1Ewck8xK01DcmdpTGNFZDFaSEQwOXBVZ1VrajBBY3gwanYzRG5McEp6enBsZGRYZwo5YVR4VlV0ejVuRHNXcXFVK2ZZUjBKZzJWd2JoaURBNDFyUytMa21oblA3byszYUIvZHlFMGxGbkFJQXFVdjYzCmNQVTQ2M0ZDNkJIQVRoNk9BMHJjaXBPc2JmRjJDUTlsWitBaGZuV3AwMGkzZFp6bGR2SlB1RkI0QWJoSHNtK08KUlFJREFRQUJNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUF0M0g2aklQTVRaWE1Ta2ZrNTNZdTQ3MHpxTVZ5RgpzY1NkWU91SkYwREtISFBjY0dPNDZDQnpWcCtVbURPQ0tQTWs1YXVNd3BiWlRqOWNyYWJZV2hMa2c1VGxEeFRCCk5wWGN5bXA5cGwwN1VMMWtnYlhSQmY3cmlEQ1h2UVY0NnhMa05kWGxNUWNqSEtvWHdCeEFGclN2RjN1c1RNaDUKcjE2S3ZqMWd2MVRtamI2VktjVWkwYzV2S0NhUnMwcGluOHVlZXJKUUx1b21nWHZPNFM1VWVqVEFoZVNhVXplVwpvR2trc1ROdFY3QnZFVTlpNEd5dG5YcVVoeHhJNW1hSE5PUmgzaW82bjJwa0R4NHRWeG4rT0t2MWhLQkdBa0ZHCkVhVCtTUWNwZTJ0M2Jtd0crdnFlOWtEREl3ME1mU3hWenhaK21HVWo1QjNnaFpXV1Y3alpaWk4vCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '2743'
      Content-Type:
      - application/json
      ParameterSetName:
      - --dps-name -g --name -p
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate-000005?api-version=2021-10-15
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000007","expiry":"Tue, 31 Jan 2023
        13:58:44 GMT","thumbprint":"2DB28DAC75BC1B1BE65FA54D1600D1B0E5303BC6","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Sat, 28 Jan 2023 13:58:53 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate-000005","name":"certificate-000005","type":"Microsoft.Devices/provisioningServices/Certificates","etag":"ImZiMDQyODZhLTAwMDAtMDcwMC0wMDAwLTYzZDUyYTFkMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '595'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1188'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - ImZiMDRmYzY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTFjMDAwMCI=
      ParameterSetName:
      - --dps-name -g --name --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000003?api-version=2021-10-15
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 13:58:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14989'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - ImZiMDQ5NjY5LTAwMDAtMDcwMC0wMDAwLTYzZDUyYTE3MDAwMCI=
      ParameterSetName:
      - --dps-name -g --name --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/verified-certificate-000004?api-version=2021-10-15
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 13:58:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14996'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - '*'
      ParameterSetName:
      - --dps-name -g --name --etag
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate-000005?api-version=2021-10-15
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sat, 28 Jan 2023 13:58:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14996'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfOGJlY2ZjZWMtZGVkNy00MTZjLWExMjctYmMwYTk1OGY1NGJhO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:58:57 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfOGJlY2ZjZWMtZGVkNy00MTZjLWExMjctYmMwYTk1OGY1NGJhO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14996'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.44.1 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.10.9
        (Linux-5.15.0-1031-azure-x86_64-with-glibc2.31) VSTS_7b238909-6802-4b65-b90d-184bca47f458_build_220_0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfOGJlY2ZjZWMtZGVkNy00MTZjLWExMjctYmMwYTk1OGY1NGJhO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 28 Jan 2023 13:59:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
