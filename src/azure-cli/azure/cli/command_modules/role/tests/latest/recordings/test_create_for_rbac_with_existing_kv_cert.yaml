interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2018-06-29T21:03:49Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 resourcemanagementclient/2.0.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","name":"cli_test_sp_with_kv_existing_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-06-29T21:03:49Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.User/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[],"assignedPlans":[],"city":null,"companyName":null,"consentProvidedForMinor":null,"country":null,"createdDateTime":"2016-01-21T22:10:16Z","creationType":null,"department":null,"dirSyncEnabled":null,"displayName":"admin3","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"admin3","immutableId":null,"isCompromised":null,"jobTitle":null,"lastDirSyncTime":null,"legalAgeGroupClassification":null,"mail":null,"mailNickname":"admin3","mobile":null,"onPremisesDistinguishedName":null,"onPremisesSecurityIdentifier":null,"otherMails":["yugangw@microsoft.com"],"passwordPolicies":"None","passwordProfile":null,"physicalDeliveryOfficeName":null,"postalCode":null,"preferredLanguage":"en-US","provisionedPlans":[],"provisioningErrors":[],"proxyAddresses":[],"refreshTokensValidFromDateTime":"2018-06-11T19:00:31Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":null,"state":null,"streetAddress":null,"surname":"sdk","telephoneNumber":null,"usageLocation":null,"userIdentities":[],"userPrincipalName":"admin3@AzureSDKTeam.onmicrosoft.com","userType":"Member"}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1428']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:03:53 GMT']
      duration: ['1403502']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [ZGx5BTxWx3rJ0qV6fN7KouGYhLhktis4+Etrku5CN4A=]
      ocp-aad-session-key: [l5dvpQgLCMz9uyIXMF9mhWztTWfDxUTN4nDme-Zyp3I7vS5JcxaInAiTBypy8puHqv4Die2DBZYBUHcay98EfPI6vpLZnL0dq9QbGb30wqEQPBawII8-wDwgiOs91N9-ra3Gn3HDh9zeXNuLHXxbYw.VxqXp1VaXEYjFxOXHsCVyJNkrpgHnSreOlx7tWWkA5c]
      pragma: [no-cache]
      request-id: [917b7311-9bfc-4954-9398-434551a84042]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId": "e7e158d3-7cdc-47cd-8825-5859d7ab2b55",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}]}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [keyvault create]
      Connection: [keep-alive]
      Content-Length: ['746']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-keyvault/1.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1106']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:03:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-service-version: [1.0.0.220]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [keyvault create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-keyvault/1.0.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net/","provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1102']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-service-version: [1.0.0.220]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: ''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: [0]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 29 Jun 2018 21:04:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      www-authenticate: ['Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
          resource="https://vault.azure.net"']
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 401, message: Unauthorized}
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 24}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['511']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b908aa8e96724a6983ca201821144f80"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:36 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=b908aa8e96724a6983ca201821144f80']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b908aa8e96724a6983ca201821144f80"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b908aa8e96724a6983ca201821144f80"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"b908aa8e96724a6983ca201821144f80"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:04:57 GMT']
      duration: ['431439']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [vzT+9Yq+aEnlFAqW4ArMt4wc+vCo9D3Xgf5jgx/UnQk=]
      ocp-aad-session-key: [MQcY92N_r75nL09XvwE84VnKPnOXZuq8bX78RrA8k9UK1zJJxWIH79AMHgmo0Vcb53Qd17jDQqpBbTHwDyxeidw9T2RbpKzKSe5B49gVgozDQswfUIRWY1M4AgeL9mmOFM9JBKnnzpdW_pDKbxvUmw.FshQqYOSGcc_-u5bWzKSjN6PER-1Aev367YvfxZosZE]
      pragma: [no-cache]
      request-id: [c87e1d7a-4101-46cf-9877-61ecc8eb389f]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/1fa67a830d5a4dacb8601487f888f406","kid":"https://clitest000002.vault.azure.net/keys/cert1/1fa67a830d5a4dacb8601487f888f406","sid":"https://clitest000002.vault.azure.net/secrets/cert1/1fa67a830d5a4dacb8601487f888f406","x5t":"RFkquoELoO34pm0QS4XSrd2YM0A","cer":"MIIDQjCCAiqgAwIBAgIQQS5gH3Q0QFScRvvRWV6pljANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTQ1MVoXDTIwMDYyOTIxMDQ1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAfFW15V0T327t+x1vPzwBxYKRUoBvxT3eIAEVvajufjcMfRm7wxKY0GoUGs6R8TOO3abYYZqkx+qKWw7CGAJ++pOP5HzrKe89DjKEGK653r4oRA0ILUYDoc7JDJ6bjnvWw7/UX561TiU4baBX60NIs1l+WdfrjFSrcIjATX1WEWLENjeQTlgVv6XwnHtYl2AjEQlvJw0SDB/8rtiCGPmfU8b5eSDDWWtakHKsvCfZekdxR2NepuoioHnGQQupXTOTABCy6pxfluu5B3WQTvr1xLRDStIXd5N6iCYU4FsswGqt/Y5BDVPox0s4fD8+3+9nluZda+yAS1cpf44IqttAeQ==","attributes":{"enabled":true,"nbf":1530305691,"exp":1593464691,"created":1530306291,"updated":1530306291,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306276,"updated":1530306276}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2387']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:58 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "displayName": "azure-cli-2018-06-29-21-04-58",
      "homepage": "http://azure-cli-2018-06-29-21-04-58", "identifierUris": ["http://cli_test_sp_with_kv_existing_cert000001"],
      "keyCredentials": [{"startDate": "2018-06-29T21:04:58.331059Z", "endDate": "2019-06-29T21:04:58.331059Z",
      "value": "MIIDQjCCAiqgAwIBAgIQQS5gH3Q0QFScRvvRWV6pljANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTQ1MVoXDTIwMDYyOTIxMDQ1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAfFW15V0T327t+x1vPzwBxYKRUoBvxT3eIAEVvajufjcMfRm7wxKY0GoUGs6R8TOO3abYYZqkx+qKWw7CGAJ++pOP5HzrKe89DjKEGK653r4oRA0ILUYDoc7JDJ6bjnvWw7/UX561TiU4baBX60NIs1l+WdfrjFSrcIjATX1WEWLENjeQTlgVv6XwnHtYl2AjEQlvJw0SDB/8rtiCGPmfU8b5eSDDWWtakHKsvCfZekdxR2NepuoioHnGQQupXTOTABCy6pxfluu5B3WQTvr1xLRDStIXd5N6iCYU4FsswGqt/Y5BDVPox0s4fD8+3+9nluZda+yAS1cpf44IqttAeQ==",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['1579']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"6e319301-f1bd-47d1-8732-0b4e1ff8dac2","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-04-58","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-04-58","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:04:58.331059Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-06-29T21:04:58.331059Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-04-58","id":"d3436cea-1e89-44c3-a22b-f002fc48a859","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-04-58","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2177']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:04:58 GMT']
      duration: ['2435360']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [IAJInqPI4lKNkkjmRxlvRCo0yCEDsc0J29jSC990RR4=]
      ocp-aad-session-key: [sB2f_-qo6f7LKqwAd0A5dk1txPB-W07DG0diAA8o0XGne_kkerMrqGlI8A30hJEQPPNDnd32DVwfkS_E1uxBh68XWliAwUp7o_B_uKsADPeAvjcP1Of0bhh_u7r4uNE73hUKfNCVDI-RWrAZ81oz7A.j8iTHsifhINAlzDHaZLFp7jmeE4s6boLcLMWDgARReU]
      pragma: [no-cache]
      request-id: [abca30cc-aa96-48da-996f-1b668f13fbb8]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"appId": "6e319301-f1bd-47d1-8732-0b4e1ff8dac2", "accountEnabled": true}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"7040c06b-0b71-4abc-9316-66b4232357a7","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-06-29-21-04-58","appId":"6e319301-f1bd-47d1-8732-0b4e1ff8dac2","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-06-29-21-04-58","errorUrl":null,"homepage":"http://azure-cli-2018-06-29-21-04-58","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-04-58","id":"d3436cea-1e89-44c3-a22b-f002fc48a859","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-04-58","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["6e319301-f1bd-47d1-8732-0b4e1ff8dac2","http://cli_test_sp_with_kv_existing_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1616']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:04:59 GMT']
      duration: ['1226672']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/7040c06b-0b71-4abc-9316-66b4232357a7/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [Eqn8IBmDmMoLaJt+8Ur4L2V+WGz7+23HLQQ7ZfG8fy8=]
      ocp-aad-session-key: [ODHe54lUUuwnzFGvmvYvOMDIWbc92EltCnVxTrUOItoohkiCnJDmzp5mMpIOB7mtmoTWb8raoYygApKXFOgaXFsZg1w4ChZ1OBGTMf8ceZn_wSv1tWANoiDGknmnyi1kNSquw2dDHjYXCB_sOtsIcg.U4fHg2fcGqUeP3S7yE33Pb6Wux1xBxpzECziqv9HURk]
      pragma: [no-cache]
      request-id: [e9ebbc02-4238-4c75-8a87-f2a7123fde90]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:04:59 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "7040c06b-0b71-4abc-9316-66b4232357a7"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-01-01-preview
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal 7040c06b0b714abc931666b4232357a7
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['163']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "7040c06b-0b71-4abc-9316-66b4232357a7"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-01-01-preview
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal 7040c06b0b714abc931666b4232357a7
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['163']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "7040c06b-0b71-4abc-9316-66b4232357a7"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"7040c06b-0b71-4abc-9316-66b4232357a7","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2018-06-29T21:05:17.3619056Z","updatedOn":"2018-06-29T21:05:17.3619056Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000004"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['903']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-charge: ['4']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"7040c06b-0b71-4abc-9316-66b4232357a7","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-06-29-21-04-58","appId":"6e319301-f1bd-47d1-8732-0b4e1ff8dac2","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-06-29-21-04-58","errorUrl":null,"homepage":"http://azure-cli-2018-06-29-21-04-58","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-04-58","id":"d3436cea-1e89-44c3-a22b-f002fc48a859","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-04-58","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert000001","6e319301-f1bd-47d1-8732-0b4e1ff8dac2"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1619']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:21 GMT']
      duration: ['834952']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [oNrsfdz3Fhte7wfqy+uUhdb2Yij4mN6MnViek/b/vco=]
      ocp-aad-session-key: [JGxQIvKWo8_qB3ekHHZNpG0YpbkA7T4RHVnFDtQ7MuINC079PS4oThsn8hItxGCHtPP8GeEMJr9yPLWwbzFsbbyEnVVEi2FVOr1YmMFWFZA0rn-LwMCtgdV_kduR98w0gzz0AngnDMjW54NvpOVQKw.OOv7yrDEAoUXgLX2LdUCkQMx_qJ7b8_p9PdMUkClynw]
      pragma: [no-cache]
      request-id: [a22f8270-f0b1-436c-8df2-2f97c741b7e2]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%276e319301-f1bd-47d1-8732-0b4e1ff8dac2%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['161']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:22 GMT']
      duration: ['2462115']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [R7GE/wZDw5mYOVlPUsy4LuVepndfwrdQz1ATlcVdHv4=]
      ocp-aad-session-key: [VPuedcTB9bWOgu795eA_YqSLYPTg_bzrTrMir-72gj71j0XOMxbXhl0aj4oE-jwRvvih0ZT2otgf8EnMd_-cUs3HXWWN7qfi4daBPYLarJE_R10T-Sogdw8Xa4HUqnYdOVbNXMTx3vwFm9dfTKmjUg.VSbOaN-U8ylQK0k8HsQbMiZUDjTyVWxLL6yaulgce7Y]
      pragma: [no-cache]
      request-id: [418c391e-661a-414b-9555-9607f662e3fb]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%276e319301-f1bd-47d1-8732-0b4e1ff8dac2%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"6e319301-f1bd-47d1-8732-0b4e1ff8dac2","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-04-58","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-04-58","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:04:58.331059Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-06-29T21:04:58.331059Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-04-58","id":"d3436cea-1e89-44c3-a22b-f002fc48a859","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-04-58","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2094']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:22 GMT']
      duration: ['418328']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [oNrsfdz3Fhte7wfqy+uUhdb2Yij4mN6MnViek/b/vco=]
      ocp-aad-session-key: [MhuH-CDxq5lJrRbPH6uBPi6VqYRTGbuW47Q5cQ2sncomaiLJmDunWYZ1Kv8pujUKH9bXYA3yaySl1JxbvlVMKk23hCbJxDE59UiWc2I2MCWD1u-4_3OX54cPTI6LlFzSMNBNZJkZEP7K5hnDedqCyg.TFM9gj_CntrGZFx4U3LWUGlW1iOJmMwCvruUnsu1YjA]
      pragma: [no-cache]
      request-id: [4edf3e4d-1384-4b1c-8839-11a4f59cdd13]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"6e319301-f1bd-47d1-8732-0b4e1ff8dac2","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-04-58","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-04-58","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:04:58.331059Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2018-06-29T21:04:58.331059Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-04-58","id":"d3436cea-1e89-44c3-a22b-f002fc48a859","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-04-58","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2091']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:22 GMT']
      duration: ['404443']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [WWe9QgsvUicjoyAoKn+dEp/jx1mlcMwTYk2lly59ESw=]
      ocp-aad-session-key: [h3ORc7E2fjN9bjGl4Ku2ZLXZupz5dT_i54G6wWkGCEuSdlw-IRQtO8LMLeTvdppM0dt8vbZX0be4ZH0nShKPEg1wkLWUOw6529RnIsDr6cDN1YYbURanF-HleXA4zozCMhtY0ZpZxsVirQR5LHHXnQ.dMp5Ls8N-jOMUk80tNM2b13nAHWliPBi6rsF-DqiRY8]
      pragma: [no-cache]
      request-id: [aa81b6fc-e418-4f45-bc42-dc135dd4b303]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/1fa67a830d5a4dacb8601487f888f406","kid":"https://clitest000002.vault.azure.net/keys/cert1/1fa67a830d5a4dacb8601487f888f406","sid":"https://clitest000002.vault.azure.net/secrets/cert1/1fa67a830d5a4dacb8601487f888f406","x5t":"RFkquoELoO34pm0QS4XSrd2YM0A","cer":"MIIDQjCCAiqgAwIBAgIQQS5gH3Q0QFScRvvRWV6pljANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTQ1MVoXDTIwMDYyOTIxMDQ1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAfFW15V0T327t+x1vPzwBxYKRUoBvxT3eIAEVvajufjcMfRm7wxKY0GoUGs6R8TOO3abYYZqkx+qKWw7CGAJ++pOP5HzrKe89DjKEGK653r4oRA0ILUYDoc7JDJ6bjnvWw7/UX561TiU4baBX60NIs1l+WdfrjFSrcIjATX1WEWLENjeQTlgVv6XwnHtYl2AjEQlvJw0SDB/8rtiCGPmfU8b5eSDDWWtakHKsvCfZekdxR2NepuoioHnGQQupXTOTABCy6pxfluu5B3WQTvr1xLRDStIXd5N6iCYU4FsswGqt/Y5BDVPox0s4fD8+3+9nluZda+yAS1cpf44IqttAeQ==","attributes":{"enabled":true,"nbf":1530305691,"exp":1593464691,"created":1530306291,"updated":1530306291,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306276,"updated":1530306276}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2387']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"keyCredentials": [{"startDate": "2018-06-29T21:05:23.229201Z", "endDate":
      "2019-06-29T21:05:23.229201Z", "value": "MIIDQjCCAiqgAwIBAgIQQS5gH3Q0QFScRvvRWV6pljANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTQ1MVoXDTIwMDYyOTIxMDQ1MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAfFW15V0T327t+x1vPzwBxYKRUoBvxT3eIAEVvajufjcMfRm7wxKY0GoUGs6R8TOO3abYYZqkx+qKWw7CGAJ++pOP5HzrKe89DjKEGK653r4oRA0ILUYDoc7JDJ6bjnvWw7/UX561TiU4baBX60NIs1l+WdfrjFSrcIjATX1WEWLENjeQTlgVv6XwnHtYl2AjEQlvJw0SDB/8rtiCGPmfU8b5eSDDWWtakHKsvCfZekdxR2NepuoioHnGQQupXTOTABCy6pxfluu5B3WQTvr1xLRDStIXd5N6iCYU4FsswGqt/Y5BDVPox0s4fD8+3+9nluZda+yAS1cpf44IqttAeQ==",
      "keyId": "284dda1b-3821-41fc-932e-2c368baed1b8", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Length: ['1339']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 29 Jun 2018 21:05:23 GMT']
      duration: ['1832761']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [TF7V9cFPmZmQJjy/0crfkRiCbrtTUG3VKT/zd0mx1Gc=]
      ocp-aad-session-key: [c4Q12bS3EmPzxsWOnodqr9npprux_E9zjG5aL0QChYZCV8_J18zAEoZp4OAQlA3n__VA9FSVTEAZPMK1PwBDsLtl0Pay1KeNgfOSuTTcwyJe7OTOXsRBzfVUgtLksQ80kWFp0NRd1gq4TRG3R6zA6A.ofibi8hI9Uer41N2U58cE1-RfKLQKRszJCdXs8akM8E]
      pragma: [no-cache]
      request-id: [14067ce7-997f-4687-887b-564fa893da75]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"6e319301-f1bd-47d1-8732-0b4e1ff8dac2","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-04-58","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-04-58","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2019-06-29T21:05:23.229201Z","keyId":"284dda1b-3821-41fc-932e-2c368baed1b8","startDate":"2018-06-29T21:05:23.229201Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-04-58","id":"d3436cea-1e89-44c3-a22b-f002fc48a859","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-04-58 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-04-58","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2094']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:23 GMT']
      duration: ['2718318']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [dxZdC+RVlS5mG81xI2QHTIzRwuSxoI6RAulD4fyjjis=]
      ocp-aad-session-key: [Ls2EN9Ku4QH6Hew4H7vlGJWeXqNb5HbUgujawRqQXTHy3qOEu_3fxkMllrcJHg4lOyVe59w7OJq8tcdZF5kJfEGpedYm5zPAajAHkcahQ_qdKo22P52IgW3dFdaD36--25DcsV8Ix7VPz8c13nE6Dg.XeoMbDcEiONZySCCc8067nmS8EJJnRFco6qnCQXTD-k]
      pragma: [no-cache]
      request-id: [1c8b23de-d468-48c0-bab1-e9debc7ca26d]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/f2bad7b8-cda0-497e-b2ba-f3678a9c5ca6?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 29 Jun 2018 21:05:24 GMT']
      duration: ['2303208']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [CLBFhp12uVA5Nnh6MG2VC8aF6kYj6BwyK0Y6WAoeTzc=]
      ocp-aad-session-key: [5EgOO4ZfLJ-jrgWkhh4Lpi8tA3f7QIgFXMlHW8bTvXoD6-8AjWa8CS6Q2PdZ1-asrX3MhMnS3kn4b45jrdYbkrI3ZZADeYRqOHqujQqSCTUCI-Vaxr1aJhfRgw6_yKLrVfBXo9jAmFYJTAJt0elZog.PuUIqjhiW6_mr7SWCDyt8eakxKi6EzEBU3NTdNuZpXY]
      pragma: [no-cache]
      request-id: [376284bd-3e5a-4f7e-a2e8-5304b85f386a]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 6}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['510']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e27fd88a5b9b4f1e8c0ebef1de181811"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:25 GMT']
      expires: ['-1']
      location: ['https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=e27fd88a5b9b4f1e8c0ebef1de181811']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e27fd88a5b9b4f1e8c0ebef1de181811"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:26 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"e27fd88a5b9b4f1e8c0ebef1de181811"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1303']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQBSgklClExkj7MBfltdB4ppBTCR+boAD1qaqokaS/FNidBZQt2d4YudnMtRuHQvmh9ikX3MPhbzJylHl3cIDtpi/QRChw/NcStNRgICwZcLXMAvWiddLOy6DA6R4rdhJRIQuivSjL7jIGbYqlL0wqll8NwPSY+x81AVPH+zA+N7/NuS/+vj0Fi11u0LsNQfM9ynYY0OKQu5akD11H+XNVDO2jjwpR7qyk5AB96SzNA+O+13aKOwOqxahoZZrHspJcbcHwSAs5ZJS3latT+2R0lx/svlYAH6/kjS1c22yAScMA/sJMw/oWlesAR/r0usBchKVotC0s/P9KGNbckn0LnP","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"e27fd88a5b9b4f1e8c0ebef1de181811"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1217']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['166']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:46 GMT']
      duration: ['317956']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [WzhaGtBqxSLZ0hrAkiIQJ9kgl/P+rn9FQMPcJn/2zBI=]
      ocp-aad-session-key: [F5FaLLSDhVqXbeCIHxcjAYT_almDnaLpY5x-XoifU5Sin5HNYBkCaYx2_WNZIPwghKGQDZ8ffaGzLg1GjzCVDRU6QHKCke_E-J8GUQlqLPF78BsrqAyFjDPpaAwjHFEw1mV0wxOsCA4VY1PQ92RgvA.ZOZPAi4BgN-X0cAw98HYpQUMfeKl9O3Y5GIiqur0Xug]
      pragma: [no-cache]
      request-id: [361a5da4-7e4b-4c47-82c0-9511678823e0]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/27859dc0e34b47589d60dc7a29a36c47","kid":"https://clitest000002.vault.azure.net/keys/cert1/27859dc0e34b47589d60dc7a29a36c47","sid":"https://clitest000002.vault.azure.net/secrets/cert1/27859dc0e34b47589d60dc7a29a36c47","x5t":"-bjv2eQnuYrWZJNta03A_xqFw5o","cer":"MIIDQjCCAiqgAwIBAgIQKHMTVz2LTlmZbHWa10Kr9TANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTU0MFoXDTE4MTIyOTIxMDU0MFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAFpLT1FFAE5MpEqfK1yvRAwBrOBLNkO+3em6+U1/WV6QhKFyspkVldI1nqIidSlx+l3+bsiJREaY0btpdCogGFul0RXAmtgBsiBL3N0JmLWYb29H3Y11+MlbG5ofcjOda8DKmIAECSL54htuGj5eLKCduqukg8uM98fjT/6u76LNEE2PhGkXJs+7s5ur1Paz7JBzmyOg0YYysQzhgES3ZB8XhwGkx3UlIuIV+VDXVKrmNcSw1QWiZUqZRCW/7HSUBZ484VLj5V3IbTptUkQswvIOQ30KQEky/gUyzSTDtTOSmKfvDKYO4mpSZzuZ6gJ5o+Z5GESG/omagzgPu+ctPpw==","attributes":{"enabled":true,"nbf":1530305740,"exp":1546117540,"created":1530306340,"updated":1530306340,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306276,"updated":1530306325}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2386']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "displayName": "azure-cli-2018-06-29-21-05-47",
      "homepage": "http://azure-cli-2018-06-29-21-05-47", "identifierUris": ["http://cli_test_sp_with_kv_existing_cert0000012"],
      "keyCredentials": [{"startDate": "2018-06-29T21:05:47.636879Z", "endDate": "2018-12-29T21:05:39.000Z",
      "value": "MIIDQjCCAiqgAwIBAgIQKHMTVz2LTlmZbHWa10Kr9TANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTU0MFoXDTE4MTIyOTIxMDU0MFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAFpLT1FFAE5MpEqfK1yvRAwBrOBLNkO+3em6+U1/WV6QhKFyspkVldI1nqIidSlx+l3+bsiJREaY0btpdCogGFul0RXAmtgBsiBL3N0JmLWYb29H3Y11+MlbG5ofcjOda8DKmIAECSL54htuGj5eLKCduqukg8uM98fjT/6u76LNEE2PhGkXJs+7s5ur1Paz7JBzmyOg0YYysQzhgES3ZB8XhwGkx3UlIuIV+VDXVKrmNcSw1QWiZUqZRCW/7HSUBZ484VLj5V3IbTptUkQswvIOQ30KQEky/gUyzSTDtTOSmKfvDKYO4mpSZzuZ6gJ5o+Z5GESG/omagzgPu+ctPpw==",
      "keyId": "88888888-0000-0000-0000-000000000005", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['1577']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"d6963316-563e-4570-aa57-73ddc8f80962","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"28210def-e30c-4d49-ae2f-8bf004a22f7e","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-05-47","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-05-47","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-12-29T21:05:39Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2018-06-29T21:05:47.636879Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-05-47","id":"5d37c578-2fe6-4d59-a1df-1205b7e69059","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-05-47","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2171']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:47 GMT']
      duration: ['3226687']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/d6963316-563e-4570-aa57-73ddc8f80962/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [LIsvepV0yWsv17jftCrqPcUrT8/sKGPKtFREgCo1I3k=]
      ocp-aad-session-key: [O6J6VWKZlf11GtKzYC1rsnBDwslyARVW_40I966kxCVFZofUqaI1D0U69J3tDBWiEkK39itAW2alS00Zz50Gsy8HmKNIbupQQzbdsOp08D6k6BuOUyVYlFHiNZFRjJUUS4irLwBu9VFvXm1tvkGWsA.gfR1_-qhaM9OXyNCIbk-M8qouyoHYX2iDQrZ9p1zkuY]
      pragma: [no-cache]
      request-id: [d94c1988-0fb0-41a5-8b5b-61451957b05a]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: '{"appId": "28210def-e30c-4d49-ae2f-8bf004a22f7e", "accountEnabled": true}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['73']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"e5866bab-5ea4-4a9c-8f55-0aa9bccc07eb","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-06-29-21-05-47","appId":"28210def-e30c-4d49-ae2f-8bf004a22f7e","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-06-29-21-05-47","errorUrl":null,"homepage":"http://azure-cli-2018-06-29-21-05-47","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-05-47","id":"5d37c578-2fe6-4d59-a1df-1205b7e69059","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-05-47","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["28210def-e30c-4d49-ae2f-8bf004a22f7e","http://cli_test_sp_with_kv_existing_cert0000012"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1617']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:05:48 GMT']
      duration: ['1231239']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/e5866bab-5ea4-4a9c-8f55-0aa9bccc07eb/Microsoft.DirectoryServices.ServicePrincipal']
      ocp-aad-diagnostics-server-name: [GU0CI3Zv2TsxK5R9NGb1NYBP1NUOvVNaZ7LExvhHOWI=]
      ocp-aad-session-key: [o4Gz1i6bNFFr5to6OHujaPzPCVOnuQDtuQEDVXDegH0J2P7PkhAZtJUxncHs7zoVKlBqfqgk9mxFcIG5ak-16bTcVpjmLC0oXfYpe-9Ks45Z5xiPMMr2UDfdONK7Q3kLQbiW45Bjfy4w-ZuJeryusA.aXGdDf_6pnpqAqmaOV_w_ltrzqdComqkW2XgSWU8YD0]
      pragma: [no-cache]
      request-id: [562c9a9a-f452-4432-8c6d-8d0594a83d74]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "e5866bab-5ea4-4a9c-8f55-0aa9bccc07eb"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000006?api-version=2018-01-01-preview
  response:
    body: {string: '{"error":{"code":"PrincipalNotFound","message":"Principal e5866bab5ea44a9c8f550aa9bccc07eb
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['163']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"0001-01-01T08:00:00.0000000Z","updatedOn":"2018-05-30T19:22:32.4538167Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:05:58 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "e5866bab-5ea4-4a9c-8f55-0aa9bccc07eb"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-mgmt-authorization/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000007?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"e5866bab-5ea4-4a9c-8f55-0aa9bccc07eb","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2018-06-29T21:05:58.5745601Z","updatedOn":"2018-06-29T21:05:58.5745601Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000007","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000007"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['903']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:06:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
      x-ms-request-charge: ['3']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.ServicePrincipal","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"e5866bab-5ea4-4a9c-8f55-0aa9bccc07eb","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"azure-cli-2018-06-29-21-05-47","appId":"28210def-e30c-4d49-ae2f-8bf004a22f7e","appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"azure-cli-2018-06-29-21-05-47","errorUrl":null,"homepage":"http://azure-cli-2018-06-29-21-05-47","keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-05-47","id":"5d37c578-2fe6-4d59-a1df-1205b7e69059","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-05-47","value":"user_impersonation"}],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert0000012","28210def-e30c-4d49-ae2f-8bf004a22f7e"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1620']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:06:01 GMT']
      duration: ['717731']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [itPlsAoHbG6osDHbVzYs2a+9kGEe205TaLepJuLRQYY=]
      ocp-aad-session-key: [VsDZxO9XocHDksXJ1cZ5qvY-lGn5K9jj6yqLpX-4Sf8SoaMpQ7UBwuKA-Q7uUVt2T7IMZh62_xXWSYqm0GgP-6-6hnkoxfue55Gk2LgJ6C_6r1_VUsMT6H6jI15jJZY2o1vVKqbdX8aWaChrK2SrLQ.uAOdmE5uOhsXCfo9KqOii_PLmT38lviIBNBRIqeWEKM]
      pragma: [no-cache]
      request-id: [0f0bad3f-bbf4-4477-a9e3-18879fe67ead]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%2728210def-e30c-4d49-ae2f-8bf004a22f7e%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['161']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:06:02 GMT']
      duration: ['365494']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [27byn2F/vpKjf3gR1clFavpGIRwtN7aES3XD1xua39g=]
      ocp-aad-session-key: [LdhEcGHyr6cTtQdWSlZWcDr4adyP7AIAiesK6A1QO8xZNG-DtHvhyc4CABYe-w94Q2RAwfqN8V1lDZr_aa4OKeO1bwwoOdxU9mSqf-jxePUNtkHOvxRRmiXSDIxiWszBUW9rmZljmcJZsrttnDBK4w.f5_1vfoNosrXFwUtun4Gr6uLmTohiZJfvcithCqQ7Yc]
      pragma: [no-cache]
      request-id: [6a4e5920-c0ee-4705-828e-69b75444e169]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%2728210def-e30c-4d49-ae2f-8bf004a22f7e%27&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"d6963316-563e-4570-aa57-73ddc8f80962","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"28210def-e30c-4d49-ae2f-8bf004a22f7e","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-05-47","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-05-47","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-12-29T21:05:39Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2018-06-29T21:05:47.636879Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-05-47","id":"5d37c578-2fe6-4d59-a1df-1205b7e69059","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-05-47","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2088']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:06:02 GMT']
      duration: ['367324']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [s5K/P2xKeCZaZ6FdSGG0Z9eYryzDiYVRewZeoHCyeCQ=]
      ocp-aad-session-key: [9eMj5-KUy2l363X1IfKAa4gE8bhlfvxHOIDxIdVfL4B9-c-rjKVLo59ts_q4zaQ8Pf8Gx4N8x7l5T89sbgqJNxYidCrQRVrnSSSQ1_P0X30oH9lWr4lf1GKzSQNh3i1qWCxaXQzKJD7JpDJ_LwvLDA.t_7bqOz2rUUSbrSAMPa-Ip_Lvd8MWj0cLiuJ5ty9TOE]
      pragma: [no-cache]
      request-id: [7dc63aa0-9f90-40dd-b6cb-766d0ef564d7]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/d6963316-563e-4570-aa57-73ddc8f80962?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"d6963316-563e-4570-aa57-73ddc8f80962","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"28210def-e30c-4d49-ae2f-8bf004a22f7e","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-05-47","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-05-47","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-12-29T21:05:39Z","keyId":"88888888-0000-0000-0000-000000000005","startDate":"2018-06-29T21:05:47.636879Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-05-47","id":"5d37c578-2fe6-4d59-a1df-1205b7e69059","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-05-47","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2085']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:06:02 GMT']
      duration: ['579307']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [LIsvepV0yWsv17jftCrqPcUrT8/sKGPKtFREgCo1I3k=]
      ocp-aad-session-key: [-JJSuha0_5U7oBT2Pefm2uIKDcxaNWvJLrpa39qlEZ1jp2lY6IRy10665mPhoxF_SXiv1HGqvmhV3aphPCopr1yfLEp6UJE9WgAadnPfhGWLg1JasDYXRhKH1_r2yt4emjHN7GWcMZqMMuIIIv5HHg.TsLvyI_P2IO2_S98RSn43HCLWim-W2pfOx7N765YerU]
      pragma: [no-cache]
      request-id: [a37d4855-4f41-4402-9d36-dccb716dc30f]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-keyvault/1.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body: {string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/27859dc0e34b47589d60dc7a29a36c47","kid":"https://clitest000002.vault.azure.net/keys/cert1/27859dc0e34b47589d60dc7a29a36c47","sid":"https://clitest000002.vault.azure.net/secrets/cert1/27859dc0e34b47589d60dc7a29a36c47","x5t":"-bjv2eQnuYrWZJNta03A_xqFw5o","cer":"MIIDQjCCAiqgAwIBAgIQKHMTVz2LTlmZbHWa10Kr9TANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTU0MFoXDTE4MTIyOTIxMDU0MFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAFpLT1FFAE5MpEqfK1yvRAwBrOBLNkO+3em6+U1/WV6QhKFyspkVldI1nqIidSlx+l3+bsiJREaY0btpdCogGFul0RXAmtgBsiBL3N0JmLWYb29H3Y11+MlbG5ofcjOda8DKmIAECSL54htuGj5eLKCduqukg8uM98fjT/6u76LNEE2PhGkXJs+7s5ur1Paz7JBzmyOg0YYysQzhgES3ZB8XhwGkx3UlIuIV+VDXVKrmNcSw1QWiZUqZRCW/7HSUBZ484VLj5V3IbTptUkQswvIOQ30KQEky/gUyzSTDtTOSmKfvDKYO4mpSZzuZ6gJ5o+Z5GESG/omagzgPu+ctPpw==","attributes":{"enabled":true,"nbf":1530305740,"exp":1546117540,"created":1530306340,"updated":1530306340,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1530306276,"updated":1530306325}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2386']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 29 Jun 2018 21:06:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000;includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-keyvault-network-info: [addr=167.220.100.108;act_addr_fam=InterNetwork;]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.852]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"keyCredentials": [{"startDate": "2018-06-29T21:06:03.271708Z", "endDate":
      "2018-12-29T21:05:39.000Z", "value": "MIIDQjCCAiqgAwIBAgIQKHMTVz2LTlmZbHWa10Kr9TANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE4MDYyOTIwNTU0MFoXDTE4MTIyOTIxMDU0MFowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALPaZ1K+VjQmkgdF4iRsSYBgauklCi9AkF6dMhtiXLotAZcfAWYPEmmcdJciim4Tj+/2MBBbUoSDkeoqm6eiYUeWAt/tvMztkeKDkUmm7G9OzA9Sry9BgKKwBkeztWfw7cQyHzoPfMbsBL1S3fbP54zY5JntzdVAe9xbU6LvcHm1Gzgnez/pwAeyFSwDFZjqg6WvRV1nG61Fged5XQfViWTOwGW9DbMwWFu4tG+kvVC3Qh8XeP3Dt6ETnExL3NsieVnJt+/RhqFdlFu944gn26CEZAlG3u5j1DpOjgkRQmbYp/sq1ruwUovmrjNL+6lLUQCVdEl5ZieUzVuOSdy2SKcCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFL472FVG/p08IKG7z5KBd3RhKUyZMB0GA1UdDgQWBBS+O9hVRv6dPCChu8+SgXd0YSlMmTANBgkqhkiG9w0BAQsFAAOCAQEAFpLT1FFAE5MpEqfK1yvRAwBrOBLNkO+3em6+U1/WV6QhKFyspkVldI1nqIidSlx+l3+bsiJREaY0btpdCogGFul0RXAmtgBsiBL3N0JmLWYb29H3Y11+MlbG5ofcjOda8DKmIAECSL54htuGj5eLKCduqukg8uM98fjT/6u76LNEE2PhGkXJs+7s5ur1Paz7JBzmyOg0YYysQzhgES3ZB8XhwGkx3UlIuIV+VDXVKrmNcSw1QWiZUqZRCW/7HSUBZ484VLj5V3IbTptUkQswvIOQ30KQEky/gUyzSTDtTOSmKfvDKYO4mpSZzuZ6gJ5o+Z5GESG/omagzgPu+ctPpw==",
      "keyId": "8b375d3d-cb7b-41a4-b1b8-7342a17026d6", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp credential reset]
      Connection: [keep-alive]
      Content-Length: ['1336']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/d6963316-563e-4570-aa57-73ddc8f80962?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 29 Jun 2018 21:06:04 GMT']
      duration: ['2070393']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [rM1KdcCuqoQ1CDuAZFk7Kx6C9y26eNQPriKUdQHzxw8=]
      ocp-aad-session-key: [d3On42bbZIPJTkf8EZXJsQMaSTEkU2IETHXdZ0VVsKTP9sa4pZvr222L1UC0cB8DKwjkkE1kuUyT6KF3DqvUFFwPHOqUzkJDGGCjTAW5L6DtzVToCaSJnXjHNfC39VZqjq07PyDVyKj5Kq2UR0ePVw.ELsfnYsbpFg21vRgtk7-b6q6Vrc1H0wuADR9w4Pg6Ps]
      pragma: [no-cache]
      request-id: [8ecb1cd5-8099-4c0a-99cd-7ffb85569926]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/Microsoft.DirectoryServices.Application","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"d6963316-563e-4570-aa57-73ddc8f80962","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"28210def-e30c-4d49-ae2f-8bf004a22f7e","appRoles":[],"availableToOtherTenants":false,"displayName":"azure-cli-2018-06-29-21-05-47","errorUrl":null,"groupMembershipClaims":null,"homepage":"http://azure-cli-2018-06-29-21-05-47","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":null,"endDate":"2018-12-29T21:05:39Z","keyId":"8b375d3d-cb7b-41a4-b1b8-7342a17026d6","startDate":"2018-06-29T21:06:03.271708Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logoUrl":null,"oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on behalf of the signed-in
        user.","adminConsentDisplayName":"Access azure-cli-2018-06-29-21-05-47","id":"5d37c578-2fe6-4d59-a1df-1205b7e69059","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access azure-cli-2018-06-29-21-05-47 on your behalf.","userConsentDisplayName":"Access
        azure-cli-2018-06-29-21-05-47","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":null,"recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2088']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 29 Jun 2018 21:06:04 GMT']
      duration: ['387239']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [gs8C01f5KRN9nNLnTmZX5CWrEWq6NpXoaIB755uhVTs=]
      ocp-aad-session-key: [f26qMRr2juimMG349W1bkVK6rEqvCVKuitBJbkzjLeNVbMzW2Biiy_yU1PlZ5A_XbCTl3RxR88YzCmeDZOATa6MxmCj5ZvI280w4sOSqK8w8YuTUQgmQlLt9UIakazd2NF5yeoemA_qDfnD8JxwgkA.tMt_vOROAySzZfqa45PWwZdI-XlesV_Hc9pFOwQPWGI]
      pragma: [no-cache]
      request-id: [c8e83828-380e-4138-9afc-27812baf7a69]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad app delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 azure-graphrbac/0.40.0 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/d6963316-563e-4570-aa57-73ddc8f80962?api-version=1.6
  response:
    body: {string: ''}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      dataserviceversion: [1.0;]
      date: ['Fri, 29 Jun 2018 21:06:05 GMT']
      duration: ['5168981']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [AIY749cUqkfTI7y5fLczusJejJMhFm3ivn/TTOGJa5s=]
      ocp-aad-session-key: [C-KIZ-I_rx9aUY60iM2eQvbU7d1JXLmiTIDst6bGQyf8UCFKvNgiSsFXTqAaXXegwj1Gq68TDscDcCWaO0ND3vcuBb8HMQ3QhE4r5JRQF32QPwxuo9pX7xiBe7M7-nlaJ8pvYt-okP-UkOFmiNEwNg.0sQqDwfbJS6YNwpPa7aXdSlyrie4SmUKHZ-rMPJDdVQ]
      pragma: [no-cache]
      request-id: [6ff5cbe6-b487-4458-a8d1-e971df7b26cc]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET, ASP.NET]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-17.6.0-x86_64-i386-64bit) requests/2.19.1
          msrest/0.5.1 msrest_azure/0.4.33 resourcemanagementclient/2.0.0rc2 Azure-SDK-For-Python
          AZURECLI/2.0.41]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 29 Jun 2018 21:06:06 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZFWElTVElORzo1RkNFUlRBUnxGQTY1RkVEMkQzRTlBMTIyLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14997']
    status: {code: 202, message: Accepted}
version: 1
