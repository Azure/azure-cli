interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-04-14T03:40:05Z"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group create
      Connection:
      - keep-alive
      Content-Length:
      - '110'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --location --name --tag
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","name":"cli_test_sp_with_kv_existing_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-04-14T03:40:05Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:40:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[],"assignedPlans":[],"city":null,"companyName":null,"consentProvidedForMinor":null,"country":null,"createdDateTime":"2016-01-21T22:10:16Z","creationType":null,"department":null,"dirSyncEnabled":null,"displayName":"admin3","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"admin3","immutableId":null,"isCompromised":null,"jobTitle":null,"lastDirSyncTime":null,"legalAgeGroupClassification":null,"mail":null,"mailNickname":"admin3","mobile":null,"onPremisesDistinguishedName":null,"onPremisesSecurityIdentifier":null,"otherMails":["yugangw@microsoft.com"],"passwordPolicies":"None","passwordProfile":null,"physicalDeliveryOfficeName":null,"postalCode":null,"preferredLanguage":"en-US","provisionedPlans":[],"provisioningErrors":[],"proxyAddresses":[],"refreshTokensValidFromDateTime":"2019-03-13T03:15:27Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":null,"state":null,"streetAddress":null,"surname":"sdk","telephoneNumber":null,"thumbnailPhoto@odata.mediaEditLink":"directoryObjects/e7e158d3-7cdc-47cd-8825-5859d7ab2b55/Microsoft.DirectoryServices.User/thumbnailPhoto","usageLocation":null,"userIdentities":[],"userPrincipalName":"admin3@AzureSDKTeam.onmicrosoft.com","userState":null,"userStateChangedOn":null,"userType":"Member"}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1579'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:40:08 GMT
      duration:
      - '622864'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - ISbjmcjIryw8imO8hLdMu3pPCFK4JbNjsBFNQwzSQzU=
      ocp-aad-session-key:
      - ISukgLfsB3gfF6bfUqWiir4H_Q9-msN-oYWOO7hontOPJzahPzoHF9rKmRNFA4j3WIj5BHavRFKKyiiEaDMJhizlLQyZVTOaYF4PzldVposrTvNt3MI55MGY-Q8khmDdCKynxzKrT0GpBhbI_Eq4NQ.0ZxbwzepLuHkmeINgC0B0fiUTr3k9XVHXT-MW94qvPM
      pragma:
      - no-cache
      request-id:
      - df74a9c7-32a1-419e-b4e4-3565e0338b9a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"tenantId": "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "54826b22-38d6-4fb2-bad9-b7b93a3e9c5a", "objectId": "e7e158d3-7cdc-47cd-8825-5859d7ab2b55",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      Content-Length:
      - '746'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-keyvault/1.1.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:40:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.242
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-keyvault/1.1.0 Azure-SDK-For-Python AZURECLI/2.0.62
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2018-02-14
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","accessPolicies":[{"tenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","objectId":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net/","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1102'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:40:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.242
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sun, 14 Apr 2019 03:40:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 24}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '511'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQABsPl1dTh4Ao9pW0UCMlaxXVGajrly2SP5gpZauKYWM8PjvJixzGtwOLP3xfgrGc3fHTuKlfyXGvwuhIYysiIezpBdR/DMvPnbuyU2lJxzFkFTiiCc2OhBR0Mb8JynF4d24PJXC3xOzfv5rFZvvb5JG7dXIaK6qr9fe2liLYHLFLftLz/7FqzR5TYRtk/0UHh+t5NIf4ez/zgj9zymOu66K3/Ku61rHsOnshK3uD65x1nqNH2idYrG8s6tN8+d+wnSguzVsTF/QZPd/tTSJS4KZZ77CFQtWN+C0urLKUN4yt4tPllfGM9tyqIdF6zE1rkiIH8GKkl3UVf03rtiLI55","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"33ecbd4513d149f7810516f9717851d4"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:40:47 GMT
      expires:
      - '-1'
      location:
      - https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=33ecbd4513d149f7810516f9717851d4
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQABsPl1dTh4Ao9pW0UCMlaxXVGajrly2SP5gpZauKYWM8PjvJixzGtwOLP3xfgrGc3fHTuKlfyXGvwuhIYysiIezpBdR/DMvPnbuyU2lJxzFkFTiiCc2OhBR0Mb8JynF4d24PJXC3xOzfv5rFZvvb5JG7dXIaK6qr9fe2liLYHLFLftLz/7FqzR5TYRtk/0UHh+t5NIf4ez/zgj9zymOu66K3/Ku61rHsOnshK3uD65x1nqNH2idYrG8s6tN8+d+wnSguzVsTF/QZPd/tTSJS4KZZ77CFQtWN+C0urLKUN4yt4tPllfGM9tyqIdF6zE1rkiIH8GKkl3UVf03rtiLI55","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"33ecbd4513d149f7810516f9717851d4"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:40:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQABsPl1dTh4Ao9pW0UCMlaxXVGajrly2SP5gpZauKYWM8PjvJixzGtwOLP3xfgrGc3fHTuKlfyXGvwuhIYysiIezpBdR/DMvPnbuyU2lJxzFkFTiiCc2OhBR0Mb8JynF4d24PJXC3xOzfv5rFZvvb5JG7dXIaK6qr9fe2liLYHLFLftLz/7FqzR5TYRtk/0UHh+t5NIf4ez/zgj9zymOu66K3/Ku61rHsOnshK3uD65x1nqNH2idYrG8s6tN8+d+wnSguzVsTF/QZPd/tTSJS4KZZ77CFQtWN+C0urLKUN4yt4tPllfGM9tyqIdF6zE1rkiIH8GKkl3UVf03rtiLI55","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"33ecbd4513d149f7810516f9717851d4"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:40:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:40:59 GMT
      duration:
      - '483428'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Lvh0/G78olXOk4T0L5DDgaqMqxW05ALila/UzU46pxE=
      ocp-aad-session-key:
      - yHrrIBPZe71HG24nTyFxnvLkxwcO47_3nIx72Qc4-l2VmkefnkQPyJx2VQ9AxuxkRpWaIDsD9Q6t8Rwjv0rFi3gdfNuuiZJddVTrqik1ZDTqIZQVp_J6O4fOx4___5AlFeiMNTfwN83gZ9q-aH9btg.yVGuVrUjSBTGl4pHnyvYKhvCqJULbQM_y8NIgVXHObQ
      pragma:
      - no-cache
      request-id:
      - 0499238e-26d4-4f99-98a1-90fab8ce8b5c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/2cfd5933e9b8458e98afd1e12618fba1","kid":"https://clitest000002.vault.azure.net/keys/cert1/2cfd5933e9b8458e98afd1e12618fba1","sid":"https://clitest000002.vault.azure.net/secrets/cert1/2cfd5933e9b8458e98afd1e12618fba1","x5t":"x6VPmVnzzFdiAzZUpkDtIuK70X8","cer":"MIIDQjCCAiqgAwIBAgIQWnTqNiNaTkuTJuM8/iT7aDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzA1NVoXDTIxMDQxNDAzNDA1NVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAZ6QjZIG2Isg0X6/CO9nHgDqt3Jb2J03gpFdeAkTbWqjq2QB3pESXDsASuH+e4pR/AqHjttOdDtL8NLvQEL/MBdqRIyTGordNgkwP/mfDtx+KTy+nGiWxqz/KLVvsToIdofxkPzMUP3nu6/RalDwKZQO06J7R83E0VFvXIA4Tm3vYRtQjtXYq/mHGGdfMsbM+TvMvQOUIdY5DwhMCrvZXWqO79BmPUHPoLp1SjX7Urlu+sOUVz/wDRyiWIhO7BDps8phESZrpxRnSK+3rk5Pbta6VIgflfTI8GlI0JxIuuZRKBKfa3dHoAaWLPxOiIg0tyNyUj9R/vdtmqKP7bMkqKA==","attributes":{"enabled":true,"nbf":1555212655,"exp":1618371655,"created":1555213256,"updated":1555213256,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1555213248,"updated":1555213248}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2387'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:00 GMT
      duration:
      - '498210'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Gb2x7qjWXmcL1WXWw2JJMQYvUggHuquZ6MYO+AXjTx8=
      ocp-aad-session-key:
      - R0DwZObXHQSgxOv3FofAjagtg25OGYhvYS6-NJ-kMDIlwSJ6jC9lVdP-DkvWkiHSkyVUcufjf0BEjtO9gctE-8-5969WbwvtBgXBsLcIANQj54OBADNlnI1fdF8LcFgOuWJ8MC7jHgeNNEuAPA5y8A.-V0fHdhQQZXknpuuFYxYtLN6R6LV1JPf9DJYiNyAzxs
      pragma:
      - no-cache
      request-id:
      - 78e8e263-237b-4a34-89e2-7bcc79ef1607
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_existing_cert000001",
      "keyCredentials": [{"startDate": "2019-04-14T03:41:00.180747Z", "endDate": "2020-04-14T03:41:00.180747Z",
      "value": "MIIDQjCCAiqgAwIBAgIQWnTqNiNaTkuTJuM8/iT7aDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzA1NVoXDTIxMDQxNDAzNDA1NVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAZ6QjZIG2Isg0X6/CO9nHgDqt3Jb2J03gpFdeAkTbWqjq2QB3pESXDsASuH+e4pR/AqHjttOdDtL8NLvQEL/MBdqRIyTGordNgkwP/mfDtx+KTy+nGiWxqz/KLVvsToIdofxkPzMUP3nu6/RalDwKZQO06J7R83E0VFvXIA4Tm3vYRtQjtXYq/mHGGdfMsbM+TvMvQOUIdY5DwhMCrvZXWqO79BmPUHPoLp1SjX7Urlu+sOUVz/wDRyiWIhO7BDps8phESZrpxRnSK+3rk5Pbta6VIgflfTI8GlI0JxIuuZRKBKfa3dHoAaWLPxOiIg0tyNyUj9R/vdtmqKP7bMkqKA==",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert000001",
      "identifierUris": ["http://cli_test_sp_with_kv_existing_cert000001"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1672'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"033e1ef3-00f4-4ad5-ae52-ad1b5a506682","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b732b739-e8e4-4a15-a779-0adc8fbbc4de","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"C7A54F9959F3CC5762033654A640ED22E2BBD17F","endDate":"2020-04-14T03:41:00.180747Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-04-14T03:41:00.180747Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"79ea0a2b-1a5a-4bb9-929d-60f76f54491a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:00 GMT
      duration:
      - '3062637'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - 0sfE/ORXQruXagUwgN6LKCMJnfSNsPKIg39HCVmIqe8=
      ocp-aad-session-key:
      - M4gwXNZd1ZSA5TTBKhAC0uq8nPj-mHdq4UiMSrfDF2Squg8WfPPjcU9AT_Mr1JTvXr0VGvEg0h89dni7fy3a7Jxn7Lt2tD4ruXKLG4tw5zjkeO5f2bQ_WB4Qe82LAhrqRAezxu25tg-kyZCWYPmhQQ.6MvDC6ch_ITxyQ2ejaTtsrYPcRaBoYdHS14HBwJUA-o
      pragma:
      - no-cache
      request-id:
      - efb98414-ae43-4437-ad3c-13cefbefb0ac
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "b732b739-e8e4-4a15-a779-0adc8fbbc4de"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"38027e0a-b76c-41bb-8589-5b5746e3c7a6","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"b732b739-e8e4-4a15-a779-0adc8fbbc4de","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"79ea0a2b-1a5a-4bb9-929d-60f76f54491a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["b732b739-e8e4-4a15-a779-0adc8fbbc4de","http://cli_test_sp_with_kv_existing_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:00 GMT
      duration:
      - '1581557'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/38027e0a-b76c-41bb-8589-5b5746e3c7a6/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - IPBOae931bn+bJPBnT4uNOWiCrRKetFJ3jeGeHc0YHk=
      ocp-aad-session-key:
      - ZR7Y1k7XZrYr94AnRA8-P23gcrTN36Mu9i86x8GyyYOaUqFWdO1SxdaG_p1WykjknbTcPbbOM3fSkfYmYCCRUJ9-oQ9LTxE5bFBHSfkj8Qz-0d9JSpmXE0PLpZgxidsS3t2BqUnB5Wl0EJcU1eIYoQ.Y6kzPQFvXjQ6Zuh6OtVwf0xO9VZPnUOT9vBATTip6X8
      pragma:
      - no-cache
      request-id:
      - fbcd47c9-007d-4712-8476-96c209c35646
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "38027e0a-b76c-41bb-8589-5b5746e3c7a6"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-01-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 38027e0ab76c41bb85895b5746e3c7a6
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "38027e0a-b76c-41bb-8589-5b5746e3c7a6"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-01-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 38027e0ab76c41bb85895b5746e3c7a6
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "38027e0a-b76c-41bb-8589-5b5746e3c7a6"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000004?api-version=2018-01-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 38027e0ab76c41bb85895b5746e3c7a6
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "38027e0a-b76c-41bb-8589-5b5746e3c7a6"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - -n --keyvault --cert --scopes
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000005?api-version=2018-01-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"38027e0a-b76c-41bb-8589-5b5746e3c7a6","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2019-04-14T03:41:21.0868228Z","updatedOn":"2019-04-14T03:41:21.0868228Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000005","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000005"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-ms-request-charge:
      - '2'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"38027e0a-b76c-41bb-8589-5b5746e3c7a6","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert000001","appId":"b732b739-e8e4-4a15-a779-0adc8fbbc4de","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"79ea0a2b-1a5a-4bb9-929d-60f76f54491a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert000001","b732b739-e8e4-4a15-a779-0adc8fbbc4de"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2157'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:23 GMT
      duration:
      - '576105'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 06P6omLZNNhtkLk8HqTu9pI/L4tlbjNI68+dmcAZdUI=
      ocp-aad-session-key:
      - gjB3II4jFLSfYTD4pHoJQ3o-cOmzZUcEN-VRUiygLaD-8JmdgMYu4htZwVWSbsyRoE_UE9JW5IMcBLIIUNj8BhVhIWCllkVliZpkF1NF8wEXUnbLbEXXtxGwgx3nMHtnhdnxDMIDUmbLB_fm0oCvfg.fa0Kf0ML4hHRBTw7PSF3Us0IxB8Ng77tGuFP4Xm7SpA
      pragma:
      - no-cache
      request-id:
      - ca137a62-bc64-421f-a4a0-394023969094
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27b732b739-e8e4-4a15-a779-0adc8fbbc4de%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:24 GMT
      duration:
      - '923935'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - bjwfCHqIrtGB+z8zTamk9qnExmWtx2/qGwNbbFSoSzc=
      ocp-aad-session-key:
      - evgyeHoZN4MOsteR-tgSyTmD4OQs7kzcUSjJgGEhqu7FBvbXEOwctgDAXT-tnq2SSswGu9lwkCgWyDTuNbZPvyX1fBVlW1YkIJ6-_wSzuGGxqnypJ4-UaNuENUo9VVyDmgxprR4j6R66Ht-ymvFoMQ.cEHxu7ubojDcBa1g5Vmvx9pAEhXcUWUnoPbIKwe9Pjs
      pragma:
      - no-cache
      request-id:
      - c883262b-1c90-4862-8b0b-03d4a6dcfe99
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27b732b739-e8e4-4a15-a779-0adc8fbbc4de%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"033e1ef3-00f4-4ad5-ae52-ad1b5a506682","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b732b739-e8e4-4a15-a779-0adc8fbbc4de","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"C7A54F9959F3CC5762033654A640ED22E2BBD17F","endDate":"2020-04-14T03:41:00.180747Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-04-14T03:41:00.180747Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"79ea0a2b-1a5a-4bb9-929d-60f76f54491a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:23 GMT
      duration:
      - '610124'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - K6rldxMxky7aVh9vRPlXWYskRYxAISeuZjxkHfljrVA=
      ocp-aad-session-key:
      - xW-TR7lBFjWC4tPpKl6Czni18hVligBnVHcvjZErWmYoDZuisdPCXIIoe6s3XyT9JOgLZ0zWRGWNh37B8xZU343aXV4LPPH2fCpSvn_NYE2rf4NUJAqyODiMkmvEFfx7oc49wMhB4vKm2wUMpaHY9g.hYUJX7pqjRy62OFD5rmrK3gMJIiCLyOCxIayhkjUhhc
      pragma:
      - no-cache
      request-id:
      - dd2d4e08-2c5b-4245-bfe8-4b9b290ea944
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/033e1ef3-00f4-4ad5-ae52-ad1b5a506682?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"033e1ef3-00f4-4ad5-ae52-ad1b5a506682","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b732b739-e8e4-4a15-a779-0adc8fbbc4de","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"C7A54F9959F3CC5762033654A640ED22E2BBD17F","endDate":"2020-04-14T03:41:00.180747Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-04-14T03:41:00.180747Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"79ea0a2b-1a5a-4bb9-929d-60f76f54491a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:24 GMT
      duration:
      - '565437'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - fQLJJo2NQKA1MEYhE9K05hCw7w6tp5qp0L6SHCVm0xw=
      ocp-aad-session-key:
      - 2KTnCgns3F6Qrq0P-nONITykfrBMFdUKz9gLX8GJb8WqlvPucpZjR4c4v9wglifepF_HWrQdvMU7i2UvfAtZw8VRV2IMk3TL6d6ByIcXMJnQudaZqZRN3Lmjh4z4f0tREsdz2qAMfSEs8WQWzaxgiw.r2hNRgNlhX_MT6BKVxqZRWCa3hHsboLjorVuuMyNfhk
      pragma:
      - no-cache
      request-id:
      - bc2cbf9a-5dca-4b84-b61a-9782d4003754
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/2cfd5933e9b8458e98afd1e12618fba1","kid":"https://clitest000002.vault.azure.net/keys/cert1/2cfd5933e9b8458e98afd1e12618fba1","sid":"https://clitest000002.vault.azure.net/secrets/cert1/2cfd5933e9b8458e98afd1e12618fba1","x5t":"x6VPmVnzzFdiAzZUpkDtIuK70X8","cer":"MIIDQjCCAiqgAwIBAgIQWnTqNiNaTkuTJuM8/iT7aDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzA1NVoXDTIxMDQxNDAzNDA1NVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAZ6QjZIG2Isg0X6/CO9nHgDqt3Jb2J03gpFdeAkTbWqjq2QB3pESXDsASuH+e4pR/AqHjttOdDtL8NLvQEL/MBdqRIyTGordNgkwP/mfDtx+KTy+nGiWxqz/KLVvsToIdofxkPzMUP3nu6/RalDwKZQO06J7R83E0VFvXIA4Tm3vYRtQjtXYq/mHGGdfMsbM+TvMvQOUIdY5DwhMCrvZXWqO79BmPUHPoLp1SjX7Urlu+sOUVz/wDRyiWIhO7BDps8phESZrpxRnSK+3rk5Pbta6VIgflfTI8GlI0JxIuuZRKBKfa3dHoAaWLPxOiIg0tyNyUj9R/vdtmqKP7bMkqKA==","attributes":{"enabled":true,"nbf":1555212655,"exp":1618371655,"created":1555213256,"updated":1555213256,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":24,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1555213248,"updated":1555213248}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2387'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2019-04-14T03:41:23.65824Z", "endDate":
      "2020-04-14T03:41:23.65824Z", "value": "MIIDQjCCAiqgAwIBAgIQWnTqNiNaTkuTJuM8/iT7aDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzA1NVoXDTIxMDQxNDAzNDA1NVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAZ6QjZIG2Isg0X6/CO9nHgDqt3Jb2J03gpFdeAkTbWqjq2QB3pESXDsASuH+e4pR/AqHjttOdDtL8NLvQEL/MBdqRIyTGordNgkwP/mfDtx+KTy+nGiWxqz/KLVvsToIdofxkPzMUP3nu6/RalDwKZQO06J7R83E0VFvXIA4Tm3vYRtQjtXYq/mHGGdfMsbM+TvMvQOUIdY5DwhMCrvZXWqO79BmPUHPoLp1SjX7Urlu+sOUVz/wDRyiWIhO7BDps8phESZrpxRnSK+3rk5Pbta6VIgflfTI8GlI0JxIuuZRKBKfa3dHoAaWLPxOiIg0tyNyUj9R/vdtmqKP7bMkqKA==",
      "keyId": "82953883-1d57-4dd5-be52-1d461e6be937", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1337'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/033e1ef3-00f4-4ad5-ae52-ad1b5a506682?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Sun, 14 Apr 2019 03:41:24 GMT
      duration:
      - '2226181'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - QcSfagiuMZ8udXU0pxMb2tb2BoM4+qRFHGLcFMiCX8A=
      ocp-aad-session-key:
      - StsTMDxRsOwkcM5CKQhovoofueH2v4BCs9cwdsK-C8lv4AM1vYYQxsFwTkKzK7SfQ72QibLErP8aCkrEJIhaTldmoaiWOJxMJlzlZsbl6d1QHf_icSFX83EgN982n51s3oyazRzXKpbFeVku6x2KFg.edrC6e0OjuE-mB2UO0g19SJUzelSduxp3dPgG7KN4f4
      pragma:
      - no-cache
      request-id:
      - 2b379b9c-aa65-4251-8773-d55378f4cc0a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"033e1ef3-00f4-4ad5-ae52-ad1b5a506682","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"b732b739-e8e4-4a15-a779-0adc8fbbc4de","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert000001","identifierUris":["http://cli_test_sp_with_kv_existing_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"C7A54F9959F3CC5762033654A640ED22E2BBD17F","endDate":"2020-04-14T03:41:23.65824Z","keyId":"82953883-1d57-4dd5-be52-1d461e6be937","startDate":"2019-04-14T03:41:23.65824Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/033e1ef3-00f4-4ad5-ae52-ad1b5a506682/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","id":"79ea0a2b-1a5a-4bb9-929d-60f76f54491a","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert000001 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2686'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:26 GMT
      duration:
      - '551651'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - uCCQbpgVHNC8rue1lL9wVVx/oAWeG8jNKc51+E8x6H4=
      ocp-aad-session-key:
      - qb_Gn_4Laal0ZAq2ySIuLhIjDcyX9H0Uj1-NCHZc6Ubn5a71LLBz7fxnfGWc2KjmqSxoCuPkeHbbF20q7hpJ5uDFyUgjOa__OnPTpdfxjgudvNYAk7S_0Qxb6F-J90JSGih6ez1YcmZUgK6qwChvKQ.Nwq1jlBzLPJ9teEcGytVpfOQeK43k1Z-CTC4rFxFrlE
      pragma:
      - no-cache
      request-id:
      - 919f1bc1-0f20-4ce8-91b0-0f39ce4559cd
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/033e1ef3-00f4-4ad5-ae52-ad1b5a506682?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Sun, 14 Apr 2019 03:41:26 GMT
      duration:
      - '2159832'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - hwn6uEtjHiiLa1+/G29HvIs5WOJFHYFOq64UHyjuGvY=
      ocp-aad-session-key:
      - JlmZBYj19ZywjdYjIoMMeQ1LfUQIS2ylcPTe04zbkHnHkncm2ZwtBvEvdrdUSxrpENhiX3GmfINFqLBTk2lNUfg_qeQ1wi9tKIO5nk8mAVF1d2TVwEl_J_njspe6N9QTuMtDdTfiktkcEwooOhVtfQ.k-E1p-08X0zqcVqKNPtWQT44LSufqMrtPXpuBtYtUHw
      pragma:
      - no-cache
      request-id:
      - 7ff82c61-6339-4936-a140-311ec19b7674
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=CLIGetDefaultPolicy", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 6}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}},
      "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '510'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://clitest000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQABsPl1dTh4Ao9pW0UCMlaxXVGajrly2SP5gpZauKYWM8PjvJixzGtwOLP3xfgrGc3fHTuKlfyXGvwuhIYysiIezpBdR/DMvPnbuyU2lJxzFkFTiiCc2OhBR0Mb8JynF4d24PJXC3xOzfv5rFZvvb5JG7dXIaK6qr9fe2liLYHLFLftLz/7FqzR5TYRtk/0UHh+t5NIf4ez/zgj9zymOu66K3/Ku61rHsOnshK3uD65x1nqNH2idYrG8s6tN8+d+wnSguzVsTF/QZPd/tTSJS4KZZ77CFQtWN+C0urLKUN4yt4tPllfGM9tyqIdF6zE1rkiIH8GKkl3UVf03rtiLI55","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"c59f44413f644c27a2b0838978d13e46"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:27 GMT
      expires:
      - '-1'
      location:
      - https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=c59f44413f644c27a2b0838978d13e46
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQABsPl1dTh4Ao9pW0UCMlaxXVGajrly2SP5gpZauKYWM8PjvJixzGtwOLP3xfgrGc3fHTuKlfyXGvwuhIYysiIezpBdR/DMvPnbuyU2lJxzFkFTiiCc2OhBR0Mb8JynF4d24PJXC3xOzfv5rFZvvb5JG7dXIaK6qr9fe2liLYHLFLftLz/7FqzR5TYRtk/0UHh+t5NIf4ez/zgj9zymOu66K3/Ku61rHsOnshK3uD65x1nqNH2idYrG8s6tN8+d+wnSguzVsTF/QZPd/tTSJS4KZZ77CFQtWN+C0urLKUN4yt4tPllfGM9tyqIdF6zE1rkiIH8GKkl3UVf03rtiLI55","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"c59f44413f644c27a2b0838978d13e46"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQABsPl1dTh4Ao9pW0UCMlaxXVGajrly2SP5gpZauKYWM8PjvJixzGtwOLP3xfgrGc3fHTuKlfyXGvwuhIYysiIezpBdR/DMvPnbuyU2lJxzFkFTiiCc2OhBR0Mb8JynF4d24PJXC3xOzfv5rFZvvb5JG7dXIaK6qr9fe2liLYHLFLftLz/7FqzR5TYRtk/0UHh+t5NIf4ez/zgj9zymOu66K3/Ku61rHsOnshK3uD65x1nqNH2idYrG8s6tN8+d+wnSguzVsTF/QZPd/tTSJS4KZZ77CFQtWN+C0urLKUN4yt4tPllfGM9tyqIdF6zE1rkiIH8GKkl3UVf03rtiLI55","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"c59f44413f644c27a2b0838978d13e46"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrjCCAZYCAQAwHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaBLMEkGCSqGSIb3DQEJDjE8MDowDgYDVR0PAQH/BAQDAgG+MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAJBgNVHRMEAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQABsPl1dTh4Ao9pW0UCMlaxXVGajrly2SP5gpZauKYWM8PjvJixzGtwOLP3xfgrGc3fHTuKlfyXGvwuhIYysiIezpBdR/DMvPnbuyU2lJxzFkFTiiCc2OhBR0Mb8JynF4d24PJXC3xOzfv5rFZvvb5JG7dXIaK6qr9fe2liLYHLFLftLz/7FqzR5TYRtk/0UHh+t5NIf4ez/zgj9zymOu66K3/Ku61rHsOnshK3uD65x1nqNH2idYrG8s6tN8+d+wnSguzVsTF/QZPd/tTSJS4KZZ77CFQtWN+C0urLKUN4yt4tPllfGM9tyqIdF6zE1rkiIH8GKkl3UVf03rtiLI55","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"c59f44413f644c27a2b0838978d13e46"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:50 GMT
      duration:
      - '470079'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - uuC4ojITP59NTpteQfARMJzW3Ur1U9x1ysBSRndTeew=
      ocp-aad-session-key:
      - NpCAJSoe0KQ4eMYaDlfCBLVXJPzKI7k-ZH08UtQEgExB9QaQlMFHFJLZieqcXbh5oadP29bDgAFZg9CvsV0gb-XBFKJOCV9F2XCfZ4A9U75RIx23V9P0PGmzYuVXf0tfMTlne-3eimJb9ywcltxmBQ.WlMA91GppyXvOfsD1LOgeQe4GzD_wGwy4zeC77TlA7Y
      pragma:
      - no-cache
      request-id:
      - 538ea2a0-eafb-4fbd-bf6e-a645e59eceec
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/78a0a4e8621b4ade9b529f5f0b3db8a5","kid":"https://clitest000002.vault.azure.net/keys/cert1/78a0a4e8621b4ade9b529f5f0b3db8a5","sid":"https://clitest000002.vault.azure.net/secrets/cert1/78a0a4e8621b4ade9b529f5f0b3db8a5","x5t":"k9wm8UJLeTCmGmL8yp6tICBLXts","cer":"MIIDQjCCAiqgAwIBAgIQGBDR58OaT+qhgrRQ4ipGeDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzE0MVoXDTE5MTAxNDAzNDE0MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAYD41VYHgaMb5KFmx/tULNNwzvd0XOIKYMffaedgtae72KbUOCqZ82NXEe2sqa2YMdez4K5CA0HYOvBbfkxrr0nBZ6zV3mEb+bIV2gwYAer9JPIOeZzThfCre8V2zoO+dGHM7TH/cdPUNtB3pKwHmEVu2lJakuWg9gcwITZo47YZfBjw4PByvwP5Iusde8L+q6AmJwtCB6prKjrx4SS4bb/M5Jv/gQQPk3mVHjzrvA+2js5lVhA9xE9uT92zIGGrWvrlT8TD43p0cYVR22Dtdftb+CciC2GdCVF2tl/qbNqKfX+6HO9sbGDWsVm+g1/0lKeL5uPia6JqYaoKyUNIAQA==","attributes":{"enabled":true,"nbf":1555212701,"exp":1571024501,"created":1555213301,"updated":1555213301,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1555213248,"updated":1555213288}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2386'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:51 GMT
      duration:
      - '504043'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Y5fnsaXih/izETO5cgkZ+YM4xOA2rFM9Za4eUALb424=
      ocp-aad-session-key:
      - -pIKivL9_8O-LyDmbJuMaR1rSXQY9bRCzEl6pzRDaC0vuQYqDG_5byDG3wjAViTGdWwO7wC04zRh2fv2J5V72jJoydbwpP22_PQSNWLtNrS7YqakBUSptZmW9DA6bFF6NjS3yk1VCATZTSrIV6ntLQ.j0AfnXV9TzvGiNudC6mQW2tPMjkGkd-z0gGFn7TxpP8
      pragma:
      - no-cache
      request-id:
      - 0f29c259-7f59-4309-b6ef-83545aa98462
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_existing_cert0000012",
      "keyCredentials": [{"startDate": "2019-04-14T03:41:50.751356Z", "endDate": "2019-10-14T03:41:40.000Z",
      "value": "MIIDQjCCAiqgAwIBAgIQGBDR58OaT+qhgrRQ4ipGeDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzE0MVoXDTE5MTAxNDAzNDE0MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAYD41VYHgaMb5KFmx/tULNNwzvd0XOIKYMffaedgtae72KbUOCqZ82NXEe2sqa2YMdez4K5CA0HYOvBbfkxrr0nBZ6zV3mEb+bIV2gwYAer9JPIOeZzThfCre8V2zoO+dGHM7TH/cdPUNtB3pKwHmEVu2lJakuWg9gcwITZo47YZfBjw4PByvwP5Iusde8L+q6AmJwtCB6prKjrx4SS4bb/M5Jv/gQQPk3mVHjzrvA+2js5lVhA9xE9uT92zIGGrWvrlT8TD43p0cYVR22Dtdftb+CciC2GdCVF2tl/qbNqKfX+6HO9sbGDWsVm+g1/0lKeL5uPia6JqYaoKyUNIAQA==",
      "keyId": "88888888-0000-0000-0000-000000000006", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_existing_cert0000012",
      "identifierUris": ["http://cli_test_sp_with_kv_existing_cert0000012"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1672'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"5ec51fd4-65f8-485b-afe4-48401a82f168","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"5d092a54-f0e0-4405-8139-804a723893b5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"93DC26F1424B7930A61A62FCCA9EAD20204B5EDB","endDate":"2019-10-14T03:41:40Z","keyId":"88888888-0000-0000-0000-000000000006","startDate":"2019-04-14T03:41:50.751356Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"178c1e9e-e768-4395-95ce-534de323d997","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:51 GMT
      duration:
      - '2758470'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - smDzeL4bkZOf2IZ45+oQ9cb0D2p+UcizCJoyGyQLD1w=
      ocp-aad-session-key:
      - NrIfFdKQlAUQxqDvRWrwOvsT0YvDmPB7VNe-qJrGyx-IBeS-J4TDW-GaUXyW0sI9HybMxcECuXVCBxXZdeNx7U03Dr3WdMiLXEkNW-nPA7pq53JtyuGfTC0FOaISZi9dIS6s7YIY5ElpDPMt4qd7uw.Q1vg77eNkFNfXsYdFxB0QsLIbRI900rtASUzwSCwD3A
      pragma:
      - no-cache
      request-id:
      - 1a043abd-935a-4862-88a3-5a9d9d1ec3c5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "5d092a54-f0e0-4405-8139-804a723893b5"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"25b6df57-b559-4d1f-a78c-63e7a97129c1","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"5d092a54-f0e0-4405-8139-804a723893b5","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"178c1e9e-e768-4395-95ce-534de323d997","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["5d092a54-f0e0-4405-8139-804a723893b5","http://cli_test_sp_with_kv_existing_cert0000012"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2162'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:41:52 GMT
      duration:
      - '2436297'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/25b6df57-b559-4d1f-a78c-63e7a97129c1/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - +Vo1vaQr1J6K57B7CK/pVo20E97sFK7LOud+zxDHFNk=
      ocp-aad-session-key:
      - 2VFws48aR9U7LKmZlYjQNokfLNgKXY-EOqn6ZAyykcVvoZkH6ykNWTBeMSjOLtu0rRkcfFEC2XZx9U3V24vuyn5bXdLj-dK_aynUoUVRvzzyWtWQ_0UIUostO9wRU6urlHL3DG4npcuoJGNWVBFq_A.R738dzab-QgkxK_OKwXXYG9_QsRxOvZh5-5sq5-k0X0
      pragma:
      - no-cache
      request-id:
      - e05d8c09-809d-4b1a-8f45-2f98e5862f3d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "25b6df57-b559-4d1f-a78c-63e7a97129c1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000007?api-version=2018-01-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 25b6df57b5594d1fa78c63e7a97129c1
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:41:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "25b6df57-b559-4d1f-a78c-63e7a97129c1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --keyvault --cert -n
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000008?api-version=2018-01-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"25b6df57-b559-4d1f-a78c-63e7a97129c1","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001","createdOn":"2019-04-14T03:42:00.7856751Z","updatedOn":"2019-04-14T03:42:00.7856751Z","createdBy":null,"updatedBy":"e7e158d3-7cdc-47cd-8825-5859d7ab2b55"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_existing_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000008","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000008"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:42:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-ms-request-charge:
      - '3'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"25b6df57-b559-4d1f-a78c-63e7a97129c1","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_existing_cert0000012","appId":"5d092a54-f0e0-4405-8139-804a723893b5","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"178c1e9e-e768-4395-95ce-534de323d997","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_existing_cert0000012","5d092a54-f0e0-4405-8139-804a723893b5"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2165'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:42:04 GMT
      duration:
      - '566919'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - NorBiSXbBacugIOc9PINP1SvB49TAti3iq1gEzH+f90=
      ocp-aad-session-key:
      - fVp-Vp46tIQnmQ7bbu5tFM-aTVD6EbzTi7r_4Tjdgr2ywoaV05RDzyUZQdeo_ojfM3mg5UKy2iHxT2WArXUounIHX2fmInWWIlxznKSagLswTor2MnlIb1c9ea5RDtQGNTl3GCHryEIlamKeL5wxPw.GFGaJXVI9Gn6UZUZBRTrWcFbQcN3pgcSyNEJ2z4xiZ0
      pragma:
      - no-cache
      request-id:
      - b48af38a-a8f6-4aa3-a8e6-66c091b493c6
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%275d092a54-f0e0-4405-8139-804a723893b5%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:42:05 GMT
      duration:
      - '480600'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - pnOScdeawrYYFPJuX1Io7DBmy+ms5G0/BcDi1ugwLKQ=
      ocp-aad-session-key:
      - gvBT4FrUO3ERq_vSghJ7bz99f6GScmZwIAp-q7FDN4pEH2Q94Z3Jr8uRjfn9NVUNzqXKKbTAPhTrnzE-dbg0-LDLFKDjvTTDIUcs3-RTWMhmE4CynX5P75Q0edkkZfHv7kQRLrexa2Rq2oPk8Ph-Jg.PTTOn4SZUt_ujGw8IkovMGg61Gf7TaV-0hKdnE6gN8M
      pragma:
      - no-cache
      request-id:
      - 46b34918-2a67-480d-8143-d0d3a8c18454
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%275d092a54-f0e0-4405-8139-804a723893b5%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"5ec51fd4-65f8-485b-afe4-48401a82f168","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"5d092a54-f0e0-4405-8139-804a723893b5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"93DC26F1424B7930A61A62FCCA9EAD20204B5EDB","endDate":"2019-10-14T03:41:40Z","keyId":"88888888-0000-0000-0000-000000000006","startDate":"2019-04-14T03:41:50.751356Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"178c1e9e-e768-4395-95ce-534de323d997","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:42:04 GMT
      duration:
      - '531417'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - YaUr/QI8BdH2+9T2GuYNq7DhUfKmqQhjXjhZvXluhlA=
      ocp-aad-session-key:
      - Gy8qbV2g_o2xNUnA5VNCgBXP1QfsxTqhbAVphB43fsNQGEONR3o5vUouOgUv9KR7wJ4mrFKat1Rm11oc4q3Pe8vcDTWY1cCWJN_JlQU3BZx-jue0B5N-Rl_dvIlXhwsDKxQqYyCUTGrK649cvbS1nA.iJJY1facQkBQoMmMjrOj570lx2OwtOU2PfLT4BB_32s
      pragma:
      - no-cache
      request-id:
      - 6f560c96-92d9-4bc0-b249-68cd9b41e562
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/5ec51fd4-65f8-485b-afe4-48401a82f168?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"5ec51fd4-65f8-485b-afe4-48401a82f168","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"5d092a54-f0e0-4405-8139-804a723893b5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"93DC26F1424B7930A61A62FCCA9EAD20204B5EDB","endDate":"2019-10-14T03:41:40Z","keyId":"88888888-0000-0000-0000-000000000006","startDate":"2019-04-14T03:41:50.751356Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"178c1e9e-e768-4395-95ce-534de323d997","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:42:05 GMT
      duration:
      - '528967'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - A0TISAaaPyfZDtlqv77d4kTKQUFjSgfdf+Q69DXpj+0=
      ocp-aad-session-key:
      - vXlXv6UaFq4ejbuYeNMcT_ILBj3vtV1aCfIkDkR2BeS4LuD6qxHloTR07GTIEVcnEn9r-Rq3C02LiA7W6rXavLWnRo-tWRLNWaHF8ds5DIVVPM5LzpBWduOaw_sObBx-Pf0wRRCycMt2nfS3PQnN5w.TgpII0v7-l6_bfPy_ze3B2i1NWvMKHcLPWbLE6o1lYc
      pragma:
      - no-cache
      request-id:
      - 63d02bf9-9f29-4688-967f-51c546b0d3b1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-keyvault/7.0 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://clitest000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://clitest000002.vault.azure.net/certificates/cert1/78a0a4e8621b4ade9b529f5f0b3db8a5","kid":"https://clitest000002.vault.azure.net/keys/cert1/78a0a4e8621b4ade9b529f5f0b3db8a5","sid":"https://clitest000002.vault.azure.net/secrets/cert1/78a0a4e8621b4ade9b529f5f0b3db8a5","x5t":"k9wm8UJLeTCmGmL8yp6tICBLXts","cer":"MIIDQjCCAiqgAwIBAgIQGBDR58OaT+qhgrRQ4ipGeDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzE0MVoXDTE5MTAxNDAzNDE0MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAYD41VYHgaMb5KFmx/tULNNwzvd0XOIKYMffaedgtae72KbUOCqZ82NXEe2sqa2YMdez4K5CA0HYOvBbfkxrr0nBZ6zV3mEb+bIV2gwYAer9JPIOeZzThfCre8V2zoO+dGHM7TH/cdPUNtB3pKwHmEVu2lJakuWg9gcwITZo47YZfBjw4PByvwP5Iusde8L+q6AmJwtCB6prKjrx4SS4bb/M5Jv/gQQPk3mVHjzrvA+2js5lVhA9xE9uT92zIGGrWvrlT8TD43p0cYVR22Dtdftb+CciC2GdCVF2tl/qbNqKfX+6HO9sbGDWsVm+g1/0lKeL5uPia6JqYaoKyUNIAQA==","attributes":{"enabled":true,"nbf":1555212701,"exp":1571024501,"created":1555213301,"updated":1555213301,"recoveryLevel":"Purgeable"},"policy":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=CLIGetDefaultPolicy","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":6,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1555213248,"updated":1555213288}},"pending":{"id":"https://clitest000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2386'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 14 Apr 2019 03:42:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=73.225.4.90;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.864
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2019-04-14T03:42:04.607371Z", "endDate":
      "2019-10-14T03:41:40.000Z", "value": "MIIDQjCCAiqgAwIBAgIQGBDR58OaT+qhgrRQ4ipGeDANBgkqhkiG9w0BAQsFADAeMRwwGgYDVQQDExNDTElHZXREZWZhdWx0UG9saWN5MB4XDTE5MDQxNDAzMzE0MVoXDTE5MTAxNDAzNDE0MVowHjEcMBoGA1UEAxMTQ0xJR2V0RGVmYXVsdFBvbGljeTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALBmMvuD+cyJovNfKd2LpU8yf8+ArLvfiWE6il+1nuwOJ6EHzkk4T9ZjyqVRDnscnc5RehkQ53wEQcXaz0Irss+RKfmWKm1VXZ5OfTnHyHS6CfT8p8QRyjO9sHgjcc9yiI6SqOa0VwU92ddRYWfMThHDZiLD70iLOA5uKZy379OXspjcUP8nRZrQQlTF5Ryh0ST9mVc2P4fA7VXQUfzYapByGFIov6ZcVEmGIzADK+K0x0Veok4fxiLTdDagzP1lmd4Dp/cmHCy1a2AVb+3Eg5vSunXnCnwyO1HAtRHq/5QIQK3+9/X3/ZFw0lg+t+ONQERxQ0+r3jbGuPidEq4lKusCAwEAAaN8MHowDgYDVR0PAQH/BAQDAgG+MAkGA1UdEwQCMAAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB8GA1UdIwQYMBaAFK+l+AmkRAsUqNRnP/YkdpJ71cczMB0GA1UdDgQWBBSvpfgJpEQLFKjUZz/2JHaSe9XHMzANBgkqhkiG9w0BAQsFAAOCAQEAYD41VYHgaMb5KFmx/tULNNwzvd0XOIKYMffaedgtae72KbUOCqZ82NXEe2sqa2YMdez4K5CA0HYOvBbfkxrr0nBZ6zV3mEb+bIV2gwYAer9JPIOeZzThfCre8V2zoO+dGHM7TH/cdPUNtB3pKwHmEVu2lJakuWg9gcwITZo47YZfBjw4PByvwP5Iusde8L+q6AmJwtCB6prKjrx4SS4bb/M5Jv/gQQPk3mVHjzrvA+2js5lVhA9xE9uT92zIGGrWvrlT8TD43p0cYVR22Dtdftb+CciC2GdCVF2tl/qbNqKfX+6HO9sbGDWsVm+g1/0lKeL5uPia6JqYaoKyUNIAQA==",
      "keyId": "59b21c16-7691-42f0-939d-2074271f96a6", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1336'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --keyvault --cert
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/5ec51fd4-65f8-485b-afe4-48401a82f168?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Sun, 14 Apr 2019 03:42:06 GMT
      duration:
      - '2182945'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - vdUmtydNTpMx136Z9PTgdhjXCVJ7LZw+B1PUKRqBNeo=
      ocp-aad-session-key:
      - sX0qzLBrVsxIQPBAPA5F8eECa7QmoZQXXmqP8BO3BoQahVJwSbaW3YPhH-K_gty30XUPe-voisHbQVV1GCZOI8i2lW7ebCEkf1d49dsA8QyCPVt7DzPBuHpiVBmxqUgjwUUpw5So9RdyQFfezWLhew._NMqwALBkXOJ0IhDWKPzWT-1g2fXFPo3WFNnoIzJWzo
      pragma:
      - no-cache
      request-id:
      - 6c227d26-974e-497f-8c1f-a3dc2e769779
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_existing_cert0000012%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"5ec51fd4-65f8-485b-afe4-48401a82f168","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"5d092a54-f0e0-4405-8139-804a723893b5","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_existing_cert0000012","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_existing_cert0000012","identifierUris":["http://cli_test_sp_with_kv_existing_cert0000012"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"93DC26F1424B7930A61A62FCCA9EAD20204B5EDB","endDate":"2019-10-14T03:41:40Z","keyId":"59b21c16-7691-42f0-939d-2074271f96a6","startDate":"2019-04-14T03:42:04.607371Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/5ec51fd4-65f8-485b-afe4-48401a82f168/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on behalf
        of the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","id":"178c1e9e-e768-4395-95ce-534de323d997","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_existing_cert0000012 on your
        behalf.","userConsentDisplayName":"Access cli_test_sp_with_kv_existing_cert0000012","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Sun, 14 Apr 2019 03:42:06 GMT
      duration:
      - '553226'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - aHT5PI9GgMnCtbkQT7/ZEgyUnSyF7IW2bcrqij4e/bI=
      ocp-aad-session-key:
      - iuriPgCxNfu3MBv-r_RA2_zxuG8bfOZV4haqvSfZ-oFR4DSCZLrHZ9TbTWZo8jsz7CdLqw1tU2cmZFZfLYrOAmVs1J8JRho-oCQ8ODgpDj9nrKsWMg3ufSbNJ_ovxwMsagjQcOMcmkF1zFHEkY87mg.OOFIVexTCEDhrKvSs9n3C5TsKB9j7TS6alwbwuMYl-E
      pragma:
      - no-cache
      request-id:
      - c3dc20ed-ef93-414e-941a-6824a72aae4a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        azure-graphrbac/0.61.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/5ec51fd4-65f8-485b-afe4-48401a82f168?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Sun, 14 Apr 2019 03:42:07 GMT
      duration:
      - '1827621'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - raR8JNajDTfwSzq60owihwvzZvfOxnwzwr6uWdDMZbM=
      ocp-aad-session-key:
      - 6uWF3RyjSa9OmGccz9XAKz4W3CBkNPNX_P2SwYupacqDUzQmr6U_yvdnCWyK6F5VN4Q4DUD3H-5riLfd6QxC41SzPBFZRxm53hp0fDgPWg_GyIKCuIL-GozAevT1fzHa2OiMZU7wSxBj50MwSC55NQ.vf-FVyGmr882Ej8maiNw4PqNH6b7LswxzmyCeDg9VzQ
      pragma:
      - no-cache
      request-id:
      - 17971a0b-c33a-44d5-b4ec-16e93e5e005d
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --yes --no-wait
      User-Agent:
      - python/3.6.6 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.4.34
        resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.62
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_existing_cert000001?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Sun, 14 Apr 2019 03:42:08 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZFWElTVElORzo1RkNFUlRXRXw3MEU4MjhFQjQzMEVDQkQ1LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
version: 1
