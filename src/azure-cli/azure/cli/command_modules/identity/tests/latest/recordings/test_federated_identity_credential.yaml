interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001?api-version=2024-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001","name":"cli_test_federated_identity_credential_000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","test":"test_federated_identity_credential","date":"2025-06-06T13:53:05Z","module":"identity"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '439'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 8A77C6A83412402294907F6F27B517A4 Ref B: SN4AA2022303025 Ref C: 2025-06-06T13:53:07Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '29'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide?api-version=2023-01-31
  response:
    body:
      string: '{"location":"centraluseuap","tags":{},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide","name":"ide","type":"Microsoft.ManagedIdentity/userAssignedIdentities","properties":{"tenantId":"abd8daee-d393-4239-9377-883adda3d40f","principalId":"79128027-2560-488a-a048-b713ed14fe18","clientId":"1b838f5f-bdee-4e68-8b12-954d29476a05"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '460'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:11 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/8f8a026c-883b-4a41-a734-1607be24cb69
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 47DC449B6F07487BBFB56D5CE856C466 Ref B: SN4AA2022305037 Ref C: 2025-06-06T13:53:08Z'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://token.actions.githubusercontent.com", "subject": "system:serviceaccount:ns:svcaccount1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '169'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '481'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:13 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/d318cb52-175c-486f-948e-cf802f7e13fb
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 97D804052A1443D7B5EFEEBD4E96DFFF Ref B: SN4AA2022302053 Ref C: 2025-06-06T13:53:12Z'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://token.actions.githubusercontent.com", "subject": "system:serviceaccount:ns:svcaccount2"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '169'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2","name":"fic2","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount2","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '481'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:15 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/bdf3e9f7-86ac-4506-bf82-f941f21d1257
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 9729A881BC714202AD4B55A4038CBACB Ref B: SN4AA2022304051 Ref C: 2025-06-06T13:53:14Z'
    status:
      code: 201
      message: Created
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "claimsMatchingExpression":
      {"languageVersion": 1, "value": "claims[''sub''] eq ''foo''"}, "issuer": "https://token.actions.githubusercontent.com"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '205'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --claims-matching-expression-version
        --claims-matching-expression-value --issuer --audiences
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '514'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:16 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/f668ce85-54a4-4efe-8a76-486e116bbb9b
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: E4C37B6D845648A7A699014C8A258C01 Ref B: SN4AA2022303009 Ref C: 2025-06-06T13:53:15Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential show
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '481'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/30c8eaa1-7e59-42e1-9174-d32f230e6d23
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: CBDBE530355042FA86DAA37DB3937EA2 Ref B: SN4AA2022302017 Ref C: 2025-06-06T13:53:17Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential show
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '514'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/6c407ddc-e71a-44c0-95e1-af25ff113d63
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 67A0CE2371704F9DBAFD4815210BEF3D Ref B: SN4AA2022302009 Ref C: 2025-06-06T13:53:18Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential list
      Connection:
      - keep-alive
      ParameterSetName:
      - --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials?api-version=2025-01-31-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2","name":"fic2","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount2","audiences":["api://AzureADTokenExchange"]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1490'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/e870578b-ed9e-4fd8-971a-8a75d640466e
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 24C864DBA7EA4179B087847B59B0374F Ref B: SN4AA2022303019 Ref C: 2025-06-06T13:53:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount1","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '481'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/a2583402-c0e4-42d1-8c6e-341bc2800a57
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 0BA2133A125944A88876A06F830066B8 Ref B: SN4AA2022304053 Ref C: 2025-06-06T13:53:20Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://token.actions.githubusercontent.com", "subject": "system:serviceaccount:ns:newaccount"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      Content-Length:
      - '168'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer --audiences
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1","name":"fic1","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:newaccount","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '480'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/89941643-76d6-4a9d-a343-ab5dfc6fe342
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 6F389FF2F345433F8C65BD75FEE5C4FB Ref B: SN4AA2022304053 Ref C: 2025-06-06T13:53:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --identity-name --resource-group --claims-matching-expression-version
        --claims-matching-expression-value --issuer --audiences
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''foo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '514'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/af736d34-a901-4dfe-b144-7ffa9d703493
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: 4A48A723ABBE4289A8E5E17D5E93F764 Ref B: SN4AA2022302029 Ref C: 2025-06-06T13:53:23Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "claimsMatchingExpression":
      {"languageVersion": 1, "value": "claims[''sub''] eq ''updatedFoo''"}, "issuer":
      "https://token.actions.githubusercontent.com"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential update
      Connection:
      - keep-alive
      Content-Length:
      - '212'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --claims-matching-expression-version
        --claims-matching-expression-value --issuer --audiences
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''updatedFoo''"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '521'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/d8dc50bf-040a-4720-b372-41e46d940a43
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: DC4707E6132D48159A4EED5097E7F425 Ref B: SN4AA2022302025 Ref C: 2025-06-06T13:53:23Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic1?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 06 Jun 2025 13:53:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/33baa0dd-e658-494e-a1dc-6c25923d7cad
      x-ms-ratelimit-remaining-subscription-deletes:
      - '199'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '2999'
      x-msedge-ref:
      - 'Ref A: D2A9027E994C4CC693056C46876FB17B Ref B: SN4AA2022302019 Ref C: 2025-06-06T13:53:25Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential list
      Connection:
      - keep-alive
      ParameterSetName:
      - --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials?api-version=2025-01-31-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2","name":"fic2","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount2","audiences":["api://AzureADTokenExchange"]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3","name":"fic3","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","audiences":["api://AzureADTokenExchange"],"claimsMatchingExpression":{"languageVersion":1,"value":"claims[''sub'']
        eq ''updatedFoo''"}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1015'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/6757861f-5582-4cfa-a9fc-eee6f545f862
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: C1FD8D319B24465C9E914607417ADBDF Ref B: SN4AA2022304053 Ref C: 2025-06-06T13:53:26Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"audiences": ["api://AzureADTokenExchange"], "issuer":
      "https://token.actions.githubusercontent.com", "subject": "system:serviceaccount:ns:svcaccount4"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential create
      Connection:
      - keep-alive
      Content-Length:
      - '169'
      Content-Type:
      - application/json
      ParameterSetName:
      - --name --identity-name --resource-group --subject --issuer
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4?api-version=2025-01-31-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4","name":"fic4","type":"Microsoft.ManagedIdentity/userAssignedIdentities/federatedIdentityCredentials","properties":{"issuer":"https://token.actions.githubusercontent.com","subject":"system:serviceaccount:ns:svcaccount4","audiences":["api://AzureADTokenExchange"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '481'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:28 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/aa574850-4dd2-4317-8926-c5c8bfbb0647
      x-ms-ratelimit-remaining-subscription-global-writes:
      - '2999'
      x-ms-ratelimit-remaining-subscription-writes:
      - '199'
      x-msedge-ref:
      - 'Ref A: 1310F94B30044CBA85F0CF821E0B0925 Ref B: SN4AA2022304023 Ref C: 2025-06-06T13:53:27Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic2?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 06 Jun 2025 13:53:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/465e9dc4-a2d1-4750-bf03-80b300818de6
      x-ms-ratelimit-remaining-subscription-deletes:
      - '199'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '2999'
      x-msedge-ref:
      - 'Ref A: C71BDCE8765C40A28A50D86EE53554B1 Ref B: SN4AA2022303029 Ref C: 2025-06-06T13:53:29Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic3?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 06 Jun 2025 13:53:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/cf8c47ce-aad0-4175-b679-412c1d1b9cf1
      x-ms-ratelimit-remaining-subscription-deletes:
      - '199'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '2999'
      x-msedge-ref:
      - 'Ref A: CE9304E9D13C487A9C0AAE5276BB1B0B Ref B: SN4AA2022305029 Ref C: 2025-06-06T13:53:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --identity-name --resource-group --yes
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials/fic4?api-version=2025-01-31-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 06 Jun 2025 13:53:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/cf80b234-4f5c-4c00-9980-f61d6520b1ae
      x-ms-ratelimit-remaining-subscription-deletes:
      - '199'
      x-ms-ratelimit-remaining-subscription-global-deletes:
      - '2999'
      x-msedge-ref:
      - 'Ref A: C0EE39096BAC45EB80BB77717ADF1663 Ref B: SN4AA2022305021 Ref C: 2025-06-06T13:53:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity federated-credential list
      Connection:
      - keep-alive
      ParameterSetName:
      - --identity-name --resource-group
      User-Agent:
      - AZURECLI/2.74.0 azsdk-python-core/1.34.0 Python/3.12.10 (Windows-11-10.0.26100-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_federated_identity_credential_000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ide/federatedIdentityCredentials?api-version=2025-01-31-preview
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 06 Jun 2025 13:53:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-operation-identifier:
      - tenantId=abd8daee-d393-4239-9377-883adda3d40f,objectId=7d2472ba-902d-407c-ae0d-72c7f66f95c6/southcentralus/248c9ce0-0622-474b-89ce-42fda995dda8
      x-ms-ratelimit-remaining-subscription-global-reads:
      - '3749'
      x-msedge-ref:
      - 'Ref A: CE05A8EBDD6340E8ABDB59C0370752FE Ref B: SN4AA2022305027 Ref C: 2025-06-06T13:53:33Z'
    status:
      code: 200
      message: OK
version: 1
