interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli-test-sp000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:34:59 GMT
      duration:
      - '811722'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - w+Yt3XZb372VxFKB5k47zyl/ZP8Cf5SpV4oIPGJy0fU=
      ocp-aad-session-key:
      - UjGKJBrhC42Mh9GiIrwd9Ty0xZWuMWPBShLs5tkAx5yHVRLWD06v7Jx-tzl-w0MWaZxT2WYaEQf_66Dc4F3TXbDDJkGb-oz4-kM0ReQdvfrAcpnau08BYN3crdLT4-46.zZcn0KSMVY9ctCdbLFyo5THq3rs1EfUdTUjrECNlbRU
      pragma:
      - no-cache
      request-id:
      - b7fbd87c-0689-4d81-ad25-1ca590fb2c42
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli-test-sp000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:34:59 GMT
      duration:
      - '517202'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - J4iPke7YPfBuYA4E3b307ck09pRqAOuzQKQ03+b041M=
      ocp-aad-session-key:
      - z1abNrZ-v3Wc_CSBMsYJ0QlE8D2yybtO3Q_GiDfPTigu7HkHkIXpAuBMelEPuDj4qe42KEjHEY_dhvN5bcZa6R6UeQYhrtB_scxdeUM9_KcXMsb0D1VQQ0F3wkBywT5x.vF2G0cfvRfWcHsqFIrmTiDwOZtbytVBfQPGl6VGKX2M
      pragma:
      - no-cache
      request-id:
      - d1ef325f-07c2-4c67-a00f-2480f32c3de2
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "homepage": "https://cli-test-sp000001",
      "passwordCredentials": [{"startDate": "2019-08-08T18:34:59.692399Z", "endDate":
      "2020-08-08T18:34:59.692399Z", "keyId": "6bb22be5-d61f-4349-9e01-95a7283e575c",
      "value": "ReplacedSPPassword123*", "customKeyIdentifier": "//5yAGIAYQBjAA=="}],
      "displayName": "cli-test-sp000001", "identifierUris": ["http://cli-test-sp000001"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '407'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "efaf77cc-e5ac-4cb5-84a2-f4e3142f4663", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "c7fda549-6c3d-4751-be65-ef05b89d5d4d",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli-test-sp000001", "errorUrl": null, "groupMembershipClaims":
        null, "homepage": "https://cli-test-sp000001", "identifierUris": ["http://cli-test-sp000001"],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [], "knownClientApplications": [], "logoutUrl": null, "logo@odata.mediaEditLink":
        "directoryObjects/efaf77cc-e5ac-4cb5-84a2-f4e3142f4663/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/efaf77cc-e5ac-4cb5-84a2-f4e3142f4663/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli-test-sp000001 on behalf of the signed-in
        user.", "adminConsentDisplayName": "Access cli-test-sp000001", "id": "8918a234-dbe2-4e5e-881c-8ee1d0f1e2f7",
        "isEnabled": true, "type": "User", "userConsentDescription": "Allow the application
        to access cli-test-sp000001 on your behalf.", "userConsentDisplayName": "Access
        cli-test-sp000001", "value": "user_impersonation"}], "oauth2RequirePostResponse":
        false, "optionalClaims": null, "orgRestrictions": [], "parentalControlSettings":
        {"countriesBlockedForMinors": [], "legalAgeGroupRule": "Allow"}, "passwordCredentials":
        [{"customKeyIdentifier": "//5yAGIAYQBjAA==", "endDate": "2020-08-08T18:34:59.692399Z",
        "keyId": "6bb22be5-d61f-4349-9e01-95a7283e575c", "startDate": "2019-08-08T18:34:59.692399Z",
        "value": "ReplacedSPPassword123*"}], "publicClient": null, "publisherDomain":
        "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions": null, "replyUrls":
        [], "requiredResourceAccess": [], "samlMetadataUrl": null, "signInAudience":
        "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2282'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:34:59 GMT
      duration:
      - '2718857'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/efaf77cc-e5ac-4cb5-84a2-f4e3142f4663/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - WQRxMNurHeYAwtNBfFIvweWkHOjisX4H/4hhOzTv9Ug=
      ocp-aad-session-key:
      - EIhO-0Mz1xQcw5TMlM6kge-C_DBSHNZ_PmZgacSQ4HzdW8js_NyAyLetwQDWZMmqU9pep3Me72J2ffvxg57BMI0qL2Tilkrz8I01g0L068NkYVgJDKUnrsXcT-Ce1nyzqBJff_E95_wATyqEVH6hnw.PDt0-3IHRRLBsIgD3zYkfi31D17LAprClP9PX5Y2PWA
      pragma:
      - no-cache
      request-id:
      - 8e734b37-537b-4a9a-ab1a-2c2f02858ad5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "c7fda549-6c3d-4751-be65-ef05b89d5d4d"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"d81f8139-8831-4c58-b2b5-e58408d9bba0","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli-test-sp000001","appId":"c7fda549-6c3d-4751-be65-ef05b89d5d4d","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli-test-sp000001","errorUrl":null,"homepage":"https://cli-test-sp000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli-test-sp000001 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        cli-test-sp000001","id":"8918a234-dbe2-4e5e-881c-8ee1d0f1e2f7","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli-test-sp000001 on your behalf.","userConsentDisplayName":"Access
        cli-test-sp000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["c7fda549-6c3d-4751-be65-ef05b89d5d4d","http://cli-test-sp000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1674'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:34:59 GMT
      duration:
      - '1898884'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/d81f8139-8831-4c58-b2b5-e58408d9bba0/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - BYjZLSpYxh1AYWyJliehnYvoKk1mZWUiBo7Q2MO0wc8=
      ocp-aad-session-key:
      - yDrW5-EpSX27SnPn8LoBkBxL8MmdEERrCigBwKHCrUrZPG4ND_jFVWVLjB6AK2GaZWVAZQRtEJf6LrS3vZQckkExz2jkCLFKx2c-SVVMO9B02vVVH-V6UFerUKvugzDAbHjC0C3Xe7iWbqwwnkqHgg.I9Fhm_GZZ6RhZZoUQtYkhqNB8N6jPJjtv5ELawlAf1U
      pragma:
      - no-cache
      request-id:
      - 58d3f853-ce87-4f37-82ed-d0e55cfe9275
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli-test-sp000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"efaf77cc-e5ac-4cb5-84a2-f4e3142f4663","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"c7fda549-6c3d-4751-be65-ef05b89d5d4d","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli-test-sp000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli-test-sp000001","identifierUris":["http://cli-test-sp000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/efaf77cc-e5ac-4cb5-84a2-f4e3142f4663/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/efaf77cc-e5ac-4cb5-84a2-f4e3142f4663/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli-test-sp000001 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        cli-test-sp000001","id":"8918a234-dbe2-4e5e-881c-8ee1d0f1e2f7","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli-test-sp000001 on your behalf.","userConsentDisplayName":"Access
        cli-test-sp000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[{"customKeyIdentifier":"//5yAGIAYQBjAA==","endDate":"2020-08-08T18:34:59.692399Z","keyId":"6bb22be5-d61f-4349-9e01-95a7283e575c","startDate":"2019-08-08T18:34:59.692399Z","value":null}],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2199'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:34:59 GMT
      duration:
      - '586704'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - EditZjTBaEYCrvrHgtCp7VwlKGMxwmW6BfXNDuF3W+4=
      ocp-aad-session-key:
      - eiKmSTjbyV3Z4ZtugrUfBbQTuwKAZ11YmugNKeqzWjDrkk2Z2Addc9V7-PnuIl4YyINxDPuCd3Oy6Q7JZXOnY5D1lioU2pdX4Hq-FZJZqy4pBoLDbrhfic-18-WkYlohzRu7WcZ4FGa_qYHZbZVB4w.uUjtmvpzwlBbVgAVgHbsE2GSJNNJdC6u8oXOsPtLK6E
      pragma:
      - no-cache
      request-id:
      - cd745f48-2417-4dbb-bec7-9fa1ddf3c112
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/efaf77cc-e5ac-4cb5-84a2-f4e3142f4663?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 08 Aug 2019 18:35:00 GMT
      duration:
      - '1937690'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 6nXKrctRtSptRoHzozTVMUA02WQGzIDDAMhbiPlyMGM=
      ocp-aad-session-key:
      - W5taIbL6OdwNMHV_z68MRH9FF5v-kHFI8vmSr6PT2JKjN2Kw4_UenJ7k5QmGlQj-CnloVdWe5ZjjP805XGdkjhrSvnLwssMyY0IhB2WjiySYFMIQjrRsG4X8DXCAV6WWocBasrTA3bc5KIQpCLwbeA.lonEAv_7f23TuJNLuomKfeSJgzpEj_2a0IiNnpMFFec
      pragma:
      - no-cache
      request-id:
      - be9269a9-e206-47a2-bd2e-48d1f88445af
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli-test-sp000002%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:35:00 GMT
      duration:
      - '540685'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - NU/j9xziYh+wlo8I0F24scwuAup6xtO9vAcfY4HxSKI=
      ocp-aad-session-key:
      - k3iabKLNJp74sVsPoOKMGXc_Sk2yTxp3YrZE4oj4QBOvHaZVHKfSHOhrvkqoQXs1FURNcMtpxdw0jzg2LDe1PZiq-6c1mq01LjIuGEnKnrwj4JJTJnFF6OnDX4oCzX83xUlsr33b_WTph6vGUqcLSA.30Ci2tTDumDfFvbzjh0ZD97OqaToV_1bz_6VeWdl2BA
      pragma:
      - no-cache
      request-id:
      - eb1e11c7-2b92-4564-a1d5-5148e2270473
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli-test-sp000002%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:35:00 GMT
      duration:
      - '542722'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - tAfU859m9TMv99RRajlEbUsi/5BnvcvCFalsXAVDmG0=
      ocp-aad-session-key:
      - _VRZiSiCIZOJo2zGLl_AMheOFGYg9veyQ_jUzuy0VoCfWA1wdoCejqqoEwIQIl_k3WxODy-LDZgAfwYi4SdNLNZKX2hxel862lWSPaZ90PKJfm74kNCWD8FT6_E55JYrp_vP3pXqVTnBme2gfFjFPg.HLo-xfku7JKmZ5Qyqj7rEtPr-z7Q722YWOp83rw5Gjo
      pragma:
      - no-cache
      request-id:
      - 5f5f5038-c017-4158-a020-47287e2cc744
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "homepage": "https://cli-test-sp000002",
      "passwordCredentials": [{"startDate": "2019-08-08T18:35:01.292307Z", "endDate":
      "2020-08-08T18:35:01.292307Z", "keyId": "dbcb5dd9-d743-4f24-8416-0523a5d70099",
      "value": "ReplacedSPPassword123*", "customKeyIdentifier": "//5yAGIAYQBjAA=="}],
      "displayName": "cli-test-sp000002", "identifierUris": ["http://cli-test-sp000002"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '407'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "76e35fdd-fa03-497d-ac9a-692934c61840", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "3d910b11-d01d-4c11-a746-e1f11a17df71",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli-test-sp000002", "errorUrl": null, "groupMembershipClaims":
        null, "homepage": "https://cli-test-sp000002", "identifierUris": ["http://cli-test-sp000002"],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [], "knownClientApplications": [], "logoutUrl": null, "logo@odata.mediaEditLink":
        "directoryObjects/76e35fdd-fa03-497d-ac9a-692934c61840/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/76e35fdd-fa03-497d-ac9a-692934c61840/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli-test-sp000002 on behalf of the signed-in
        user.", "adminConsentDisplayName": "Access cli-test-sp000002", "id": "5dc14c91-1541-4220-9918-6d4d9df2b6ca",
        "isEnabled": true, "type": "User", "userConsentDescription": "Allow the application
        to access cli-test-sp000002 on your behalf.", "userConsentDisplayName": "Access
        cli-test-sp000002", "value": "user_impersonation"}], "oauth2RequirePostResponse":
        false, "optionalClaims": null, "orgRestrictions": [], "parentalControlSettings":
        {"countriesBlockedForMinors": [], "legalAgeGroupRule": "Allow"}, "passwordCredentials":
        [{"customKeyIdentifier": "//5yAGIAYQBjAA==", "endDate": "2020-08-08T18:35:01.292307Z",
        "keyId": "dbcb5dd9-d743-4f24-8416-0523a5d70099", "startDate": "2019-08-08T18:35:01.292307Z",
        "value": "ReplacedSPPassword123*"}], "publicClient": null, "publisherDomain":
        "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions": null, "replyUrls":
        [], "requiredResourceAccess": [], "samlMetadataUrl": null, "signInAudience":
        "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2282'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:35:01 GMT
      duration:
      - '2863482'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/76e35fdd-fa03-497d-ac9a-692934c61840/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - pXlXQrc9MSPlRSTdMmTrsa5qwcKpymyDfVLM9CfOb1k=
      ocp-aad-session-key:
      - cjl6PmGG_ABZ6oO9ObyP09KfFAeAGcBCF8uqme9eb7gfKi89jxSaN3JMOw9O57LuDg4YdVeuImuc3bbfAFfWq1GmVhsi19I3ncoLC4-DvtmiuUFIjG1Z7kbnunRdoeBHYz8bSc33X8tyiNn7_SttPg.qR-mECTG0OWUA42dvuEcPM7eIKO7iHTh0AerqBnlbq8
      pragma:
      - no-cache
      request-id:
      - ba17a3fb-cbef-40cc-abc3-0f995d23886a
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "3d910b11-d01d-4c11-a746-e1f11a17df71"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --skip-assignment
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"f7dde6db-dad1-4ac1-a608-bb9ea18b6c07","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli-test-sp000002","appId":"3d910b11-d01d-4c11-a746-e1f11a17df71","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli-test-sp000002","errorUrl":null,"homepage":"https://cli-test-sp000002","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli-test-sp000002 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        cli-test-sp000002","id":"5dc14c91-1541-4220-9918-6d4d9df2b6ca","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli-test-sp000002 on your behalf.","userConsentDisplayName":"Access
        cli-test-sp000002","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["3d910b11-d01d-4c11-a746-e1f11a17df71","http://cli-test-sp000002"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1674'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:35:00 GMT
      duration:
      - '1645840'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/f7dde6db-dad1-4ac1-a608-bb9ea18b6c07/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - cTwo30nQLdbKrpTXiHay43uRQqpX8SWr3xHBnYc4xok=
      ocp-aad-session-key:
      - x1huOZWb5jK5LVd4134jPHxukync0cciTZau4ZxUZWdmuRO3UvDXUwviodxfdMk7Qv_QSzZaEaA7buXOOXdt3GMioQq-YtWblms0Xv1kgQX0JZNL6BDY2dGz37rN6KiIGJLWbXGKb1SUNZEVeAUCUA.QTLbdrpNoaGKkDlBey9scUJFRpxA4rthBhfomtRYuLc
      pragma:
      - no-cache
      request-id:
      - e3f37871-0ff7-4b9c-9c39-f9ed6fad7e42
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli-test-sp000002%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"76e35fdd-fa03-497d-ac9a-692934c61840","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"3d910b11-d01d-4c11-a746-e1f11a17df71","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli-test-sp000002","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli-test-sp000002","identifierUris":["http://cli-test-sp000002"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/76e35fdd-fa03-497d-ac9a-692934c61840/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/76e35fdd-fa03-497d-ac9a-692934c61840/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli-test-sp000002 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        cli-test-sp000002","id":"5dc14c91-1541-4220-9918-6d4d9df2b6ca","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli-test-sp000002 on your behalf.","userConsentDisplayName":"Access
        cli-test-sp000002","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[{"customKeyIdentifier":"//5yAGIAYQBjAA==","endDate":"2020-08-08T18:35:01.292307Z","keyId":"dbcb5dd9-d743-4f24-8416-0523a5d70099","startDate":"2019-08-08T18:35:01.292307Z","value":null}],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2199'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Thu, 08 Aug 2019 18:35:01 GMT
      duration:
      - '599014'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 7dMU+33Cz+68qE5sK7ANGlhWJX2RrZSFfal152ZxuSk=
      ocp-aad-session-key:
      - _YScFUv1yaiTMdBD7xoZ8yaMVgL8yg77cbeYGyUFccTqFNGqpRam9elyTvRIgKx4TSDsUilq0Oqv5pWAHNgzbFmYEJpIOJnUhCk-D6t3kx5jhKZ86Gzt25p_dfRquAHT0m6g5IvZgWk0DidRy7nxAg.Bm6f2WINjo8sN87jzPiPiEQpFA3sDEmfayfd82U7FIY
      pragma:
      - no-cache
      request-id:
      - 5fd04e82-9b58-43b4-ab27-67064bc95f4b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.6.1 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.60.0
        Azure-SDK-For-Python AZURECLI/2.0.70
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/76e35fdd-fa03-497d-ac9a-692934c61840?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Thu, 08 Aug 2019 18:35:02 GMT
      duration:
      - '1969879'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - q5Xbh3MZA2oHL2aMV5BkPDdbnE4y3W66Ql7+EgkvqGE=
      ocp-aad-session-key:
      - HJ_lXXw4aG55bj5COTqRC7JX-yG8b_IbpJYy7wo2og1iXrFM30rsca1pdKNi7h6CEA9Zuhzuz6PIudX4W1VEckfHw35-kg0OsJDW5OChPTwMxdSJmFPw1J5x7W3o-_YridxyCPcZ5uj-xEb_p67kxA.ar2bbyQEeyZ9pKrgAR6Hqf-50p1daGfGq85W6mWGfM4
      pragma:
      - no-cache
      request-id:
      - 85687af4-96ce-4367-9be7-c07100d104f3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
