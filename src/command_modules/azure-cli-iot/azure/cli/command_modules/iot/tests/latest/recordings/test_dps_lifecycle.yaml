interactions:
- request:
    body: '{"location": "westus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:30:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"Name": "iot000003"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['32']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2017-07-01
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:30:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:30:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "subscriptionid": "b9ed95d7-5b40-413f-8e72-74721213a06c",
      "resourcegroup": "clitest.rg000001", "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['214']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2017-07-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rg000001","properties":{"state":"Activating","provisioningState":"Accepted","enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfN2FjM2I5MmQtY2ZhYi00OWYzLWI2NzQtODg5YWI3YzM5MTRh?api-version=2017-07-01&asyncinfo']
      cache-control: [no-cache]
      content-length: ['784']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:30:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfN2FjM2I5MmQtY2ZhYi00OWYzLWI2NzQtODg5YWI3YzM5MTRh?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:31:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfN2FjM2I5MmQtY2ZhYi00OWYzLWI2NzQtODg5YWI3YzM5MTRh?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:31:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfN2FjM2I5MmQtY2ZhYi00OWYzLWI2NzQtODg5YWI3YzM5MTRh?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:32:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfN2FjM2I5MmQtY2ZhYi00OWYzLWI2NzQtODg5YWI3YzM5MTRh?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:32:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2017-07-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rg000001","etag":"AAAAAAGBzuQ=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2005']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:32:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"name": "dps000002"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['32']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2017-11-15
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:32:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:32:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {}, "sku": {"name": "S1", "capacity":
      1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['78']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNmZmZTk3YjctY2I5Mi00M2Q1LTllYTMtNDNmNGMyMDQxNTZm?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['640']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:32:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNmZmZTk3YjctY2I5Mi00M2Q1LTllYTMtNDNmNGMyMDQxNTZm?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE1k=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['800']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"etag":"AAAAAAAOE1k=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['812']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE1k=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['800']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE1k=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['800']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "tags": {}, "etag": "AAAAAAAOE1k=", "properties":
      {"state": "Active", "iotHubs": [], "allocationPolicy": "GeoLatency"}, "sku":
      {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      Content-Length: ['180']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE1k=","name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfMmE5NDM0NDEtMTQwYy00MDdiLWExMDQtMzcwNTQ2NGJhNTZj?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['682']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfMmE5NDM0NDEtMTQwYy00MDdiLWExMDQtMzcwNTQ2NGJhNTZj?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:54 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE18=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:54 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE18=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=","secondaryKey":"5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1189']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE18=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=", "secondaryKey":
      "5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}, {"keyName": "policy000004", "rights": "EnrollmentRead"}]},
      "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['443']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=","secondaryKey":"5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"b9bgChiBwa+utWSZzF73iygItH6Jq35/ZO6ZZA2GpII=","secondaryKey":"wgsxvLajrFY4A5r/gf0IDpx6CdoL9xRJW6gvQ0ELNl0=","rights":"EnrollmentRead"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfMDc2NmY2MjItNTE3Ni00MGFhLWJjZDctODM3OGExYWYwMjA2?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1087']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:33:58 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfMDc2NmY2MjItNTE3Ni00MGFhLWJjZDctODM3OGExYWYwMjA2?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:29 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2U=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:29 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2U=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=","secondaryKey":"5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"b9bgChiBwa+utWSZzF73iygItH6Jq35/ZO6ZZA2GpII=","secondaryKey":"wgsxvLajrFY4A5r/gf0IDpx6CdoL9xRJW6gvQ0ELNl0=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2U=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:31 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000004/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"keyName":"policy000004","primaryKey":"b9bgChiBwa+utWSZzF73iygItH6Jq35/ZO6ZZA2GpII=","secondaryKey":"wgsxvLajrFY4A5r/gf0IDpx6CdoL9xRJW6gvQ0ELNl0=","rights":"EnrollmentRead"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['182']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:31 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2U=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:31 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=","secondaryKey":"5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"b9bgChiBwa+utWSZzF73iygItH6Jq35/ZO6ZZA2GpII=","secondaryKey":"wgsxvLajrFY4A5r/gf0IDpx6CdoL9xRJW6gvQ0ELNl0=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2U=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:33 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=", "secondaryKey":
      "5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}, {"keyName": "policy000004", "primaryKey": "b9bgChiBwa+utWSZzF73iygItH6Jq35/ZO6ZZA2GpII=",
      "secondaryKey": "wgsxvLajrFY4A5r/gf0IDpx6CdoL9xRJW6gvQ0ELNl0=", "rights": "EnrollmentWrite"}]},
      "sku": {"name": "S1", "capacity": 1}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['570']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=","secondaryKey":"5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"b9bgChiBwa+utWSZzF73iygItH6Jq35/ZO6ZZA2GpII=","secondaryKey":"wgsxvLajrFY4A5r/gf0IDpx6CdoL9xRJW6gvQ0ELNl0=","rights":"EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNzNiMmZjZjctZTRmNi00MTExLWE0Y2QtYWUyZmUzZjlkZWJl?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1088']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:34:34 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfNzNiMmZjZjctZTRmNi00MTExLWE0Y2QtYWUyZmUzZjlkZWJl?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:04 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2s=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2s=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=","secondaryKey":"5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000004","primaryKey":"b9bgChiBwa+utWSZzF73iygItH6Jq35/ZO6ZZA2GpII=","secondaryKey":"wgsxvLajrFY4A5r/gf0IDpx6CdoL9xRJW6gvQ0ELNl0=","rights":"EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['413']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE2s=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey": "QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=", "secondaryKey":
      "5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=", "rights": "ServiceConfig, DeviceConnect,
      EnrollmentWrite"}]}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['378']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"QPX2KX1TP4n3sp++evFGL7yHUGPyAt2cAY6yG2yTviM=","secondaryKey":"5uZv/dsdfgxrDJ9rYf5e85H2cpgatdyOGzeZ94pga4o=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYzgxZGU4ZmItNjU3Ny00YjY5LWI2MDItZTM5MzRiYWZhYmI0?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['904']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYzgxZGU4ZmItNjU3Ny00YjY5LWI2MDItZTM5MzRiYWZhYmI0?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE3E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2017-11-15
  response:
    body: {string: '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIRrLmGDrk6lwwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRqc2JyeGpuNnN1ZmFjZXBmMB4XDTE4MDIwMTIzMzU0MFoXDTE4\r\nMDIwNTIzMzU0MFowIzEhMB8GA1UEAwwYVEVTVENFUlRqc2JyeGpuNnN1ZmFjZXBm\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA3Y3vv6dcIj10AHGH+PEE1\r\nV54X2ccp3z3SH/tXAHppAARPsGf5r4iFWlUSwfkxQxTj4YFCsTfWP/d/fyVkcu8F\r\n1D3jDlQCw9FIQavjkKEyPmPN9IyIYMcnaxxzHhJ004s72WSrxhtDMHmsaujhyvsX\r\nqbCjTR8rm10syVURGQxOXvsFhA2CJUmlOwkcPAEjwL8s0FRwTWEGC0DymqFJPOZB\r\n7U7EG+fF4nKpMPNsiEdow9inZScn1CYHlNFoY2fSITmMqovYbrdpwTzUaSmeCf3p\r\nSOvO9KFCibFtfpgSBSsvO2SWGJ6zHzwD12g3VFnMeLlQW03A21N3YbU3H7jT+7NN\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAmyGen1956IoAqw4RdeskOGADR2tMnFDLYimK16ukd\r\nmnogi889z47sM+s68RhMLbUyg14Ef3Y8ynVR6WXK93dojtr7LJYuIm5JkYljHTGi\r\ndQPf+Xc6o2Jk/UT209D8Ej3Wc4ws+/FgYxqZSgC+poGuUziEA7gML0kLAzc0V4Gi\r\n1Qgcp6O1+jyd4ylZJndiJdBH92227Ry7zNnXokZeo4njfPpkl+lxspsxnobVYNua\r\nJ146zRjfFGo4A5g+nbyCxOj8bUDjI2okXqh56+rSh3ALX30KKl4WUWLxgt5SWFRt\r\nzfXQcGL0GHWlXW8bXXRpDkXFwo/WlhT9pH6WZaBHYWte\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate create]
      Connection: [keep-alive]
      Content-Length: ['1215']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2017-11-15
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Mon, 05
        Feb 2018 23:35:40 GMT","thumbprint":"608CD557E8831195E918B3CAA3140DBF6240EEB9","isVerified":false,"created":"Fri,
        02 Feb 2018 23:35:41 GMT","updated":"Fri, 02 Feb 2018 23:35:41 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAAOE3I="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['610']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"properties":{"subject":"CN=TESTCERT000006","expiry":"Mon,
        05 Feb 2018 23:35:40 GMT","thumbprint":"608CD557E8831195E918B3CAA3140DBF6240EEB9","isVerified":false,"created":"Fri,
        02 Feb 2018 23:35:41 GMT","updated":"Fri, 02 Feb 2018 23:35:41 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAAOE3I="}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['622']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2017-11-15
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Mon, 05
        Feb 2018 23:35:40 GMT","thumbprint":"608CD557E8831195E918B3CAA3140DBF6240EEB9","isVerified":false,"created":"Fri,
        02 Feb 2018 23:35:41 GMT","updated":"Fri, 02 Feb 2018 23:35:41 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAAOE3I="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['610']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"properties":{"subject":"CN=TESTCERT000006","expiry":"Mon,
        05 Feb 2018 23:35:40 GMT","thumbprint":"608CD557E8831195E918B3CAA3140DBF6240EEB9","isVerified":false,"created":"Fri,
        02 Feb 2018 23:35:41 GMT","updated":"Fri, 02 Feb 2018 23:35:41 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAAOE3I="}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['622']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIRrLmGDrk6lwwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRqc2JyeGpuNnN1ZmFjZXBmMB4XDTE4MDIwMTIzMzU0MFoXDTE4\r\nMDIwNTIzMzU0MFowIzEhMB8GA1UEAwwYVEVTVENFUlRqc2JyeGpuNnN1ZmFjZXBm\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA3Y3vv6dcIj10AHGH+PEE1\r\nV54X2ccp3z3SH/tXAHppAARPsGf5r4iFWlUSwfkxQxTj4YFCsTfWP/d/fyVkcu8F\r\n1D3jDlQCw9FIQavjkKEyPmPN9IyIYMcnaxxzHhJ004s72WSrxhtDMHmsaujhyvsX\r\nqbCjTR8rm10syVURGQxOXvsFhA2CJUmlOwkcPAEjwL8s0FRwTWEGC0DymqFJPOZB\r\n7U7EG+fF4nKpMPNsiEdow9inZScn1CYHlNFoY2fSITmMqovYbrdpwTzUaSmeCf3p\r\nSOvO9KFCibFtfpgSBSsvO2SWGJ6zHzwD12g3VFnMeLlQW03A21N3YbU3H7jT+7NN\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAmyGen1956IoAqw4RdeskOGADR2tMnFDLYimK16ukd\r\nmnogi889z47sM+s68RhMLbUyg14Ef3Y8ynVR6WXK93dojtr7LJYuIm5JkYljHTGi\r\ndQPf+Xc6o2Jk/UT209D8Ej3Wc4ws+/FgYxqZSgC+poGuUziEA7gML0kLAzc0V4Gi\r\n1Qgcp6O1+jyd4ylZJndiJdBH92227Ry7zNnXokZeo4njfPpkl+lxspsxnobVYNua\r\nJ146zRjfFGo4A5g+nbyCxOj8bUDjI2okXqh56+rSh3ALX30KKl4WUWLxgt5SWFRt\r\nzfXQcGL0GHWlXW8bXXRpDkXFwo/WlhT9pH6WZaBHYWte\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate update]
      Connection: [keep-alive]
      Content-Length: ['1215']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAOE3I=]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2017-11-15
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Mon, 05
        Feb 2018 23:35:40 GMT","thumbprint":"608CD557E8831195E918B3CAA3140DBF6240EEB9","isVerified":false,"created":"Fri,
        02 Feb 2018 23:35:41 GMT","updated":"Fri, 02 Feb 2018 23:35:44 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAAOE3M="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['610']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate generate-verification-code]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAOE3M=]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005/generateVerificationCode?api-version=2017-11-15
  response:
    body: {string: '{"properties":{"verificationCode":"8E1B64640F2CA597FC3E7428609C4088088800FFF235C618","subject":"CN=TESTCERT000006","expiry":"Mon,
        05 Feb 2018 23:35:40 GMT","thumbprint":"608CD557E8831195E918B3CAA3140DBF6240EEB9","isVerified":false,"created":"Fri,
        02 Feb 2018 23:35:41 GMT","updated":"Fri, 02 Feb 2018 23:35:45 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAAOE3Q="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['680']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIIN04+goAq4rMwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRqc2JyeGpuNnN1ZmFjZXBmMB4XDTE4MDIwMjIzMzU0NloXDTE4\r\nMDIwNTIzMzU0NlowOzE5MDcGA1UEAwwwOEUxQjY0NjQwRjJDQTU5N0ZDM0U3NDI4\r\nNjA5QzQwODgwODg4MDBGRkYyMzVDNjE4MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQAukJfkk8TX44e5g4JfZ7KzU9uKGOCW91I1RL0YBWXu24M7TTIsXuNI\r\nbTIOQW/iJivs/m7qxrAb6YlriEOTDQLH2umhev22c/oTkb1FWwvdCnrXHi/keED7\r\nWN1ha61uEp8YOXOpY6ZlcaWNOgN+RZxS0XmBAYdRvmndyjDO3LxSpV1IjNGyfRLD\r\n18+jFo7F7JH2XuO6fFTksRcI6V/gT03FQm+1E2oKPOu+9Oct1HGJ3UsrSWSfjyGq\r\n15VKKD+GeEjpScZFA2mM7wk6ckd6AFkPnTOXYiHC287Hd2PcGZSIAqNm4/sC5NxU\r\na7acLNi/YRxVxZJGprJsXCwlO0okwJa1AgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQABvuz5vYa0UD1d\r\nSOIrKCVFp9rcilW7Qsv80zJW/EOEVx1bGAgXqU8/HmeTaH4hpWqMhtonyyS8+Mjj\r\nO+qKcbo8kkUExquusXHSFLbSS0IxgEXZBno6WzO5VO2ZcDq5gqQHjx/9WY6W1otT\r\nTXOFtarzan9of55u/VRBeMXWmVdYaZfVr94cQ2iq0k0lgMbDvUiLkykqmaCnMg4I\r\nYAJns9Bkr//ps8q2vW9WexLaLMyAQCCBKPhfNNF3rshVZg3Xp5e8lSgjSYNxnX0G\r\nteXK2dtnQ6QwFDD9sN1fdLsKttqhCLMAVN0Y5f6ht7e0Hv7BomquRuVYjPLMHYUM\r\nzyUZloFY\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate verify]
      Connection: [keep-alive]
      Content-Length: ['1179']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAOE3Q=]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005/verify?api-version=2017-11-15
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000006","expiry":"Mon, 05
        Feb 2018 23:35:40 GMT","thumbprint":"608CD557E8831195E918B3CAA3140DBF6240EEB9","isVerified":true,"created":"Fri,
        02 Feb 2018 23:35:41 GMT","updated":"Fri, 02 Feb 2018 23:35:46 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005","name":"certificate000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAAOE3U="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['609']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps certificate delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAAOE3U=]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/certificates/certificate000005?api-version=2017-11-15
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 02 Feb 2018 23:35:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2017-07-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/yingtest/providers/Microsoft.Devices/IotHubs/yingtest","name":"yingtest","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"yingtest","etag":"AAAAAAFxh84=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"yingtest.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iothub-ehub-yingtest-319777-a2ec0f96dd","endpoint":"sb://ihsuprodblres075dednamespace.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iothub-ehub-yingtest-319777-17f2f72ad6","endpoint":"sb://ihsuprodblres076dednamespace.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"F1","tier":"Free","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rguentu7hfupm4s4557krn7xg55swjlc6t75slcwfctljd22suspjrn3exs2txfljli/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rguentu7hfupm4s4557krn7xg55swjlc6t75slcwfctljd22suspjrn3exs2txfljli","etag":"AAAAAAGBwWk=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-339962-5760094785.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-339962-5760094785.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rg000001","etag":"AAAAAAGBzuQ=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5815']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/listkeys?api-version=2017-07-01
  response:
    body: {string: '{"value":[{"keyName":"iothubowner","primaryKey":"11tNZ42ZRbGTMKYDqmWo5DQpiR5FKiXGkus6YFonr7M=","secondaryKey":"kNl7X1zQR33cL9R4iFs9UQuRi97iDN+Pn9POlXnxn3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"4qdMQ7CraEcgn43wmuENBHaME/o7cTupp8as8EiD+wU=","secondaryKey":"d1d0AcOtAz/u+5ZlD4zQafELf340YW7JWA2G+yu0xI8=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"h6FnTKgzJFBq/W5PdScVqgtxRHFVpggwE8Xyb9uVSQI=","secondaryKey":"k6w+gI+H2w1MgJycmvYkn2E5Xau/X6yUC13EQ8LzzA4=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"H1jbCPH18NTCpBzdm8BByGXiudJT/5mu3/fz1cOYb2Y=","secondaryKey":"Jh45VIH6JaCpd/M/0obJboOF7deu4n/Hv8xy/+yd/50=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mpzcSa+5cZBl43Mfa66ZlkZP0vW3tacPdbkbM1FbD3g=","secondaryKey":"ORqPG7LqTmciQWjSdHNkbJPSO5PRZFfoyZjoFhtpN4c=","rights":"RegistryWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['905']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"location": "westus", "tags": {}, "subscriptionid": "b9ed95d7-5b40-413f-8e72-74721213a06c",
      "resourcegroup": "clitest.rg000001", "etag": "AAAAAAGBzuQ=", "properties": {"authorizationPolicies":
      [{"keyName": "iothubowner", "primaryKey": "11tNZ42ZRbGTMKYDqmWo5DQpiR5FKiXGkus6YFonr7M=",
      "secondaryKey": "kNl7X1zQR33cL9R4iFs9UQuRi97iDN+Pn9POlXnxn3g=", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}, {"keyName": "service", "primaryKey": "4qdMQ7CraEcgn43wmuENBHaME/o7cTupp8as8EiD+wU=",
      "secondaryKey": "d1d0AcOtAz/u+5ZlD4zQafELf340YW7JWA2G+yu0xI8=", "rights": "ServiceConnect"},
      {"keyName": "device", "primaryKey": "h6FnTKgzJFBq/W5PdScVqgtxRHFVpggwE8Xyb9uVSQI=",
      "secondaryKey": "k6w+gI+H2w1MgJycmvYkn2E5Xau/X6yUC13EQ8LzzA4=", "rights": "DeviceConnect"},
      {"keyName": "registryRead", "primaryKey": "H1jbCPH18NTCpBzdm8BByGXiudJT/5mu3/fz1cOYb2Y=",
      "secondaryKey": "Jh45VIH6JaCpd/M/0obJboOF7deu4n/Hv8xy/+yd/50=", "rights": "RegistryRead"},
      {"keyName": "registryReadWrite", "primaryKey": "mpzcSa+5cZBl43Mfa66ZlkZP0vW3tacPdbkbM1FbD3g=",
      "secondaryKey": "ORqPG7LqTmciQWjSdHNkbJPSO5PRZFfoyZjoFhtpN4c=", "rights": "RegistryWrite"},
      {"keyName": "key000007", "rights": "RegistryWrite"}], "ipFilterRules": [], "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}, "operationsMonitoringEvents":
      {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": []}, "routes":
      [], "fallbackRoute": {"source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT1M", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT1M", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "operationsMonitoringProperties":
      {"events": {"None": "None", "Connections": "None", "DeviceTelemetry": "None",
      "C2DCommands": "None", "DeviceIdentityOperations": "None", "FileUploadOperations":
      "None", "Routes": "None"}}, "features": "None"}, "sku": {"name": "S1", "capacity":
      1}}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Length: ['2409']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['{''IF-MATCH'': ''AAAAAAGBzuQ=''}']
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2017-07-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rg000001","etag":"AAAAAAGBzuQ=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"11tNZ42ZRbGTMKYDqmWo5DQpiR5FKiXGkus6YFonr7M=","secondaryKey":"kNl7X1zQR33cL9R4iFs9UQuRi97iDN+Pn9POlXnxn3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"4qdMQ7CraEcgn43wmuENBHaME/o7cTupp8as8EiD+wU=","secondaryKey":"d1d0AcOtAz/u+5ZlD4zQafELf340YW7JWA2G+yu0xI8=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"h6FnTKgzJFBq/W5PdScVqgtxRHFVpggwE8Xyb9uVSQI=","secondaryKey":"k6w+gI+H2w1MgJycmvYkn2E5Xau/X6yUC13EQ8LzzA4=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"H1jbCPH18NTCpBzdm8BByGXiudJT/5mu3/fz1cOYb2Y=","secondaryKey":"Jh45VIH6JaCpd/M/0obJboOF7deu4n/Hv8xy/+yd/50=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mpzcSa+5cZBl43Mfa66ZlkZP0vW3tacPdbkbM1FbD3g=","secondaryKey":"ORqPG7LqTmciQWjSdHNkbJPSO5PRZFfoyZjoFhtpN4c=","rights":"RegistryWrite"},{"keyName":"key000007","primaryKey":"5DGNfMJ7HIe2C6Vk9ZsGhsQ9vzyy/s5JDrRC+040O8M=","secondaryKey":"ZVLbq3JU4SvXVLknqDXGZUHxQnNp9fICEK/HDFnZgbg=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfOTA5MmE5YmItYWRmMi00MjI0LTg2ZjctZDA1M2QyOWE1MzYy?api-version=2017-07-01&asyncinfo']
      cache-control: [no-cache]
      content-length: ['2729']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:35:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['{''IF-MATCH'': ''AAAAAAGBzuQ=''}']
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfOTA5MmE5YmItYWRmMi00MjI0LTg2ZjctZDA1M2QyOWE1MzYy?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['{''IF-MATCH'': ''AAAAAAGBzuQ=''}']
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/operationResults/b3NfaWhfOTA5MmE5YmItYWRmMi00MjI0LTg2ZjctZDA1M2QyOWE1MzYy?api-version=2017-07-01&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['{''IF-MATCH'': ''AAAAAAGBzuQ=''}']
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003?api-version=2017-07-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rg000001","etag":"AAAAAAGBz1Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2005']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2017-07-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/yingtest/providers/Microsoft.Devices/IotHubs/yingtest","name":"yingtest","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"yingtest","etag":"AAAAAAFxh84=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"yingtest.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iothub-ehub-yingtest-319777-a2ec0f96dd","endpoint":"sb://ihsuprodblres075dednamespace.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iothub-ehub-yingtest-319777-17f2f72ad6","endpoint":"sb://ihsuprodblres076dednamespace.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"F1","tier":"Free","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rguentu7hfupm4s4557krn7xg55swjlc6t75slcwfctljd22suspjrn3exs2txfljli/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rguentu7hfupm4s4557krn7xg55swjlc6t75slcwfctljd22suspjrn3exs2txfljli","etag":"AAAAAAGBwWk=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-339962-5760094785.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-339962-5760094785.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003","name":"iot000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","resourcegroup":"clitest.rg000001","etag":"AAAAAAGBz1Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot000003-operationmonitoring","endpoint":"sb://iothub-ns-iotskbhcbm-340007-6d448bab48.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5815']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub policy show]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 iothubclient/0.4.0 Azure-SDK-For-Python AZURECLI/2.0.27]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot000003/IotHubKeys/key000007/listkeys?api-version=2017-07-01
  response:
    body: {string: '{"keyName":"key000007","primaryKey":"5DGNfMJ7HIe2C6Vk9ZsGhsQ9vzyy/s5JDrRC+040O8M=","secondaryKey":"ZVLbq3JU4SvXVLknqDXGZUHxQnNp9fICEK/HDFnZgbg=","rights":"RegistryWrite"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['181']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE3E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE3E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"location": "westus", "properties": {"iotHubs": [{"connectionString":
      "HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=5DGNfMJ7HIe2C6Vk9ZsGhsQ9vzyy/s5JDrRC+040O8M=",
      "location": "westus"}], "allocationPolicy": "GeoLatency"}, "sku": {"name": "S1",
      "capacity": 1}}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      Content-Length: ['320']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[{"connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=5DGNfMJ7HIe2C6Vk9ZsGhsQ9vzyy/s5JDrRC+040O8M=","location":"westus"}],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZmIwMmIxOGUtNWUzZC00ZWM1LWE0NGMtMjNmOTJjMGM4ODk2?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['852']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:36:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfZmIwMmIxOGUtNWUzZC00ZWM1LWE0NGMtMjNmOTJjMGM4ODk2?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:37:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1004']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:37:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1004']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:37:26 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1004']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:37:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1004']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:37:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4E=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1004']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:37:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"location": "westus", "properties": {"iotHubs": [{"applyAllocationPolicy":
      true, "allocationWeight": 10, "connectionString": "HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****",
      "location": "westus"}], "allocationPolicy": "GeoLatency"}, "sku": {"name": "S1",
      "capacity": 1}}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      Content-Length: ['335']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfN2U4MDg4MTctNTQ3ZC00ZDgxLWE2MTEtZGNmMGMwMzY4YTk4?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['863']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:37:29 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfN2U4MDg4MTctNTQ3ZC00ZDgxLWE2MTEtZGNmMGMwMzY4YTk4?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub update]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4w=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1055']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4w=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1055']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4w=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1055']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE4w=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[{"applyAllocationPolicy":true,"allocationWeight":10,"name":"iot000003.azure-devices.net","connectionString":"HostName=iot000003.azure-devices.net;SharedAccessKeyName=key000007;SharedAccessKey=****","location":"westus"}],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1055']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency"}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      Content-Length: ['125']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmNhYzQ4Y2YtMzdiMS00NGE3LThjOTQtNTNlZjc3NTcxNDY2?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['660']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfYmNhYzQ4Y2YtMzdiMS00NGE3LThjOTQtNTNlZjc3NTcxNDY2?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:34 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps linked-hub delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAOE5g=","name":"dps000002","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne0000C1C0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['804']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2017-11-15
  response:
    body: {string: 'null'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfOWRjZWMyODUtNGIyNC00MTFjLTg2NmItZTc2YjFiMGY4NDU2?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['4']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:36 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfOWRjZWMyODUtNGIyNC00MTFjLTg2NmItZTc2YjFiMGY4NDU2?api-version=2017-11-15']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 azure-mgmt-iothubprovisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.27]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/b3NfaWRfOWRjZWMyODUtNGIyNC00MTFjLTg2NmItZTc2YjFiMGY4NDU2?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 02 Feb 2018 23:38:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.4 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.23
          msrest_azure/0.4.19 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.27]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 02 Feb 2018 23:38:53 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdESUhVSEozQ1lNNklGTUZDS0NCVEFLQjU0TVVYSFBBQlZNVHxBMDEzRkI1RkE2RkZCMUFBLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
version: 1
