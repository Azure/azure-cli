interactions:
- request:
    body: '{"tags": {"use": "az-test"}, "location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 resourcemanagementclient/1.0.0rc1 Azure-SDK-For-Python
          AZURECLI/2.0.3+dev]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2016-09-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['326']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 28 Apr 2017 18:07:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: '{"location": "westcentralus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Length: ['29']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchmanagementclient/3.0.0 Azure-SDK-For-Python AZURECLI/2.0.3+dev]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-01-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 28 Apr 2017 18:07:46 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/e54af7bd-b0fc-446c-a673-82fae2073a6b?api-version=2017-01-01']
      pragma: [no-cache]
      request-id: [e54af7bd-b0fc-446c-a673-82fae2073a6b]
      retry-after: ['15']
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchmanagementclient/3.0.0 Azure-SDK-For-Python AZURECLI/2.0.3+dev]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/e54af7bd-b0fc-446c-a673-82fae2073a6b?api-version=2017-01-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"westcentralus","properties":{"accountEndpoint":"clibatch000002.westcentralus.batch.azure.com","provisioningState":"Succeeded","coreQuota":20,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"poolAllocationMode":"batchservice"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['537']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 28 Apr 2017 18:08:02 GMT']
      etag: ['0x8D48E618375A870']
      expires: ['-1']
      last-modified: ['Fri, 28 Apr 2017 18:08:03 GMT']
      pragma: [no-cache]
      request-id: [c66882f7-4d48-47b4-9bb0-960bcad2f195]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account keys list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchmanagementclient/3.0.0 Azure-SDK-For-Python AZURECLI/2.0.3+dev]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/listKeys?api-version=2017-01-01
  response:
    body: {string: '{"accountName":"clibatch000002","primary":"pAm7hiS8zPOCBnaKaq9SwjXOEt390NF5CMdWeTRDNWIPy3hYGLLVNltYprEPitlmVnUGKEHC2j6K2OOWbqWjIw==","secondary":"zJVYeBaZ4mwPVGhkVhUXBR4aUtzBiZR2NH/9wrPCP4DZidbo4aF3ZHuX4RD+3JZq77BiiFL1jojYd+ZcxZkHcA=="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['246']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 28 Apr 2017 18:08:04 GMT']
      expires: ['-1']
      pragma: [no-cache]
      request-id: [0b4f160d-868b-454e-b190-d98ca0e78565]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchmanagementclient/3.0.0 Azure-SDK-For-Python AZURECLI/2.0.3+dev]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-01-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"westcentralus","properties":{"accountEndpoint":"clibatch000002.westcentralus.batch.azure.com","provisioningState":"Succeeded","coreQuota":20,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"poolAllocationMode":"batchservice"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['537']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 28 Apr 2017 18:08:05 GMT']
      etag: ['0x8D48E617943D91C']
      expires: ['-1']
      last-modified: ['Fri, 28 Apr 2017 18:07:46 GMT']
      pragma: [no-cache]
      request-id: [8098b943-a000-4eb2-a093-5735c47c62fb]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicated": 0, "vmSize": "small", "cloudServiceConfiguration":
      {"targetOSVersion": "*", "osFamily": "4"}, "id": "xplatCreatedPool", "startTask":
      {"waitForSuccess": true, "commandLine": "cmd /c echo test", "userIdentity":
      {"autoUser": {"scope": "task", "elevationLevel": "admin"}}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['289']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:08:06 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatch5d3edc3368d6eebb.westcentralus.batch.azure.com/pools/xplatCreatedPool']
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:08:07 GMT']
      etag: ['0x8D48E6184B0918C']
      last-modified: ['Fri, 28 Apr 2017 18:08:05 GMT']
      location: ['https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool']
      request-id: [44501d27-2850-47db-9fe2-250cab319d83]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:08:06 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westcentralus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D48E6184B0918C\",\"lastModified\":\"2017-04-28T18:08:05.5218572Z\"\
        ,\"creationTime\":\"2017-04-28T18:08:05.5218572Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-04-28T18:08:05.5218572Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-04-28T18:08:05.6249234Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":0,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:08:06 GMT']
      etag: ['0x8D48E6184B0918C']
      last-modified: ['Fri, 28 Apr 2017 18:08:05 GMT']
      request-id: [a4f8a0c5-17e6-4ab2-bc2d-ba02f3779a31]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicated": 5}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:08:06 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool/resize?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatch5d3edc3368d6eebb.westcentralus.batch.azure.com/pools/xplatCreatedPool/resize']
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:08:06 GMT']
      etag: ['0x8D48E6184FA1B54']
      last-modified: ['Fri, 28 Apr 2017 18:08:06 GMT']
      request-id: [d03f2266-0547-4cd6-8418-112d09ed3886]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:08:07 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westcentralus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D48E6184FA1B54\",\"lastModified\":\"2017-04-28T18:08:06.0037972Z\"\
        ,\"creationTime\":\"2017-04-28T18:08:05.5218572Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-04-28T18:08:05.5218572Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2017-04-28T18:08:06.0037972Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicated\":0,\"\
        targetDedicated\":5,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:08:05 GMT']
      etag: ['0x8D48E6184FA1B54']
      last-modified: ['Fri, 28 Apr 2017 18:08:06 GMT']
      request-id: [1b8b4e74-1309-479f-8441-697495a4f6ac]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:08:07 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool/stopresize?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatch5d3edc3368d6eebb.westcentralus.batch.azure.com/pools/xplatCreatedPool/stopresize']
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:08:06 GMT']
      etag: ['0x8D48E61853DA4AA']
      last-modified: ['Fri, 28 Apr 2017 18:08:06 GMT']
      request-id: [5700ae4d-aa01-4412-a5bd-18996ed75168]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:10:07 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westcentralus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D48E61853DA4AA\",\"lastModified\":\"2017-04-28T18:08:06.4464042Z\"\
        ,\"creationTime\":\"2017-04-28T18:08:05.5218572Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-04-28T18:08:05.5218572Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-04-28T18:08:17.5398001Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"resizeError\":{\r\n  \
        \  \"code\":\"ResizeStopped\",\"message\":\"Desired number of dedicated nodes\
        \ could not be allocated due to a stop resize operation\"\r\n  },\"currentDedicated\"\
        :0,\"targetDedicated\":5,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:10:06 GMT']
      etag: ['0x8D48E61853DA4AA']
      last-modified: ['Fri, 28 Apr 2017 18:08:06 GMT']
      request-id: [bee55147-2156-4ded-bffd-61ae9f35704b]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"certificateReferences": [], "startTask": {"waitForSuccess": true, "commandLine":
      "cmd /c echo updated"}, "applicationPackageReferences": [], "metadata": []}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:10:08 GMT']
    method: POST
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatch5d3edc3368d6eebb.westcentralus.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:10:07 GMT']
      etag: ['0x8D48E61CD27E40A']
      last-modified: ['Fri, 28 Apr 2017 18:10:07 GMT']
      request-id: [49cd631d-4cc0-4fdb-a271-ffce2c8d8cb2]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:10:08 GMT']
    method: GET
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westcentralus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D48E61CD27E40A\",\"lastModified\":\"2017-04-28T18:10:07.0998026Z\"\
        ,\"creationTime\":\"2017-04-28T18:08:05.5218572Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-04-28T18:08:05.5218572Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-04-28T18:08:17.5398001Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"resizeError\":{\r\n  \
        \  \"code\":\"ResizeStopped\",\"message\":\"Desired number of dedicated nodes\
        \ could not be allocated due to a stop resize operation\"\r\n  },\"currentDedicated\"\
        :0,\"targetDedicated\":5,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo updated\",\"maxTaskRetryCount\"\
        :0,\"waitForSuccess\":true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\"\
        :{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"cloudServiceConfiguration\"\
        :{\r\n    \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\"\
        :\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:10:08 GMT']
      etag: ['0x8D48E61CD27E40A']
      last-modified: ['Fri, 28 Apr 2017 18:10:07 GMT']
      request-id: [c28bac51-02a0-44e1-9080-5c43d388cbd8]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"certificateReferences": [], "startTask": {"commandLine": "hostname"},
      "applicationPackageReferences": [], "metadata": [{"value": "b", "name": "a"},
      {"value": "d", "name": "c"}]}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:10:08 GMT']
    method: POST
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2017-01-01.4.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatch5d3edc3368d6eebb.westcentralus.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:10:08 GMT']
      etag: ['0x8D48E61CD7466F8']
      last-modified: ['Fri, 28 Apr 2017 18:10:07 GMT']
      request-id: [0b239be7-d860-4c20-9c49-2ba3b7e5f4a8]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:10:08 GMT']
    method: GET
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool?api-version=2017-01-01.4.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westcentralus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D48E61CD7466F8\",\"lastModified\":\"2017-04-28T18:10:07.601228Z\"\
        ,\"creationTime\":\"2017-04-28T18:08:05.5218572Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-04-28T18:08:05.5218572Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-04-28T18:08:17.5398001Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"resizeError\":{\r\n  \
        \  \"code\":\"ResizeStopped\",\"message\":\"Desired number of dedicated nodes\
        \ could not be allocated due to a stop resize operation\"\r\n  },\"currentDedicated\"\
        :0,\"targetDedicated\":5,\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"hostname\",\"maxTaskRetryCount\"\
        :0,\"waitForSuccess\":false\r\n  },\"metadata\":[\r\n    {\r\n      \"name\"\
        :\"a\",\"value\":\"b\"\r\n    },{\r\n      \"name\":\"c\",\"value\":\"d\"\r\
        \n    }\r\n  ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"\
        nodeFillType\":\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"\
        osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n\
        \  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:10:09 GMT']
      etag: ['0x8D48E61CD7466F8']
      last-modified: ['Fri, 28 Apr 2017 18:10:07 GMT']
      request-id: [cf39be46-b773-41a9-8e1b-1766ab4013ab]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 batchserviceclient/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Fri, 28 Apr 2017 18:10:09 GMT']
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clibatch000002.westcentralus.batch.azure.com/pools/xplatCreatedPool?api-version=2017-01-01.4.0&timeout=30
  response:
    body: {string: ''}
    headers:
      dataserviceversion: ['3.0']
      date: ['Fri, 28 Apr 2017 18:10:08 GMT']
      request-id: [4ecd119a-05fa-4dc5-b920-10350a1c09bd]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.6
          msrest_azure/0.4.7 resourcemanagementclient/1.0.0rc1 Azure-SDK-For-Python
          AZURECLI/2.0.3+dev]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2016-09-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 28 Apr 2017 18:10:09 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdFMkI5RDFDQzk1RUJEMTA2MjRENUU1REMxNjVCODNDMTJDN3wwNEJBMjBCMTgyRDNGNkRBLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2016-09-01']
      pragma: [no-cache]
      retry-after: ['15']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 202, message: Accepted}
version: 1
