version: 1
content:
- group:
    name: ams
    summary: Manage Azure Media Services resources.
- group:
    name: ams account
    summary: Manage Azure Media Services accounts.
- command:
    name: ams account create
    summary: Create an Azure Media Services account.
- command:
    name: ams account update
    summary: Update the details of an Azure Media Services account.
- command:
    name: ams account list
    summary: List Azure Media Services accounts for the entire subscription.
- command:
    name: ams account show
    summary: Show the details of an Azure Media Services account.
- command:
    name: ams account delete
    summary: Delete an Azure Media Services account.
- command:
    name: ams account check-name
    summary: Checks whether the Media Service resource name is available.
- group:
    name: ams account storage
    summary: Manage storage for an Azure Media Services account.
- command:
    name: ams account storage add
    summary: Attach a secondary storage to an Azure Media Services account.
- command:
    name: ams account storage remove
    summary: Detach a secondary storage from an Azure Media Services account.
- group:
    name: ams account sp
    summary: Manage service principal and role based access for an Azure Media Services account.
- command:
    name: ams account sp create
    summary: Create a service principal and configure its access to an Azure Media Services account.
    description: Service principal propagation throughout Azure Active Directory may take some extra seconds to complete.
    examples:
    - summary: Create a service principal with password and configure its access to an Azure Media Services account. Output will be in xml format.
      command: >
        az ams account sp create -a myAmsAccount -g myRG -n mySpName --password mySecret --role Owner --xml
- command:
    name: ams account sp reset-credentials
    summary: Generate a new client secret for a service principal configured for an Azure Media Services account.
- command:
    name: ams account storage sync-storage-keys
    summary: Synchronize storage account keys for a storage account associated with an Azure Media Services account.
- group:
    name: ams transform
    summary: Manage transforms for an Azure Media Services account.
- command:
    name: ams transform list
    summary: List all the transforms of an Azure Media Services account.
- command:
    name: ams transform show
    summary: Show the details of a transform.
- command:
    name: ams transform create
    summary: Create a transform.
    examples:
    - summary: Create a transform with AdaptiveStreaming built-in preset and High relative priority.
      command: >
        az ams transform create -a myAmsAccount -n transformName -g myResourceGroup --preset AdaptiveStreaming --relative-priority High
    - summary: Create a transform with a custom Standard Encoder preset from a JSON file and Low relative priority.
      command: >
        az ams transform create -a myAmsAccount -n transformName -g myResourceGroup --preset "C:\MyPresets\CustomPreset.json" --relative-priority Low
- command:
    name: ams transform delete
    summary: Delete a transform.
- command:
    name: ams transform update
    summary: Update the details of a transform.
    examples:
    - summary: Update the first transform output of a transform by setting its relative priority to High.
      command: >
        az ams transform update -a myAmsAccount -n transformName -g myResourceGroup --set outputs[0].relativePriority=High
- group:
    name: ams transform output
    summary: Manage transform outputs for an Azure Media Services account.
- command:
    name: ams transform output add
    summary: Add an output to an existing transform.
    examples:
    - summary: Add an output with a custom Standard Encoder preset from a JSON file.
      command: >
        az ams transform output add -a myAmsAccount -n transformName -g myResourceGroup --preset "C:\MyPresets\CustomPreset.json"
    - summary: Add an output with a VideoAnalyzer preset with es-ES as audio language and only with audio insights.
      command: >
        az ams transform output add -a myAmsAccount -n transformName -g myResourceGroup --preset VideoAnalyzer --audio-language es-ES --insights-to-extract AudioInsightsOnly
- command:
    name: ams transform output remove
    summary: Remove an output from an existing transform.
    examples:
    - summary: Remove the output element at the index specified with --output-index argument.
      command: >
        az ams transform output remove -a myAmsAccount -n transformName -g myResourceGroup --output-index 1
- group:
    name: ams asset
    summary: Manage assets for an Azure Media Services account.
- group:
    name: ams asset-filter
    summary: Manage asset filters for an Azure Media Services account.
- group:
    name: ams account-filter
    summary: Manage account filters for an Azure Media Services account.
- command:
    name: ams asset show
    summary: Show the details of an asset.
- command:
    name: ams asset list
    summary: List all the assets of an Azure Media Services account.
    examples:
    - summary: List all the assets whose names start with the string 'Something'.
      command: >
        az ams asset list -a amsAccount -g resourceGroup --query [?starts_with(name,'Something')]
- command:
    name: ams asset list-streaming-locators
    summary: List streaming locators which are associated with this asset.
- command:
    name: ams asset create
    summary: Create an asset.
- command:
    name: ams asset update
    summary: Update the details of an asset.
- command:
    name: ams asset delete
    summary: Delete an asset.
- command:
    name: ams asset get-sas-urls
    summary: Lists storage container URLs with shared access signatures (SAS) for uploading and downloading Asset content. The signatures are derived from the storage account keys.
- command:
    name: ams asset get-encryption-key
    summary: Get the asset storage encryption keys used to decrypt content created by version 2 of the Media Services API.
- command:
    name: ams asset-filter create
    summary: Create an asset filter.
    examples:
    - summary: Create an asset filter with filter track selections.
      command: >
        az ams asset-filter create -a amsAccount -g resourceGroup -n filterName --force-end-timestamp=False --end-timestamp 200000 --start-timestamp 100000 --live-backoff-duration 60 --presentation-window-duration 600000 --timescale 1000 --bitrate 720 --asset-name assetName --tracks @C:\tracks.json
- command:
    name: ams asset-filter update
    summary: Update the details of an asset filter.
- command:
    name: ams asset-filter delete
    summary: Delete an asset filter.
- command:
    name: ams asset-filter list
    summary: List all the asset filters of an Azure Media Services account.
- command:
    name: ams asset-filter show
    summary: Show the details of an asset filter.
- group:
    name: ams content-key-policy
    summary: Manage content key policies for an Azure Media Services account.
- command:
    name: ams content-key-policy create
    summary: Create a new content key policy.
- command:
    name: ams content-key-policy show
    summary: Show an existing content key policy.
- command:
    name: ams content-key-policy delete
    summary: Delete a content key policy.
- command:
    name: ams content-key-policy update
    summary: Update an existing content key policy.
    examples:
    - summary: Update an existing content-key-policy, set a new description and edit its first option setting a new issuer and audience.
      command: >
        az ams content-key-policy update -n contentKeyPolicyName -a amsAccount --description newDescription --set options[0].restriction.issuer=newIssuer --set options[0].restriction.audience=newAudience
- command:
    name: ams content-key-policy list
    summary: List all the content key policies within an Azure Media Services account.
- group:
    name: ams content-key-policy option
    summary: Manage options for an existing content key policy.
- command:
    name: ams content-key-policy option add
    summary: Add a new option to an existing content key policy.
- command:
    name: ams content-key-policy option remove
    summary: Remove an option from an existing content key policy.
- command:
    name: ams content-key-policy option update
    summary: Update an option from an existing content key policy.
    examples:
    - summary: Update an existing content-key-policy by adding an alternate token key to an existing option.
      command: >
        az ams content-key-policy option update -n contentKeyPolicyName -g resourceGroup -a amsAccount --policy-option-id xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx --add-alt-token-key tokenKey --add-alt-token-key-type Symmetric
- group:
    name: ams job
    summary: Manage jobs for a transform.
- command:
    name: ams job start
    summary: Start a job.
- command:
    name: ams job update
    summary: Update an existing job.
- command:
    name: ams job list
    summary: List all the jobs of a transform within an Azure Media Services account.
    examples:
    - summary: List all the jobs of a transform with 'Normal' priority by name.
      command: >
        az ams job list -a amsAccount -g resourceGroup -t transformName --query [?priority=='Normal'].{jobName:name}
    - summary: List all the jobs of a transform by name and input.
      command: >
        az ams job list -a amsAccount -g resourceGroup -t transformName --query [].{jobName:name,jobInput:input}
- command:
    name: ams job show
    summary: Show the details of a job.
- command:
    name: ams job delete
    summary: Delete a job.
- command:
    name: ams job cancel
    summary: Cancel a job.
- group:
    name: ams streaming-locator
    summary: Manage streaming locators for an Azure Media Services account.
- command:
    name: ams streaming-locator create
    summary: Create a streaming locator.
- command:
    name: ams streaming-locator list
    summary: List all the streaming locators within an Azure Media Services account.
- command:
    name: ams streaming-locator show
    summary: Show the details of a streaming locator.
- command:
    name: ams streaming-locator get-paths
    summary: List paths supported by a streaming locator.
- command:
    name: ams streaming-locator list-content-keys
    summary: List content keys used by a streaming locator.
- group:
    name: ams streaming-policy
    summary: Manage streaming policies for an Azure Media Services account.
- command:
    name: ams streaming-policy create
    summary: Create a streaming policy.
- command:
    name: ams streaming-policy list
    summary: List all the streaming policies within an Azure Media Services account.
- command:
    name: ams streaming-policy show
    summary: Show the details of a streaming policy.
- group:
    name: ams streaming-endpoint
    summary: Manage streaming endpoints for an Azure Media Service account.
- command:
    name: ams streaming-endpoint start
    summary: Start a streaming endpoint.
- command:
    name: ams streaming-endpoint stop
    summary: Stop a streaming endpoint.
- command:
    name: ams streaming-endpoint list
    summary: List all the streaming endpoints within an Azure Media Services account.
- command:
    name: ams streaming-endpoint create
    summary: Create a streaming endpoint.
- group:
    name: ams streaming-endpoint akamai
    summary: Manage AkamaiAccessControl objects to be used on streaming endpoints.
- command:
    name: ams streaming-endpoint akamai add
    summary: Add an AkamaiAccessControl to an existing streaming endpoint.
- command:
    name: ams streaming-endpoint show
    summary: Show the details of a streaming endpoint.
- command:
    name: ams streaming-endpoint delete
    summary: Delete a streaming endpoint.
- command:
    name: ams streaming-endpoint akamai remove
    summary: Remove an AkamaiAccessControl from an existing streaming endpoint.
- command:
    name: ams streaming-endpoint scale
    summary: Set the scale of a streaming endpoint.
- command:
    name: ams streaming-endpoint update
    summary: Update the details of a streaming endpoint.
- group:
    name: ams live-event
    summary: Manage live events for an Azure Media Service account.
- command:
    name: ams live-event create
    summary: Create a live event.
- command:
    name: ams live-event start
    summary: Start a live event.
- command:
    name: ams live-event show
    summary: Show the details of a live event.
- command:
    name: ams live-event list
    summary: List all the live events of an Azure Media Services account.
    examples:
    - summary: List all the live events by name and resourceState quickly.
      command: >
        az ams live-event list -a amsAccount -g resourceGroup --query [].{liveEventName:name,state:resourceState}
- command:
    name: ams live-event delete
    summary: Delete a live event.
- command:
    name: ams live-event stop
    summary: Stop a live event.
- command:
    name: ams live-event reset
    summary: Reset a live event.
- command:
    name: ams live-event update
    summary: Update the details of a live event.
    examples:
    - summary: Set a new allowed IP address and remove an existing IP address at index '0'.
      command: >
        az ams live-event update -a amsAccount -g resourceGroup -n liveEventName --remove input.accessControl.ip.allow 0 --add input.accessControl.ip.allow 1.2.3.4/22
    - summary: Clear existing IP addresses and set new ones.
      command: >
        az ams live-event update -a amsAccount -g resourceGroup -n liveEventName --ips 1.2.3.4/22 5.6.7.8/30
- group:
    name: ams live-output
    summary: Manage live outputs for an Azure Media Service account.
- command:
    name: ams live-output create
    summary: Create a live output.
- command:
    name: ams live-output show
    summary: Show the details of a live output.
- command:
    name: ams live-output list
    summary: List all the live outputs in a live event.
- command:
    name: ams live-output delete
    summary: Delete a live output.
- command:
    name: ams account-filter show
    summary: Show the details of an account filter.
- command:
    name: ams account-filter list
    summary: List all the account filters of an Azure Media Services account.
- command:
    name: ams account-filter create
    summary: Create an account filter.
    examples:
    - summary: Create an asset filter with filter track selections.
      command: >
        az ams account-filter create -a amsAccount -g resourceGroup -n filterName --force-end-timestamp=False --end-timestamp 200000 --start-timestamp 100000 --live-backoff-duration 60 --presentation-window-duration 600000 --timescale 1000 --bitrate 720 --tracks @C:\tracks.json
- command:
    name: ams account-filter update
    summary: Update the details of an account filter.
- command:
    name: ams account-filter delete
    summary: Delete an account filter.
- group:
    name: ams account mru
    summary: Manage media reserved units for an Azure Media Services account.
- command:
    name: ams account mru set
    summary: Set the type and number of media reserved units for an Azure Media Services account.
- command:
    name: ams account mru show
    summary: Show the details of media reserved units for an Azure Media Services account.
