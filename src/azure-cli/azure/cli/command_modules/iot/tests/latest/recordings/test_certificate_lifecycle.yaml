interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-resource/12.0.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2020-10-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2020-12-18T11:32:40Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '428'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:32:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '570'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2020-03-01
  response:
    body:
      string: '{"error":{"code":"MissingSubscriptionRegistration","message":"The subscription
        is not registered to use namespace ''Microsoft.Devices''. See https://aka.ms/rps-not-found
        for how to register subscriptions.","details":[{"code":"MissingSubscriptionRegistration","target":"Microsoft.Devices","message":"The
        subscription is not registered to use namespace ''Microsoft.Devices''. See
        https://aka.ms/rps-not-found for how to register subscriptions."}]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '442'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:32:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 409
      message: Conflict
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - python-requests/2.22.0
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/register?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5494'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:32:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5494'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:32:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5494'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:33:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5494'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:33:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5494'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:33:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5494'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:33:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registering"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5494'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:33:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.22.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices?api-version=2016-02-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices","namespace":"Microsoft.Devices","authorizations":[{"applicationId":"0cd79364-7a90-4354-9984-6e36c841418d","roleDefinitionId":"C121DF10-FE58-4BC4-97F9-8296879F7BBB"},{"applicationId":"29f411f1-b2cf-4043-8ac8-2185d7316811"},{"applicationId":"89d10474-74af-4874-99a7-c23c2f643083","roleDefinitionId":"7df22794-26e3-4f94-9d50-a4f0f6e1cb41"}],"resourceTypes":[{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"checkProvisioningServiceNameAvailability","locations":[],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"]},{"resourceType":"usages","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-09-01","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01-preview","2018-04-01","2018-01-22-preview","2018-01-22","2017-11-15","2017-09-25-preview","2017-08-21-preview","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"]},{"resourceType":"IotHubs","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2020-07-10-preview","2020-06-15","2020-04-01","2020-03-01","2020-01-01","2019-11-04","2019-07-01-preview","2019-03-22-preview","2019-03-22","2018-12-01-preview","2018-04-01","2018-01-22","2017-07-01","2017-01-19","2016-02-03","2015-08-15-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/eventGridFilters","locations":["West
        US","East US","West US 2","West Central US","East US 2","Central US","North
        Europe","West Europe","East Asia","Southeast Asia","Japan East","Japan West","Australia
        East","Australia Southeast","UK South","UK West","South India","Central India","Canada
        Central","Canada East","Brazil South","South Central US","Korea South","Korea
        Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2018-07-31","2018-01-15-preview"]},{"resourceType":"ProvisioningServices","locations":["East
        US","West US","West Europe","North Europe","Southeast Asia","East Asia","Australia
        East","Australia Southeast","Japan West","Japan East","UK West","UK South","East
        US 2","Central US","West US 2","West Central US","North Central US","South
        Central US","Australia Central","Australia Central 2","France Central","France
        South","Canada East","Canada Central","East US 2 EUAP","Central US EUAP"],"apiVersions":["2020-03-01","2020-01-01","2018-01-22","2017-11-15","2017-08-21-preview"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove, SystemAssignedResourceIdentity"},{"resourceType":"IotHubs/securitySettings","locations":["West
        US","North Europe","East Asia","East US","West Europe","Southeast Asia","Japan
        East","Japan West","Australia East","Australia Southeast","West US 2","West
        Central US","East US 2","Central US","UK South","UK West","South India","Central
        India","Canada Central","Canada East","Brazil South","South Central US","Korea
        South","Korea Central","France Central","North Central US","Australia Central","Australia
        Central 2","Germany North","Germany West Central","South Africa North","South
        Africa West","UAE Central","UAE North","Central US EUAP","East US 2 EUAP"],"apiVersions":["2019-09-01"]},{"resourceType":"ElasticPools","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-12-01-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"},{"resourceType":"ElasticPools/IotHubTenants","locations":["Central
        US EUAP","East US 2 EUAP"],"apiVersions":["2019-07-01-preview","2019-03-22-preview","2018-01-22-preview","2017-09-25-preview","2017-07-01"],"capabilities":"CrossResourceGroupResourceMove,
        CrossSubscriptionResourceMove"}],"registrationState":"Registered"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '5493'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:33:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '570'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2020-03-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a1bfa635-f2bf-42f1-86b5-848c674fc321","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNjdjZTk4YjgtMjYwNC00ODUxLWE0ZDUtZDQ2MDg4NGMwNDVk?api-version=2020-03-01&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1210'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:33:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNjdjZTk4YjgtMjYwNC00ODUxLWE0ZDUtZDQ2MDg4NGMwNDVk?api-version=2020-03-01&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:34:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNjdjZTk4YjgtMjYwNC00ODUxLWE0ZDUtZDQ2MDg4NGMwNDVk?api-version=2020-03-01&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:34:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNjdjZTk4YjgtMjYwNC00ODUxLWE0ZDUtZDQ2MDg4NGMwNDVk?api-version=2020-03-01&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:35:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfNjdjZTk4YjgtMjYwNC00ODUxLWE0ZDUtZDQ2MDg4NGMwNDVk?api-version=2020-03-01&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:35:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2020-03-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a1bfa635-f2bf-42f1-86b5-848c674fc321","resourcegroup":"clitest.rg000002","etag":"AAAABo2nI68=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-cert-testh7ru","endpoint":"sb://iothub-ns-iot-hub-fo-6690249-7d0643ca32.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1773'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:35:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2020-03-01
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:35:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIOOgswhH2QkYwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRlbnRqZDVkd3VvZXU0c3RoMB4XDTIwMTIxNzExMzI0MFoXDTIw\r\nMTIyMTExMzI0MFowIzEhMB8GA1UEAwwYVEVTVENFUlRlbnRqZDVkd3VvZXU0c3Ro\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQAspGbpv6EthmYqBaZPH62R\r\nfbsuu+oF70OVb6LHEhZ27g2xI93SzsUViId9YVmdqUPoIaRfcjGLsyB9Ht67FElP\r\n1U2+cqyK8P9z6+KlwW4ZlDBpdt6R/ybl1TWQiEuD2daBPKF8hQAsXki7U039HYvC\r\nAePRuj9vprv28s2Hm+ltJaSpDX20bY45IQQP4X0CPiASPXYHkuhMNkHOBjyfmRJf\r\n/McwAjUpBYUQXsG2a/aqb8fgNAC0v8pdmjgvISUOpIhUOnP8RY60W20IcfargsjK\r\nDItXipneWcLEc306guiEHd9nag3185iojZSQLoiJT++52NPw9wg6iXcg6c7thjK7\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAWwxwfFXCjVdtBm5TNznPCtz76HiMQEEbqYl1lFKER\r\nlthbJhsEXSVLnZ7NUb/RxZLkvyCHZOMM39ZovHaN8RPRRoxGoM4WWXaX+jUmjVSE\r\nEVSnNAsXllGjTLixNe5zl9jrkwgG/FeyQFDneNDKJSfFB7OSRVCuHruHY2cFyvrp\r\nD2hGrw2dN/AJCGFkMfdgJQk92TYVP8RkogUMTo+z4s/bXeNtIocHU0XoNHzrStEL\r\nV6NotIWaNzdNszRn4IHofJ+Go+jo2CbBlbnlsNPwFu1Z2K9/T5u3DJtlGD3BYtHT\r\njD/zf4VbGoTxD9RKTb05lxarZ+COfQ3jITWUsl3GEnQM\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1215'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 21 Dec 2020
        11:32:40 GMT","thumbprint":"D0EF7AD1E0BE97BABE7D0517DEB11747EEA06C56","isVerified":false,"created":"Fri,
        18 Dec 2020 11:36:00 GMT","updated":"Fri, 18 Dec 2020 11:36:00 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAABo2nJUE="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:35:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2020-03-01
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Mon,
        21 Dec 2020 11:32:40 GMT","thumbprint":"D0EF7AD1E0BE97BABE7D0517DEB11747EEA06C56","isVerified":false,"created":"Fri,
        18 Dec 2020 11:36:00 GMT","updated":"Fri, 18 Dec 2020 11:36:00 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAABo2nJUE="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '709'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:36:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 21 Dec 2020
        11:32:40 GMT","thumbprint":"D0EF7AD1E0BE97BABE7D0517DEB11747EEA06C56","isVerified":false,"created":"Fri,
        18 Dec 2020 11:36:00 GMT","updated":"Fri, 18 Dec 2020 11:36:00 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAABo2nJUE="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:36:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAABo2nJUE=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"verificationCode":"D672E8435A79A509E945CBB761EC9E974F44777487789EDE","subject":"TESTCERT000001","expiry":"Mon,
        21 Dec 2020 11:32:40 GMT","thumbprint":"D0EF7AD1E0BE97BABE7D0517DEB11747EEA06C56","isVerified":false,"created":"Fri,
        18 Dec 2020 11:36:00 GMT","updated":"Fri, 18 Dec 2020 11:36:02 GMT","certificate":"MIIDHTCCAgWgAwIBAgIIOOgswhH2QkYwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UEAwwYVEVTVENFUlRlbnRqZDVkd3VvZXU0c3RoMB4XDTIwMTIxNzExMzI0MFoXDTIwMTIyMTExMzI0MFowIzEhMB8GA1UEAwwYVEVTVENFUlRlbnRqZDVkd3VvZXU0c3RoMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQAspGbpv6EthmYqBaZPH62Rfbsuu+oF70OVb6LHEhZ27g2xI93SzsUViId9YVmdqUPoIaRfcjGLsyB9Ht67FElP1U2+cqyK8P9z6+KlwW4ZlDBpdt6R/ybl1TWQiEuD2daBPKF8hQAsXki7U039HYvCAePRuj9vprv28s2Hm+ltJaSpDX20bY45IQQP4X0CPiASPXYHkuhMNkHOBjyfmRJf/McwAjUpBYUQXsG2a/aqb8fgNAC0v8pdmjgvISUOpIhUOnP8RY60W20IcfargsjKDItXipneWcLEc306guiEHd9nag3185iojZSQLoiJT++52NPw9wg6iXcg6c7thjK7AgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sNMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAWwxwfFXCjVdtBm5TNznPCtz76HiMQEEbqYl1lFKERlthbJhsEXSVLnZ7NUb/RxZLkvyCHZOMM39ZovHaN8RPRRoxGoM4WWXaX+jUmjVSEEVSnNAsXllGjTLixNe5zl9jrkwgG/FeyQFDneNDKJSfFB7OSRVCuHruHY2cFyvrpD2hGrw2dN/AJCGFkMfdgJQk92TYVP8RkogUMTo+z4s/bXeNtIocHU0XoNHzrStELV6NotIWaNzdNszRn4IHofJ+Go+jo2CbBlbnlsNPwFu1Z2K9/T5u3DJtlGD3BYtHTjD/zf4VbGoTxD9RKTb05lxarZ+COfQ3jITWUsl3GEnQM"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAABo2nJWg="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1833'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:36:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIIXUnPtmU143gwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRlbnRqZDVkd3VvZXU0c3RoMB4XDTIwMTIxNzExMzYwMVoXDTIw\r\nMTIyMTExMzYwMVowOzE5MDcGA1UEAwwwRDY3MkU4NDM1QTc5QTUwOUU5NDVDQkI3\r\nNjFFQzlFOTc0RjQ0Nzc3NDg3Nzg5RURFMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQAqaBt39Eh2DSzC9rU0hl2mYlkDKIEOfDVyqCTMbfXifMssjasEYMb2\r\nnTkiukQNah3IoWxV4c37mSVbAlCMazDwfi5WEkj7MnHuXGBQxFJXut24CdtMb1lP\r\nPLQWb1M70wa1h57aH1lZaWYWWyrCFrqCSNx6HVpHVH1lTP7bZYARDOon/RZXFHlN\r\nqyRzjsZLzqryVSTUW0BtYv3n1jTFe5azgeZkssLughnSmRfBqz9Zp3Yy/CiXQV5T\r\nLS+owRQJoV+AKgrJABh25KuMYWSjRAq5YXYLaM6VqsjFt7FVRrfH4GZUnQGI30Pg\r\nNxVntlenwz6bliMVMP/W+jhPuzrQdRULAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQABEFg0jwTlA5yb\r\nL3pKE4IymwlouHV0apy39nVaRZ/KyydmZqsIItfwP/seLI9qPhIj5ptmT/ZGtpC1\r\nX2eaGiozGe1wfZb2fYIGGxouJrgh0aOAZLfBQjDtiYy0KBWXcUMJlEWuu/hHq4gB\r\nqhb/NvByrgvyqw7EarujAokty+1+v29K5+0ZVSp8oPOUqIdhzvf3dP/DcCx7iB/C\r\nWKBut5HREeyKk6PWTPen7KmYGtqFtcErCaNMq7g4jSGoC1pD1+vby41XGqsM7mJd\r\nmUOTRrL8kUJ+csoC6+wQ9qomOSzeSlAwN8jn7Smq38CEymtYf9oOZx2ckbEMNuSZ\r\nKGzUR65x\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1179'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAABo2nJWg=
      ParameterSetName:
      - --hub-name -g -n -p --etag
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 21 Dec 2020
        11:32:40 GMT","thumbprint":"D0EF7AD1E0BE97BABE7D0517DEB11747EEA06C56","isVerified":true,"created":"Fri,
        18 Dec 2020 11:36:00 GMT","updated":"Fri, 18 Dec 2020 11:36:03 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAABo2nJX8="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '696'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 18 Dec 2020 11:36:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAABo2nJX8=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.8.6 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-iothub/0.12.0 Azure-SDK-For-Python AZURECLI/2.16.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2020-03-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 18 Dec 2020 11:36:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
