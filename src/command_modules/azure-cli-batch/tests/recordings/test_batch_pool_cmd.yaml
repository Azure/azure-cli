interactions:
- request:
    body: '{"location": "westus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 resourcemanagementclient/1.1.0rc1 Azure-SDK-For-Python
          AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 16 May 2017 19:27:13 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"location": "japanwest"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Length: ['25']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchmanagementclient/4.0.0 Azure-SDK-For-Python AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 16 May 2017 19:27:15 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/5b89516d-579a-497f-855c-9e889816d752?api-version=2017-05-01']
      pragma: [no-cache]
      request-id: [5b89516d-579a-497f-855c-9e889816d752]
      retry-after: ['15']
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchmanagementclient/4.0.0 Azure-SDK-For-Python AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/5b89516d-579a-497f-855c-9e889816d752?api-version=2017-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":50,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"poolAllocationMode":"batchservice"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['565']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 16 May 2017 19:27:31 GMT']
      etag: ['"0x8D49C919A696726"']
      expires: ['-1']
      last-modified: ['Tue, 16 May 2017 19:27:34 GMT']
      pragma: [no-cache]
      request-id: [e6326011-578d-4898-bff0-dc299b1775db]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account keys list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchmanagementclient/4.0.0 Azure-SDK-For-Python AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/listKeys?api-version=2017-05-01
  response:
    body: {string: '{"accountName":"clibatch000002","primary":"eD6NkdtSzcnSuGsqgkf0vagR3MIUb8s4xhCHky9iejrLlcU50HoKQkQEVE9okIMfn5OIxOd0glBmoSjI89pZAg==","secondary":"BkaTefdllwyZjk17cfBEMmdAH8hLEZL2rGq+H2jnUNUJr86aiyMipb6m7uOTTFHpLkRXAu7nXhfUY/wQSDAkQw=="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['246']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 16 May 2017 19:27:33 GMT']
      expires: ['-1']
      pragma: [no-cache]
      request-id: [283cdbb3-0fbd-4f48-a7d9-39237b53a15c]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [batch account show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchmanagementclient/4.0.0 Azure-SDK-For-Python AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2017-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"japanwest","properties":{"accountEndpoint":"clibatch000002.japanwest.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":20,"lowPriorityCoreQuota":50,"poolQuota":20,"activeJobAndJobScheduleQuota":20,"poolAllocationMode":"batchservice"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['565']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 16 May 2017 19:27:34 GMT']
      etag: ['"0x8D49C9190284EE3"']
      expires: ['-1']
      last-modified: ['Tue, 16 May 2017 19:27:16 GMT']
      pragma: [no-cache]
      request-id: [38a4ad0a-37b9-4265-ab89-b1dabe51cace]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"waitForSuccess": true, "commandLine": "cmd /c echo test",
      "userIdentity": {"autoUser": {"elevationLevel": "admin", "scope": "task"}}},
      "id": "xplatCreatedPool", "cloudServiceConfiguration": {"targetOSVersion": "*",
      "osFamily": "4"}, "vmSize": "small"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['267']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:27:34 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools?timeout=30&api-version=2017-05-01.5.0
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchyozk6m7mytrzsacs.japanwest.batch.azure.com/pools/xplatCreatedPool']
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:27:36 GMT']
      etag: ['0x8D49C919BE317F1']
      last-modified: ['Tue, 16 May 2017 19:27:36 GMT']
      location: ['https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool']
      request-id: [775a15d7-282e-4447-af14-5b40308b1e0d]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:27:34 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?timeout=30&api-version=2017-05-01.5.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D49C919BE317F1\",\"lastModified\":\"2017-05-16T19:27:36.5624817Z\"\
        ,\"creationTime\":\"2017-05-16T19:27:36.5624817Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-05-16T19:27:36.5624817Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-05-16T19:27:36.6795087Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n    \
        \  \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\":\"admin\"\
        \r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n \
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:27:37 GMT']
      etag: ['0x8D49C919BE317F1']
      last-modified: ['Tue, 16 May 2017 19:27:36 GMT']
      request-id: [f6282777-f469-4358-8ddb-569b631af273]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"targetDedicatedNodes": 5, "targetLowPriorityNodes": 3}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['56']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:27:35 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/resize?timeout=30&api-version=2017-05-01.5.0
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchyozk6m7mytrzsacs.japanwest.batch.azure.com/pools/xplatCreatedPool/resize']
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:27:37 GMT']
      etag: ['0x8D49C919C8A6F29']
      last-modified: ['Tue, 16 May 2017 19:27:37 GMT']
      request-id: [cdcdec29-bf6d-427d-9f11-154b31e4bd0b]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:27:36 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?timeout=30&api-version=2017-05-01.5.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D49C919C8A6F29\",\"lastModified\":\"2017-05-16T19:27:37.6591657Z\"\
        ,\"creationTime\":\"2017-05-16T19:27:36.5624817Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-05-16T19:27:36.5624817Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2017-05-16T19:27:37.6591657Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n    \
        \  \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\":\"admin\"\
        \r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\":true\r\n \
        \ },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:27:36 GMT']
      etag: ['0x8D49C919C8A6F29']
      last-modified: ['Tue, 16 May 2017 19:27:37 GMT']
      request-id: [514c5d9c-b333-42d9-9838-70a9f72d7ba3]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:27:36 GMT']
      return-client-request-id: ['false']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize?timeout=30&api-version=2017-05-01.5.0
  response:
    body: {string: ''}
    headers:
      dataserviceid: ['https://clibatchyozk6m7mytrzsacs.japanwest.batch.azure.com/pools/xplatCreatedPool/stopresize']
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:27:38 GMT']
      etag: ['0x8D49C919D4CDE7D']
      last-modified: ['Tue, 16 May 2017 19:27:38 GMT']
      request-id: [7ab8aa90-427a-44f4-b71e-5d81469e6fc6]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:29:37 GMT']
      return-client-request-id: ['false']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?timeout=30&api-version=2017-05-01.5.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D49C919D4CDE7D\",\"lastModified\":\"2017-05-16T19:27:38.9334141Z\"\
        ,\"creationTime\":\"2017-05-16T19:27:36.5624817Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-05-16T19:27:36.5624817Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-05-16T19:27:51.3689017Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"autoUser\":{\r\n        \"scope\":\"task\",\"elevationLevel\"\
        :\"admin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\"\
        :\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"osFamily\":\"\
        4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:29:37 GMT']
      etag: ['0x8D49C919D4CDE7D']
      last-modified: ['Tue, 16 May 2017 19:27:38 GMT']
      request-id: [d022ebf0-847c-4d23-a495-c6bc4d874594]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"waitForSuccess": true, "commandLine": "cmd /c echo updated"},
      "metadata": [], "certificateReferences": [], "applicationPackageReferences":
      []}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:29:37 GMT']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2017-05-01.5.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchyozk6m7mytrzsacs.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:29:40 GMT']
      etag: ['0x8D49C91E58B3411']
      last-modified: ['Tue, 16 May 2017 19:29:40 GMT']
      request-id: [c1ff2765-5791-4e31-a721-ef15d91e9d65]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:29:38 GMT']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2017-05-01.5.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D49C91E58B3411\",\"lastModified\":\"2017-05-16T19:29:40.1378833Z\"\
        ,\"creationTime\":\"2017-05-16T19:27:36.5624817Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-05-16T19:27:36.5624817Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-05-16T19:27:51.3689017Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo updated\",\"maxTaskRetryCount\"\
        :0,\"waitForSuccess\":true\r\n  },\"maxTasksPerNode\":1,\"taskSchedulingPolicy\"\
        :{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"cloudServiceConfiguration\"\
        :{\r\n    \"osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\"\
        :\"*\"\r\n  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:29:40 GMT']
      etag: ['0x8D49C91E58B3411']
      last-modified: ['Tue, 16 May 2017 19:29:40 GMT']
      request-id: [a97614e8-76bf-4d3d-b12c-dceb71af7551]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"startTask": {"commandLine": "hostname"}, "metadata": [{"name": "a", "value":
      "b"}, {"name": "c", "value": "d"}], "certificateReferences": [], "applicationPackageReferences":
      []}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['179']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:29:38 GMT']
    method: POST
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties?api-version=2017-05-01.5.0
  response:
    body: {string: ''}
    headers:
      content-length: ['0']
      dataserviceid: ['https://clibatchyozk6m7mytrzsacs.japanwest.batch.azure.com/pools/xplatCreatedPool/updateproperties']
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:29:39 GMT']
      etag: ['0x8D49C91E62E2C50']
      last-modified: ['Tue, 16 May 2017 19:29:41 GMT']
      request-id: [7f0fad43-3d70-4043-9620-3b9184987bf6]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:29:39 GMT']
    method: GET
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?api-version=2017-05-01.5.0
  response:
    body: {string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.japanwest.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"xplatCreatedPool\",\"url\":\"https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool\"\
        ,\"eTag\":\"0x8D49C91E62E2C50\",\"lastModified\":\"2017-05-16T19:29:41.2059216Z\"\
        ,\"creationTime\":\"2017-05-16T19:27:36.5624817Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2017-05-16T19:27:36.5624817Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2017-05-16T19:27:51.3689017Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":5,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :3,\"resizeErrors\":[\r\n    {\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of dedicated nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    },{\r\n      \"code\":\"ResizeStopped\",\"message\"\
        :\"Desired number of low priority nodes could not be allocated due to a stop\
        \ resize operation\"\r\n    }\r\n  ],\"enableAutoScale\":false,\"enableInterNodeCommunication\"\
        :false,\"startTask\":{\r\n    \"commandLine\":\"hostname\",\"maxTaskRetryCount\"\
        :0,\"waitForSuccess\":false\r\n  },\"metadata\":[\r\n    {\r\n      \"name\"\
        :\"a\",\"value\":\"b\"\r\n    },{\r\n      \"name\":\"c\",\"value\":\"d\"\r\
        \n    }\r\n  ],\"maxTasksPerNode\":1,\"taskSchedulingPolicy\":{\r\n    \"\
        nodeFillType\":\"Spread\"\r\n  },\"cloudServiceConfiguration\":{\r\n    \"\
        osFamily\":\"4\",\"targetOSVersion\":\"*\",\"currentOSVersion\":\"*\"\r\n\
        \  }\r\n}"}
    headers:
      content-type: [application/json;odata=minimalmetadata]
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:29:41 GMT']
      etag: ['0x8D49C91E62E2C50']
      last-modified: ['Tue, 16 May 2017 19:29:41 GMT']
      request-id: [af8cf797-3a7c-48fe-b6d1-30774f087b02]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; odata=minimalmetadata; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 batchserviceclient/3.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
      ocp-date: ['Tue, 16 May 2017 19:29:40 GMT']
      return-client-request-id: ['false']
    method: DELETE
    uri: https://clibatch000002.japanwest.batch.azure.com/pools/xplatCreatedPool?timeout=30&api-version=2017-05-01.5.0
  response:
    body: {string: ''}
    headers:
      dataserviceversion: ['3.0']
      date: ['Tue, 16 May 2017 19:29:41 GMT']
      request-id: [61fddfc0-a866-4625-8667-f4a57f181ac4]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.7
          msrest_azure/0.4.7 resourcemanagementclient/1.1.0rc1 Azure-SDK-For-Python
          AZURECLI/2.0.6+dev]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 16 May 2017 19:29:39 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdGUFQ1WllHSVZZQlZGWklOUFVYWU1BQlpDWTZWNFFTSDREU3w1NzE1ODM3MTcxMDFCRjYyLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      retry-after: ['15']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 202, message: Accepted}
version: 1
