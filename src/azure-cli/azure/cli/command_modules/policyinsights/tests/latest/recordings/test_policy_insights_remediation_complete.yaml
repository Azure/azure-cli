interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.Authorization/policyAssignments/4923264e54b94072a3e73198?api-version=2021-06-01
  response:
    body:
      string: '{"identity":{"principalId":"38fe4895-e193-4da2-bd8f-d8b44f122df3","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Deploy
        Advanced Threat Protection on storage accounts","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/361c2074-3595-4e5d-8cab-4f21dffc835c","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Samarth
        Lakhotia","parameterScopes":{},"createdBy":"0bf72a08-6af1-47e9-bdfe-e8c34eeb8c44","createdOn":"2023-02-24T00:57:46.605272Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.Authorization/policyAssignments/4923264e54b94072a3e73198","type":"Microsoft.Authorization/policyAssignments","name":"4923264e54b94072a3e73198","location":"eastus","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-24T00:57:45.8656042Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-24T00:57:45.8656042Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1245'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -a
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments?api-version=2021-06-01
  response:
    body:
      string: '{"value":[{"identity":{"principalId":"38fe4895-e193-4da2-bd8f-d8b44f122df3","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Deploy
        Advanced Threat Protection on storage accounts","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/361c2074-3595-4e5d-8cab-4f21dffc835c","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Samarth
        Lakhotia","parameterScopes":{},"createdBy":"0bf72a08-6af1-47e9-bdfe-e8c34eeb8c44","createdOn":"2023-02-24T00:57:46.605272Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.Authorization/policyAssignments/4923264e54b94072a3e73198","type":"Microsoft.Authorization/policyAssignments","name":"4923264e54b94072a3e73198","location":"eastus","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-24T00:57:45.8656042Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-24T00:57:45.8656042Z"}},{"identity":{"principalId":"339d67ce-f735-4a7d-b4c1-2590736cedce","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Deploy
        Advanced Threat Protection on storage accounts","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/361c2074-3595-4e5d-8cab-4f21dffc835c","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Samarth
        Lakhotia","parameterScopes":{},"createdBy":"0bf72a08-6af1-47e9-bdfe-e8c34eeb8c44","createdOn":"2023-02-24T17:41:21.4115827Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/2c9ea0b32ba5436ba81db8cf","type":"Microsoft.Authorization/policyAssignments","name":"2c9ea0b32ba5436ba81db8cf","location":"eastus","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-24T17:41:20.5244188Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-24T17:41:20.5244188Z"}},{"identity":{"principalId":"d989f3b1-fa35-4844-a82f-ae3a093791c4","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"[Preview]:
        Schedule recurring updates using Update Management Center","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/ba0df93e-e4ac-479a-aac2-134bbae39a1a","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{"maintenanceConfigurationResourceId":{"value":"justtesting"},"tagValues":{"value":[{"key":"its","value":"supposed"},{"key":"to","value":"be"},{"key":"an","value":"object"}]}},"description":"","metadata":{"assignedBy":"Camille
        Marvin","parameterScopes":{"locations":"/subscriptions/00000000-0000-0000-0000-000000000000"},"createdBy":"3504496b-cbaa-4a69-97d8-97b9b3c6912e","createdOn":"2023-01-17T06:46:19.5985914Z","updatedBy":"3504496b-cbaa-4a69-97d8-97b9b3c6912e","updatedOn":"2023-01-17T06:55:16.3998245Z"},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/37da9be3bc934f498a0c6ab6","type":"Microsoft.Authorization/policyAssignments","name":"37da9be3bc934f498a0c6ab6","location":"eastus","systemData":{"createdBy":"camarvin@microsoft.com","createdByType":"User","createdAt":"2023-01-17T06:46:17.9760692Z","lastModifiedBy":"camarvin@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-17T06:55:15.6280043Z"}},{"properties":{"displayName":"CSEO
        Block WVD resource creation","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/72f988bf-86f1-41af-91ab-2d7cd011db47/providers/Microsoft.Authorization/policyDefinitions/Deny
        WVD creation","scope":"/providers/Microsoft.Management/managementGroups/72f988bf-86f1-41af-91ab-2d7cd011db47","notScopes":["/providers/Microsoft.Management/managementGroups/CloudPCMSFTSubscriptions","/providers/Microsoft.Management/managementGroups/MSFT-DSRE-ISO-IAM","/providers/Microsoft.Management/managementGroups/595d008b-0e4c-41f8-af09-254420fd7571","/providers/Microsoft.Management/managementGroups/64cd7b97-58e0-44d3-832b-55657739bde3","/providers/Microsoft.Management/managementGroups/9ce3369a-545b-cfba-c329-3631400b552f","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000","/subscriptions/00000000-0000-0000-0000-000000000000"],"description":"https://aka.ms/AVDblock","metadata":{"createdBy":"7f1579a6-c648-43a1-ac1e-0c3020dd9b8e","createdOn":"2020-11-17T19:41:36.3082667Z","updatedBy":"7f1579a6-c648-43a1-ac1e-0c3020dd9b8e","updatedOn":"2023-02-21T23:30:13.3976458Z"},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/72f988bf-86f1-41af-91ab-2d7cd011db47/providers/Microsoft.Authorization/policyAssignments/Block
        WVD creation","type":"Microsoft.Authorization/policyAssignments","name":"Block
        WVD creation","systemData":{"lastModifiedBy":"sc-ze057@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-21T23:30:13.3651566Z"}},{"identity":{"principalId":"fcdd9771-210c-4278-91e4-d7f56122d933","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Sample
        DINE policy to deploy VMSS custom extension","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/Deploy_VMSS_CSE","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","parameters":{"myServicePackage":{"value":"https://samplesacsetest.blob.core.windows.net/cse-2-2022-1029-1/scripts/GenevaActionsExtension_Test.Package"},"myDeploymentScript":{"value":"https://samplesacsetest.blob.core.windows.net/cse-2-2022-1029-1/scripts/myCustomScriptDeployService.ps1"},"commandToExecute":{"value":"powershell.exe
        -File .\\scripts\\myCustomScriptDeployService.ps1 -Param1 ''argument1'' -Param2
        ''argument2''"},"cseVersion":{"value":"2.2022.1029.1"}},"metadata":{"createdBy":"cd5483bb-cb89-45e2-9a8f-86f6d33e3947","createdOn":"2022-10-29T07:55:22.1098252Z","updatedBy":"cd5483bb-cb89-45e2-9a8f-86f6d33e3947","updatedOn":"2022-10-30T14:22:43.4399756Z"},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/Deploy_VMSS_CSE","type":"Microsoft.Authorization/policyAssignments","name":"Deploy_VMSS_CSE","location":"westus","systemData":{"createdBy":"5744bc69-8a73-45f7-958d-4640d865f04d","createdByType":"Application","createdAt":"2022-10-29T07:55:20.9669117Z","lastModifiedBy":"5744bc69-8a73-45f7-958d-4640d865f04d","lastModifiedByType":"Application","lastModifiedAt":"2022-10-30T14:22:43.015905Z"}},{"identity":{"principalId":"fae7f2e9-1446-44a1-8810-de6e7a147ed1","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"temp
        VMSS","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/VMSS_CSE_DINE","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{"effect":{"value":"Disabled"},"myServicePackage":{"value":"https://mystorageaccountev2test1.blob.core.windows.net/10212022/bin/myService.zip"},"myDeploymentScript":{"value":"https://mystorageaccountev2test1.blob.core.windows.net/10212022/bin/myCustomScriptDeployService.ps1"},"commandToExecute":{"value":"powershell.exe
        -File .\\bin\\myCustomScriptDeployService.ps1 -Password ''testPass'' -ConnString
        ''ConnectionString''"},"storageAccountResourceId":{"value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/EV2test1VMSSExtension/providers/Microsoft.Storage/storageAccounts/mystorageaccountev2test1"}},"description":"","metadata":{"createdBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","createdOn":"2022-10-24T18:33:41.107056Z","updatedBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","updatedOn":"2022-10-28T19:27:45.7037966Z","parameterScopes":{}},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/VMSS_CSE_DINE_Stage1","type":"Microsoft.Authorization/policyAssignments","name":"VMSS_CSE_DINE_Stage1","location":"westus","systemData":{"createdBy":"sandipsh@microsoft.com","createdByType":"User","createdAt":"2022-10-24T18:33:40.6564094Z","lastModifiedBy":"sandipsh@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-10-28T19:27:45.5549858Z"}},{"identity":{"principalId":"3c04026e-c0cd-44d6-83b1-2f3b3089fc7a","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Test
        Assignment for tags","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/testtags1","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{"effect":{"value":"Disabled"},"myServicePackage":{"value":"https://samplecsesa1.blob.core.windows.net/cse/bin/myService.zip"},"myDeploymentScript":{"value":"https://samplecsesa1.blob.core.windows.net/cse/bin/myCustomScriptDeployService.ps1"},"commandToExecute":{"value":"powershell.exe
        -File .\\bin\\myCustomScriptDeployService.ps1 -Password ''testPass'' -ConnString
        ''ConnectionString''"},"storageAccountResourceId":{"value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/EV2test1VMSSExtension/providers/Microsoft.Storage/storageAccounts/dummysa1"}},"description":"","metadata":{"createdBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","createdOn":"2022-10-25T22:47:56.8882624Z","updatedBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","updatedOn":"2022-10-27T01:11:41.4883449Z","parameterScopes":{}},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/testtags1","type":"Microsoft.Authorization/policyAssignments","name":"testtags1","location":"westus","systemData":{"createdBy":"sandipsh@microsoft.com","createdByType":"User","createdAt":"2022-10-25T22:47:56.2897944Z","lastModifiedBy":"sandipsh@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-10-27T01:11:41.2252668Z"}},{"identity":{"principalId":"c0e24de9-7c51-4421-a271-9a7b29c1b64f","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"tags
        test1","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/testtags2","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{"effect":{"value":"Disabled"},"myServicePackage":{"value":"https://samplecsesa1.blob.core.windows.net/cse-1/bin/myService.zip"},"myDeploymentScript":{"value":"https://samplecsesa1.blob.core.windows.net/cse-1/bin/myCustomScriptDeployService.ps1"},"commandToExecute":{"value":"powershell.exe
        -File .\\bin\\myCustomScriptDeployService.ps1 -Password ''testPass'' -ConnString
        ''ConnectionString''"},"storageAccountResourceId":{"value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/EV2test1VMSSExtension/providers/Microsoft.Storage/storageAccounts/dummysa1"},"cseVersion":{"value":"1.0.0.0"}},"description":"","metadata":{"createdBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","createdOn":"2022-10-26T23:03:29.132782Z","updatedBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","updatedOn":"2022-10-28T19:18:36.9425268Z","parameterScopes":{}},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/testtags2","type":"Microsoft.Authorization/policyAssignments","name":"testtags2","location":"westus","systemData":{"createdBy":"sandipsh@microsoft.com","createdByType":"User","createdAt":"2022-10-26T23:03:28.4656176Z","lastModifiedBy":"sandipsh@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-10-28T19:18:36.679342Z"}},{"identity":{"principalId":"947303be-421c-4589-8520-40d8676d52a5","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"test
        tags 2.0","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/testtags2","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{"effect":{"value":"Disabled"},"myServicePackage":{"value":"https://samplecsesa1.blob.core.windows.net/cse-1-3-0-0/bin/myService.zip"},"myDeploymentScript":{"value":"https://samplecsesa1.blob.core.windows.net/cse-1-3-0-0/bin/myCustomScriptDeployService.ps1"},"commandToExecute":{"value":"powershell.exe
        -File .\\bin\\myCustomScriptDeployService.ps1 -Password ''testPass'' -ConnString
        ''ConnectionString''"},"storageAccountResourceId":{"value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/EV2test1VMSSExtension/providers/Microsoft.Storage/storageAccounts/dummysa1"},"cseVersion":{"value":"1.3.0.0"}},"description":"","metadata":{"createdBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","createdOn":"2022-10-27T00:40:41.1696518Z","updatedBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","updatedOn":"2022-10-28T19:18:50.912489Z","parameterScopes":{}},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/testtags2.0","type":"Microsoft.Authorization/policyAssignments","name":"testtags2.0","location":"westus","systemData":{"createdBy":"sandipsh@microsoft.com","createdByType":"User","createdAt":"2022-10-27T00:40:40.5019949Z","lastModifiedBy":"sandipsh@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-10-28T19:18:50.7886966Z"}},{"identity":{"principalId":"99d0ca2a-61fc-4000-9807-4c7975368099","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"testtags3","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/testtags3","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{"effect":{"value":"Disabled"},"myServicePackage":{"value":"https://samplecsesa2.blob.core.windows.net/cse-2-2022-1028-1/scripts/GenevaActionsExtension_Test.Package"},"myDeploymentScript":{"value":"https://samplecsesa2.blob.core.windows.net/cse-2-2022-1028-1/scripts/myCustomScriptDeployService.ps1"},"commandToExecute":{"value":"powershell.exe
        -File .\\scripts\\myCustomScriptDeployService.ps1 -Param1 ''argument1'' -Param2
        ''argument2''"},"storageAccountResourceId":{"value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/EV2test1VMSSExtension/providers/Microsoft.Storage/storageAccounts/dummysa1"},"cseVersion":{"value":"2.2022.1028.1"}},"description":"","metadata":{"createdBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","createdOn":"2022-10-28T00:40:01.1194261Z","updatedBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","updatedOn":"2022-10-28T18:21:34.7709418Z","parameterScopes":{}},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/testtags3","type":"Microsoft.Authorization/policyAssignments","name":"testtags3","location":"westus","systemData":{"createdBy":"sandipsh@microsoft.com","createdByType":"User","createdAt":"2022-10-28T00:40:00.5075392Z","lastModifiedBy":"sandipsh@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-10-28T18:21:34.6393902Z"}},{"identity":{"principalId":"4de05993-1465-46c3-8d58-58e8b10c4021","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"temp1_testtags3","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/temp1_testtags","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{"effect":{"value":"Disabled"},"myServicePackage":{"value":"https://samplecsesa2.blob.core.windows.net/cse-1-0-0-0/scripts/GenevaActionsExtension_Test.Package"},"myDeploymentScript":{"value":"https://samplecsesa2.blob.core.windows.net/cse-1-0-0-0/scripts/myCustomScriptDeployService.ps1"},"commandToExecute":{"value":"powershell.exe
        -File .\\scripts\\myCustomScriptDeployService.ps1 -Param1 ''argument1'' -Param2
        ''argument2''"},"cseVersion":{"value":"1.0.0.0"}},"description":"","metadata":{"createdBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","createdOn":"2022-10-28T19:11:52.6119365Z","updatedBy":"327c26bf-bf3e-4128-9b75-fbbd99e98739","updatedOn":"2022-10-28T22:16:46.1950994Z","parameterScopes":{}},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/temp1_testtags3","type":"Microsoft.Authorization/policyAssignments","name":"temp1_testtags3","location":"westus","systemData":{"createdBy":"sandipsh@microsoft.com","createdByType":"User","createdAt":"2022-10-28T19:11:51.8797103Z","lastModifiedBy":"sandipsh@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-10-28T22:16:45.9358575Z"}},{"properties":{"displayName":"testIcM2","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/testicm1","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2022-11-17T01:27:44.4907212Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/testicm2","type":"Microsoft.Authorization/policyAssignments","name":"testicm2","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2022-11-17T01:27:44.4553455Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-11-17T01:27:44.4553455Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/test-12-17-2022","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2022-12-17T17:48:02.5890036Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/test-12-17-2022
        ","type":"Microsoft.Authorization/policyAssignments","name":"test-12-17-2022
        ","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2022-12-17T17:48:02.563863Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-12-17T17:48:02.563863Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/test-12-17-2022","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2023-01-04T20:02:52.4413105Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/test-01-04-2023","type":"Microsoft.Authorization/policyAssignments","name":"test-01-04-2023","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2023-01-04T20:02:52.3981746Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-04T20:02:52.3981746Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/test-12-17-2022","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2023-01-04T20:32:34.1171341Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/test-3-01-04-2023","type":"Microsoft.Authorization/policyAssignments","name":"test-3-01-04-2023","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2023-01-04T20:32:34.1223601Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-04T20:32:34.1223601Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/test-12-17-2022","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2023-01-04T19:10:13.2857973Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/test-01-04-2022","type":"Microsoft.Authorization/policyAssignments","name":"test-01-04-2022","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2023-01-04T19:10:13.1747591Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-04T19:10:13.1747591Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/test-12-17-2022","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2023-01-04T20:18:29.5843426Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/test-2-01-04-2023","type":"Microsoft.Authorization/policyAssignments","name":"test-2-01-04-2023","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2023-01-04T20:18:29.4639983Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-04T20:18:29.4639983Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/testicm1","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2022-11-17T07:39:27.6362527Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/testicm1116-4","type":"Microsoft.Authorization/policyAssignments","name":"testicm1116-4","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2022-11-17T07:39:27.6831342Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-11-17T07:39:27.6831342Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/testicm1","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","metadata":{"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2022-11-17T07:39:44.5358367Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/testicm1116-5","type":"Microsoft.Authorization/policyAssignments","name":"testicm1116-5","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2022-11-17T07:39:44.5025424Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-11-17T07:39:44.5025424Z"}},{"identity":{"principalId":"2e533427-8021-49b0-94fa-027ba239fe42","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"qingye-test-createRemediationRest","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policySetDefinitions/9717d7eef8914856b88acc80","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Tony
        Chen","parameterScopes":{},"createdBy":"2e246f32-0d94-48a6-a899-e01cbe4c82a0","createdOn":"2022-12-30T01:10:37.6082047Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/3c76af9e6e884b7494796daa","type":"Microsoft.Authorization/policyAssignments","name":"3c76af9e6e884b7494796daa","location":"eastus","systemData":{"createdBy":"qingyechen@microsoft.com","createdByType":"User","createdAt":"2022-12-30T01:10:36.2703564Z","lastModifiedBy":"qingyechen@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-12-30T01:10:36.2703564Z"}},{"identity":{"principalId":"361d65ed-db8d-4b14-9320-2b3937cb42e8","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"qingye-test-createRemePs","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policySetDefinitions/6aa68170d02241468ae271f6","scope":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Tony
        Chen","parameterScopes":{},"createdBy":"2e246f32-0d94-48a6-a899-e01cbe4c82a0","createdOn":"2023-01-10T20:40:58.6895778Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/7b07418ea1c04fdb838befb0","type":"Microsoft.Authorization/policyAssignments","name":"7b07418ea1c04fdb838befb0","location":"eastus","systemData":{"createdBy":"qingyechen@microsoft.com","createdByType":"User","createdAt":"2023-01-10T20:40:57.8245039Z","lastModifiedBy":"qingyechen@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-01-10T20:40:57.8245039Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '27466'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"policyAssignmentId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.Authorization/policyAssignments/4923264e54b94072a3e73198"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation create
      Connection:
      - keep-alive
      Content-Length:
      - '213'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g -a
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000001?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.authorization/policyassignments/4923264e54b94072a3e73198","provisioningState":"Accepted","createdOn":"2023-02-25T00:27:40.7763887Z","lastUpdatedOn":"2023-02-25T00:27:40.7764513Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"d871e833-37e3-4f8a-9974-1665e4e2d46f"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000001","name":"azurecli-test-remediation000001","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:27:40.431367Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:27:40.431367Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1030'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '149'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000001?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.authorization/policyassignments/4923264e54b94072a3e73198","provisioningState":"Accepted","createdOn":"2023-02-25T00:27:40.7763887Z","lastUpdatedOn":"2023-02-25T00:27:40.7764513Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"d871e833-37e3-4f8a-9974-1665e4e2d46f"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000001","name":"azurecli-test-remediation000001","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:27:40.431367Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:27:40.431367Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1030'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '149'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000001?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.authorization/policyassignments/4923264e54b94072a3e73198","provisioningState":"Accepted","createdOn":"2023-02-25T00:27:40.7763887Z","lastUpdatedOn":"2023-02-25T00:27:40.7764513Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"d871e833-37e3-4f8a-9974-1665e4e2d46f"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000001","name":"azurecli-test-remediation000001","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:27:40.431367Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:27:40.431367Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1030'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '149'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000001?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.authorization/policyassignments/4923264e54b94072a3e73198","provisioningState":"Accepted","createdOn":"2023-02-25T00:27:40.7763887Z","lastUpdatedOn":"2023-02-25T00:27:40.7764513Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"d871e833-37e3-4f8a-9974-1665e4e2d46f"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000001","name":"azurecli-test-remediation000001","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:27:40.431367Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:27:40.431367Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1030'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '149'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000001?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.authorization/policyassignments/4923264e54b94072a3e73198","provisioningState":"Running","createdOn":"2023-02-25T00:27:40.7763887Z","lastUpdatedOn":"2023-02-25T00:27:56.546639Z","deploymentStatus":{"totalDeployments":2,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"d871e833-37e3-4f8a-9974-1665e4e2d46f"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000001","name":"azurecli-test-remediation000001","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:27:40.431367Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:27:40.431367Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1028'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '149'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations?api-version=2021-10-01
  response:
    body:
      string: '{"value":[{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.authorization/policyassignments/4923264e54b94072a3e73198","provisioningState":"Running","createdOn":"2023-02-25T00:27:40.7763887Z","lastUpdatedOn":"2023-02-25T00:27:56.546639Z","deploymentStatus":{"totalDeployments":2,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"d871e833-37e3-4f8a-9974-1665e4e2d46f"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000001","name":"azurecli-test-remediation000001","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:27:40.431367Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:27:40.431367Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1040'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '149'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation deployment list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000001/listDeployments?api-version=2021-10-01
  response:
    body:
      string: '{"value":[{"remediatedResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.storage/storageaccounts/azclitestremediations","status":"Evaluating","resourceLocation":"eastus","createdOn":"2023-02-25T00:27:56.6241398Z","lastUpdatedOn":"2023-02-25T00:27:57.4565918Z"},{"remediatedResourceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.storage/storageaccounts/azclitestremediations2","status":"Evaluating","resourceLocation":"eastus","createdOn":"2023-02-25T00:27:56.6241221Z","lastUpdatedOn":"2023-02-25T00:27:57.1303461Z"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '668'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '149'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation cancel
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000001/cancel?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.authorization/policyassignments/4923264e54b94072a3e73198","provisioningState":"Cancelling","createdOn":"2023-02-25T00:27:40.7763887Z","lastUpdatedOn":"2023-02-25T00:28:00.4363935Z","deploymentStatus":{"totalDeployments":2,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"d871e833-37e3-4f8a-9974-1665e4e2d46f"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/az-cli-policy-insights-test/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000001","name":"azurecli-test-remediation000001","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:27:40.431367Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:28:00.2686327Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1033'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:27:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '148'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/2c9ea0b32ba5436ba81db8cf?api-version=2021-06-01
  response:
    body:
      string: '{"identity":{"principalId":"339d67ce-f735-4a7d-b4c1-2590736cedce","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Deploy
        Advanced Threat Protection on storage accounts","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/361c2074-3595-4e5d-8cab-4f21dffc835c","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Samarth
        Lakhotia","parameterScopes":{},"createdBy":"0bf72a08-6af1-47e9-bdfe-e8c34eeb8c44","createdOn":"2023-02-24T17:41:21.4115827Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/2c9ea0b32ba5436ba81db8cf","type":"Microsoft.Authorization/policyAssignments","name":"2c9ea0b32ba5436ba81db8cf","location":"eastus","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-24T17:41:20.5244188Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-24T17:41:20.5244188Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1160'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:28:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"policyAssignmentId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/microsoft.authorization/policyassignments/2c9ea0b32ba5436ba81db8cf"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation create
      Connection:
      - keep-alive
      Content-Length:
      - '170'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -a
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000002?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/microsoft.authorization/policyassignments/2c9ea0b32ba5436ba81db8cf","provisioningState":"Accepted","createdOn":"2023-02-25T00:28:02.0901344Z","lastUpdatedOn":"2023-02-25T00:28:02.0902074Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"dcc40e88-7e8f-42ea-8ef9-755f69836bf3"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000002","name":"azurecli-test-remediation000002","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:28:01.7878212Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:28:01.7878212Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '946'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:28:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '148'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation cancel
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.45.0 azsdk-python-mgmt-policyinsights/1.1.0b2 Python/3.8.10 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000002/cancel?api-version=2021-10-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/microsoft.authorization/policyassignments/2c9ea0b32ba5436ba81db8cf","provisioningState":"Cancelling","createdOn":"2023-02-25T00:28:02.0901344Z","lastUpdatedOn":"2023-02-25T00:28:02.615262Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ExistingNonCompliant","correlationId":"dcc40e88-7e8f-42ea-8ef9-755f69836bf3"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000002","name":"azurecli-test-remediation000002","type":"Microsoft.PolicyInsights/remediations","systemData":{"createdBy":"slakhotia@microsoft.com","createdByType":"User","createdAt":"2023-02-25T00:28:01.7878212Z","lastModifiedBy":"slakhotia@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2023-02-25T00:28:02.4946924Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '947'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sat, 25 Feb 2023 00:28:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '147'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
version: 1
