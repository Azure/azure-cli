interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2018-11-13T18:06:38Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [--location --name --tag]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          resourcemanagementclient/2.0.0 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_metric_alert_v2000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001","name":"cli_test_metric_alert_v2000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-11-13T18:06:38Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:06:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 201, message: Created}
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "kind": "Storage", "location": "westus",
      "properties": {"supportsHttpsTrafficOnly": false}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [storage account create]
      Connection: [keep-alive]
      Content-Length: ['125']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g -l --sku]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-storage/2.0.0rc4 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2018-07-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      content-type: [text/plain; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:06:42 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/locations/westus/asyncoperations/f2d43fe4-0ffb-462a-b2f6-3551b50fbbcf?monitor=true&api-version=2018-03-01-preview']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [storage account create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g -l --sku]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-storage/2.0.0rc4 Azure-SDK-For-Python AZURECLI/2.0.51]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/locations/westus/asyncoperations/f2d43fe4-0ffb-462a-b2f6-3551b50fbbcf?monitor=true&api-version=2018-03-01-preview
  response:
    body: {string: '{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":false,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2018-11-13T18:06:42.8736107Z"},"blob":{"enabled":true,"lastEnabledTime":"2018-11-13T18:06:42.8736107Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2018-11-13T18:06:42.7642027Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1169']
      content-type: [application/json]
      date: ['Tue, 13 Nov 2018 18:06:59 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [storage account keys list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g --query -o]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-storage/2.0.0rc4 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2018-07-01
  response:
    body: {string: '{"keys": [{"keyName": "key1", "value": "veryFakedStorageAccountKey==",
        "permissions": "FULL"}, {"keyName": "key2", "value": "veryFakedStorageAccountKey==",
        "permissions": "FULL"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['288']
      content-type: [application/json]
      date: ['Tue, 13 Nov 2018 18:07:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"location": "global", "properties": {"groupShortName": "ag1", "enabled":
      true, "emailReceivers": [], "smsReceivers": [], "webhookReceivers": []}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor action-group create]
      Connection: [keep-alive]
      Content-Length: ['146']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g -n]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag1?api-version=2018-03-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag1","type":"Microsoft.Insights/ActionGroups","name":"ag1","location":"Global","kind":null,"tags":null,"properties":{"groupShortName":"ag1","enabled":true,"emailReceivers":[],"smsReceivers":[],"webhookReceivers":[],"itsmReceivers":[],"azureAppPushReceivers":[],"automationRunbookReceivers":[],"voiceReceivers":[],"logicAppReceivers":[],"azureFunctionReceivers":[],"armRoleReceivers":[]},"identity":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['595']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 201, message: Created}
- request:
    body: '{"location": "global", "properties": {"groupShortName": "ag2", "enabled":
      true, "emailReceivers": [], "smsReceivers": [], "webhookReceivers": []}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor action-group create]
      Connection: [keep-alive]
      Content-Length: ['146']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g -n]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag2?api-version=2018-03-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag2","type":"Microsoft.Insights/ActionGroups","name":"ag2","location":"Global","kind":null,"tags":null,"properties":{"groupShortName":"ag2","enabled":true,"emailReceivers":[],"smsReceivers":[],"webhookReceivers":[],"itsmReceivers":[],"azureAppPushReceivers":[],"automationRunbookReceivers":[],"voiceReceivers":[],"logicAppReceivers":[],"azureFunctionReceivers":[],"armRoleReceivers":[]},"identity":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['595']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"location": "global", "properties": {"description": "Test", "severity":
      2, "enabled": true, "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002"],
      "evaluationFrequency": "PT1M", "windowSize": "PT5M", "criteria": {"odata.type":
      "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria", "allOf": [{"name":
      "cond0", "metricName": "transactions", "operator": "GreaterThan", "timeAggregation":
      "Total", "threshold": 5.0, "dimensions": [{"name": "ResponseType", "operator":
      "Include", "values": ["Success"]}, {"name": "ApiName", "operator": "Include",
      "values": ["GetBlob"]}]}, {"name": "cond1", "metricName": "SuccessE2ELatency",
      "operator": "GreaterThan", "timeAggregation": "Average", "threshold": 250.0,
      "dimensions": [{"name": "ApiName", "operator": "Include", "values": ["GetBlob",
      "PutBlob"]}]}]}, "actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag1"}]}}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor metrics alert create]
      Connection: [keep-alive]
      Content-Length: ['1202']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g -n --scopes --action --description --condition --condition]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body: {string: "{\r\n  \"location\": \"global\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n
        \ \"name\": \"alert1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1\",\r\n
        \ \"properties\": {\r\n    \"description\": \"Test\",\r\n    \"severity\":
        2,\r\n    \"enabled\": true,\r\n    \"scopes\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002\"\r\n
        \   ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\": \"PT5M\",\r\n
        \   \"templateType\": 8,\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n
        \       {\r\n          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n
        \         \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"transactions\",\r\n          \"dimensions\": [\r\n
        \           {\r\n              \"name\": \"ResponseType\",\r\n              \"operator\":
        \"Include\",\r\n              \"values\": [\r\n                \"Success\"\r\n
        \             ]\r\n            },\r\n            {\r\n              \"name\":
        \"ApiName\",\r\n              \"operator\": \"Include\",\r\n              \"values\":
        [\r\n                \"GetBlob\"\r\n              ]\r\n            }\r\n          ],\r\n
        \         \"operator\": \"GreaterThan\",\r\n          \"timeAggregation\":
        \"Total\"\r\n        },\r\n        {\r\n          \"threshold\": 250.0,\r\n
        \         \"name\": \"cond1\",\r\n          \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"SuccessE2ELatency\",\r\n          \"dimensions\":
        [\r\n            {\r\n              \"name\": \"ApiName\",\r\n              \"operator\":
        \"Include\",\r\n              \"values\": [\r\n                \"GetBlob\",\r\n
        \               \"PutBlob\"\r\n              ]\r\n            }\r\n          ],\r\n
        \         \"operator\": \"GreaterThan\",\r\n          \"timeAggregation\":
        \"Average\"\r\n        }\r\n      ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\r\n
        \   },\r\n    \"actions\": [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag1\"\r\n
        \     }\r\n    ]\r\n  }\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['2297']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:13 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor metrics alert update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g -n --severity --description --add-action --remove-action
          --remove-condition --add-condition --evaluation-frequency --window-size
          --tags --auto-mitigate]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body: {string: "{\r\n  \"location\": \"global\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n
        \ \"name\": \"alert1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1\",\r\n
        \ \"properties\": {\r\n    \"description\": \"Test\",\r\n    \"severity\":
        2,\r\n    \"enabled\": true,\r\n    \"scopes\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002\"\r\n
        \   ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\": \"PT5M\",\r\n
        \   \"templateType\": 8,\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n
        \       {\r\n          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n
        \         \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"transactions\",\r\n          \"dimensions\": [\r\n
        \           {\r\n              \"name\": \"ResponseType\",\r\n              \"operator\":
        \"Include\",\r\n              \"values\": [\r\n                \"Success\"\r\n
        \             ]\r\n            },\r\n            {\r\n              \"name\":
        \"ApiName\",\r\n              \"operator\": \"Include\",\r\n              \"values\":
        [\r\n                \"GetBlob\"\r\n              ]\r\n            }\r\n          ],\r\n
        \         \"operator\": \"GreaterThan\",\r\n          \"timeAggregation\":
        \"Total\"\r\n        },\r\n        {\r\n          \"threshold\": 250.0,\r\n
        \         \"name\": \"cond1\",\r\n          \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"SuccessE2ELatency\",\r\n          \"dimensions\":
        [\r\n            {\r\n              \"name\": \"ApiName\",\r\n              \"operator\":
        \"Include\",\r\n              \"values\": [\r\n                \"GetBlob\",\r\n
        \               \"PutBlob\"\r\n              ]\r\n            }\r\n          ],\r\n
        \         \"operator\": \"GreaterThan\",\r\n          \"timeAggregation\":
        \"Average\"\r\n        }\r\n      ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\r\n
        \   },\r\n    \"actions\": [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag1\"\r\n
        \     }\r\n    ]\r\n  }\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['2297']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:13 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''{"location": "global", "tags": {"foo": "boo"}, "properties": {"description":
      "alt desc", "severity": 3, "enabled": true, "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002"],
      "evaluationFrequency": "PT5M", "windowSize": "PT15M", "criteria": {"odata.type":
      "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria", "allOf": [{"name":
      "cond1", "metricName": "SuccessE2ELatency", "metricNamespace": "microsoft.storage/storageaccounts",
      "operator": "GreaterThan", "timeAggregation": "Average", "threshold": 250.0,
      "dimensions": [{"name": "ApiName", "operator": "Include", "values": ["GetBlob",
      "PutBlob"]}]}, {"name": "cond0", "metricName": "transactions", "operator": "LessThan",
      "timeAggregation": "Total", "threshold": 100.0, "dimensions": []}]}, "autoMitigate":
      true, "actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag2",
      "webhookProperties": {"test": "best"}}]}}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor metrics alert update]
      Connection: [keep-alive]
      Content-Length: ['1210']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g -n --severity --description --add-action --remove-action
          --remove-condition --add-condition --evaluation-frequency --window-size
          --tags --auto-mitigate]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body: {string: "{\r\n  \"location\": \"global\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n
        \ \"name\": \"alert1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1\",\r\n
        \ \"tags\": {\r\n    \"foo\": \"boo\"\r\n  },\r\n  \"properties\": {\r\n    \"description\":
        \"alt desc\",\r\n    \"severity\": 3,\r\n    \"enabled\": true,\r\n    \"scopes\":
        [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002\"\r\n
        \   ],\r\n    \"evaluationFrequency\": \"PT5M\",\r\n    \"windowSize\": \"PT15M\",\r\n
        \   \"templateType\": 8,\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n
        \       {\r\n          \"threshold\": 250.0,\r\n          \"name\": \"cond1\",\r\n
        \         \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"SuccessE2ELatency\",\r\n          \"dimensions\":
        [\r\n            {\r\n              \"name\": \"ApiName\",\r\n              \"operator\":
        \"Include\",\r\n              \"values\": [\r\n                \"GetBlob\",\r\n
        \               \"PutBlob\"\r\n              ]\r\n            }\r\n          ],\r\n
        \         \"operator\": \"GreaterThan\",\r\n          \"timeAggregation\":
        \"Average\"\r\n        },\r\n        {\r\n          \"threshold\": 100.0,\r\n
        \         \"name\": \"cond0\",\r\n          \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"transactions\",\r\n          \"dimensions\": [],\r\n
        \         \"operator\": \"LessThan\",\r\n          \"timeAggregation\": \"Total\"\r\n
        \       }\r\n      ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\r\n
        \   },\r\n    \"autoMitigate\": true,\r\n    \"actions\": [\r\n      {\r\n
        \       \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag2\",\r\n
        \       \"webHookProperties\": {\r\n          \"test\": \"best\"\r\n        }\r\n
        \     }\r\n    ]\r\n  }\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['2071']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor metrics alert list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts?api-version=2018-03-01
  response:
    body: {string: "{\r\n  \"value\": [\r\n    {\r\n      \"location\": \"global\",\r\n
        \     \"type\": \"Microsoft.Insights/metricAlerts\",\r\n      \"name\": \"alert1\",\r\n
        \     \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1\",\r\n
        \     \"tags\": {\r\n        \"foo\": \"boo\"\r\n      },\r\n      \"properties\":
        {\r\n        \"description\": \"alt desc\",\r\n        \"severity\": 3,\r\n
        \       \"enabled\": true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002\"\r\n
        \       ],\r\n        \"evaluationFrequency\": \"PT5M\",\r\n        \"windowSize\":
        \"PT15M\",\r\n        \"templateType\": 8,\r\n        \"criteria\": {\r\n
        \         \"allOf\": [\r\n            {\r\n              \"threshold\": 250.0,\r\n
        \             \"name\": \"cond1\",\r\n              \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \             \"metricName\": \"SuccessE2ELatency\",\r\n              \"dimensions\":
        [\r\n                {\r\n                  \"name\": \"ApiName\",\r\n                  \"operator\":
        \"Include\",\r\n                  \"values\": [\r\n                    \"GetBlob\",\r\n
        \                   \"PutBlob\"\r\n                  ]\r\n                }\r\n
        \             ],\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\":
        \"Average\"\r\n            },\r\n            {\r\n              \"threshold\":
        100.0,\r\n              \"name\": \"cond0\",\r\n              \"metricNamespace\":
        \"microsoft.storage/storageaccounts\",\r\n              \"metricName\": \"transactions\",\r\n
        \             \"dimensions\": [],\r\n              \"operator\": \"LessThan\",\r\n
        \             \"timeAggregation\": \"Total\"\r\n            }\r\n          ],\r\n
        \         \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\r\n
        \       },\r\n        \"autoMitigate\": true,\r\n        \"actions\": [\r\n
        \         {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag2\",\r\n
        \           \"webHookProperties\": {\r\n              \"test\": \"best\"\r\n
        \           }\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['2340']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:31 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor metrics alert show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g -n]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body: {string: "{\r\n  \"location\": \"global\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n
        \ \"name\": \"alert1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1\",\r\n
        \ \"tags\": {\r\n    \"foo\": \"boo\"\r\n  },\r\n  \"properties\": {\r\n    \"description\":
        \"alt desc\",\r\n    \"severity\": 3,\r\n    \"enabled\": true,\r\n    \"scopes\":
        [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Storage/storageAccounts/clitest000002\"\r\n
        \   ],\r\n    \"evaluationFrequency\": \"PT5M\",\r\n    \"windowSize\": \"PT15M\",\r\n
        \   \"templateType\": 8,\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n
        \       {\r\n          \"threshold\": 250.0,\r\n          \"name\": \"cond1\",\r\n
        \         \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"SuccessE2ELatency\",\r\n          \"dimensions\":
        [\r\n            {\r\n              \"name\": \"ApiName\",\r\n              \"operator\":
        \"Include\",\r\n              \"values\": [\r\n                \"GetBlob\",\r\n
        \               \"PutBlob\"\r\n              ]\r\n            }\r\n          ],\r\n
        \         \"operator\": \"GreaterThan\",\r\n          \"timeAggregation\":
        \"Average\"\r\n        },\r\n        {\r\n          \"threshold\": 100.0,\r\n
        \         \"name\": \"cond0\",\r\n          \"metricNamespace\": \"microsoft.storage/storageaccounts\",\r\n
        \         \"metricName\": \"transactions\",\r\n          \"dimensions\": [],\r\n
        \         \"operator\": \"LessThan\",\r\n          \"timeAggregation\": \"Total\"\r\n
        \       }\r\n      ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\r\n
        \   },\r\n    \"autoMitigate\": true,\r\n    \"actions\": [\r\n      {\r\n
        \       \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/microsoft.insights/actionGroups/ag2\",\r\n
        \       \"webHookProperties\": {\r\n          \"test\": \"best\"\r\n        }\r\n
        \     }\r\n    ]\r\n  }\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['2071']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor metrics alert delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g -n]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 13 Nov 2018 18:07:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [monitor metrics alert list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-g]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          azure-mgmt-monitor/0.5.2 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_v2000001/providers/Microsoft.Insights/metricAlerts?api-version=2018-03-01
  response:
    body: {string: "{\r\n  \"value\": []\r\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['19']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 13 Nov 2018 18:07:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-aspnet-version: [4.0.30319]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [--name --yes --no-wait]
      User-Agent: [python/3.6.1 (Windows-10-10.0.17763-SP0) msrest/0.6.1 msrest_azure/0.4.34
          resourcemanagementclient/2.0.0 Azure-SDK-For-Python AZURECLI/2.0.51]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_metric_alert_v2000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 13 Nov 2018 18:07:41 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGTUVUUklDOjVGQUxFUlQ6NUZWMkFHQkVLNTNKRTIyUlpNWXxFNTYwQkRCQkE5MEVFNUY3LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
