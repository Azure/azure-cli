interactions:
- request:
    body: !!python/unicode '{"Name": "iot-hub-for-test"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['28']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5c86bf9e-8459-11e7-962d-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:08:19 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5cbc2780-8459-11e7-9c06-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iot-hub-test-rg?api-version=2017-05-10
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg","name":"iot-hub-test-rg","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['220']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:08:19 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"resourcegroup": "iot-hub-test-rg", "sku": {"capacity":
      1, "name": "S1"}, "subscriptionid": "5bd5a5c2-9d8f-4223-b911-5c58cf39aedd",
      "location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['160']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5ce6b9f0-8459-11e7-bfee-9cb6d0dafd06]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","properties":{"state":"Activating","provisioningState":"Accepted","enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/5bd5a5c2-9d8f-4223-b911-5c58cf39aedd/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTJmODBlYjAtNzJkZi00ZDJmLTkyNzEtMmI0MzA1Y2YwYjBk?api-version=2016-02-03&asyncinfo']
      cache-control: [no-cache]
      content-length: ['668']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:08:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5ce6b9f0-8459-11e7-bfee-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTJmODBlYjAtNzJkZi00ZDJmLTkyNzEtMmI0MzA1Y2YwYjBk?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:08:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5ce6b9f0-8459-11e7-bfee-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTJmODBlYjAtNzJkZi00ZDJmLTkyNzEtMmI0MzA1Y2YwYjBk?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:09:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5ce6b9f0-8459-11e7-bfee-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTJmODBlYjAtNzJkZi00ZDJmLTkyNzEtMmI0MzA1Y2YwYjBk?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:09:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5ce6b9f0-8459-11e7-bfee-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTJmODBlYjAtNzJkZi00ZDJmLTkyNzEtMmI0MzA1Y2YwYjBk?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5ce6b9f0-8459-11e7-bfee-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTJmODBlYjAtNzJkZi00ZDJmLTkyNzEtMmI0MzA1Y2YwYjBk?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5ce6b9f0-8459-11e7-bfee-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr4w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1854']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b96aa7e1-8459-11e7-8e9e-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr4w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3749']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b99169c0-8459-11e7-be5b-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b9ba758f-8459-11e7-946a-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr4w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1866']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b9ef4130-8459-11e7-8b56-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ba195e70-8459-11e7-808c-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr4w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3749']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ba4613c0-8459-11e7-ac5d-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr4w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3749']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"resourcegroup": "iot-hub-test-rg", "sku": {"capacity":
      1, "name": "S1"}, "etag": "AAAAAAEWr4w=", "location": "westus", "tags": {},
      "subscriptionid": "5bd5a5c2-9d8f-4223-b911-5c58cf39aedd", "properties": {"messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "lockDurationAsIso8601": "PT1M",
      "maxDeliveryCount": 10}}, "operationsMonitoringProperties": {"events": {"None":
      "None", "C2DCommands": "None", "DeviceIdentityOperations": "None", "Connections":
      "None", "Routes": "None", "DeviceTelemetry": "Error, Information", "FileUploadOperations":
      "None"}}, "ipFilterRules": [], "features": "None", "cloudToDevice": {"defaultTtlAsIso8601":
      "PT1H", "feedback": {"ttlAsIso8601": "PT1H", "lockDurationAsIso8601": "PT1M",
      "maxDeliveryCount": 10}, "maxDeliveryCount": 10}, "eventHubEndpoints": {"operationsMonitoringEvents":
      {"partitionCount": 4, "retentionTimeInDays": 1}, "events": {"partitionCount":
      4, "retentionTimeInDays": 1}}, "enableFileUploadNotifications": false, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "containerName": "", "connectionString":
      ""}}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1096']
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr4w=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ba6e3530-8459-11e7-b7fe-9cb6d0dafd06]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr4w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4},"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/5bd5a5c2-9d8f-4223-b911-5c58cf39aedd/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzdjMjJhYWMtY2ZhOS00NDc2LWFkZmYtOTRmYzJiYzcwYWNj?api-version=2016-02-03&asyncinfo']
      cache-control: [no-cache]
      content-length: ['2445']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:10:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr4w=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ba6e3530-8459-11e7-b7fe-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzdjMjJhYWMtY2ZhOS00NDc2LWFkZmYtOTRmYzJiYzcwYWNj?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr4w=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ba6e3530-8459-11e7-b7fe-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr5Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1868']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [cd79640f-8459-11e7-a832-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr5Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [cda296f0-8459-11e7-a9d1-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr5Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1880']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [cdce13c0-8459-11e7-b74c-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr5Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:29 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ce0920f0-8459-11e7-a33b-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/skus?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S1","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S2","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S3","tier":"Standard"},"capacity":{"minimum":1,"maximum":10,"default":1,"scaleType":"Manual"}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['475']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ce5ee20f-8459-11e7-95f4-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr5Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:29 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ce8b704f-8459-11e7-a734-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['905']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"resourcegroup": "iot-hub-test-rg", "sku": {"capacity":
      1, "name": "S1"}, "etag": "AAAAAAEWr5Y=", "location": "westus", "tags": {},
      "subscriptionid": "5bd5a5c2-9d8f-4223-b911-5c58cf39aedd", "properties": {"messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "lockDurationAsIso8601": "PT1M",
      "maxDeliveryCount": 10}}, "operationsMonitoringProperties": {"events": {"None":
      "None", "DeviceTelemetry": "Error, Information", "DeviceIdentityOperations":
      "None", "Connections": "None", "Routes": "None", "C2DCommands": "None", "FileUploadOperations":
      "None"}}, "cloudToDevice": {"defaultTtlAsIso8601": "PT1H", "feedback": {"ttlAsIso8601":
      "PT1H", "lockDurationAsIso8601": "PT1M", "maxDeliveryCount": 10}, "maxDeliveryCount":
      10}, "authorizationPolicies": [{"secondaryKey": "5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=",
      "keyName": "iothubowner", "primaryKey": "lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=",
      "rights": "RegistryWrite, ServiceConnect, DeviceConnect"}, {"secondaryKey":
      "bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=", "keyName": "service", "primaryKey":
      "KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=", "rights": "ServiceConnect"},
      {"secondaryKey": "MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=", "keyName":
      "device", "primaryKey": "dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=", "rights":
      "DeviceConnect"}, {"secondaryKey": "Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=",
      "keyName": "registryRead", "primaryKey": "LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=",
      "rights": "RegistryRead"}, {"secondaryKey": "Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=",
      "keyName": "registryReadWrite", "primaryKey": "oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=",
      "rights": "RegistryWrite"}, {"keyName": "test_policy", "rights": "RegistryWrite,
      ServiceConnect, DeviceConnect"}], "features": "None", "ipFilterRules": [], "eventHubEndpoints":
      {"operationsMonitoringEvents": {"partitionCount": 4, "retentionTimeInDays":
      1}, "events": {"partitionCount": 4, "retentionTimeInDays": 1}}, "enableFileUploadNotifications":
      false, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT1H", "containerName":
      "", "connectionString": ""}}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['2143']
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr5Y=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ceb629cf-8459-11e7-b9e5-9cb6d0dafd06]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr5Y=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"None","FileUploadOperations":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"A+HbZwSD5o8dt5QQ6NjuO2JGwIRLq3EaYpZK+uHIVMA=","secondaryKey":"+WBw9eyth4froBx4mgSBX94GcW2krM3QRK0GXz9By10=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4},"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/5bd5a5c2-9d8f-4223-b911-5c58cf39aedd/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTZjNDFhYjEtNWM4ZS00ODZlLWExMWMtNTY4Y2IwMzY2ODc5?api-version=2016-02-03&asyncinfo']
      cache-control: [no-cache]
      content-length: ['2649']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:11:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr5Y=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ceb629cf-8459-11e7-b9e5-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OTZjNDFhYjEtNWM4ZS00ODZlLWExMWMtNTY4Y2IwMzY2ODc5?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr5Y=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ceb629cf-8459-11e7-b9e5-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr7U=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"None","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1868']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e2d25380-8459-11e7-99cb-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr7U=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"None","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e346e740-8459-11e7-9b38-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"A+HbZwSD5o8dt5QQ6NjuO2JGwIRLq3EaYpZK+uHIVMA=","secondaryKey":"+WBw9eyth4froBx4mgSBX94GcW2krM3QRK0GXz9By10=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1109']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3930b70-8459-11e7-b043-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr7U=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"None","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3ce3fae-8459-11e7-b818-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/test_policy/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"test_policy","primaryKey":"A+HbZwSD5o8dt5QQ6NjuO2JGwIRLq3EaYpZK+uHIVMA=","secondaryKey":"+WBw9eyth4froBx4mgSBX94GcW2krM3QRK0GXz9By10=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e4393680-8459-11e7-b293-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr7U=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"None","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e49400ae-8459-11e7-85a0-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"A+HbZwSD5o8dt5QQ6NjuO2JGwIRLq3EaYpZK+uHIVMA=","secondaryKey":"+WBw9eyth4froBx4mgSBX94GcW2krM3QRK0GXz9By10=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1109']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e50d284f-8459-11e7-89c9-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"A+HbZwSD5o8dt5QQ6NjuO2JGwIRLq3EaYpZK+uHIVMA=","secondaryKey":"+WBw9eyth4froBx4mgSBX94GcW2krM3QRK0GXz9By10=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1109']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"resourcegroup": "iot-hub-test-rg", "sku": {"capacity":
      1, "name": "S1"}, "etag": "AAAAAAEWr7U=", "location": "westus", "tags": {},
      "subscriptionid": "5bd5a5c2-9d8f-4223-b911-5c58cf39aedd", "properties": {"messagingEndpoints":
      {"fileNotifications": {"ttlAsIso8601": "PT1H", "lockDurationAsIso8601": "PT1M",
      "maxDeliveryCount": 10}}, "operationsMonitoringProperties": {"events": {"None":
      "None", "C2DCommands": "None", "DeviceIdentityOperations": "None", "Connections":
      "None", "Routes": "None", "DeviceTelemetry": "Error, Information", "FileUploadOperations":
      "None"}}, "cloudToDevice": {"defaultTtlAsIso8601": "PT1H", "feedback": {"ttlAsIso8601":
      "PT1H", "lockDurationAsIso8601": "PT1M", "maxDeliveryCount": 10}, "maxDeliveryCount":
      10}, "authorizationPolicies": [{"secondaryKey": "5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=",
      "keyName": "iothubowner", "primaryKey": "lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=",
      "rights": "RegistryWrite, ServiceConnect, DeviceConnect"}, {"secondaryKey":
      "bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=", "keyName": "service", "primaryKey":
      "KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=", "rights": "ServiceConnect"},
      {"secondaryKey": "MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=", "keyName":
      "device", "primaryKey": "dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=", "rights":
      "DeviceConnect"}, {"secondaryKey": "Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=",
      "keyName": "registryRead", "primaryKey": "LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=",
      "rights": "RegistryRead"}, {"secondaryKey": "Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=",
      "keyName": "registryReadWrite", "primaryKey": "oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=",
      "rights": "RegistryWrite"}], "features": "None", "ipFilterRules": [], "eventHubEndpoints":
      {"operationsMonitoringEvents": {"partitionCount": 4, "retentionTimeInDays":
      1}, "events": {"partitionCount": 4, "retentionTimeInDays": 1}}, "enableFileUploadNotifications":
      false, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT1H", "containerName":
      "", "connectionString": ""}}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['2057']
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr7U=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e54db3c0-8459-11e7-8ecb-9cb6d0dafd06]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr7U=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4},"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/5bd5a5c2-9d8f-4223-b911-5c58cf39aedd/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/YTg0MTkxY2EtOWM3Zi00ZTdlLWJhMTMtMDlmNDllMGFlYzA4?api-version=2016-02-03&asyncinfo']
      cache-control: [no-cache]
      content-length: ['2445']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr7U=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e54db3c0-8459-11e7-8ecb-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/YTg0MTkxY2EtOWM3Zi00ZTdlLWJhMTMtMDlmNDllMGFlYzA4?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [!!python/unicode 'AAAAAAEWr7U=']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e54db3c0-8459-11e7-8ecb-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1868']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [f97a5830-8459-11e7-a499-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [f9df3480-8459-11e7-b45a-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"KlSk6vna4JMdfVdrgPHbNMnyD44Kmq2+o9kfBNIjjWc=","secondaryKey":"bpxznTvMhXyAqUzJ/YuXZIMnSrt8ftSEQ2IqsNY1Z04=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"dY6Tzek2yQVKopXeoXI8kiTVYBEFHoieJInvuUbf76w=","secondaryKey":"MxzqhdiO4Tz5h6Q7UmhKj1ZDir+RK9m7NIbm2s5U+mE=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"LjgNpp6v56g2W1eCqyfHeK5b60JIYRDokDgiJbVIz8I=","secondaryKey":"Mdfu+3Kyu0ti1pWt4duQpN4MzJn5j+r6W6qwKzkrs1A=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"oTlgQAQPr2+EzxU8dfc2kabGCmlpmPyNZLHuqGeH0+Y=","secondaryKey":"Kxgv9556n4FxVAHRe3y8obPWK6GOOperbIl5M2iKUs8=","rights":"RegistryWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['905']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fa53530f-8459-11e7-9e4f-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fa94a1cf-8459-11e7-bf92-9cb6d0dafd06]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"tags":null,"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"cg1"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['175']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fbc29a80-8459-11e7-a466-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fc08a42e-8459-11e7-974b-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"tags":null,"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"cg1"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['175']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fc46978f-8459-11e7-b937-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fc6d5970-8459-11e7-9941-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":["$Default","cg1"]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['28']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fca420de-8459-11e7-9e7a-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fccabbb0-8459-11e7-9e89-9cb6d0dafd06]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2016-02-03
  response:
    body: {string: !!python/unicode ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 18 Aug 2017 21:12:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fd29f2b0-8459-11e7-8b3f-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fd61f29e-8459-11e7-a760-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":["$Default"]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fda479e1-8459-11e7-9a09-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fdcb89e1-8459-11e7-b632-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/jobs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fe10a930-8459-11e7-8607-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [fe491e4f-8459-11e7-ac54-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/jobs/fake-job?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"Code":"JobNotFound","HttpStatusCode":"NotFound","Message":"Job
        not found with ID ''fake-job''. If you contact a support representative please
        include this correlation identifier: 87bb73f4-d986-4780-b78b-8bcf3f8c496f,
        timestamp: 2017-08-18 21:12:55Z, errorcode: IH404011."}'}
    headers:
      cache-control: [no-cache]
      content-length: ['272']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:56 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0163cbcf-845a-11e7-b39e-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [01a6c840-845a-11e7-b8a2-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [01e0c400-845a-11e7-8594-9cb6d0dafd06]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/jobs/fake-job?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"Message":"ErrorCode:JobNotFound;NotFound","ExceptionMessage":"Tracking
        ID:c26acdd954e24a1d8d570b917dbdb7ac-G:9-TimeStamp:08/18/2017 21:12:58"}'}
    headers:
      content-length: ['144']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:58 GMT']
      iothub-errorcode: [JobNotFound]
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0207fb0f-845a-11e7-b651-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [022ebcf0-845a-11e7-90a8-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:12:57 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"deviceId": "test-device-1"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['29']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [025e586e-845a-11e7-9f03-9cb6d0dafd06]
    method: PUT
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-1","generationId":"636386875811187073","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"GoP46hrRclg0vLNUaEnXuzW/WkJ8A7uC6nm3EheDHXs=","secondaryKey":"oG+dMsXp9TD8kClRKzmuU0IfRvLFYgNeNueo1uNAy+w="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      content-length: ['543']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:01 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [05583780-845a-11e7-8a8f-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0581b880-845a-11e7-a4f0-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"authentication": {"x509Thumbprint": {"primaryThumbprint":
      "A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C", "secondaryThumbprint": "14963E8F3BA5B3984110B3C1CA8E8B8988599087"}},
      "deviceId": "test-device-2"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['201']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [05a7de21-845a-11e7-8414-9cb6d0dafd06]
    method: PUT
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-2","generationId":"636386875828047813","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      content-length: ['535']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:03 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [05df41cf-845a-11e7-9476-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [060678de-845a-11e7-90b2-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:04 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [066ae000-845a-11e7-8477-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-1","generationId":"636386875811187073","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"GoP46hrRclg0vLNUaEnXuzW/WkJ8A7uC6nm3EheDHXs=","secondaryKey":"oG+dMsXp9TD8kClRKzmuU0IfRvLFYgNeNueo1uNAy+w="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      content-length: ['543']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:03 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [068ee2c0-845a-11e7-b0bd-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:04 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [06c13d61-845a-11e7-8d02-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:04 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [06e73bf0-845a-11e7-8727-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-2","generationId":"636386875828047813","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      content-length: ['535']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:05 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [070f846e-845a-11e7-bba9-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [073730b0-845a-11e7-aef6-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:06 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [07730130-845a-11e7-b257-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices?api-version=2016-11-14&top=20
  response:
    body: {string: !!python/unicode '[{"deviceId":"test-device-2","generationId":"636386875828047813","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}},{"deviceId":"test-device-1","generationId":"636386875811187073","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"GoP46hrRclg0vLNUaEnXuzW/WkJ8A7uC6nm3EheDHXs=","secondaryKey":"oG+dMsXp9TD8kClRKzmuU0IfRvLFYgNeNueo1uNAy+w="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}]'}
    headers:
      content-length: ['1081']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:04 GMT']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [079b49b0-845a-11e7-a9c4-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:05 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [07c3b940-845a-11e7-bddf-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-2","generationId":"636386875828047813","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      content-length: ['535']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:07 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [07d98b30-845a-11e7-ba15-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [08029700-845a-11e7-ad10-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-1","generationId":"636386875811187073","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"GoP46hrRclg0vLNUaEnXuzW/WkJ8A7uC6nm3EheDHXs=","secondaryKey":"oG+dMsXp9TD8kClRKzmuU0IfRvLFYgNeNueo1uNAy+w="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      content-length: ['543']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:05 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [083c1d8f-845a-11e7-95ea-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [087ca900-845a-11e7-8992-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [08a7d7b0-845a-11e7-83a5-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-1","generationId":"636386875811187073","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"GoP46hrRclg0vLNUaEnXuzW/WkJ8A7uC6nm3EheDHXs=","secondaryKey":"oG+dMsXp9TD8kClRKzmuU0IfRvLFYgNeNueo1uNAy+w="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      content-length: ['543']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:06 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [08c94261-845a-11e7-8a9f-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [08f61ec0-845a-11e7-af96-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:08 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [091f78ae-845a-11e7-9070-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-2","generationId":"636386875828047813","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      content-length: ['535']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:09 GMT']
      etag: ['"MA=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0947c130-845a-11e7-b2d3-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0971904f-845a-11e7-8aa5-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"status": "enabled", "connectionState": "Disconnected",
      "authentication": {"symmetricKey": {}, "x509Thumbprint": {"primaryThumbprint":
      "A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C", "secondaryThumbprint": "14963E8F3BA5B3984110B3C1CA8E8B8988599087"}},
      "etag": "MA==", "lastActivityTime": "0001-01-01T00:00:00.000Z", "statusUpdatedTime":
      "0001-01-01T00:00:00.000Z", "connectionStateUpdatedTime": "0001-01-01T00:00:00.000Z",
      "cloudToDeviceMessageCount": 0, "statusReason": "TestReason", "deviceId": "test-device-2"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['510']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['*']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [099c70de-845a-11e7-b7f6-9cb6d0dafd06]
    method: PUT
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"deviceId":"test-device-2","generationId":"636386875828047813","etag":"MQ==","connectionState":"Disconnected","status":"enabled","statusReason":"TestReason","connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      content-length: ['543']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:10 GMT']
      etag: ['"MQ=="']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [09caaccf-845a-11e7-9b97-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [09f90fcf-845a-11e7-85dd-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1194']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0a23c94f-845a-11e7-9e2b-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices?api-version=2016-11-14&top=20
  response:
    body: {string: !!python/unicode '[{"deviceId":"test-device-2","generationId":"636386875828047813","etag":"MQ==","connectionState":"Disconnected","status":"enabled","statusReason":"TestReason","connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}},{"deviceId":"test-device-1","generationId":"636386875811187073","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"GoP46hrRclg0vLNUaEnXuzW/WkJ8A7uC6nm3EheDHXs=","secondaryKey":"oG+dMsXp9TD8kClRKzmuU0IfRvLFYgNeNueo1uNAy+w="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}]'}
    headers:
      content-length: ['1089']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:11 GMT']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0a43d470-845a-11e7-8ceb-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:11 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0a745a4f-845a-11e7-8b8c-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1194']
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '"Ping from Azure CLI"'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['21']
      Content-Type: [application/octet-stream]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0aa6b4f0-845a-11e7-a51b-9cb6d0dafd06]
    method: POST
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/events?api-version=2016-11-14
  response:
    body: {string: !!python/unicode ''}
    headers:
      content-length: ['0']
      date: ['Fri, 18 Aug 2017 21:13:11 GMT']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0ae6f240-845a-11e7-92d1-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0b2de64f-845a-11e7-b762-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IotHub-MessageLockTimeout: ['60']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0b56a400-845a-11e7-833d-9cb6d0dafd06]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound?api-version=2016-11-14
  response:
    body: {string: !!python/unicode ''}
    headers:
      content-length: ['0']
      date: ['Fri, 18 Aug 2017 21:13:13 GMT']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0b826ef0-845a-11e7-b312-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:13 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0bfb486e-845a-11e7-9111-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0c2565b0-845a-11e7-b3a9-9cb6d0dafd06]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound/00000000-0000-0000-0000-000000000000?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"Message":"{\"errorCode\":412002,\"trackingId\":\"cd101492109d48dc907bae17dfed671d-G:6-TimeStamp:08/18/2017
        21:13:14\",\"message\":\"PreconditionFailed\",\"timestampUtc\":\"2017-08-18T21:13:14.1165268Z\"}","ExceptionMessage":""}'}
    headers:
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:13 GMT']
      iothub-errorcode: [DeviceMessageLockLost]
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 412, message: Precondition Failed}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0c50e280-845a-11e7-8fde-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0c7b9c00-845a-11e7-8096-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0ca6f1c0-845a-11e7-acba-9cb6d0dafd06]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound/00000000-0000-0000-0000-000000000000?api-version=2016-11-14&reject=
  response:
    body: {string: !!python/unicode '{"Message":"{\"errorCode\":412002,\"trackingId\":\"edf4829a78d746ebb4e8dcb1bd63edf3-G:2-TimeStamp:08/18/2017
        21:13:13\",\"message\":\"PreconditionFailed\",\"timestampUtc\":\"2017-08-18T21:13:13.7183393Z\"}","ExceptionMessage":""}'}
    headers:
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:13 GMT']
      iothub-errorcode: [DeviceMessageLockLost]
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 412, message: Precondition Failed}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0cd18430-845a-11e7-98c3-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0cfeaeb0-845a-11e7-8873-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1194']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [0d27e18f-845a-11e7-bd9b-9cb6d0dafd06]
    method: POST
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound/00000000-0000-0000-0000-000000000000/abandon?api-version=2016-11-14
  response:
    body: {string: !!python/unicode '{"Message":"{\"errorCode\":412002,\"trackingId\":\"b8624d0be8f449afb2bcf224308ddcec-G:6-TimeStamp:08/18/2017
        21:13:15\",\"message\":\"PreconditionFailed\",\"timestampUtc\":\"2017-08-18T21:13:15.7476465Z\"}","ExceptionMessage":""}'}
    headers:
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:15 GMT']
      iothub-errorcode: [DeviceMessageLockLost]
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 412, message: Precondition Failed}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0d4b962e-845a-11e7-985d-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0d784b80-845a-11e7-9f83-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/quotaMetrics?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"Name":"TotalMessages","CurrentValue":0,"MaxValue":400000},{"Name":"TotalDeviceCount","CurrentValue":0,"MaxValue":500000}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['134']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0db7775e-845a-11e7-ba93-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0de5b34f-845a-11e7-b7e4-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubStats?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"totalDeviceCount":0,"enabledDeviceCount":0,"disabledDeviceCount":0}'}
    headers:
      cache-control: [no-cache]
      content-length: ['69']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [0fe9246e-845a-11e7-b648-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [1014531e-845a-11e7-b9cd-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['*']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [104fae70-845a-11e7-9048-9cb6d0dafd06]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: !!python/unicode ''}
    headers:
      content-length: ['0']
      date: ['Fri, 18 Aug 2017 21:13:22 GMT']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [10917261-845a-11e7-9106-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [10bd3d4f-845a-11e7-854e-9cb6d0dafd06]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"keyName":"iothubowner","primaryKey":"lbzYVkXcbwvfH0o/9+hahT6RPSVDqxlNvcRYOI9uejs=","secondaryKey":"5MNo7vsXXDoyCW+nBzGAOfAIrZM40qURB7mz/MAtN3g=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['203']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1194']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['*']
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [1101241e-845a-11e7-8c1c-9cb6d0dafd06]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: !!python/unicode ''}
    headers:
      content-length: ['0']
      date: ['Fri, 18 Aug 2017 21:13:22 GMT']
      server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [112cc800-845a-11e7-a53b-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: !!python/unicode '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IoT/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"IoT","etag":"AAAAAAEWqXY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","C2DCommands":"Error,
        Information","FileUploadOperations":"Error"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"paymaunhub-operationmonitoring","endpoint":"sb://iothub-ns-paymaunhub-167309-c06055ec8c.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=iothubstor;AccountKey=****","containerName":"testcontainer"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"5bd5a5c2-9d8f-4223-b911-5c58cf39aedd","resourcegroup":"iot-hub-test-rg","etag":"AAAAAAEWr74=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","C2DCommands":"None","DeviceIdentityOperations":"None","Connections":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","FileUploadOperations":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-203811-5151495961.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['3763']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [1166c3c0-845a-11e7-ab09-9cb6d0dafd06]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: !!python/unicode 'null'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/5bd5a5c2-9d8f-4223-b911-5c58cf39aedd/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OWYxNjJkZDctZWNlNS00MTkzLTgzMjgtMzI2ZmRlNTM2NDEw?api-version=2016-02-03&asyncinfo']
      cache-control: [no-cache]
      content-length: ['4']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:24 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/5bd5a5c2-9d8f-4223-b911-5c58cf39aedd/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OWYxNjJkZDctZWNlNS00MTkzLTgzMjgtMzI2ZmRlNTM2NDEw?api-version=2016-02-03']
      pragma: [no-cache]
      retry-after: ['15']
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [1166c3c0-845a-11e7-ab09-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OWYxNjJkZDctZWNlNS00MTkzLTgzMjgtMzI2ZmRlNTM2NDEw?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:13:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/2.7.13 (Windows-10-10.0.15063) requests/2.9.1 msrest/0.4.11
          msrest_azure/0.4.11 iothubclient/0.2.2 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [1166c3c0-845a-11e7-ab09-9cb6d0dafd06]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OWYxNjJkZDctZWNlNS00MTkzLTgzMjgtMzI2ZmRlNTM2NDEw?api-version=2016-02-03&asyncinfo
  response:
    body: {string: !!python/unicode '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 18 Aug 2017 21:14:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
version: 1
