interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 azure-mgmt-servicefabric/0.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e0d86152-89c8-11e7-939a-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli6/providers/Microsoft.ServiceFabric/clusters/sfcli6?api-version=2016-09-01
  response:
    body: {string: "{\r\n  \"type\": \"Microsoft.ServiceFabric/clusters\",\r\n  \"\
        location\": \"westus\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli6/providers/Microsoft.ServiceFabric/clusters/sfcli6\"\
        ,\r\n  \"name\": \"sfcli6\",\r\n  \"tags\": {},\r\n  \"etag\": \"W/\\\"636392773123413877\\\
        \"\",\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\
        \n    \"clusterId\": \"eeed70f2-b6fd-4ffe-8ad4-c656ae17cbda\",\r\n    \"clusterCodeVersion\"\
        : \"5.7.198.9494\",\r\n    \"clusterState\": \"Ready\",\r\n    \"managementEndpoint\"\
        : \"https://sfcli6.westus.cloudapp.azure.com:19080\",\r\n    \"clusterEndpoint\"\
        : \"https://westus.servicefabric.azure.com/runtime/clusters/eeed70f2-b6fd-4ffe-8ad4-c656ae17cbda\"\
        ,\r\n    \"certificate\": {\r\n      \"thumbprint\": \"F2671A7987903AC5EA8F1F230057C56A95EA427F\"\
        ,\r\n      \"x509StoreName\": \"My\"\r\n    },\r\n    \"clientCertificateThumbprints\"\
        : [],\r\n    \"clientCertificateCommonNames\": [],\r\n    \"fabricSettings\"\
        : [\r\n      {\r\n        \"name\": \"Security\",\r\n        \"parameters\"\
        : [\r\n          {\r\n            \"name\": \"ClusterProtectionLevel\",\r\n\
        \            \"value\": \"EncryptAndSign\"\r\n          }\r\n        ]\r\n\
        \      }\r\n    ],\r\n    \"upgradeDescription\": {\r\n      \"overrideUserUpgradePolicy\"\
        : false,\r\n      \"forceRestart\": false,\r\n      \"upgradeReplicaSetCheckTimeout\"\
        : \"05:00:00\",\r\n      \"healthCheckWaitDuration\": \"00:00:02\",\r\n  \
        \    \"healthCheckStableDuration\": \"00:00:02\",\r\n      \"healthCheckRetryTimeout\"\
        : \"00:00:02\",\r\n      \"upgradeTimeout\": \"06:00:00\",\r\n      \"upgradeDomainTimeout\"\
        : \"02:00:00\"\r\n    },\r\n    \"diagnosticsStorageAccountConfig\": {\r\n\
        \      \"storageAccountName\": \"s3qknpzcuyqh42\",\r\n      \"protectedAccountKeyName\"\
        : \"StorageAccountKey1\",\r\n      \"blobEndpoint\": \"https://s3qknpzcuyqh42.blob.core.windows.net/\"\
        ,\r\n      \"queueEndpoint\": \"https://s3qknpzcuyqh42.queue.core.windows.net/\"\
        ,\r\n      \"tableEndpoint\": \"https://s3qknpzcuyqh42.table.core.windows.net/\"\
        \r\n    },\r\n    \"nodeTypes\": [\r\n      {\r\n        \"name\": \"nt1vm\"\
        ,\r\n        \"clientConnectionEndpointPort\": 19000,\r\n        \"httpGatewayEndpointPort\"\
        : 19080,\r\n        \"applicationPorts\": {\r\n          \"startPort\": 20000,\r\
        \n          \"endPort\": 30000\r\n        },\r\n        \"ephemeralPorts\"\
        : {\r\n          \"startPort\": 49152,\r\n          \"endPort\": 65534\r\n\
        \        },\r\n        \"isPrimary\": true,\r\n        \"vmInstanceCount\"\
        : 5,\r\n        \"durabilityLevel\": \"Silver\"\r\n      }\r\n    ],\r\n \
        \   \"vmImage\": \"Windows\",\r\n    \"reliabilityLevel\": \"Silver\",\r\n\
        \    \"upgradeMode\": \"Automatic\",\r\n    \"availableClusterVersions\":\
        \ [\r\n      {\r\n        \"codeVersion\": \"5.7.198.9494\",\r\n        \"\
        supportExpiryUtc\": \"9999-12-31T23:59:59.9999999\",\r\n        \"environment\"\
        : \"Windows\"\r\n      },\r\n      {\r\n        \"codeVersion\": \"5.7.207.9494\"\
        ,\r\n        \"supportExpiryUtc\": \"9999-12-31T23:59:59.9999999\",\r\n  \
        \      \"environment\": \"Windows\"\r\n      }\r\n    ]\r\n  }\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 25 Aug 2017 19:09:11 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['2768']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 computemanagementclient/2.0.0 Azure-SDK-For-Python AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e1158402-89c8-11e7-9002-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli6/providers/Microsoft.Compute/virtualMachineScaleSets/nt1vm?api-version=2017-03-30
  response:
    body: {string: "{\r\n  \"sku\": {\r\n    \"name\": \"Standard_D2_V2\",\r\n   \
        \ \"tier\": \"Standard\",\r\n    \"capacity\": 6\r\n  },\r\n  \"properties\"\
        : {\r\n    \"singlePlacementGroup\": true,\r\n    \"upgradePolicy\": {\r\n\
        \      \"mode\": \"Automatic\"\r\n    },\r\n    \"virtualMachineProfile\"\
        : {\r\n      \"osProfile\": {\r\n        \"computerNamePrefix\": \"nt1vm\"\
        ,\r\n        \"adminUsername\": \"adminuser\",\r\n        \"windowsConfiguration\"\
        : {\r\n          \"provisionVMAgent\": true,\r\n          \"enableAutomaticUpdates\"\
        : true\r\n        },\r\n        \"secrets\": [\r\n          {\r\n        \
        \    \"sourceVault\": {\r\n              \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli6/providers/Microsoft.KeyVault/vaults/sfcli6\"\
        \r\n            },\r\n            \"vaultCertificates\": [\r\n           \
        \   {\r\n                \"certificateUrl\": \"https://sfcli6.vault.azure.net/secrets/sfcli6201708251000/97d1ee0f1939476dadb8f311ab06a87b\"\
        ,\r\n                \"certificateStore\": \"My\"\r\n              }\r\n \
        \           ]\r\n          }\r\n        ]\r\n      },\r\n      \"storageProfile\"\
        : {\r\n        \"osDisk\": {\r\n          \"vhdContainers\": [\r\n       \
        \     \"https://s3qknpzcuyqh4100.blob.core.windows.net/vhds\",\r\n       \
        \     \"https://s3qknpzcuyqh4101.blob.core.windows.net/vhds\",\r\n       \
        \     \"https://s3qknpzcuyqh4102.blob.core.windows.net/vhds\",\r\n       \
        \     \"https://s3qknpzcuyqh4103.blob.core.windows.net/vhds\",\r\n       \
        \     \"https://s3qknpzcuyqh4104.blob.core.windows.net/vhds\"\r\n        \
        \  ],\r\n          \"name\": \"vmssosdisk\",\r\n          \"createOption\"\
        : \"FromImage\",\r\n          \"caching\": \"ReadOnly\"\r\n        },\r\n\
        \        \"imageReference\": {\r\n          \"publisher\": \"MicrosoftWindowsServer\"\
        ,\r\n          \"offer\": \"WindowsServer\",\r\n          \"sku\": \"2016-Datacenter\"\
        ,\r\n          \"version\": \"latest\"\r\n        }\r\n      },\r\n      \"\
        networkProfile\": {\"networkInterfaceConfigurations\":[{\"name\":\"NIC-0\"\
        ,\"properties\":{\"primary\":true,\"ipConfigurations\":[{\"name\":\"NIC-0\"\
        ,\"properties\":{\"subnet\":{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli6/providers/Microsoft.Network/virtualNetworks/VNet/subnets/Subnet-0\"\
        },\"loadBalancerBackendAddressPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli6/providers/Microsoft.Network/loadBalancers/LB-sfcli6-nt1vm/backendAddressPools/LoadBalancerBEAddressPool\"\
        }],\"loadBalancerInboundNatPools\":[{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli6/providers/Microsoft.Network/loadBalancers/LB-sfcli6-nt1vm/inboundNatPools/LoadBalancerBEAddressNatPool\"\
        }]}}]}}]},\r\n      \"extensionProfile\": {\r\n        \"extensions\": [\r\
        \n          {\r\n            \"properties\": {\r\n              \"publisher\"\
        : \"Microsoft.Azure.ServiceFabric\",\r\n              \"type\": \"ServiceFabricNode\"\
        ,\r\n              \"typeHandlerVersion\": \"1.0\",\r\n              \"autoUpgradeMinorVersion\"\
        : false,\r\n              \"settings\": {\"clusterEndpoint\":\"https://westus.servicefabric.azure.com/runtime/clusters/eeed70f2-b6fd-4ffe-8ad4-c656ae17cbda\"\
        ,\"nodeTypeRef\":\"nt1vm\",\"dataPath\":\"D:\\\\\\\\SvcFab\",\"durabilityLevel\"\
        :\"Silver\",\"nicPrefixOverride\":\"10.0.0.0/24\",\"certificate\":{\"thumbprint\"\
        :\"F2671A7987903AC5EA8F1F230057C56A95EA427F\",\"x509StoreName\":\"My\"},\"\
        enableParallelJobs\":true}\r\n            },\r\n            \"name\": \"ServiceFabricNodeVmExt_vmNodeType0Name\"\
        \r\n          },\r\n          {\r\n            \"properties\": {\r\n     \
        \         \"publisher\": \"Microsoft.Azure.Diagnostics\",\r\n            \
        \  \"type\": \"IaaSDiagnostics\",\r\n              \"typeHandlerVersion\"\
        : \"1.5\",\r\n              \"autoUpgradeMinorVersion\": true,\r\n       \
        \       \"settings\": {\"WadCfg\":{\"DiagnosticMonitorConfiguration\":{\"\
        overallQuotaInMB\":\"50000\",\"EtwProviders\":{\"EtwEventSourceProviderConfiguration\"\
        :[{\"provider\":\"Microsoft-ServiceFabric-Actors\",\"scheduledTransferKeywordFilter\"\
        :\"1\",\"scheduledTransferPeriod\":\"PT5M\",\"DefaultEvents\":{\"eventDestination\"\
        :\"ServiceFabricReliableActorEventTable\"}},{\"provider\":\"Microsoft-ServiceFabric-Services\"\
        ,\"scheduledTransferPeriod\":\"PT5M\",\"DefaultEvents\":{\"eventDestination\"\
        :\"ServiceFabricReliableServiceEventTable\"}}],\"EtwManifestProviderConfiguration\"\
        :[{\"provider\":\"cbd93bc2-71e5-4566-b3a7-595d8eeca6e8\",\"scheduledTransferLogLevelFilter\"\
        :\"Information\",\"scheduledTransferKeywordFilter\":\"4611686018427387904\"\
        ,\"scheduledTransferPeriod\":\"PT5M\",\"DefaultEvents\":{\"eventDestination\"\
        :\"ServiceFabricSystemEventTable\"}}]}}},\"StorageAccount\":\"s3qknpzcuyqh43\"\
        }\r\n            },\r\n            \"name\": \"VMDiagnosticsVmExt_vmNodeType0Name\"\
        \r\n          }\r\n        ]\r\n      }\r\n    },\r\n    \"provisioningState\"\
        : \"Updating\",\r\n    \"overprovision\": false,\r\n    \"uniqueId\": \"2035af05-58ad-495f-9d4a-1c54540db102\"\
        \r\n  },\r\n  \"type\": \"Microsoft.Compute/virtualMachineScaleSets\",\r\n\
        \  \"location\": \"westus\",\r\n  \"tags\": {\r\n    \"resourceType\": \"\
        Service Fabric\",\r\n    \"clusterName\": \"sfcli6\"\r\n  },\r\n  \"id\":\
        \ \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli6/providers/Microsoft.Compute/virtualMachineScaleSets/nt1vm\"\
        ,\r\n  \"name\": \"nt1vm\"\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 19:09:11 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['4900']
    status: {code: 200, message: OK}
version: 1
