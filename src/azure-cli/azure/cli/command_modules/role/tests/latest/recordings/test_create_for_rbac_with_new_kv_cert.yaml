interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-06-21T18:29:16Z"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group create
      Connection:
      - keep-alive
      Content-Length:
      - '110'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --location --name --tag
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2019-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","name":"cli_test_sp_with_kv_new_cert000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-06-21T18:29:16Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/me?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.User","objectType":"User","objectId":"a1239024-a78f-4b62-a84e-3119f8924ffb","deletionTimestamp":null,"accountEnabled":true,"ageGroup":null,"assignedLicenses":[{"disabledPlans":["c4801e8a-cb58-4c35-aca6-f2dcc106f287","0898bdbb-73b0-471a-81e5-20f1fe4dd66e","617b097b-4b93-4ede-83de-5f075bb5fb2f","4a51bca5-1eff-43f5-878c-177680f191af","efb0351d-3b08-4503-993d-383af8de41e3","5136a095-5cf0-4aff-bec3-e84448b38ea5","33c4f319-9bdd-48d6-9c4d-410b750a4a5a","4828c8ec-dc2e-4779-b502-87ac9ce28ab7","3e26ee1f-8a5f-4d52-aee2-b81ce45c8f40"],"skuId":"c7df2760-2c81-4ef7-b578-5b5392b571df"},{"disabledPlans":["39b5c996-467e-4e60-bd62-46066f572726"],"skuId":"90d8b3f8-712e-4f7b-aa1e-62e7ae6cbe96"},{"disabledPlans":["e95bec33-7c88-4a70-8e19-b10bd9d0c014","5dbe027f-2339-4123-9542-606e4d348a72"],"skuId":"09015f9f-377f-4538-bbb5-f75ceb09358a"},{"disabledPlans":[],"skuId":"f30db892-07e9-47e9-837c-80727f46fd3d"},{"disabledPlans":[],"skuId":"26a18e8f-4d14-46f8-835a-ed3ba424a961"},{"disabledPlans":[],"skuId":"412ce1a7-a499-41b3-8eb6-b38f2bbc5c3f"},{"disabledPlans":[],"skuId":"488ba24a-39a9-4473-8ee5-19291e71b002"},{"disabledPlans":[],"skuId":"b05e124f-c7cc-45a0-a6aa-8cf78c946968"},{"disabledPlans":["0b03f40b-c404-40c3-8651-2aceb74365fa","b650d915-9886-424b-a08d-633cede56f57","e95bec33-7c88-4a70-8e19-b10bd9d0c014","5dbe027f-2339-4123-9542-606e4d348a72","fe71d6c3-a2ea-4499-9778-da042bf08063","fafd7243-e5c1-4a3a-9e40-495efcb1d3c3"],"skuId":"ea126fc5-a19e-42e2-a731-da9d437bffcf"},{"disabledPlans":[],"skuId":"c5928f49-12ba-48f7-ada3-0d743a3601d5"}],"assignedPlans":[{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"fe71d6c3-a2ea-4499-9778-da042bf08063"},{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"e95bec33-7c88-4a70-8e19-b10bd9d0c014"},{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"5dbe027f-2339-4123-9542-606e4d348a72"},{"assignedTimestamp":"2019-06-19T15:08:40Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"fafd7243-e5c1-4a3a-9e40-495efcb1d3c3"},{"assignedTimestamp":"2019-05-23T14:27:34Z","capabilityStatus":"Enabled","service":"DYN365AISERVICEINSIGHTS","servicePlanId":"1412cdc1-d593-4ad1-9050-40c30ad0b023"},{"assignedTimestamp":"2019-07-01T02:07:48Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"199a5c09-e0ca-4e37-8f7c-b05d533e1ea2"},{"assignedTimestamp":"2019-04-02T19:20:12Z","capabilityStatus":"Enabled","service":"ProjectProgramsAndPortfolios","servicePlanId":"818523f5-016b-4355-9be8-ed6944946ea7"},{"assignedTimestamp":"2019-04-02T19:20:12Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"fa200448-008c-4acb-abd4-ea106ed2199d"},{"assignedTimestamp":"2019-04-02T19:20:12Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"50554c47-71d9-49fd-bc54-42a2765c555c"},{"assignedTimestamp":"2018-11-13T18:49:58Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"50e68c76-46c6-4674-81f9-75456511b170"},{"assignedTimestamp":"2018-11-13T18:49:58Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"17ab22cd-a0b3-4536-910a-cb6eb12696c0"},{"assignedTimestamp":"2018-09-24T17:03:22Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"018fb91e-cee3-418c-9063-d7562978bdaf"},{"assignedTimestamp":"2018-09-24T17:03:20Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"ca4be917-fbce-4b52-839e-6647467a1668"},{"assignedTimestamp":"2018-09-24T17:03:19Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"b1188c4c-1b36-4018-b48b-ee07604f6feb"},{"assignedTimestamp":"2018-09-24T17:03:19Z","capabilityStatus":"Deleted","service":"MicrosoftCommunicationsOnline","servicePlanId":"4828c8ec-dc2e-4779-b502-87ac9ce28ab7"},{"assignedTimestamp":"2018-09-24T17:03:19Z","capabilityStatus":"Deleted","service":"MicrosoftCommunicationsOnline","servicePlanId":"3e26ee1f-8a5f-4d52-aee2-b81ce45c8f40"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Enabled","service":"Sway","servicePlanId":"a23b959c-7ce8-4e57-9140-b90eb88a9e97"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"bea4c11e-220a-4e6d-8eb8-8ea15d019f90"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"6c57d4b6-3b23-47a5-9bc9-69f17b4947b3"},{"assignedTimestamp":"2018-08-30T01:33:59Z","capabilityStatus":"Deleted","service":"OfficeForms","servicePlanId":"159f4cd6-e380-449f-a816-af1a9ef76344"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"2bdbaf8f-738f-4ac7-9234-3c3ee2ce7d0f"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Deleted","service":"SharePoint","servicePlanId":"2125cfd7-2110-4567-83c4-c1cd5275163d"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Enabled","service":"SharePoint","servicePlanId":"da792a53-cbc0-4184-a10d-e544dd34b3c1"},{"assignedTimestamp":"2018-04-24T06:10:50Z","capabilityStatus":"Deleted","service":"SharePoint","servicePlanId":"c4048e79-4474-4c74-ba9b-c31ff225e511"},{"assignedTimestamp":"2018-03-22T06:47:29Z","capabilityStatus":"Deleted","service":"MicrosoftStream","servicePlanId":"acffdce6-c30f-4dc2-81c0-372e33c515ec"},{"assignedTimestamp":"2018-03-17T13:37:22Z","capabilityStatus":"Enabled","service":"WindowsDefenderATP","servicePlanId":"871d91ec-ec1a-452b-a83f-bd76c7d770ef"},{"assignedTimestamp":"2018-03-17T13:37:22Z","capabilityStatus":"Enabled","service":"AzureAdvancedThreatAnalytics","servicePlanId":"14ab5db5-e6c4-4b20-b4bc-13e36fd2227f"},{"assignedTimestamp":"2018-03-17T13:37:22Z","capabilityStatus":"Enabled","service":"Windows","servicePlanId":"e7c91390-7625-45be-94e0-e16907e03118"},{"assignedTimestamp":"2018-01-09T08:57:59Z","capabilityStatus":"Enabled","service":"ProjectWorkManagement","servicePlanId":"b737dad2-2f6c-4c65-90e3-ca563267e8b9"},{"assignedTimestamp":"2018-01-01T02:18:57Z","capabilityStatus":"Enabled","service":"AADPremiumService","servicePlanId":"41781fb2-bc02-4b7c-bd55-b576c07bb09d"},{"assignedTimestamp":"2018-01-01T02:18:57Z","capabilityStatus":"Enabled","service":"MultiFactorService","servicePlanId":"8a256a2b-b617-496d-b51b-e76466e88db0"},{"assignedTimestamp":"2017-12-31T11:40:38Z","capabilityStatus":"Deleted","service":"Adallom","servicePlanId":"932ad362-64a8-4783-9106-97849a1a30b9"},{"assignedTimestamp":"2017-12-16T05:25:47Z","capabilityStatus":"Enabled","service":"To-Do","servicePlanId":"3fb82609-8c27-4f7b-bd51-30634711ee67"},{"assignedTimestamp":"2017-12-16T05:25:47Z","capabilityStatus":"Enabled","service":"RMSOnline","servicePlanId":"5689bec4-755d-4753-8b61-40975025187c"},{"assignedTimestamp":"2017-12-16T05:25:47Z","capabilityStatus":"Enabled","service":"Adallom","servicePlanId":"2e2ddb96-6af9-4b1d-a3f0-d6ecfd22edb2"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"Adallom","servicePlanId":"8c098270-9dd4-4350-9b30-ba4703f3b36b"},{"assignedTimestamp":"2017-10-07T04:08:23Z","capabilityStatus":"Enabled","service":"Netbreeze","servicePlanId":"03acaee3-9492-4f40-aed4-bcb6b32981b6"},{"assignedTimestamp":"2017-10-07T04:08:23Z","capabilityStatus":"Enabled","service":"CRM","servicePlanId":"d56f3deb-50d8-465a-bedb-f079817ccac1"},{"assignedTimestamp":"2017-08-13T12:28:53Z","capabilityStatus":"Enabled","service":"OfficeForms","servicePlanId":"e212cbc7-0961-4c40-9825-01117710dcb1"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"MicrosoftCommunicationsOnline","servicePlanId":"27216c54-caf8-4d0d-97e2-517afb5c08f6"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"ProcessSimple","servicePlanId":"76846ad7-7776-4c40-a281-a386362dd1b9"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"TeamspaceAPI","servicePlanId":"57ff2da0-773e-42df-b2af-ffb7a2317929"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"PowerAppsService","servicePlanId":"c68f8d98-5534-41c8-bf36-22fa496fa792"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"Deskless","servicePlanId":"8c7d2df8-86f0-4902-b2ed-a0458298f3b3"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"43de0ff5-c92c-492b-9116-175376d08c38"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"YammerEnterprise","servicePlanId":"7547a3fe-08ee-4ccb-b430-5077c5041653"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"efb87545-963c-4e0d-99df-69c6916d9eb0"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Deleted","service":"MicrosoftStream","servicePlanId":"9e700747-8b1d-45e5-ab8d-ef187ceec156"},{"assignedTimestamp":"2017-06-12T16:53:59Z","capabilityStatus":"Enabled","service":"MicrosoftCommunicationsOnline","servicePlanId":"0feaeb32-d00e-4d66-bd5a-43b5b83db82c"},{"assignedTimestamp":"2017-06-11T01:38:05Z","capabilityStatus":"Enabled","service":"MicrosoftStream","servicePlanId":"6c6042f5-6f01-4d67-b8c1-eb99d36eed3e"},{"assignedTimestamp":"2017-06-11T01:38:05Z","capabilityStatus":"Enabled","service":"AADPremiumService","servicePlanId":"eec0eb4f-6444-4f95-aba0-50c24d67f998"},{"assignedTimestamp":"2017-06-11T01:38:05Z","capabilityStatus":"Enabled","service":"SCO","servicePlanId":"c1ec4a95-1f05-45b3-a911-aa3fa01094f5"},{"assignedTimestamp":"2017-05-13T03:49:31Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"8e0c0a52-6a6c-4d40-8370-dd62790dcd70"},{"assignedTimestamp":"2016-12-14T10:51:56Z","capabilityStatus":"Enabled","service":"ProcessSimple","servicePlanId":"07699545-9485-468e-95b6-2fca3738be01"},{"assignedTimestamp":"2016-12-14T10:51:56Z","capabilityStatus":"Enabled","service":"PowerAppsService","servicePlanId":"9c0dab89-a30c-4117-86e7-97bda240acd2"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"PowerBI","servicePlanId":"70d33638-9c74-4d01-bfd3-562de28bd4ba"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"34c0d7a0-a70f-4668-9238-47f9fc208882"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"9f431833-0334-42de-a7dc-70aa40db46db"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Enabled","service":"exchange","servicePlanId":"4de31727-a228-4ec3-a5bf-8e45b5ca48cc"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Deleted","service":"PowerBI","servicePlanId":"fc0a60aa-feee-4746-a0e3-aecfe81a38dd"},{"assignedTimestamp":"2016-10-26T17:51:43Z","capabilityStatus":"Deleted","service":"AzureAnalysis","servicePlanId":"2049e525-b859-401b-b2a0-e0a31c4b1fe4"},{"assignedTimestamp":"2016-02-26T23:00:35Z","capabilityStatus":"Enabled","service":"MicrosoftOffice","servicePlanId":"663a804f-1c30-4ff0-9915-9db84f0d1cea"}],"city":"REDMOND","companyName":"MICROSOFT","consentProvidedForMinor":null,"country":null,"createdDateTime":null,"creationType":null,"department":"Azure
        and Web COGS 1010 US","dirSyncEnabled":true,"displayName":"Travis Prescott","employeeId":null,"facsimileTelephoneNumber":null,"givenName":"Travis","immutableId":"1002380","isCompromised":null,"jobTitle":"SOFTWARE
        ENGINEER II","lastDirSyncTime":"2019-05-31T17:03:21Z","legalAgeGroupClassification":null,"mail":"trpresco@microsoft.com","mailNickname":"trpresco","mobile":null,"onPremisesDistinguishedName":"CN=Travis
        Prescott,OU=UserAccounts,DC=redmond,DC=corp,DC=microsoft,DC=com","onPremisesSecurityIdentifier":"S-1-5-21-2127521184-1604012920-1887927527-20039400","otherMails":[],"passwordPolicies":"DisablePasswordExpiration","passwordProfile":null,"physicalDeliveryOfficeName":"18/3200FL","postalCode":null,"preferredLanguage":null,"provisionedPlans":[{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"SharePoint"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"Adallom"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"Netbreeze"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"CRM"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Deleted","provisioningStatus":"Success","service":"MicrosoftCommunicationsOnline"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"exchange"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftOffice"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftOffice"},{"capabilityStatus":"Enabled","provisioningStatus":"Success","service":"MicrosoftOffice"}],"provisioningErrors":[],"proxyAddresses":["X500:/o=MMS/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=f090f69a03ec4c0883b09aba05bc0e7f-Travis
        Prescoefc91e9","SMTP:trpresco@microsoft.com","smtp:trpresco@service.microsoft.com","smtp:trpresco@microsoft.onmicrosoft.com","X500:/o=microsoft/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=Travis Prescott930","X500:/o=Nokia/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=Travis Prescotte5c","X500:/o=microsoft/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=Travis Prescottf88","X500:/o=microsoft/ou=Exchange
        Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=31c24bdc1fc944a694953dfc8ed1db9e-Travis
        Prescot","X500:/o=ExchangeLabs/ou=Exchange Administrative Group (FYDIBOHF23SPDLT)/cn=Recipients/cn=2ba2598701d14f2684d504228fa7f530-Travis
        Pres"],"refreshTokensValidFromDateTime":"2019-05-31T16:44:26Z","showInAddressList":null,"signInNames":[],"sipProxyAddress":"trpresco@microsoft.com","state":null,"streetAddress":null,"surname":"Prescott","telephoneNumber":"+1
        (425) 7071057","thumbnailPhoto@odata.mediaEditLink":"directoryObjects/a1239024-a78f-4b62-a84e-3119f8924ffb/Microsoft.DirectoryServices.User/thumbnailPhoto","usageLocation":"US","userIdentities":[],"userPrincipalName":"trpresco@microsoft.com","userState":null,"userStateChangedOn":null,"userType":"Member","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToPersonnelNbr":"138058","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToFullName":"Wang,
        Yugang","extension_18e31482d3fb4a8ea958aa96b662f508_ReportsToEmailName":"YUGANGW","extension_18e31482d3fb4a8ea958aa96b662f508_SupervisorInd":"N","extension_18e31482d3fb4a8ea958aa96b662f508_ProfitCenterCode":"P10130001","extension_18e31482d3fb4a8ea958aa96b662f508_CostCenterCode":"10130001","extension_18e31482d3fb4a8ea958aa96b662f508_PositionNumber":"4664","extension_18e31482d3fb4a8ea958aa96b662f508_ZipCode":"98052","extension_18e31482d3fb4a8ea958aa96b662f508_StateProvinceCode":"WA","extension_18e31482d3fb4a8ea958aa96b662f508_CountryShortCode":"US","extension_18e31482d3fb4a8ea958aa96b662f508_CityName":"REDMOND","extension_18e31482d3fb4a8ea958aa96b662f508_BuildingName":"18","extension_18e31482d3fb4a8ea958aa96b662f508_BuildingID":"17","extension_18e31482d3fb4a8ea958aa96b662f508_AddressLine1":"1
        Microsoft Way","extension_18e31482d3fb4a8ea958aa96b662f508_PersonnelNumber":"1002380","extension_18e31482d3fb4a8ea958aa96b662f508_CompanyCode":"1010","extension_18e31482d3fb4a8ea958aa96b662f508_LocationAreaCode":"US"}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '17278'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:29:18 GMT
      duration:
      - '903469'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - WgqwaA7uWY22D4dquXQHPacPhyKRQEER6e6+ocAnyzw=
      ocp-aad-session-key:
      - Gz15nHkASnzYTdMGBWUsnKwSt6DfheDOgzidDR_dV6dCHksipcyX1vUwiK5PO64JlnOev42NQLAvfmwqA1kok6DuPDoi5FWto7XhX7zDsstlBrcRez5_5oDsIxQIqZnnZc9gWeG-RXUYp0QxFN9MkA.cdzeU_CVwctY0eNvDSOvhIRYyMJrCwLBfSydNWpyqq4
      pragma:
      - no-cache
      request-id:
      - 2c8c53f3-8a3b-4ed9-9d7a-385e6d473aaa
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "72f988bf-86f1-41af-91ab-2d7cd011db47", "objectId": "a1239024-a78f-4b62-a84e-3119f8924ffb",
      "permissions": {"keys": ["get", "create", "delete", "list", "update", "import",
      "backup", "restore", "recover"], "secrets": ["get", "list", "set", "delete",
      "backup", "restore", "recover"], "certificates": ["get", "list", "delete", "create",
      "import", "update", "managecontacts", "getissuers", "listissuers", "setissuers",
      "deleteissuers", "manageissuers", "recover"], "storage": ["get", "list", "delete",
      "set", "update", "regeneratekey", "setsas", "listsas", "getsas", "deletesas"]}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      Content-Length:
      - '746'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-keyvault/1.1.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2019-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"a1239024-a78f-4b62-a84e-3119f8924ffb","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net","provisioningState":"RegisteringDns"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1106'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.245
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-keyvault/1.1.0
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002?api-version=2019-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.KeyVault/vaults/clitest000002","name":"clitest000002","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"a1239024-a78f-4b62-a84e-3119f8924ffb","permissions":{"keys":["get","create","delete","list","update","import","backup","restore","recover"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"],"storage":["get","list","delete","set","update","regeneratekey","setsas","listsas","getsas","deletesas"]}}],"enabledForDeployment":false,"vaultUri":"https://clitest000002.vault.azure.net/","provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1102'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.1.0.245
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:29:56 GMT
      duration:
      - '1555142'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 79iHEFv08Z5eYiqEE8bs8QssJ8Mw1GK/njyBHhNtDbo=
      ocp-aad-session-key:
      - d4dS_rkaVUP6KbqXFT2sYKtIiGFsRZ2plYJ3o91okl5D3WJid6Q5_LbaouY8xBhRqn2sK4uTAIl0wSLD5VRU3wFqOb3KQu8kmNhSzWquTdPaT6K3hmLsV9O8coJ82MY6XuY0YCx9RxDIgbnDZw8GbQ.CUYGTi4CKMMZFf4lqXxzcbi92Oab9izzAhPD7fWnXxg
      pragma:
      - no-cache
      request-id:
      - 939aa28f-32f4-4c6f-9e8e-8b187d265608
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 21 Jun 2019 18:29:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
        resource="https://vault.azure.net"
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"6a3398643dce4839bcaa4e8e13ff1e3b"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:29:59 GMT
      expires:
      - '-1'
      location:
      - https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=6a3398643dce4839bcaa4e8e13ff1e3b
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"6a3398643dce4839bcaa4e8e13ff1e3b"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"6a3398643dce4839bcaa4e8e13ff1e3b"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/27b85786776d4e59a2fba79b9db6869e","kid":"https://clitest000002.vault.azure.net/keys/cert1/27b85786776d4e59a2fba79b9db6869e","sid":"https://clitest000002.vault.azure.net/secrets/cert1/27b85786776d4e59a2fba79b9db6869e","x5t":"MURrdX5TVQRBBfsfep3BhLTKOX8","cer":"MIIDQDCCAiigAwIBAgIQMSYQ/mEURFek+fGGiT5EljANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTkwNjIxMTgyMDA0WhcNMjAwNzIxMTgzMDA0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAY8GNff/uE2KSAo7+rQG3zuzbzK2g06b3cHlM0wntcekaaTy1CGXxNPNLGSwwUaHL5RrtZkkVgvFtxefClSbb2Qe9EKWy/3Lp7/fB7sGsL+v+km/nFulD+PWNeebO56588+mTec+GJOSGgGjxom1DsbgykVLCL3OLC8MhXeMifoigc30e43K1gIAKHSHy24z7r1PfV+TOB6oaC7Xo+FHGAJlNfMeKBf5ZCzJN5RQbBmRc1wYeLRAB4mzsU23Aj1Aq1rtj6PW41lxGOOkviAjbVWvTvouSjm1jGsOG2BsXzU40tqKW1bdmZ092wurwFpXwfEf+0yAOABmKwM8BdfBHAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRpSEYA2wfDgMdZh33VLMYg6ase6DAdBgNVHQ4EFgQUaUhGANsHw4DHWYd91SzGIOmrHugwDQYJKoZIhvcNAQELBQADggEBABM4Miw9iKwjLtwBhwpFnsVOeDKNXXXYpwVdwIb9YGb3a5DEzYk3s4chfkP5HDq6XVR0QhiWYgZieke+IPH7lvIfoKONi/5tsHRaXfr/Lkmb+gJ87M9SK9dOGEeECe5HPgX40+rttvTdSwQNAJrRAFamP6gzexzz7llbmHO5+q/ZNX9r3hIkdhB7WI0kzOx6doeYC7gEXutO8NW7zQtzkXwgfP0z96SdYwBkcM2sI0WYO0mPfQ7NTMuTPbUoeILxCrL47cCBcxXW1+HEf3IEEE3ATfXEjfIzwg7fVHr1DX5vscU3o+kylMAGIY3egKVrIrSwCirKg7+tymaStpIMSao=","attributes":{"enabled":true,"nbf":1561141204,"exp":1595356204,"created":1561141804,"updated":1561141804,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141799,"updated":1561141799}},"pending":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:05 GMT
      duration:
      - '688481'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - O4KpSJbi5/6YCC+tDQQlh4m8zzG+ja7BdgLs4Moxbzs=
      ocp-aad-session-key:
      - BUp69Px4jialdqmHOO50S4r9_A4uSWKRiU0EXZ4IxCsMOOa1ukUEkp_LxT6w_SCGvjwMypOqkYmSMd-N4-jaZ5ljY69CDtH15Czemw_PSfdz2aRLLSgQz6G_c_b9cV1pz2fzWldcUGZK4HKz7rQd2w.mX-TfOQbKmsvgFD5Yjh-XMsiILriWi1sZdKJvUQShfQ
      pragma:
      - no-cache
      request-id:
      - e9a8e3c4-4dd0-41c0-b0d0-a46a45a0e1bb
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''b\''{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_new_cert000001",
      "keyCredentials": [{"startDate": "2019-06-21T18:29:56.850522Z", "endDate": "2020-06-21T18:29:56.850522Z",
      "value": "MIIDQDCCAiigAwIBAgIQMSYQ/mEURFek+fGGiT5EljANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTkwNjIxMTgyMDA0WhcNMjAwNzIxMTgzMDA0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAY8GNff/uE2KSAo7+rQG3zuzbzK2g06b3cHlM0wntcekaaTy1CGXxNPNLGSwwUaHL5RrtZkkVgvFtxefClSbb2Qe9EKWy/3Lp7/fB7sGsL+v+km/nFulD+PWNeebO56588+mTec+GJOSGgGjxom1DsbgykVLCL3OLC8MhXeMifoigc30e43K1gIAKHSHy24z7r1PfV+TOB6oaC7Xo+FHGAJlNfMeKBf5ZCzJN5RQbBmRc1wYeLRAB4mzsU23Aj1Aq1rtj6PW41lxGOOkviAjbVWvTvouSjm1jGsOG2BsXzU40tqKW1bdmZ092wurwFpXwfEf+0yAOABmKwM8BdfBHAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRpSEYA2wfDgMdZh33VLMYg6ase6DAdBgNVHQ4EFgQUaUhGANsHw4DHWYd91SzGIOmrHugwDQYJKoZIhvcNAQELBQADggEBABM4Miw9iKwjLtwBhwpFnsVOeDKNXXXYpwVdwIb9YGb3a5DEzYk3s4chfkP5HDq6XVR0QhiWYgZieke+IPH7lvIfoKONi/5tsHRaXfr/Lkmb+gJ87M9SK9dOGEeECe5HPgX40+rttvTdSwQNAJrRAFamP6gzexzz7llbmHO5+q/ZNX9r3hIkdhB7WI0kzOx6doeYC7gEXutO8NW7zQtzkXwgfP0z96SdYwBkcM2sI0WYO0mPfQ7NTMuTPbUoeILxCrL47cCBcxXW1+HEf3IEEE3ATfXEjfIzwg7fVHr1DX5vscU3o+kylMAGIY3egKVrIrSwCirKg7+tymaStpIMSao=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_new_cert000001",
      "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"]}\'''''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1668'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"dadd8275-51c7-45da-9513-0789dff5de51","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2b564cc5-caf5-4eef-bf7d-3f9154a39e8e","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"31446B757E5355044105FB1F7A9DC184B4CA397F","endDate":"2020-06-21T18:29:56.850522Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:29:56.850522Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"48e907e4-f1d2-4d6f-b048-f6fce05dd94e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2768'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:07 GMT
      duration:
      - '7504622'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - LgXAcbVEU6vczw1+dJY77u/nuJ5/uLYq6pT3Y4X/6fM=
      ocp-aad-session-key:
      - ilg7VpVHqvRuXjHQssYLh8JW3l40iiAKK0ubAA4tmFLCbW9TJe0g2Hrx0OIhj008ppF8DbuCwU24e2cL6GIQamj9JUDEqHKSoY7PDgG05_CeudDRTnprOHVBSktYEqQyBYUuO-sjsInINvZ7eCWFeA.c2ndL8y2h3dQecBJvJd5qTrkCOAFgqq28KspSZx3Wys
      pragma:
      - no-cache
      request-id:
      - b0c12e55-897b-4a2e-acaf-7939f6bcde43
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": true, "appId": "2b564cc5-caf5-4eef-bf7d-3f9154a39e8e"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"0d3641ad-5d7a-4387-a0f7-72c135132d2c","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"2b564cc5-caf5-4eef-bf7d-3f9154a39e8e","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"48e907e4-f1d2-4d6f-b048-f6fce05dd94e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["2b564cc5-caf5-4eef-bf7d-3f9154a39e8e","http://cli_test_sp_with_kv_new_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2151'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:07 GMT
      duration:
      - '7365425'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/0d3641ad-5d7a-4387-a0f7-72c135132d2c/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - Fo1QicrIhHj2KR1ZzWvNa2KLRHgOjpt7/hmcNDActAs=
      ocp-aad-session-key:
      - vNVkI9QVo03Yntobe8Zt-npApwizZEHREWeB5It__vWh0p_SG42k2E_WWpUX_z1frMTedbZRdHyTnfMwu_Pcv1g_y2S2CMzfDfUgWhos0C7zmkhGNJYi_fM-J87S1gJCac7213XVsFCVTzShbdPnqQ.kzacL-KUV_7RvDoNr3-MUeFvdRvD97q6yqcB5i98lAI
      pragma:
      - no-cache
      request-id:
      - 28aff98b-922a-4c79-bc92-f5e86c3f03ca
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "0d3641ad-5d7a-4387-a0f7-72c135132d2c"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2018-09-01-preview
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 0d3641ad5d7a4387a0f772c135132d2c
        does not exist in the directory 72f988bf-86f1-41af-91ab-2d7cd011db47."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-request-charge:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "0d3641ad-5d7a-4387-a0f7-72c135132d2c"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-mgmt-authorization/0.52.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2018-09-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"0d3641ad-5d7a-4387-a0f7-72c135132d2c","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","createdOn":"2019-06-21T18:30:14.9598755Z","updatedOn":"2019-06-21T18:30:14.9598755Z","createdBy":null,"updatedBy":"a1239024-a78f-4b62-a84e-3119f8924ffb"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '903'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; HttpOnly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-ms-request-charge:
      - '2'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/27b85786776d4e59a2fba79b9db6869e","kid":"https://clitest000002.vault.azure.net/keys/cert1/27b85786776d4e59a2fba79b9db6869e","sid":"https://clitest000002.vault.azure.net/secrets/cert1/27b85786776d4e59a2fba79b9db6869e","x5t":"MURrdX5TVQRBBfsfep3BhLTKOX8","cer":"MIIDQDCCAiigAwIBAgIQMSYQ/mEURFek+fGGiT5EljANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTkwNjIxMTgyMDA0WhcNMjAwNzIxMTgzMDA0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAY8GNff/uE2KSAo7+rQG3zuzbzK2g06b3cHlM0wntcekaaTy1CGXxNPNLGSwwUaHL5RrtZkkVgvFtxefClSbb2Qe9EKWy/3Lp7/fB7sGsL+v+km/nFulD+PWNeebO56588+mTec+GJOSGgGjxom1DsbgykVLCL3OLC8MhXeMifoigc30e43K1gIAKHSHy24z7r1PfV+TOB6oaC7Xo+FHGAJlNfMeKBf5ZCzJN5RQbBmRc1wYeLRAB4mzsU23Aj1Aq1rtj6PW41lxGOOkviAjbVWvTvouSjm1jGsOG2BsXzU40tqKW1bdmZ092wurwFpXwfEf+0yAOABmKwM8BdfBHAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRpSEYA2wfDgMdZh33VLMYg6ase6DAdBgNVHQ4EFgQUaUhGANsHw4DHWYd91SzGIOmrHugwDQYJKoZIhvcNAQELBQADggEBABM4Miw9iKwjLtwBhwpFnsVOeDKNXXXYpwVdwIb9YGb3a5DEzYk3s4chfkP5HDq6XVR0QhiWYgZieke+IPH7lvIfoKONi/5tsHRaXfr/Lkmb+gJ87M9SK9dOGEeECe5HPgX40+rttvTdSwQNAJrRAFamP6gzexzz7llbmHO5+q/ZNX9r3hIkdhB7WI0kzOx6doeYC7gEXutO8NW7zQtzkXwgfP0z96SdYwBkcM2sI0WYO0mPfQ7NTMuTPbUoeILxCrL47cCBcxXW1+HEf3IEEE3ATfXEjfIzwg7fVHr1DX5vscU3o+kylMAGIY3egKVrIrSwCirKg7+tymaStpIMSao=","attributes":{"enabled":true,"nbf":1561141204,"exp":1595356204,"created":1561141804,"updated":1561141804,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141799,"updated":1561141799}},"pending":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"0d3641ad-5d7a-4387-a0f7-72c135132d2c","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"2b564cc5-caf5-4eef-bf7d-3f9154a39e8e","applicationTemplateId":null,"appOwnerTenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"48e907e4-f1d2-4d6f-b048-f6fce05dd94e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_new_cert000001","2b564cc5-caf5-4eef-bf7d-3f9154a39e8e"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:17 GMT
      duration:
      - '781454'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - XOs9gGfyH50gS8B3zPgeXNS3pfhaVVLdmqEFzm9FoHE=
      ocp-aad-session-key:
      - mBxQGZi4_oEGk5pkFVELklCLPfAfsl54XlMgfLDqWHiW5UPAVnJcJwy9JEAJyLNOJwg2z7aVEaKHyaVLL5i4fVO7mAJOvjN2pv0c-TBjXElWEDfsfAeV3eio9p7zLIad4BzesynFcu1XYi3eL93Ejw.wZnZ8YWtULopHMi1NO86T5tMaHjCHXJuKB0eDmfIUcA
      pragma:
      - no-cache
      request-id:
      - f88ff92a-6078-4584-9b4e-c55b8f38bd48
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%272b564cc5-caf5-4eef-bf7d-3f9154a39e8e%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:17 GMT
      duration:
      - '680640'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Lvh0/G78olXOk4T0L5DDgaqMqxW05ALila/UzU46pxE=
      ocp-aad-session-key:
      - VP-uwDLRZTmzwo4VOmDpH6cxFxuUeoE3CXwXTGihMgRa7_N53RF-yPBMhc37WH11SK_9YYn82YUAb-ySODZXK3-enF_simaJPS-TPbv4b8l9mWfsdBprxb2g_CWAsEukTUKk6ZTTOKinwZzh_vr0KA.AxLvxRQyrrbUYxbVt2y55DyP5GtnEYM6l3BNYFjCRPQ
      pragma:
      - no-cache
      request-id:
      - 718d22c9-d259-4c17-af8f-26327366f793
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%272b564cc5-caf5-4eef-bf7d-3f9154a39e8e%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"dadd8275-51c7-45da-9513-0789dff5de51","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2b564cc5-caf5-4eef-bf7d-3f9154a39e8e","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"31446B757E5355044105FB1F7A9DC184B4CA397F","endDate":"2020-06-21T18:29:56.850522Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:29:56.850522Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"48e907e4-f1d2-4d6f-b048-f6fce05dd94e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:18 GMT
      duration:
      - '970873'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Jyamh40I/riKJflXwk3LHmaI3Lsq6osSe+/rd7Qerq0=
      ocp-aad-session-key:
      - lMKaGOR5xX6gg6Nl5Bid_Zs1jtp3aG46yx1J3qOtpMd31rC-_BXAbXeDnsnqSYsRse_iW9IGo5Gyr7P2LWCgrF0z5u-3taM7793ZI1gqYp6dD_UdmJRVBqo3HZmdiek4_0lwgiyF2x0CB_WCTx37Wg.JEOFCm9aO9yNdtpv_oX1kafmBFc0dZr1V7VXlRVyIBA
      pragma:
      - no-cache
      request-id:
      - d2c8aff8-2111-4b73-8ebc-012acdf33fd5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/dadd8275-51c7-45da-9513-0789dff5de51?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"dadd8275-51c7-45da-9513-0789dff5de51","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2b564cc5-caf5-4eef-bf7d-3f9154a39e8e","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"31446B757E5355044105FB1F7A9DC184B4CA397F","endDate":"2020-06-21T18:29:56.850522Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2019-06-21T18:29:56.850522Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"48e907e4-f1d2-4d6f-b048-f6fce05dd94e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2682'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:18 GMT
      duration:
      - '788226'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Hmgcuy1hpGi6KCpCk4BrqM0RyCbBpwqDLCqIAEp//qg=
      ocp-aad-session-key:
      - T4uiG29Rh6uDlD116aP-CG0Jbm8bcer40T6ABMwyadKh6IAsoq3lGQtETqxq_Cx1NJAdcaaIZQ8cBfzveRmIlXUxLICVycqTRY6lnghFGtd_rtFkS3X-V9vK3GvWi8tor5GnvLobvjRxUUYty8nJjA.4h0ipSlT14Zj0zrtgm6iNBIrvwac4ThK4EVzREV9RQc
      pragma:
      - no-cache
      request-id:
      - dd8ae270-87a8-4a91-b353-149ecf2b3866
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/create?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b9df4fc425774bf9b60682f94d9e85d7"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:19 GMT
      expires:
      - '-1'
      location:
      - https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0&request_id=b9df4fc425774bf9b60682f94d9e85d7
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b9df4fc425774bf9b60682f94d9e85d7"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b9df4fc425774bf9b60682f94d9e85d7"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b9df4fc425774bf9b60682f94d9e85d7"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGPBjX3/7hNikgKO/q0Bt87s28ytoNOm93B5TNMJ7XHpGmk8tQhl8TTzSxksMFGhy+Ua7WZJFYLxbcXnwpUm29kHvRClsv9y6e/3we7BrC/r/pJv5xbpQ/j1jXnmzueufPPpk3nPhiTkhoBo8aJtQ7G4MpFSwi9ziwvDIV3jIn6IoHN9HuNytYCACh0h8tuM+69T31fkzgeqGgu16PhRxgCZTXzHigX+WQsyTeUUGwZkXNcGHi0QAeJs7FNtwI9QKta7Y+j1uNZcRjjpL4gI21Vr076Lko5tYxrDhtgbF81ONLailtW3ZmdPdsLq8BaV8HxH/tMgDgAZisDPAXXwRwIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAD41FtU23MPq5qJ1xapZbdj1sY6KhNbC9XCd/dbG+ARukRWwLQU/k5m/x/hw56RaZj5wHAbpRoC37CQ6Xb7nnftpPj04cnLjbGH43Vc2R4o4cvIZFuVRs1k8NNohre5zWKh9x21ivnmWiAbV0X2+Riiv9gpfYPuUW3RRJNaNw0s6egYnOQXgDQGdVDTxTtVaNO0Mt7hhour7lwUPBOCjmFtPcS0WhR64sKqqWDnrhb/CsHL1iCfrmrbcRssIgaJeJ3Gg9IF5wjSJQULslrXB1Tf0fGi8sxtdKGt+X9OMmt52ShoZwPirr5MWHecy9McEr7wLvRpokCKTrOlJO2mOqKI=","cancellation_requested":false,"status":"completed","target":"https://clitest000002.vault.azure.net/certificates/cert1","request_id":"b9df4fc425774bf9b60682f94d9e85d7"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/7b04037b8d4f42a3b7b2c8f4b38c442c","kid":"https://clitest000002.vault.azure.net/keys/cert1/7b04037b8d4f42a3b7b2c8f4b38c442c","sid":"https://clitest000002.vault.azure.net/secrets/cert1/7b04037b8d4f42a3b7b2c8f4b38c442c","x5t":"1eqVBgIQJ2w2UPKWEvv5t0lPmPQ","cer":"MIIDQDCCAiigAwIBAgIQZCpin6CTRYC0AO7cI43EuzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTkwNjIxMTgyMDM1WhcNMjAwNzIxMTgzMDM1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAY8GNff/uE2KSAo7+rQG3zuzbzK2g06b3cHlM0wntcekaaTy1CGXxNPNLGSwwUaHL5RrtZkkVgvFtxefClSbb2Qe9EKWy/3Lp7/fB7sGsL+v+km/nFulD+PWNeebO56588+mTec+GJOSGgGjxom1DsbgykVLCL3OLC8MhXeMifoigc30e43K1gIAKHSHy24z7r1PfV+TOB6oaC7Xo+FHGAJlNfMeKBf5ZCzJN5RQbBmRc1wYeLRAB4mzsU23Aj1Aq1rtj6PW41lxGOOkviAjbVWvTvouSjm1jGsOG2BsXzU40tqKW1bdmZ092wurwFpXwfEf+0yAOABmKwM8BdfBHAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRpSEYA2wfDgMdZh33VLMYg6ase6DAdBgNVHQ4EFgQUaUhGANsHw4DHWYd91SzGIOmrHugwDQYJKoZIhvcNAQELBQADggEBAK+CUsNKShmaywITTedvQOrzvmZDm1d55b1iN7hIDO6aEBDNkrz9b4pU19el0baXGg92cR2so6askqTP9WZDVXDxDMcRVC8OUm7KwaOMYaJme8it9Zlrr/SES+N4y4iC2jJMYKS88xVq2LcztljRgOnfiZCuFrd67feB2PtHGCvgxgST81EPX1d6KJK4XHET8egrXhdtXrdm32WKsIBo0wXWJYXTSWyuoC3J5HNb6oveV/b8SnIKKide08nUxrv4seHYgXA0XKKgDsNRCNwSzX718Rh/kDZ98LfoXWSLReqkBbCmkStB99NKFcTkWIOk8K3dCOx1pFIHziGKLIlYePg=","attributes":{"enabled":true,"nbf":1561141235,"exp":1595356235,"created":1561141835,"updated":1561141835,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141799,"updated":1561141819}},"pending":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: 'b''{"keyCredentials": [{"startDate": "2019-06-21T18:30:18.189273Z", "endDate":
      "2020-06-21T18:30:18.189273Z", "value": "MIIDQDCCAiigAwIBAgIQZCpin6CTRYC0AO7cI43EuzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTkwNjIxMTgyMDM1WhcNMjAwNzIxMTgzMDM1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAY8GNff/uE2KSAo7+rQG3zuzbzK2g06b3cHlM0wntcekaaTy1CGXxNPNLGSwwUaHL5RrtZkkVgvFtxefClSbb2Qe9EKWy/3Lp7/fB7sGsL+v+km/nFulD+PWNeebO56588+mTec+GJOSGgGjxom1DsbgykVLCL3OLC8MhXeMifoigc30e43K1gIAKHSHy24z7r1PfV+TOB6oaC7Xo+FHGAJlNfMeKBf5ZCzJN5RQbBmRc1wYeLRAB4mzsU23Aj1Aq1rtj6PW41lxGOOkviAjbVWvTvouSjm1jGsOG2BsXzU40tqKW1bdmZ092wurwFpXwfEf+0yAOABmKwM8BdfBHAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRpSEYA2wfDgMdZh33VLMYg6ase6DAdBgNVHQ4EFgQUaUhGANsHw4DHWYd91SzGIOmrHugwDQYJKoZIhvcNAQELBQADggEBAK+CUsNKShmaywITTedvQOrzvmZDm1d55b1iN7hIDO6aEBDNkrz9b4pU19el0baXGg92cR2so6askqTP9WZDVXDxDMcRVC8OUm7KwaOMYaJme8it9Zlrr/SES+N4y4iC2jJMYKS88xVq2LcztljRgOnfiZCuFrd67feB2PtHGCvgxgST81EPX1d6KJK4XHET8egrXhdtXrdm32WKsIBo0wXWJYXTSWyuoC3J5HNb6oveV/b8SnIKKide08nUxrv4seHYgXA0XKKgDsNRCNwSzX718Rh/kDZ98LfoXWSLReqkBbCmkStB99NKFcTkWIOk8K3dCOx1pFIHziGKLIlYePg=",
      "keyId": "88888888-0000-0000-0000-000000000004", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1335'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/dadd8275-51c7-45da-9513-0789dff5de51?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:30:37 GMT
      duration:
      - '6144377'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - A0TISAaaPyfZDtlqv77d4kTKQUFjSgfdf+Q69DXpj+0=
      ocp-aad-session-key:
      - s0mIY_cInx1JxaFENiHyQc8f3C_dZgVhKYiCJQWBDOGz9qgUipnNV2dTF4Sb6nQBAYWOZ54Sh4-QkrVL7BajzlisWfuQSz8j2MKYpi5dai4sE3dJG_n_JLfTuApnB6WsC43k6btL1c8UkTJ0gYNMdQ.QBfBr-uT1syHtz_jH2HwkXW-78B2Ddtoh3sWHQugamQ
      pragma:
      - no-cache
      request-id:
      - 01e065dd-fb74-4343-8f1a-0eb5177b398e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-keyvault/7.0
        Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/?api-version=7.0
  response:
    body:
      string: '{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/7b04037b8d4f42a3b7b2c8f4b38c442c","kid":"https://clitest000002.vault.azure.net/keys/cert1/7b04037b8d4f42a3b7b2c8f4b38c442c","sid":"https://clitest000002.vault.azure.net/secrets/cert1/7b04037b8d4f42a3b7b2c8f4b38c442c","x5t":"1eqVBgIQJ2w2UPKWEvv5t0lPmPQ","cer":"MIIDQDCCAiigAwIBAgIQZCpin6CTRYC0AO7cI43EuzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMTkwNjIxMTgyMDM1WhcNMjAwNzIxMTgzMDM1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAY8GNff/uE2KSAo7+rQG3zuzbzK2g06b3cHlM0wntcekaaTy1CGXxNPNLGSwwUaHL5RrtZkkVgvFtxefClSbb2Qe9EKWy/3Lp7/fB7sGsL+v+km/nFulD+PWNeebO56588+mTec+GJOSGgGjxom1DsbgykVLCL3OLC8MhXeMifoigc30e43K1gIAKHSHy24z7r1PfV+TOB6oaC7Xo+FHGAJlNfMeKBf5ZCzJN5RQbBmRc1wYeLRAB4mzsU23Aj1Aq1rtj6PW41lxGOOkviAjbVWvTvouSjm1jGsOG2BsXzU40tqKW1bdmZ092wurwFpXwfEf+0yAOABmKwM8BdfBHAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRpSEYA2wfDgMdZh33VLMYg6ase6DAdBgNVHQ4EFgQUaUhGANsHw4DHWYd91SzGIOmrHugwDQYJKoZIhvcNAQELBQADggEBAK+CUsNKShmaywITTedvQOrzvmZDm1d55b1iN7hIDO6aEBDNkrz9b4pU19el0baXGg92cR2so6askqTP9WZDVXDxDMcRVC8OUm7KwaOMYaJme8it9Zlrr/SES+N4y4iC2jJMYKS88xVq2LcztljRgOnfiZCuFrd67feB2PtHGCvgxgST81EPX1d6KJK4XHET8egrXhdtXrdm32WKsIBo0wXWJYXTSWyuoC3J5HNb6oveV/b8SnIKKide08nUxrv4seHYgXA0XKKgDsNRCNwSzX718Rh/kDZ98LfoXWSLReqkBbCmkStB99NKFcTkWIOk8K3dCOx1pFIHziGKLIlYePg=","attributes":{"enabled":true,"nbf":1561141235,"exp":1595356235,"created":1561141835,"updated":1561141835,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1561141799,"updated":1561141819}},"pending":{"id":"https://test_create_for_rbac_with_new_kv_cert000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 21 Jun 2019 18:30:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - addr=131.107.159.80;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.0.866
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"dadd8275-51c7-45da-9513-0789dff5de51","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"2b564cc5-caf5-4eef-bf7d-3f9154a39e8e","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"D5EA95060210276C3650F29612FBF9B7494F98F4","endDate":"2020-06-21T18:30:18.189273Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2019-06-21T18:30:18.189273Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/dadd8275-51c7-45da-9513-0789dff5de51/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"48e907e4-f1d2-4d6f-b048-f6fce05dd94e","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Fri, 21 Jun 2019 18:30:39 GMT
      duration:
      - '737798'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - tw4fYXYGY2N8zzisqCfrGN37d/pH/8bdST30drhOOag=
      ocp-aad-session-key:
      - dgceRWaOswcFhV1d-nSS67UaZ9zi5DNJNRqrYX0PjgjZ5AcGNTxoXTNchtrZu3zrnOQ7_75_t9M3jg5C6zwnmBGQcZMWHWHS6DGyYI1ZZrImOGnM6Y-vwvtHqbrq67XsYMaY-5nVNIyrqaYJHBK9vg.t5lx3aVCes9bs45OFdLtSK356h8X99YvW0-sXyKM1fI
      pragma:
      - no-cache
      request-id:
      - 4b29bd6b-be8a-4a96-bc56-69b722bbcb24
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 azure-graphrbac/0.61.1
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/dadd8275-51c7-45da-9513-0789dff5de51?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Fri, 21 Jun 2019 18:30:39 GMT
      duration:
      - '6532557'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - TF7V9cFPmZmQJjy/0crfkRiCbrtTUG3VKT/zd0mx1Gc=
      ocp-aad-session-key:
      - 4TVQAicqu_EijjhkLu6YOW4Fr9vttJH4nEU5fjb9izbTEr2tYxUBM4uQzPJrJkYFLd8lKPQVF8rYyT4cuQYCSwk_gPxoypUCbnggdPI3F29lV3Xp8kNog3gTog2od86QnBST2wnBwt__nQd09MED0A.-OoEJsX48lJAtmKaE4r4n8u2qSXcLoovPxlb66fiwK4
      pragma:
      - no-cache
      request-id:
      - 4e289ae7-a4a4-4e29-bb4f-89effa6b169e
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --yes --no-wait
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18362-SP0) msrest/0.6.7 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_sp_with_kv_new_cert000001?api-version=2019-07-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 21 Jun 2019 18:30:39 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTEk6NUZURVNUOjVGU1A6NUZXSVRIOjVGS1Y6NUZORVc6NUZDRVJUN0FSTEtCSXxCMkJBQjI2OEY5RTcxNDY2LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2019-07-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
version: 1
