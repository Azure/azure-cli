interactions:
- request:
    body: '{"location": "eastus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-02-15T20:26:50Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [--location --name --tag]
      User-Agent: [python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.6.0
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest000001","name":"clitest000001","location":"eastus","tags":{"product":"azurecli","cause":"automation","date":"2019-02-15T20:26:50Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['268']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 20:26:53 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      ParameterSetName: [-n --skip-assignment]
      User-Agent: [python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.6.0
          azure-graphrbac/0.53.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fclitest000002%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['121']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 15 Feb 2019 20:26:55 GMT']
      duration: ['1087444']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [03tJtVtrK59o2WrrDjJFasNQO9BoGoGL+dG53QSLpQQ=]
      ocp-aad-session-key: [9ZLw4zp3-DklPtnJDASXX12tkKhxsWWkPpVDeYWRA7zMUlTwWpmbz8sTYr9RCDEPHYuwtTC5ZkYZHjlVIWWuXNbKoFyOrqh-cAAKk1nlLchYdr7m53GyGRijMF991HIP.yhhr50yeIHRcxb3nEHsf0y5hrVBXZIngP0wncAJr75w]
      pragma: [no-cache]
      request-id: [2e227400-78e8-4559-9ad6-412374b952ec]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"availableToOtherTenants": false, "displayName": "clitestl2644zemn2",
      "homepage": "https://clitestl2644zemn2", "identifierUris": ["http://clitest000002"],
      "passwordCredentials": [{"startDate": "2019-02-15T20:26:55.806825Z", "endDate":
      "2020-02-15T20:26:55.806825Z", "keyId": "65c70f6f-7b39-45b9-8cc3-f9ca86281c1f",
      "value": "b173afa9-2af1-40a2-a6b3-1ec231d74544", "customKeyIdentifier": "//5yAGIAYQBjAA=="}]}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [ad sp create-for-rbac]
      Connection: [keep-alive]
      Content-Length: ['413']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n --skip-assignment]
      User-Agent: [python/3.7.1 (Windows-10-10.0.17763-SP0) msrest/0.6.4 msrest_azure/0.6.0
          azure-graphrbac/0.53.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"499823c9-b787-4e22-a68d-b55078bd078c","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"8b487d59-3d80-43c9-9ee1-8b9c40dced63","appRoles":[],"availableToOtherTenants":false,"displayName":"clitestl2644zemn2","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://clitestl2644zemn2","identifierUris":["http://clitest000002"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/499823c9-b787-4e22-a68d-b55078bd078c/Microsoft.DirectoryServices.Application/logo","logo@odata.mediaContentType":"application/json;odata=minimalmetadata;
        charset=utf-8","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/499823c9-b787-4e22-a68d-b55078bd078c/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access clitestl2644zemn2 on behalf of the signed-in user.","adminConsentDisplayName":"Access
        clitestl2644zemn2","id":"e924d912-4bab-4755-9bc3-573a73a06f5d","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access clitestl2644zemn2 on your behalf.","userConsentDisplayName":"Access
        clitestl2644zemn2","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[{"customKeyIdentifier":"//5yAGIAYQBjAA==","endDate":"2020-02-15T20:26:55.806825Z","keyId":"65c70f6f-7b39-45b9-8cc3-f9ca86281c1f","startDate":"2019-02-15T20:26:55.806825Z","value":null}],"publicClient":null,"publisherDomain":"microsoft.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['2264']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Fri, 15 Feb 2019 20:26:56 GMT']
      duration: ['6928569']
      expires: ['-1']
      location: ['https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/499823c9-b787-4e22-a68d-b55078bd078c/Microsoft.DirectoryServices.Application']
      ocp-aad-diagnostics-server-name: [8b/Ht2S1JqSnD0uF+3TSXMqw6CMlMu8U0UwicIuMm2g=]
      ocp-aad-session-key: [olkbgITDLmGt0ELK50qwUh0pH1Wp9iymvp5tJJ4iw8XWiBhfABaCYis-czmM33V4TUekprXydsiZCBAE1rGNliHFdXlstUHA-v51arwypopvgWuR6skUuMEL5WWHxQS-GMttnTBWrr_7cKqCzYMQvw.Hvp71ojCJsYHFuWT93Y1VYVXilaGvbddRISjcZLyHJw]
      pragma: [no-cache]
      request-id: [71a90612-9585-42ca-a685-a9d668d724cb]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 201, message: Created}
version: 1
