interactions:
- request:
    body: '{"location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batchai workspace create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.19041-SP0) msrest/0.6.9 msrest_azure/0.6.3 azure-mgmt-batchai/2.0.0
        Azure-SDK-For-Python AZURECLI/2.9.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.BatchAI/workspaces/workspace?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.BatchAI/workspaces/workspace","name":"workspace","type":"Microsoft.BatchAI/workspaces","location":"westus","properties":{"provisioningState":"succeeded","provisioningStateTransitionTime":"2020-07-24T06:41:33.422Z","creationTime":"2020-07-24T06:41:33.422Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '427'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 24 Jul 2020 06:41:34 GMT
      etag:
      - W/"0x8D82F9C9AF741E0"
      expires:
      - '-1'
      last-modified:
      - Fri, 24 Jul 2020 06:41:33 GMT
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:22307ea5-0af8-473a-8389-17649f981c86
      request-id:
      - 62042946-0ac4-4840-b5ff-30d9ed94a7de
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1193'
      x-request-time:
      - '0.154'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batchai experiment create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -w -n
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.19041-SP0) msrest/0.6.9 msrest_azure/0.6.3 azure-mgmt-batchai/2.0.0
        Azure-SDK-For-Python AZURECLI/2.9.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.BatchAI/workspaces/workspace/experiments/experiment?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.BatchAI/workspaces/workspace/experiments/experiment","name":"experiment","type":"Microsoft.BatchAI/workspaces/experiments","properties":{"provisioningState":"succeeded","provisioningStateTransitionTime":"2020-07-24T06:41:36.367Z","creationTime":"2020-07-24T06:41:36.367Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '443'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 24 Jul 2020 06:41:36 GMT
      etag:
      - W/"0x8D82F9C9CB8B393"
      expires:
      - '-1'
      last-modified:
      - Fri, 24 Jul 2020 06:41:36 GMT
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:22307ea5-0af8-473a-8389-17649f981c86
      request-id:
      - 50f5cdd0-2eba-4164-ba86-a36a4f4a54f0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1195'
      x-request-time:
      - '0.052'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batchai cluster create
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -w -n -s -t -u --generate-ssh-keys
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.19041-SP0) msrest/0.6.9 msrest_azure/0.6.3 azure-mgmt-batchai/2.0.0
        Azure-SDK-For-Python AZURECLI/2.9.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.BatchAI/workspaces/workspace/clusters/simple?api-version=2018-05-01
  response:
    body:
      string: '{"error":{"code":"ClusterNotFound","message":"The specified compute
        training cluster and/or compute instance simple is not found"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 24 Jul 2020 06:41:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:22307ea5-0af8-473a-8389-17649f981c86
      request-id:
      - 1b71dc94-02db-4446-a68f-a88990804068
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: The specified compute training cluster and/or compute instance simple
        is not found
- request:
    body: '{"properties": {"vmSize": "Standard_D1", "vmPriority": "dedicated", "scaleSettings":
      {"manual": {"targetNodeCount": 1, "nodeDeallocationOption": "requeue"}}, "userAccountSettings":
      {"adminUserName": "alex", "adminUserSshPublicKey": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDUkQ08GKz7v20K0CXEXVnY5prCnEUl+A2KA4Ubg6W76fdqSl4LZneP4MiMOltUAoZsAYbT6D4ja7kxZqGnu7RB0g6Oqv1g0eHYNfLV9XAq4nvDmtSGBXpgBs6Kg1+y+g2j3XOHSCNSG4EJtyzqujt1obt+95UdvbDfb7GC6Dc76gBiFP4AFTdDS5rK0YAct4xH1rFtZKc2ygMUrhm6b57p0QHKAJsc9Jb7PuGh9qvwdg5mOZzZZBKq20fj7FB2pOYGjH6bIUN4Vo0I2t80PHOyMYVkNDLvFagpVs58eCju5d5MYPxV7RKJzOYt5mDfGcYA5INH9+ReXOqRKMzjQmv4sk5PzOafJXvgQvd0vT7WL+NXS/kNzP4buQyhhWWJfhauQWwy9wiiIaCJwAQ1GZnKSGI9ZpYIYGrZsaqLmU8l59ykLictD83vVucAYe1GzgRogBJDyRN0LVab9dFDdmGcVhPOlkqY4kJb7mpvRn6wzUVvRc9cXyJicBwrDaTgix8=
      Zhou.Xing@microsoft.com\n"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batchai cluster create
      Connection:
      - keep-alive
      Content-Length:
      - '815'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -g -w -n -s -t -u --generate-ssh-keys
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.19041-SP0) msrest/0.6.9 msrest_azure/0.6.3 azure-mgmt-batchai/2.0.0
        Azure-SDK-For-Python AZURECLI/2.9.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.BatchAI/workspaces/workspace/clusters/simple?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.BatchAI/locations/westus/operationresults/cb74453f-1cff-47f0-92fc-48fbb972c9c0?api-version=2018-05-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 24 Jul 2020 06:41:38 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.BatchAI/locations/westus/operationstatuses/cb74453f-1cff-47f0-92fc-48fbb972c9c0?api-version=2018-05-01
      pragma:
      - no-cache
      request-context:
      - appId=cid-v1:22307ea5-0af8-473a-8389-17649f981c86
      request-id:
      - 65ecc241-c92c-43f3-a21d-56cf7dac7837
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1192'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batchai cluster create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -w -n -s -t -u --generate-ssh-keys
      User-Agent:
      - python/3.8.0 (Windows-10-10.0.19041-SP0) msrest/0.6.9 msrest_azure/0.6.3 azure-mgmt-batchai/2.0.0
        Azure-SDK-For-Python AZURECLI/2.9.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.BatchAI/locations/westus/operationresults/cb74453f-1cff-47f0-92fc-48fbb972c9c0?api-version=2018-05-01
  response:
    body:
      string: '{"error":{"code":"NoRegisteredProviderFound","message":"No registered
        resource provider found for location ''westus'' and API version ''2018-05-01''
        for type ''locations/operationresults''. The supported api-versions are ''2017-09-01-preview,
        2018-03-01, 2018-05-01''. The supported locations are ''eastus, westus2, westeurope,
        eastus2, northeurope, australiaeast, eastus2euap, westcentralus, southeastasia,
        southcentralus''."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '418'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 24 Jul 2020 06:41:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 400
      message: Bad Request
version: 1
