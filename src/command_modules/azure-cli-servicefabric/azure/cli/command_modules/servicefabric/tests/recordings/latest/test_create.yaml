interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5609b02c-89b5-11e7-8210-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7?api-version=2017-05-10
  response:
    body: {string: '{"error":{"code":"ResourceGroupNotFound","message":"Resource group
        ''sfcli7'' could not be found."}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['98']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:17 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-failure-cause: [gateway]
    status: {code: 404, message: Not Found}
- request:
    body: '{"location": "westus"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['22']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [5640c890-89b5-11e7-accb-185e0fecfac1]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7","name":"sfcli7","location":"westus","properties":{"provisioningState":"Succeeded"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['165']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:18 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [56c8e9fa-89b5-11e7-8112-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7","name":"sfcli7","location":"westus","properties":{"provisioningState":"Succeeded"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:19 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['165']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 keyvaultmanagementclient/0.40.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [56f1f5b4-89b5-11e7-9198-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/edder-cli-test-4/providers/Microsoft.KeyVault/vaults/edder-cli-test-4","name":"edder-cli-test-4","type":"Microsoft.KeyVault/vaults","location":"westus2","tags":{"clusterName":"edder-cli-test-4","resourceType":"Service
        Fabric"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/moelzein22164228-keyvault/providers/Microsoft.KeyVault/vaults/moelzein22164228","name":"moelzein22164228","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/payel1711RG/providers/Microsoft.KeyVault/vaults/payelkeyvault","name":"payelkeyvault","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sf-test/providers/Microsoft.KeyVault/vaults/sf-test","name":"sf-test","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfautotest16/providers/Microsoft.KeyVault/vaults/sfautotest16","name":"sfautotest16","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli1/providers/Microsoft.KeyVault/vaults/sfcli1","name":"sfcli1","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli2/providers/Microsoft.KeyVault/vaults/sfcli2","name":"sfcli2","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4","name":"sfcli4","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli5/providers/Microsoft.KeyVault/vaults/sfcli5","name":"sfcli5","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/yaoyangsfrpwi1/providers/Microsoft.KeyVault/vaults/yaoyangsfrpwi1KV","name":"yaoyangsfrpwi1KV","type":"Microsoft.KeyVault/vaults","location":"southcentralus","tags":{}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:19 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['2299']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 keyvaultmanagementclient/0.40.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [571c12c2-89b5-11e7-b14d-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4?api-version=2016-10-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4","name":"sfcli4","type":"Microsoft.KeyVault/vaults","location":"westus","tags":{},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","accessPolicies":[{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","objectId":"9ea2e1d7-fd22-4d31-825a-ec42a4a26a16","permissions":{"keys":["get","create","delete","list","update","import","backup","restore"],"secrets":["get","list","set","delete","backup","restore","recover"],"certificates":["get","list","delete","create","import","update","managecontacts","getissuers","listissuers","setissuers","deleteissuers","manageissuers","recover"]}}],"enabledForDeployment":true,"vaultUri":"https://sfcli4.vault.azure.net/"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:19 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      content-length: ['831']
      x-ms-keyvault-service-version: [1.0.0.179]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [57571f5a-89b5-11e7-b550-185e0fecfac1]
    method: GET
    uri: https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77?api-version=2016-10-01
  response:
    body: {string: ''}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['0']
      Date: ['Fri, 25 Aug 2017 16:49:19 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      WWW-Authenticate: ['Bearer authorization="https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47",
          resource="https://vault.azure.net"']
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.820]
    status: {code: 401, message: Unauthorized}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 keyvaultclient/0.3.4 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [57571f5a-89b5-11e7-b550-185e0fecfac1]
    method: GET
    uri: https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77?api-version=2016-10-01
  response:
    body: {string: '{"value":"MIIKPAIBAzCCCfwGCSqGSIb3DQEHAaCCCe0EggnpMIIJ5TCCBhYGCSqGSIb3DQEHAaCCBgcEggYDMIIF/zCCBfsGCyqGSIb3DQEMCgECoIIE/jCCBPowHAYKKoZIhvcNAQwBAzAOBAjuAOjyJUluWgICB9AEggTYI8gzBeKDGw+hym98xil7To77niAgNs5T1UnJxUDR3XhpvwwrtE+43VkKqUQbCd+9M7B1LqrO8vbkkowUuxRaBjTxLD4bwZLYWEPqys1Gzy0doy/zxTTEDTzEWHEkV1/U65alO/tueocrHPiR087E+Pc9M+AROrxTNmFdTZ2KSVnOnyxFR5xWogMnjByv63us9IuPQYgmMHgn0eH0SVfkURLVOb4Af6q84wjdahLxA4C/7VrsJ6fEFrGNZMI/y/F7rX9DQ7Ug3k7vzWDfgbGQJYd95a89D6jxSbdCNhHIomxAYT0dfQUvuDvurQFQgNHGXwQeAPESUn5Dl2lSpXiz0mphffzPJ+qstlCPrquVbbTiMIrtqbPjVAeabbp/iUNiNh7ZOwwQb43lslU8X6lAuDxbo7nZ4h+QbzR79e15y9/Krn2JSP9s6nVGaKC/pSUEfVvV/+DeVPw7JrszBGyiw2afDWR3VVVoQ3sPhnp3V5yuz9wrhQzmlnwkcK+REeM8FvWfXae9LUqF3bxkgufOtrvXfd+469TYDIHjsYlp0IS1NZGNDjWEjiIaaTvD+RaaHSkxNBO67cfEPxhloSW4vauB0jbyHQruQJCo7n7mQAlFDw0dq85JUA7xclKEf2B42RdNbClLPjfIZbdSc20RaWqTF3LGFW5oUMCSjzpy532Tuaemv4OScARm/OzZx5nUNi4JMp55hRt+8R9PD93X5kEV/FIKR8ONGTGtMjLOsTP/x59gVnvwhHRblUIyex5/Kqe5tW/+i8SLcvxCoOQMitU97NWzGcO/U43h19x71swOGHmX3xCCGXIWuMtqAQgirBVPliTdfNrwXy7Nyw0gkl2bs86tUz3WhYMftFhQKOLva5E7emp9jJm3N1regOG9q2rXU/3ogrcNkKgu4KlKEQvI9iQb1HqUf6lLoL7Iv9r3Sx0gdIOCqKRV8qQ5OF4wPKCEsqUqM9COIxIskLzU0qDcYLnoNN9GPYussv8DXf2E6MGIP9wNjAM7j5VnubANsUvp8IFEo+A8uC0B8ElwJ8yRQTWtb7rvmSz3c1NZj9ZxUXdMAwKF+OYQimwWY7qfYzCU353nai3MmLCaMzoKEfZYIw+LM9sGMnVsC/8V6tcVXvdkDlF7jncoC9fMQf7aIOQd7IIMwOkVh7IdigqHdQrDGlfqvnAFRfT/67zTFwx4JDZnuScgDiyA40EeFzVYuPFMkHP8c72USXIbKNl7wyVZQFfLq5YZhgXARe46ez5bExP3xR2t+LUPLrOlfwKtGJd8FVCf5uoKI6KsDbRBXAKg6dbh0GZPuES3deGbV1GKfgsLW2RbVNofOa0uX0I2Y7FdhLyUYCr6vWUvnGtyvljP/nvPHSUMaPW1Vdmqq6J47Pr3PCU8TOhVcnSsqMxmv6cn0Cpu9foHcP33VTSZh8E4vVVHTyE7au9uZrNPKRQv3o1lA6mtGqidBc7nXlSbVKVrhu/mdhTAK7tkL7jgyuk7eIvwkp+z3iv64bd6/pb43gOWyG3LLn6Q+n3Jyto1IcWp/phz/TttHr+lwLVEWXBUMBYOpbCW3o3qzg2PvcHmLtmAIsDFCIULbq5Sd7tRKXFlvObpU3R9M4qmf3A1bMjDFVYx3L7bkN69LfkWTKb1pThLZbtGWTGB6TATBgkqhkiG9w0BCRUxBgQEAQAAADBXBgkqhkiG9w0BCRQxSh5IADQAOABhADAAMAAzADIAZgAtADMAOABkAGUALQA0ADEANAA0AC0AOAA4ADIAYgAtAGUAZgA0ADkAMwBmAGEAYwBkAGIAYwAyMHkGCSsGAQQBgjcRATFsHmoATQBpAGMAcgBvAHMAbwBmAHQAIABFAG4AaABhAG4AYwBlAGQAIABSAFMAQQAgAGEAbgBkACAAQQBFAFMAIABDAHIAeQBwAHQAbwBnAHIAYQBwAGgAaQBjACAAUAByAG8AdgBpAGQAZQByMIIDxwYJKoZIhvcNAQcGoIIDuDCCA7QCAQAwggOtBgkqhkiG9w0BBwEwHAYKKoZIhvcNAQwBBjAOBAhcwt9SoeMQiAICB9CAggOAOVLDriyHTE0L9calcaYEo/thSXXONk0Ya0Nr0e/oTU55cS1mx5PvF6Qe+XRPvFEQEmzPY8DNDKU0dfSBQ0niWZ4NF/ySXUctrID90/4cKmGLvZQyWcSgvieOuMvtdb8uZdUcpOnBmYEbKXT6FctzbnnzgDozfXV6i6GVBo+sfeJIwRW9LZUJuUuRzb2YwD2h0OvFU8mQMWU/Xbg+8QU/3YuK31/ODiAG+FAZYzbvw+9vYFwj/xpylLojBTpuIrJ7MTpS3lwOOth0Ci7ji8WD+XwT2lE/0ySDY1pLWceNbGLbM5eabzRePraGwvapxt3sB26GM1QlUWwgjjmd6Cu1mK504KfA5JJsoMPbbwpwU/kuHT4BL6oDM0ph8MXTg2iZuAcdcjchlhQVS1mm5t5uEBpvKAbj8PALcbQzGuptatifsopW+5CxAL3Sym0VObq60FgEf7aTuktVtURUK8BCClwLz3GCpcerWBHygycuCStNjxk8OuJMLGWm4ZXCABYa4GvbewBbq7zNgn3JVlxbLlSgJDccQxqkGrKYAAkwU05GGSKHbrupc27kPRj2hwvhdEDpP9suQG7HxMBpDUQ2wOuUpfxnq70+Fq5UIu/VNhxUIUxn6AMTvqAze+fSyVqqQ2+tuEc5wKofNPUyCnrSlw2UBBJvMXCQGgYRKvQUgD8lCtak96PdF9+nuRVO+GMrzgE2UGtjSefb2C/CWQzrQBIac5xUg5zgds30jDyasIXko5Yj7W8J5Ybwa/2aYavkYGZ2ykPRY+x7zj+iYM0wP8AMZcs8LhVGK+NUvH0x+gj56AQY39Ju/ocTlQesuh0++P8cz/0nIOihUtvCWt9EIpswgG01ZDY2w5jCHKjsjju4ncVCyuPGpaqmCNmwAyd1wAdf9MAkH6S2G0sWLFeXxyA3A2n//R2cAldvSlb5bqSXDbLQyZVrk3azDTv9M7VRpeaBI7P8Xjjj1Y1Lub4C8srSC1H1fwLniCygtjYitHuR3V90DyQeCiovG/BFIzmyaKj7pHBl+BSxn9BvFUTiwZryGn27E9gATDEkQUcAtlIbU4oU84H8SBGr0YEbbGrBun8OSUscwvLzy8TtyRKmlSvMOeYVpJvC5gYxRUBZJCJnumIcdncSqTSv5pmNU7gkT7N5ULBiR9nJjDT5R9MArdST4rVjcXDki6HTEmgFPqUwNzAfMAcGBSsOAwIaBBQCXouypm6ofXD4ompQwfGyLjewJAQUgvmkQhX9UQueqnFRe+xNNfTchYg=","contentType":"application/x-pkcs12","id":"https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77","managed":true,"attributes":{"enabled":true,"nbf":1503675230,"exp":1535211830,"created":1503675830,"updated":1503675830,"recoveryLevel":"Purgeable"},"kid":"https://sfcli4.vault.azure.net/keys/sfcli4201708250843/2b9981be18164360a21e6face7b67a77"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['3892']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:20 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-IIS/8.5]
      Strict-Transport-Security: [max-age=31536000;includeSubDomains]
      X-AspNet-Version: [4.0.30319]
      X-Content-Type-Options: [nosniff]
      X-Powered-By: [ASP.NET]
      x-ms-keyvault-region: [westus]
      x-ms-keyvault-service-version: [1.0.0.820]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"template": {"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json",
      "contentVersion": "1.0.0.0", "parameters": {"clusterLocation": {"type": "string",
      "metadata": {"description": "Location of the Cluster"}}, "clusterName": {"type":
      "string", "metadata": {"description": "Name of your cluster - Between 3 and
      23 characters. Letters and numbers only"}}, "adminUserName": {"type": "string",
      "metadata": {"description": "Remote desktop user Id"}}, "durabilityLevel": {"type":
      "string", "metadata": {"description": "The durability level"}}, "reliabilityLevel":
      {"type": "string", "metadata": {"description": "The reliability level"}}, "adminPassword":
      {"type": "securestring", "metadata": {"description": "Remote desktop user password.
      Must be a strong password"}}, "vmImagePublisher": {"type": "string", "defaultValue":
      "MicrosoftWindowsServer", "metadata": {"description": "VM image Publisher"}},
      "vmImageOffer": {"type": "string", "defaultValue": "WindowsServer", "metadata":
      {"description": "VM image offer"}}, "vmImageSku": {"type": "string", "metadata":
      {"description": "VM image SKU"}}, "vmSku": {"type": "string", "metadata": {"description":
      "VM SKU"}}, "vmImageVersion": {"type": "string", "defaultValue": "latest", "metadata":
      {"description": "VM image version"}}, "loadBalancedAppPort1": {"type": "int",
      "defaultValue": 80, "metadata": {"description": "Input endpoint1 for the application
      to use. Replace it with what your application uses"}}, "loadBalancedAppPort2":
      {"type": "int", "defaultValue": 8081, "metadata": {"description": "Input endpoint2
      for the application to use. Replace it with what your application uses"}}, "certificateStoreValue":
      {"type": "string", "allowedValues": ["My"], "defaultValue": "My", "metadata":
      {"description": "The store name where the cert will be deployed in the virtual
      machine"}}, "certificateThumbprint": {"type": "string", "metadata": {"description":
      "Certificate Thumbprint"}}, "sourceVaultValue": {"type": "string", "metadata":
      {"description": "Resource Id of the key vault, is should be in the format of
      /subscriptions/<Sub ID>/resourceGroups/<Resource group name>/providers/Microsoft.KeyVault/vaults/<vault
      name>"}}, "certificateUrlValue": {"type": "string", "metadata": {"description":
      "Refers to the location URL in your key vault where the certificate was uploaded,
      it is should be in the format of https://<name of the vault>.vault.azure.net:443/secrets/<exact
      location>"}}, "clusterProtectionLevel": {"type": "string", "allowedValues":
      ["None", "Sign", "EncryptAndSign"], "defaultValue": "EncryptAndSign", "metadata":
      {"description": "Protection level.Three values are allowed - EncryptAndSign,
      Sign, None. It is best to keep the default of EncryptAndSign, unless you have
      a need not to"}}, "storageAccountType": {"type": "string", "allowedValues":
      ["Standard_LRS", "Standard_GRS"], "defaultValue": "Standard_LRS", "metadata":
      {"description": "Replication option for the VM image storage account"}}, "supportLogStorageAccountType":
      {"type": "string", "allowedValues": ["Standard_LRS", "Standard_GRS"], "defaultValue":
      "Standard_LRS", "metadata": {"description": "Replication option for the support
      log storage account"}}, "applicationDiagnosticsStorageAccountType": {"type":
      "string", "allowedValues": ["Standard_LRS", "Standard_GRS"], "defaultValue":
      "Standard_LRS", "metadata": {"description": "Replication option for the application
      diagnostics storage account"}}, "nt0InstanceCount": {"type": "int", "metadata":
      {"description": "Instance count for node type"}}}, "variables": {"computeLocation":
      "[parameters(''clusterLocation'')]", "dnsName": "[parameters(''clusterName'')]",
      "vmStorageAccountName": "[toLower(concat(uniqueString(resourceGroup().id), ''1''
      ))]", "vmName": "vm", "publicIPAddressName": "PublicIP-VM", "publicIPAddressType":
      "Dynamic", "vmStorageAccountContainerName": "vhds", "virtualNetworkName": "VNet",
      "addressPrefix": "10.0.0.0/16", "nicName": "NIC", "lbName": "LoadBalancer",
      "lbIPName": "PublicIP-LB-FE", "availSetName": "AvailabilitySet", "maxPercentUpgradeDomainDeltaUnhealthyNodes":
      "100", "vnetID": "[resourceId(''Microsoft.Network/virtualNetworks'',variables(''virtualNetworkName''))]",
      "overProvision": "false", "vmssApiVersion": "2016-03-30", "lbApiVersion": "2015-06-15",
      "vNetApiVersion": "2015-06-15", "storageApiVersion": "2016-01-01", "publicIPApiVersion":
      "2015-06-15", "nt0applicationStartPort": "20000", "nt0applicationEndPort": "30000",
      "nt0ephemeralStartPort": "49152", "nt0ephemeralEndPort": "65534", "nt0fabricTcpGatewayPort":
      "19000", "nt0fabricHttpGatewayPort": "19080", "subnet0Name": "Subnet-0", "subnet0Prefix":
      "10.0.0.0/24", "subnet0Ref": "[concat(variables(''vnetID''),''/subnets/'',variables(''subnet0Name''))]",
      "supportLogStorageAccountName": "[toLower( concat( uniqueString(resourceGroup().id),''2''))]",
      "applicationDiagnosticsStorageAccountName": "[toLower(concat(uniqueString(resourceGroup().id),
      ''3'' ))]", "lbID0": "[resourceId(''Microsoft.Network/loadBalancers'',concat(''LB'',''-'',
      parameters(''clusterName''),''-'',variables(''vmNodeType0Name'')))]", "lbIPConfig0":
      "[concat(variables(''lbID0''),''/frontendIPConfigurations/LoadBalancerIPConfig'')]",
      "lbPoolID0": "[concat(variables(''lbID0''),''/backendAddressPools/LoadBalancerBEAddressPool'')]",
      "lbProbeID0": "[concat(variables(''lbID0''),''/probes/FabricGatewayProbe'')]",
      "lbHttpProbeID0": "[concat(variables(''lbID0''),''/probes/FabricHttpGatewayProbe'')]",
      "lbNatPoolID0": "[concat(variables(''lbID0''),''/inboundNatPools/LoadBalancerBEAddressNatPool'')]",
      "vmNodeType0Name": "[toLower(concat(''NT1'', variables(''vmName'')))]", "vmNodeType0Size":
      "[parameters(''vmSku'')]", "vmStorageAccountName0": "[toLower(concat(uniqueString(resourceGroup().id),
      ''1'', ''0'' ))]", "uniqueStringArray0": ["[concat(variables(''vmStorageAccountName0''),
      ''0'')]", "[concat(variables(''vmStorageAccountName0''), ''1'')]", "[concat(variables(''vmStorageAccountName0''),
      ''2'')]", "[concat(variables(''vmStorageAccountName0''), ''3'')]", "[concat(variables(''vmStorageAccountName0''),
      ''4'')]"]}, "resources": [{"apiVersion": "[variables(''storageApiVersion'')]",
      "type": "Microsoft.Storage/storageAccounts", "name": "[variables(''supportLogStorageAccountName'')]",
      "location": "[variables(''computeLocation'')]", "dependsOn": [], "properties":
      {}, "kind": "Storage", "sku": {"name": "[parameters(''supportLogStorageAccountType'')]"},
      "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''storageApiVersion'')]", "type": "Microsoft.Storage/storageAccounts",
      "name": "[variables(''applicationDiagnosticsStorageAccountName'')]", "location":
      "[variables(''computeLocation'')]", "dependsOn": [], "properties": {}, "kind":
      "Storage", "sku": {"name": "[parameters(''applicationDiagnosticsStorageAccountType'')]"},
      "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''vNetApiVersion'')]", "type": "Microsoft.Network/virtualNetworks",
      "name": "[variables(''virtualNetworkName'')]", "location": "[variables(''computeLocation'')]",
      "properties": {"addressSpace": {"addressPrefixes": ["[variables(''addressPrefix'')]"]},
      "subnets": [{"name": "[variables(''subnet0Name'')]", "properties": {"addressPrefix":
      "[variables(''subnet0Prefix'')]"}}]}, "tags": {"resourceType": "Service Fabric",
      "clusterName": "[parameters(''clusterName'')]"}}, {"apiVersion": "[variables(''publicIPApiVersion'')]",
      "type": "Microsoft.Network/publicIPAddresses", "name": "[concat(variables(''lbIPName''),''-'',''0'')]",
      "location": "[variables(''computeLocation'')]", "properties": {"dnsSettings":
      {"domainNameLabel": "[variables(''dnsName'')]"}, "publicIPAllocationMethod":
      "Dynamic"}, "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''lbApiVersion'')]", "type": "Microsoft.Network/loadBalancers",
      "name": "[concat(''LB'',''-'', parameters(''clusterName''),''-'',variables(''vmNodeType0Name''))]",
      "location": "[variables(''computeLocation'')]", "dependsOn": ["[concat(''Microsoft.Network/publicIPAddresses/'',concat(variables(''lbIPName''),''-'',''0''))]"],
      "properties": {"frontendIPConfigurations": [{"name": "LoadBalancerIPConfig",
      "properties": {"publicIPAddress": {"id": "[resourceId(''Microsoft.Network/publicIPAddresses'',concat(variables(''lbIPName''),''-'',''0''))]"}}}],
      "backendAddressPools": [{"name": "LoadBalancerBEAddressPool", "properties":
      {}}], "loadBalancingRules": [{"name": "LBRule", "properties": {"backendAddressPool":
      {"id": "[variables(''lbPoolID0'')]"}, "backendPort": "[variables(''nt0fabricTcpGatewayPort'')]",
      "enableFloatingIP": "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[variables(''nt0fabricTcpGatewayPort'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[variables(''lbProbeID0'')]"}, "protocol": "tcp"}}, {"name":
      "LBHttpRule", "properties": {"backendAddressPool": {"id": "[variables(''lbPoolID0'')]"},
      "backendPort": "[variables(''nt0fabricHttpGatewayPort'')]", "enableFloatingIP":
      "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[variables(''nt0fabricHttpGatewayPort'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[variables(''lbHttpProbeID0'')]"}, "protocol": "tcp"}},
      {"name": "AppPortLBRule1", "properties": {"backendAddressPool": {"id": "[variables(''lbPoolID0'')]"},
      "backendPort": "[parameters(''loadBalancedAppPort1'')]", "enableFloatingIP":
      "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[parameters(''loadBalancedAppPort1'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[concat(variables(''lbID0''),''/probes/AppPortProbe1'')]"},
      "protocol": "tcp"}}, {"name": "AppPortLBRule2", "properties": {"backendAddressPool":
      {"id": "[variables(''lbPoolID0'')]"}, "backendPort": "[parameters(''loadBalancedAppPort2'')]",
      "enableFloatingIP": "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[parameters(''loadBalancedAppPort2'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[concat(variables(''lbID0''),''/probes/AppPortProbe2'')]"},
      "protocol": "tcp"}}], "probes": [{"name": "FabricGatewayProbe", "properties":
      {"intervalInSeconds": 5, "numberOfProbes": 2, "port": "[variables(''nt0fabricTcpGatewayPort'')]",
      "protocol": "tcp"}}, {"name": "FabricHttpGatewayProbe", "properties": {"intervalInSeconds":
      5, "numberOfProbes": 2, "port": "[variables(''nt0fabricHttpGatewayPort'')]",
      "protocol": "tcp"}}, {"name": "AppPortProbe1", "properties": {"intervalInSeconds":
      5, "numberOfProbes": 2, "port": "[parameters(''loadBalancedAppPort1'')]", "protocol":
      "tcp"}}, {"name": "AppPortProbe2", "properties": {"intervalInSeconds": 5, "numberOfProbes":
      2, "port": "[parameters(''loadBalancedAppPort2'')]", "protocol": "tcp"}}], "inboundNatPools":
      [{"name": "LoadBalancerBEAddressNatPool", "properties": {"backendPort": "3389",
      "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"}, "frontendPortRangeEnd":
      "4500", "frontendPortRangeStart": "3389", "protocol": "tcp"}}]}, "tags": {"resourceType":
      "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}}, {"apiVersion":
      "[variables(''storageApiVersion'')]", "type": "Microsoft.Storage/storageAccounts",
      "name": "[variables(''uniqueStringArray0'')[copyIndex()]]", "location": "[variables(''computeLocation'')]",
      "dependsOn": [], "properties": {}, "copy": {"name": "storageLoop", "count":
      5}, "kind": "Storage", "sku": {"name": "[parameters(''storageAccountType'')]"},
      "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''vmssApiVersion'')]", "type": "Microsoft.Compute/virtualMachineScaleSets",
      "name": "[variables(''vmNodeType0Name'')]", "location": "[variables(''computeLocation'')]",
      "dependsOn": ["[concat(''Microsoft.Network/virtualNetworks/'', variables(''virtualNetworkName''))]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[0])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[1])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[2])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[3])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[4])]",
      "[concat(''Microsoft.Network/loadBalancers/'', concat(''LB'',''-'', parameters(''clusterName''),''-'',variables(''vmNodeType0Name'')))]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''supportLogStorageAccountName''))]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''applicationDiagnosticsStorageAccountName''))]"],
      "properties": {"overprovision": "[variables(''overProvision'')]", "upgradePolicy":
      {"mode": "Automatic"}, "virtualMachineProfile": {"extensionProfile": {"extensions":
      [{"name": "[concat(''ServiceFabricNodeVmExt'',''_vmNodeType0Name'')]", "properties":
      {"type": "ServiceFabricNode", "autoUpgradeMinorVersion": false, "protectedSettings":
      {"StorageAccountKey1": "[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
      variables(''supportLogStorageAccountName'')),''2015-05-01-preview'').key1]",
      "StorageAccountKey2": "[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
      variables(''supportLogStorageAccountName'')),''2015-05-01-preview'').key2]"},
      "publisher": "Microsoft.Azure.ServiceFabric", "settings": {"clusterEndpoint":
      "[reference(parameters(''clusterName'')).clusterEndpoint]", "nodeTypeRef": "[variables(''vmNodeType0Name'')]",
      "dataPath": "D:\\\\SvcFab", "durabilityLevel": "[parameters(''durabilityLevel'')]",
      "nicPrefixOverride": "[variables(''subnet0Prefix'')]", "certificate": {"thumbprint":
      "[parameters(''certificateThumbprint'')]", "x509StoreName": "[parameters(''certificateStoreValue'')]"}},
      "typeHandlerVersion": "1.0"}}, {"name": "[concat(''VMDiagnosticsVmExt'',''_vmNodeType0Name'')]",
      "properties": {"type": "IaaSDiagnostics", "autoUpgradeMinorVersion": true, "protectedSettings":
      {"storageAccountName": "[variables(''applicationDiagnosticsStorageAccountName'')]",
      "storageAccountKey": "[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
      variables(''applicationDiagnosticsStorageAccountName'')),''2015-05-01-preview'').key1]",
      "storageAccountEndPoint": "https://core.windows.net/"}, "publisher": "Microsoft.Azure.Diagnostics",
      "settings": {"WadCfg": {"DiagnosticMonitorConfiguration": {"overallQuotaInMB":
      "50000", "EtwProviders": {"EtwEventSourceProviderConfiguration": [{"provider":
      "Microsoft-ServiceFabric-Actors", "scheduledTransferKeywordFilter": "1", "scheduledTransferPeriod":
      "PT5M", "DefaultEvents": {"eventDestination": "ServiceFabricReliableActorEventTable"}},
      {"provider": "Microsoft-ServiceFabric-Services", "scheduledTransferPeriod":
      "PT5M", "DefaultEvents": {"eventDestination": "ServiceFabricReliableServiceEventTable"}}],
      "EtwManifestProviderConfiguration": [{"provider": "cbd93bc2-71e5-4566-b3a7-595d8eeca6e8",
      "scheduledTransferLogLevelFilter": "Information", "scheduledTransferKeywordFilter":
      "4611686018427387904", "scheduledTransferPeriod": "PT5M", "DefaultEvents": {"eventDestination":
      "ServiceFabricSystemEventTable"}}]}}}, "StorageAccount": "[variables(''applicationDiagnosticsStorageAccountName'')]"},
      "typeHandlerVersion": "1.5"}}]}, "networkProfile": {"networkInterfaceConfigurations":
      [{"name": "[concat(variables(''nicName''), ''-0'')]", "properties": {"ipConfigurations":
      [{"name": "[concat(variables(''nicName''),''-'',0)]", "properties": {"loadBalancerBackendAddressPools":
      [{"id": "[variables(''lbPoolID0'')]"}], "loadBalancerInboundNatPools": [{"id":
      "[variables(''lbNatPoolID0'')]"}], "subnet": {"id": "[variables(''subnet0Ref'')]"}}}],
      "primary": true}}]}, "osProfile": {"adminPassword": "[parameters(''adminPassword'')]",
      "adminUsername": "[parameters(''adminUsername'')]", "computernamePrefix": "[variables(''vmNodeType0Name'')]",
      "secrets": [{"sourceVault": {"id": "[parameters(''sourceVaultValue'')]"}, "vaultCertificates":
      [{"certificateStore": "[parameters(''certificateStoreValue'')]", "certificateUrl":
      "[parameters(''certificateUrlValue'')]"}]}]}, "storageProfile": {"imageReference":
      {"publisher": "[parameters(''vmImagePublisher'')]", "offer": "[parameters(''vmImageOffer'')]",
      "sku": "[parameters(''vmImageSku'')]", "version": "[parameters(''vmImageVersion'')]"},
      "osDisk": {"vhdContainers": ["[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[0]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[1]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[2]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[3]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[4]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]"], "name": "vmssosdisk", "caching":
      "ReadOnly", "createOption": "FromImage"}}}}, "sku": {"name": "[variables(''vmNodeType0Size'')]",
      "capacity": "[parameters(''nt0InstanceCount'')]", "tier": "Standard"}, "tags":
      {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "2016-09-01", "type": "Microsoft.ServiceFabric/clusters", "name":
      "[parameters(''clusterName'')]", "location": "[parameters(''clusterLocation'')]",
      "dependsOn": ["[concat(''Microsoft.Storage/storageAccounts/'', variables(''supportLogStorageAccountName''))]"],
      "properties": {"certificate": {"thumbprint": "[parameters(''certificateThumbprint'')]",
      "x509StoreName": "[parameters(''certificateStoreValue'')]"}, "clientCertificateCommonNames":
      [], "clientCertificateThumbprints": [], "clusterState": "Default", "diagnosticsStorageAccountConfig":
      {"blobEndpoint": "[reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''supportLogStorageAccountName'')), variables(''storageApiVersion'')).primaryEndpoints.blob]",
      "protectedAccountKeyName": "StorageAccountKey1", "queueEndpoint": "[reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''supportLogStorageAccountName'')), variables(''storageApiVersion'')).primaryEndpoints.queue]",
      "storageAccountName": "[variables(''supportLogStorageAccountName'')]", "tableEndpoint":
      "[reference(concat(''Microsoft.Storage/storageAccounts/'', variables(''supportLogStorageAccountName'')),
      variables(''storageApiVersion'')).primaryEndpoints.table]"}, "fabricSettings":
      [{"parameters": [{"name": "ClusterProtectionLevel", "value": "[parameters(''clusterProtectionLevel'')]"}],
      "name": "Security"}], "UpgradeDescription": {"UpgradeReplicaSetCheckTimeout":
      "0.05:00:00", "HealthCheckWaitDuration": "0.00:00:02", "HealthCheckStableDuration":
      "0.00:00:02", "HealthCheckRetryTimeout": "0.00:00:02", "UpgradeTimeout": "0.06:00:00",
      "UpgradeDomainTimeout": "0.02:00:00"}, "managementEndpoint": "[concat(''https://'',reference(concat(variables(''lbIPName''),''-'',''0'')).dnsSettings.fqdn,'':'',variables(''nt0fabricHttpGatewayPort''))]",
      "nodeTypes": [{"name": "[variables(''vmNodeType0Name'')]", "applicationPorts":
      {"endPort": "[variables(''nt0applicationEndPort'')]", "startPort": "[variables(''nt0applicationStartPort'')]"},
      "clientConnectionEndpointPort": "[variables(''nt0fabricTcpGatewayPort'')]",
      "durabilityLevel": "[parameters(''durabilityLevel'')]", "ephemeralPorts": {"endPort":
      "[variables(''nt0ephemeralEndPort'')]", "startPort": "[variables(''nt0ephemeralStartPort'')]"},
      "httpGatewayEndpointPort": "[variables(''nt0fabricHttpGatewayPort'')]", "isPrimary":
      true, "vmInstanceCount": "[parameters(''nt0InstanceCount'')]"}], "provisioningState":
      "Default", "reliabilityLevel": "[parameters(''reliabilityLevel'')]", "upgradeMode":
      "Automatic", "vmImage": "Windows"}, "tags": {"resourceType": "Service Fabric",
      "clusterName": "[parameters(''clusterName'')]"}}], "outputs": {"clusterProperties":
      {"value": "[reference(parameters(''clusterName''))]", "type": "object"}}}, "parameters":
      {"clusterLocation": {"value": "westus"}, "clusterName": {"value": "sfcli7"},
      "adminUserName": {"value": "adminuser"}, "adminPassword": {"value": "User@123456789"},
      "vmImagePublisher": {"value": "MicrosoftWindowsServer"}, "vmSku": {"value":
      "Standard_D2_V2"}, "vmImageOffer": {"value": "WindowsServer"}, "vmImageSku":
      {"value": "2016-Datacenter"}, "vmImageVersion": {"value": "latest"}, "loadBalancedAppPort1":
      {"value": 80}, "loadBalancedAppPort2": {"value": 8081}, "certificateStorevalue":
      {"value": "My"}, "certificateThumbprint": {"value": "2BD8C05E9F256CFFB91CBCC30CC8577CD6206965"},
      "sourceVaultvalue": {"value": "/subscriptions/13ad2c84-84fa-4798-ad71-e70c07af873f/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4"},
      "certificateUrlvalue": {"value": "https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77"},
      "clusterProtectionLevel": {"value": "EncryptAndSign"}, "storageAccountType":
      {"value": "Standard_LRS"}, "supportLogStorageAccountType": {"value": "Standard_LRS"},
      "applicationDiagnosticsStorageAccountType": {"value": "Standard_LRS"}, "nt0InstanceCount":
      {"value": 1}, "durabilityLevel": {"value": "Bronze"}, "reliabilityLevel": {"value":
      "None"}}, "mode": "Incremental"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['21400']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [57d2f8a2-89b5-11e7-b160-185e0fecfac1]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/validate?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Resources/deployments/AzurePSDeployment-201708250949","name":"AzurePSDeployment-201708250949","properties":{"templateHash":"2243685697941274048","parameters":{"clusterLocation":{"type":"String","value":"westus"},"clusterName":{"type":"String","value":"sfcli7"},"adminUserName":{"type":"String","value":"adminuser"},"durabilityLevel":{"type":"String","value":"Bronze"},"reliabilityLevel":{"type":"String","value":"None"},"adminPassword":{"type":"SecureString"},"vmImagePublisher":{"type":"String","value":"MicrosoftWindowsServer"},"vmImageOffer":{"type":"String","value":"WindowsServer"},"vmImageSku":{"type":"String","value":"2016-Datacenter"},"vmSku":{"type":"String","value":"Standard_D2_V2"},"vmImageVersion":{"type":"String","value":"latest"},"loadBalancedAppPort1":{"type":"Int","value":80},"loadBalancedAppPort2":{"type":"Int","value":8081},"certificateStoreValue":{"type":"String","value":"My"},"certificateThumbprint":{"type":"String","value":"2BD8C05E9F256CFFB91CBCC30CC8577CD6206965"},"sourceVaultValue":{"type":"String","value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4"},"certificateUrlValue":{"type":"String","value":"https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77"},"clusterProtectionLevel":{"type":"String","value":"EncryptAndSign"},"storageAccountType":{"type":"String","value":"Standard_LRS"},"supportLogStorageAccountType":{"type":"String","value":"Standard_LRS"},"applicationDiagnosticsStorageAccountType":{"type":"String","value":"Standard_LRS"},"nt0InstanceCount":{"type":"Int","value":1}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2017-08-25T16:49:22.3498711Z","duration":"PT0S","correlationId":"72ce1b9d-1c18-4f7e-b350-d28855380d8c","providers":[{"namespace":"Microsoft.Storage","resourceTypes":[{"resourceType":"storageAccounts","locations":["westus"]}]},{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"virtualNetworks","locations":["westus"]},{"resourceType":"publicIPAddresses","locations":["westus"]},{"resourceType":"loadBalancers","locations":["westus"]}]},{"namespace":"Microsoft.Compute","resourceTypes":[{"resourceType":"virtualMachineScaleSets","locations":["westus"]}]},{"namespace":"Microsoft.ServiceFabric","resourceTypes":[{"resourceType":"clusters","locations":["westus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIP-LB-FE-0"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","resourceType":"Microsoft.Network/loadBalancers","resourceName":"LB-sfcli7-nt1vm"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/virtualNetworks/VNet","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"VNet"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2100"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2101"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2102"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2103"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2104"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","resourceType":"Microsoft.Network/loadBalancers","resourceName":"LB-sfcli7-nt1vm"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn23"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22","actionName":"listKeys","apiVersion":"2015-05-01-preview"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7","resourceType":"Microsoft.ServiceFabric/clusters","resourceName":"sfcli7"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn23","actionName":"listKeys","apiVersion":"2015-05-01-preview"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2100","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2101","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2102","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2103","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2104","apiVersion":"2016-01-01"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Compute/virtualMachineScaleSets/nt1vm","resourceType":"Microsoft.Compute/virtualMachineScaleSets","resourceName":"nt1vm"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIP-LB-FE-0"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7","resourceType":"Microsoft.ServiceFabric/clusters","resourceName":"sfcli7"}],"validatedResources":[{"apiVersion":"2016-01-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","name":"vdq75fhr3kbn22","type":"Microsoft.Storage/storageAccounts","sku":{"name":"Standard_LRS"},"kind":"Storage","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{}},{"apiVersion":"2016-01-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","name":"vdq75fhr3kbn23","type":"Microsoft.Storage/storageAccounts","sku":{"name":"Standard_LRS"},"kind":"Storage","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{}},{"apiVersion":"2015-06-15","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/virtualNetworks/VNet","name":"VNet","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{"addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"subnets":[{"name":"Subnet-0","properties":{"addressPrefix":"10.0.0.0/24"}}]}},{"apiVersion":"2015-06-15","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0","name":"PublicIP-LB-FE-0","type":"Microsoft.Network/publicIPAddresses","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{"dnsSettings":{"domainNameLabel":"sfcli7"},"publicIPAllocationMethod":"Dynamic"}},{"dependsOn":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0"],"apiVersion":"2015-06-15","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","name":"LB-sfcli7-nt1vm","type":"Microsoft.Network/loadBalancers","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{"frontendIPConfigurations":[{"name":"LoadBalancerIPConfig","properties":{"publicIPAddress":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0"}}}],"backendAddressPools":[{"name":"LoadBalancerBEAddressPool","properties":{}}],"loadBalancingRules":[{"name":"LBRule","properties":{"backendAddressPool":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/backendAddressPools/LoadBalancerBEAddressPool"},"backendPort":"19000","enableFloatingIP":"false","frontendIPConfiguration":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/frontendIPConfigurations/LoadBalancerIPConfig"},"frontendPort":"19000","idleTimeoutInMinutes":"5","probe":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/probes/FabricGatewayProbe"},"protocol":"tcp"}},{"name":"LBHttpRule","properties":{"backendAddressPool":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/backendAddressPools/LoadBalancerBEAddressPool"},"backendPort":"19080","enableFloatingIP":"false","frontendIPConfiguration":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/frontendIPConfigurations/LoadBalancerIPConfig"},"frontendPort":"19080","idleTimeoutInMinutes":"5","probe":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/probes/FabricHttpGatewayProbe"},"protocol":"tcp"}},{"name":"AppPortLBRule1","properties":{"backendAddressPool":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/backendAddressPools/LoadBalancerBEAddressPool"},"backendPort":80,"enableFloatingIP":"false","frontendIPConfiguration":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/frontendIPConfigurations/LoadBalancerIPConfig"},"frontendPort":80,"idleTimeoutInMinutes":"5","probe":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/probes/AppPortProbe1"},"protocol":"tcp"}},{"name":"AppPortLBRule2","properties":{"backendAddressPool":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/backendAddressPools/LoadBalancerBEAddressPool"},"backendPort":8081,"enableFloatingIP":"false","frontendIPConfiguration":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/frontendIPConfigurations/LoadBalancerIPConfig"},"frontendPort":8081,"idleTimeoutInMinutes":"5","probe":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/probes/AppPortProbe2"},"protocol":"tcp"}}],"probes":[{"name":"FabricGatewayProbe","properties":{"intervalInSeconds":5,"numberOfProbes":2,"port":"19000","protocol":"tcp"}},{"name":"FabricHttpGatewayProbe","properties":{"intervalInSeconds":5,"numberOfProbes":2,"port":"19080","protocol":"tcp"}},{"name":"AppPortProbe1","properties":{"intervalInSeconds":5,"numberOfProbes":2,"port":80,"protocol":"tcp"}},{"name":"AppPortProbe2","properties":{"intervalInSeconds":5,"numberOfProbes":2,"port":8081,"protocol":"tcp"}}],"inboundNatPools":[{"name":"LoadBalancerBEAddressNatPool","properties":{"backendPort":"3389","frontendIPConfiguration":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/frontendIPConfigurations/LoadBalancerIPConfig"},"frontendPortRangeEnd":"4500","frontendPortRangeStart":"3389","protocol":"tcp"}}]}},{"dependsOn":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/virtualNetworks/VNet","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7"],"apiVersion":"2016-03-30","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Compute/virtualMachineScaleSets/nt1vm","name":"nt1vm","type":"Microsoft.Compute/virtualMachineScaleSets","sku":{"name":"Standard_D2_V2","tier":"Standard","capacity":1},"location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{"overprovision":"false","upgradePolicy":{"mode":"Automatic"},"virtualMachineProfile":{"extensionProfile":{"extensions":[{"name":"ServiceFabricNodeVmExt_vmNodeType0Name","properties":{"type":"ServiceFabricNode","autoUpgradeMinorVersion":false,"protectedSettings":{"StorageAccountKey1":"[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
        variables(''supportLogStorageAccountName'')),''2015-05-01-preview'').key1]","StorageAccountKey2":"[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
        variables(''supportLogStorageAccountName'')),''2015-05-01-preview'').key2]"},"publisher":"Microsoft.Azure.ServiceFabric","settings":{"clusterEndpoint":"[reference(parameters(''clusterName'')).clusterEndpoint]","nodeTypeRef":"nt1vm","dataPath":"D:\\\\SvcFab","durabilityLevel":"Bronze","nicPrefixOverride":"10.0.0.0/24","certificate":{"thumbprint":"2BD8C05E9F256CFFB91CBCC30CC8577CD6206965","x509StoreName":"My"}},"typeHandlerVersion":"1.0"}},{"name":"VMDiagnosticsVmExt_vmNodeType0Name","properties":{"type":"IaaSDiagnostics","autoUpgradeMinorVersion":true,"protectedSettings":{"storageAccountName":"vdq75fhr3kbn23","storageAccountKey":"[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
        variables(''applicationDiagnosticsStorageAccountName'')),''2015-05-01-preview'').key1]","storageAccountEndPoint":"https://core.windows.net/"},"publisher":"Microsoft.Azure.Diagnostics","settings":{"WadCfg":{"DiagnosticMonitorConfiguration":{"overallQuotaInMB":"50000","EtwProviders":{"EtwEventSourceProviderConfiguration":[{"provider":"Microsoft-ServiceFabric-Actors","scheduledTransferKeywordFilter":"1","scheduledTransferPeriod":"PT5M","DefaultEvents":{"eventDestination":"ServiceFabricReliableActorEventTable"}},{"provider":"Microsoft-ServiceFabric-Services","scheduledTransferPeriod":"PT5M","DefaultEvents":{"eventDestination":"ServiceFabricReliableServiceEventTable"}}],"EtwManifestProviderConfiguration":[{"provider":"cbd93bc2-71e5-4566-b3a7-595d8eeca6e8","scheduledTransferLogLevelFilter":"Information","scheduledTransferKeywordFilter":"4611686018427387904","scheduledTransferPeriod":"PT5M","DefaultEvents":{"eventDestination":"ServiceFabricSystemEventTable"}}]}}},"StorageAccount":"vdq75fhr3kbn23"},"typeHandlerVersion":"1.5"}}]},"networkProfile":{"networkInterfaceConfigurations":[{"name":"NIC-0","properties":{"ipConfigurations":[{"name":"NIC-0","properties":{"loadBalancerBackendAddressPools":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/backendAddressPools/LoadBalancerBEAddressPool"}],"loadBalancerInboundNatPools":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm/inboundNatPools/LoadBalancerBEAddressNatPool"}],"subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/virtualNetworks/VNet/subnets/Subnet-0"}}}],"primary":true}}]},"osProfile":{"adminPassword":"User@123456789","adminUsername":"adminuser","computernamePrefix":"nt1vm","secrets":[{"sourceVault":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4"},"vaultCertificates":[{"certificateStore":"My","certificateUrl":"https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77"}]}]},"storageProfile":{"imageReference":{"publisher":"MicrosoftWindowsServer","offer":"WindowsServer","sku":"2016-Datacenter","version":"latest"},"osDisk":{"vhdContainers":["[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''uniqueStringArray0'')[0]), variables(''storageApiVersion'')).primaryEndpoints.blob,
        variables(''vmStorageAccountContainerName''))]","[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''uniqueStringArray0'')[1]), variables(''storageApiVersion'')).primaryEndpoints.blob,
        variables(''vmStorageAccountContainerName''))]","[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''uniqueStringArray0'')[2]), variables(''storageApiVersion'')).primaryEndpoints.blob,
        variables(''vmStorageAccountContainerName''))]","[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''uniqueStringArray0'')[3]), variables(''storageApiVersion'')).primaryEndpoints.blob,
        variables(''vmStorageAccountContainerName''))]","[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''uniqueStringArray0'')[4]), variables(''storageApiVersion'')).primaryEndpoints.blob,
        variables(''vmStorageAccountContainerName''))]"],"name":"vmssosdisk","caching":"ReadOnly","createOption":"FromImage"}}}}},{"dependsOn":["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0"],"apiVersion":"2016-09-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7","name":"sfcli7","type":"Microsoft.ServiceFabric/clusters","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{"certificate":{"thumbprint":"2BD8C05E9F256CFFB91CBCC30CC8577CD6206965","x509StoreName":"My"},"clientCertificateCommonNames":[],"clientCertificateThumbprints":[],"clusterState":"Default","diagnosticsStorageAccountConfig":{"blobEndpoint":"[reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''supportLogStorageAccountName'')), variables(''storageApiVersion'')).primaryEndpoints.blob]","protectedAccountKeyName":"StorageAccountKey1","queueEndpoint":"[reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''supportLogStorageAccountName'')), variables(''storageApiVersion'')).primaryEndpoints.queue]","storageAccountName":"vdq75fhr3kbn22","tableEndpoint":"[reference(concat(''Microsoft.Storage/storageAccounts/'',
        variables(''supportLogStorageAccountName'')), variables(''storageApiVersion'')).primaryEndpoints.table]"},"fabricSettings":[{"parameters":[{"name":"ClusterProtectionLevel","value":"EncryptAndSign"}],"name":"Security"}],"UpgradeDescription":{"UpgradeReplicaSetCheckTimeout":"0.05:00:00","HealthCheckWaitDuration":"0.00:00:02","HealthCheckStableDuration":"0.00:00:02","HealthCheckRetryTimeout":"0.00:00:02","UpgradeTimeout":"0.06:00:00","UpgradeDomainTimeout":"0.02:00:00"},"managementEndpoint":"[concat(''https://'',reference(concat(variables(''lbIPName''),''-'',''0'')).dnsSettings.fqdn,'':'',variables(''nt0fabricHttpGatewayPort''))]","nodeTypes":[{"name":"nt1vm","applicationPorts":{"endPort":"30000","startPort":"20000"},"clientConnectionEndpointPort":"19000","durabilityLevel":"Bronze","ephemeralPorts":{"endPort":"65534","startPort":"49152"},"httpGatewayEndpointPort":"19080","isPrimary":true,"vmInstanceCount":1}],"provisioningState":"Default","reliabilityLevel":"None","upgradeMode":"Automatic","vmImage":"Windows"}},{"apiVersion":"2016-01-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","name":"vdq75fhr3kbn2100","type":"Microsoft.Storage/storageAccounts","sku":{"name":"Standard_LRS"},"kind":"Storage","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{}},{"apiVersion":"2016-01-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","name":"vdq75fhr3kbn2101","type":"Microsoft.Storage/storageAccounts","sku":{"name":"Standard_LRS"},"kind":"Storage","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{}},{"apiVersion":"2016-01-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","name":"vdq75fhr3kbn2102","type":"Microsoft.Storage/storageAccounts","sku":{"name":"Standard_LRS"},"kind":"Storage","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{}},{"apiVersion":"2016-01-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","name":"vdq75fhr3kbn2103","type":"Microsoft.Storage/storageAccounts","sku":{"name":"Standard_LRS"},"kind":"Storage","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{}},{"apiVersion":"2016-01-01","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","name":"vdq75fhr3kbn2104","type":"Microsoft.Storage/storageAccounts","sku":{"name":"Standard_LRS"},"kind":"Storage","location":"westus","tags":{"resourceType":"Service
        Fabric","clusterName":"sfcli7"},"properties":{}}]}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:21 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['25165']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"template": {"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json",
      "contentVersion": "1.0.0.0", "parameters": {"clusterLocation": {"type": "string",
      "metadata": {"description": "Location of the Cluster"}}, "clusterName": {"type":
      "string", "metadata": {"description": "Name of your cluster - Between 3 and
      23 characters. Letters and numbers only"}}, "adminUserName": {"type": "string",
      "metadata": {"description": "Remote desktop user Id"}}, "durabilityLevel": {"type":
      "string", "metadata": {"description": "The durability level"}}, "reliabilityLevel":
      {"type": "string", "metadata": {"description": "The reliability level"}}, "adminPassword":
      {"type": "securestring", "metadata": {"description": "Remote desktop user password.
      Must be a strong password"}}, "vmImagePublisher": {"type": "string", "defaultValue":
      "MicrosoftWindowsServer", "metadata": {"description": "VM image Publisher"}},
      "vmImageOffer": {"type": "string", "defaultValue": "WindowsServer", "metadata":
      {"description": "VM image offer"}}, "vmImageSku": {"type": "string", "metadata":
      {"description": "VM image SKU"}}, "vmSku": {"type": "string", "metadata": {"description":
      "VM SKU"}}, "vmImageVersion": {"type": "string", "defaultValue": "latest", "metadata":
      {"description": "VM image version"}}, "loadBalancedAppPort1": {"type": "int",
      "defaultValue": 80, "metadata": {"description": "Input endpoint1 for the application
      to use. Replace it with what your application uses"}}, "loadBalancedAppPort2":
      {"type": "int", "defaultValue": 8081, "metadata": {"description": "Input endpoint2
      for the application to use. Replace it with what your application uses"}}, "certificateStoreValue":
      {"type": "string", "allowedValues": ["My"], "defaultValue": "My", "metadata":
      {"description": "The store name where the cert will be deployed in the virtual
      machine"}}, "certificateThumbprint": {"type": "string", "metadata": {"description":
      "Certificate Thumbprint"}}, "sourceVaultValue": {"type": "string", "metadata":
      {"description": "Resource Id of the key vault, is should be in the format of
      /subscriptions/<Sub ID>/resourceGroups/<Resource group name>/providers/Microsoft.KeyVault/vaults/<vault
      name>"}}, "certificateUrlValue": {"type": "string", "metadata": {"description":
      "Refers to the location URL in your key vault where the certificate was uploaded,
      it is should be in the format of https://<name of the vault>.vault.azure.net:443/secrets/<exact
      location>"}}, "clusterProtectionLevel": {"type": "string", "allowedValues":
      ["None", "Sign", "EncryptAndSign"], "defaultValue": "EncryptAndSign", "metadata":
      {"description": "Protection level.Three values are allowed - EncryptAndSign,
      Sign, None. It is best to keep the default of EncryptAndSign, unless you have
      a need not to"}}, "storageAccountType": {"type": "string", "allowedValues":
      ["Standard_LRS", "Standard_GRS"], "defaultValue": "Standard_LRS", "metadata":
      {"description": "Replication option for the VM image storage account"}}, "supportLogStorageAccountType":
      {"type": "string", "allowedValues": ["Standard_LRS", "Standard_GRS"], "defaultValue":
      "Standard_LRS", "metadata": {"description": "Replication option for the support
      log storage account"}}, "applicationDiagnosticsStorageAccountType": {"type":
      "string", "allowedValues": ["Standard_LRS", "Standard_GRS"], "defaultValue":
      "Standard_LRS", "metadata": {"description": "Replication option for the application
      diagnostics storage account"}}, "nt0InstanceCount": {"type": "int", "metadata":
      {"description": "Instance count for node type"}}}, "variables": {"computeLocation":
      "[parameters(''clusterLocation'')]", "dnsName": "[parameters(''clusterName'')]",
      "vmStorageAccountName": "[toLower(concat(uniqueString(resourceGroup().id), ''1''
      ))]", "vmName": "vm", "publicIPAddressName": "PublicIP-VM", "publicIPAddressType":
      "Dynamic", "vmStorageAccountContainerName": "vhds", "virtualNetworkName": "VNet",
      "addressPrefix": "10.0.0.0/16", "nicName": "NIC", "lbName": "LoadBalancer",
      "lbIPName": "PublicIP-LB-FE", "availSetName": "AvailabilitySet", "maxPercentUpgradeDomainDeltaUnhealthyNodes":
      "100", "vnetID": "[resourceId(''Microsoft.Network/virtualNetworks'',variables(''virtualNetworkName''))]",
      "overProvision": "false", "vmssApiVersion": "2016-03-30", "lbApiVersion": "2015-06-15",
      "vNetApiVersion": "2015-06-15", "storageApiVersion": "2016-01-01", "publicIPApiVersion":
      "2015-06-15", "nt0applicationStartPort": "20000", "nt0applicationEndPort": "30000",
      "nt0ephemeralStartPort": "49152", "nt0ephemeralEndPort": "65534", "nt0fabricTcpGatewayPort":
      "19000", "nt0fabricHttpGatewayPort": "19080", "subnet0Name": "Subnet-0", "subnet0Prefix":
      "10.0.0.0/24", "subnet0Ref": "[concat(variables(''vnetID''),''/subnets/'',variables(''subnet0Name''))]",
      "supportLogStorageAccountName": "[toLower( concat( uniqueString(resourceGroup().id),''2''))]",
      "applicationDiagnosticsStorageAccountName": "[toLower(concat(uniqueString(resourceGroup().id),
      ''3'' ))]", "lbID0": "[resourceId(''Microsoft.Network/loadBalancers'',concat(''LB'',''-'',
      parameters(''clusterName''),''-'',variables(''vmNodeType0Name'')))]", "lbIPConfig0":
      "[concat(variables(''lbID0''),''/frontendIPConfigurations/LoadBalancerIPConfig'')]",
      "lbPoolID0": "[concat(variables(''lbID0''),''/backendAddressPools/LoadBalancerBEAddressPool'')]",
      "lbProbeID0": "[concat(variables(''lbID0''),''/probes/FabricGatewayProbe'')]",
      "lbHttpProbeID0": "[concat(variables(''lbID0''),''/probes/FabricHttpGatewayProbe'')]",
      "lbNatPoolID0": "[concat(variables(''lbID0''),''/inboundNatPools/LoadBalancerBEAddressNatPool'')]",
      "vmNodeType0Name": "[toLower(concat(''NT1'', variables(''vmName'')))]", "vmNodeType0Size":
      "[parameters(''vmSku'')]", "vmStorageAccountName0": "[toLower(concat(uniqueString(resourceGroup().id),
      ''1'', ''0'' ))]", "uniqueStringArray0": ["[concat(variables(''vmStorageAccountName0''),
      ''0'')]", "[concat(variables(''vmStorageAccountName0''), ''1'')]", "[concat(variables(''vmStorageAccountName0''),
      ''2'')]", "[concat(variables(''vmStorageAccountName0''), ''3'')]", "[concat(variables(''vmStorageAccountName0''),
      ''4'')]"]}, "resources": [{"apiVersion": "[variables(''storageApiVersion'')]",
      "type": "Microsoft.Storage/storageAccounts", "name": "[variables(''supportLogStorageAccountName'')]",
      "location": "[variables(''computeLocation'')]", "dependsOn": [], "properties":
      {}, "kind": "Storage", "sku": {"name": "[parameters(''supportLogStorageAccountType'')]"},
      "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''storageApiVersion'')]", "type": "Microsoft.Storage/storageAccounts",
      "name": "[variables(''applicationDiagnosticsStorageAccountName'')]", "location":
      "[variables(''computeLocation'')]", "dependsOn": [], "properties": {}, "kind":
      "Storage", "sku": {"name": "[parameters(''applicationDiagnosticsStorageAccountType'')]"},
      "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''vNetApiVersion'')]", "type": "Microsoft.Network/virtualNetworks",
      "name": "[variables(''virtualNetworkName'')]", "location": "[variables(''computeLocation'')]",
      "properties": {"addressSpace": {"addressPrefixes": ["[variables(''addressPrefix'')]"]},
      "subnets": [{"name": "[variables(''subnet0Name'')]", "properties": {"addressPrefix":
      "[variables(''subnet0Prefix'')]"}}]}, "tags": {"resourceType": "Service Fabric",
      "clusterName": "[parameters(''clusterName'')]"}}, {"apiVersion": "[variables(''publicIPApiVersion'')]",
      "type": "Microsoft.Network/publicIPAddresses", "name": "[concat(variables(''lbIPName''),''-'',''0'')]",
      "location": "[variables(''computeLocation'')]", "properties": {"dnsSettings":
      {"domainNameLabel": "[variables(''dnsName'')]"}, "publicIPAllocationMethod":
      "Dynamic"}, "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''lbApiVersion'')]", "type": "Microsoft.Network/loadBalancers",
      "name": "[concat(''LB'',''-'', parameters(''clusterName''),''-'',variables(''vmNodeType0Name''))]",
      "location": "[variables(''computeLocation'')]", "dependsOn": ["[concat(''Microsoft.Network/publicIPAddresses/'',concat(variables(''lbIPName''),''-'',''0''))]"],
      "properties": {"frontendIPConfigurations": [{"name": "LoadBalancerIPConfig",
      "properties": {"publicIPAddress": {"id": "[resourceId(''Microsoft.Network/publicIPAddresses'',concat(variables(''lbIPName''),''-'',''0''))]"}}}],
      "backendAddressPools": [{"name": "LoadBalancerBEAddressPool", "properties":
      {}}], "loadBalancingRules": [{"name": "LBRule", "properties": {"backendAddressPool":
      {"id": "[variables(''lbPoolID0'')]"}, "backendPort": "[variables(''nt0fabricTcpGatewayPort'')]",
      "enableFloatingIP": "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[variables(''nt0fabricTcpGatewayPort'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[variables(''lbProbeID0'')]"}, "protocol": "tcp"}}, {"name":
      "LBHttpRule", "properties": {"backendAddressPool": {"id": "[variables(''lbPoolID0'')]"},
      "backendPort": "[variables(''nt0fabricHttpGatewayPort'')]", "enableFloatingIP":
      "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[variables(''nt0fabricHttpGatewayPort'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[variables(''lbHttpProbeID0'')]"}, "protocol": "tcp"}},
      {"name": "AppPortLBRule1", "properties": {"backendAddressPool": {"id": "[variables(''lbPoolID0'')]"},
      "backendPort": "[parameters(''loadBalancedAppPort1'')]", "enableFloatingIP":
      "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[parameters(''loadBalancedAppPort1'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[concat(variables(''lbID0''),''/probes/AppPortProbe1'')]"},
      "protocol": "tcp"}}, {"name": "AppPortLBRule2", "properties": {"backendAddressPool":
      {"id": "[variables(''lbPoolID0'')]"}, "backendPort": "[parameters(''loadBalancedAppPort2'')]",
      "enableFloatingIP": "false", "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"},
      "frontendPort": "[parameters(''loadBalancedAppPort2'')]", "idleTimeoutInMinutes":
      "5", "probe": {"id": "[concat(variables(''lbID0''),''/probes/AppPortProbe2'')]"},
      "protocol": "tcp"}}], "probes": [{"name": "FabricGatewayProbe", "properties":
      {"intervalInSeconds": 5, "numberOfProbes": 2, "port": "[variables(''nt0fabricTcpGatewayPort'')]",
      "protocol": "tcp"}}, {"name": "FabricHttpGatewayProbe", "properties": {"intervalInSeconds":
      5, "numberOfProbes": 2, "port": "[variables(''nt0fabricHttpGatewayPort'')]",
      "protocol": "tcp"}}, {"name": "AppPortProbe1", "properties": {"intervalInSeconds":
      5, "numberOfProbes": 2, "port": "[parameters(''loadBalancedAppPort1'')]", "protocol":
      "tcp"}}, {"name": "AppPortProbe2", "properties": {"intervalInSeconds": 5, "numberOfProbes":
      2, "port": "[parameters(''loadBalancedAppPort2'')]", "protocol": "tcp"}}], "inboundNatPools":
      [{"name": "LoadBalancerBEAddressNatPool", "properties": {"backendPort": "3389",
      "frontendIPConfiguration": {"id": "[variables(''lbIPConfig0'')]"}, "frontendPortRangeEnd":
      "4500", "frontendPortRangeStart": "3389", "protocol": "tcp"}}]}, "tags": {"resourceType":
      "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}}, {"apiVersion":
      "[variables(''storageApiVersion'')]", "type": "Microsoft.Storage/storageAccounts",
      "name": "[variables(''uniqueStringArray0'')[copyIndex()]]", "location": "[variables(''computeLocation'')]",
      "dependsOn": [], "properties": {}, "copy": {"name": "storageLoop", "count":
      5}, "kind": "Storage", "sku": {"name": "[parameters(''storageAccountType'')]"},
      "tags": {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "[variables(''vmssApiVersion'')]", "type": "Microsoft.Compute/virtualMachineScaleSets",
      "name": "[variables(''vmNodeType0Name'')]", "location": "[variables(''computeLocation'')]",
      "dependsOn": ["[concat(''Microsoft.Network/virtualNetworks/'', variables(''virtualNetworkName''))]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[0])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[1])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[2])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[3])]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''uniqueStringArray0'')[4])]",
      "[concat(''Microsoft.Network/loadBalancers/'', concat(''LB'',''-'', parameters(''clusterName''),''-'',variables(''vmNodeType0Name'')))]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''supportLogStorageAccountName''))]",
      "[concat(''Microsoft.Storage/storageAccounts/'', variables(''applicationDiagnosticsStorageAccountName''))]"],
      "properties": {"overprovision": "[variables(''overProvision'')]", "upgradePolicy":
      {"mode": "Automatic"}, "virtualMachineProfile": {"extensionProfile": {"extensions":
      [{"name": "[concat(''ServiceFabricNodeVmExt'',''_vmNodeType0Name'')]", "properties":
      {"type": "ServiceFabricNode", "autoUpgradeMinorVersion": false, "protectedSettings":
      {"StorageAccountKey1": "[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
      variables(''supportLogStorageAccountName'')),''2015-05-01-preview'').key1]",
      "StorageAccountKey2": "[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
      variables(''supportLogStorageAccountName'')),''2015-05-01-preview'').key2]"},
      "publisher": "Microsoft.Azure.ServiceFabric", "settings": {"clusterEndpoint":
      "[reference(parameters(''clusterName'')).clusterEndpoint]", "nodeTypeRef": "[variables(''vmNodeType0Name'')]",
      "dataPath": "D:\\\\SvcFab", "durabilityLevel": "[parameters(''durabilityLevel'')]",
      "nicPrefixOverride": "[variables(''subnet0Prefix'')]", "certificate": {"thumbprint":
      "[parameters(''certificateThumbprint'')]", "x509StoreName": "[parameters(''certificateStoreValue'')]"}},
      "typeHandlerVersion": "1.0"}}, {"name": "[concat(''VMDiagnosticsVmExt'',''_vmNodeType0Name'')]",
      "properties": {"type": "IaaSDiagnostics", "autoUpgradeMinorVersion": true, "protectedSettings":
      {"storageAccountName": "[variables(''applicationDiagnosticsStorageAccountName'')]",
      "storageAccountKey": "[listKeys(resourceId(''Microsoft.Storage/storageAccounts'',
      variables(''applicationDiagnosticsStorageAccountName'')),''2015-05-01-preview'').key1]",
      "storageAccountEndPoint": "https://core.windows.net/"}, "publisher": "Microsoft.Azure.Diagnostics",
      "settings": {"WadCfg": {"DiagnosticMonitorConfiguration": {"overallQuotaInMB":
      "50000", "EtwProviders": {"EtwEventSourceProviderConfiguration": [{"provider":
      "Microsoft-ServiceFabric-Actors", "scheduledTransferKeywordFilter": "1", "scheduledTransferPeriod":
      "PT5M", "DefaultEvents": {"eventDestination": "ServiceFabricReliableActorEventTable"}},
      {"provider": "Microsoft-ServiceFabric-Services", "scheduledTransferPeriod":
      "PT5M", "DefaultEvents": {"eventDestination": "ServiceFabricReliableServiceEventTable"}}],
      "EtwManifestProviderConfiguration": [{"provider": "cbd93bc2-71e5-4566-b3a7-595d8eeca6e8",
      "scheduledTransferLogLevelFilter": "Information", "scheduledTransferKeywordFilter":
      "4611686018427387904", "scheduledTransferPeriod": "PT5M", "DefaultEvents": {"eventDestination":
      "ServiceFabricSystemEventTable"}}]}}}, "StorageAccount": "[variables(''applicationDiagnosticsStorageAccountName'')]"},
      "typeHandlerVersion": "1.5"}}]}, "networkProfile": {"networkInterfaceConfigurations":
      [{"name": "[concat(variables(''nicName''), ''-0'')]", "properties": {"ipConfigurations":
      [{"name": "[concat(variables(''nicName''),''-'',0)]", "properties": {"loadBalancerBackendAddressPools":
      [{"id": "[variables(''lbPoolID0'')]"}], "loadBalancerInboundNatPools": [{"id":
      "[variables(''lbNatPoolID0'')]"}], "subnet": {"id": "[variables(''subnet0Ref'')]"}}}],
      "primary": true}}]}, "osProfile": {"adminPassword": "[parameters(''adminPassword'')]",
      "adminUsername": "[parameters(''adminUsername'')]", "computernamePrefix": "[variables(''vmNodeType0Name'')]",
      "secrets": [{"sourceVault": {"id": "[parameters(''sourceVaultValue'')]"}, "vaultCertificates":
      [{"certificateStore": "[parameters(''certificateStoreValue'')]", "certificateUrl":
      "[parameters(''certificateUrlValue'')]"}]}]}, "storageProfile": {"imageReference":
      {"publisher": "[parameters(''vmImagePublisher'')]", "offer": "[parameters(''vmImageOffer'')]",
      "sku": "[parameters(''vmImageSku'')]", "version": "[parameters(''vmImageVersion'')]"},
      "osDisk": {"vhdContainers": ["[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[0]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[1]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[2]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[3]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]", "[concat(reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''uniqueStringArray0'')[4]), variables(''storageApiVersion'')).primaryEndpoints.blob,
      variables(''vmStorageAccountContainerName''))]"], "name": "vmssosdisk", "caching":
      "ReadOnly", "createOption": "FromImage"}}}}, "sku": {"name": "[variables(''vmNodeType0Size'')]",
      "capacity": "[parameters(''nt0InstanceCount'')]", "tier": "Standard"}, "tags":
      {"resourceType": "Service Fabric", "clusterName": "[parameters(''clusterName'')]"}},
      {"apiVersion": "2016-09-01", "type": "Microsoft.ServiceFabric/clusters", "name":
      "[parameters(''clusterName'')]", "location": "[parameters(''clusterLocation'')]",
      "dependsOn": ["[concat(''Microsoft.Storage/storageAccounts/'', variables(''supportLogStorageAccountName''))]"],
      "properties": {"certificate": {"thumbprint": "[parameters(''certificateThumbprint'')]",
      "x509StoreName": "[parameters(''certificateStoreValue'')]"}, "clientCertificateCommonNames":
      [], "clientCertificateThumbprints": [], "clusterState": "Default", "diagnosticsStorageAccountConfig":
      {"blobEndpoint": "[reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''supportLogStorageAccountName'')), variables(''storageApiVersion'')).primaryEndpoints.blob]",
      "protectedAccountKeyName": "StorageAccountKey1", "queueEndpoint": "[reference(concat(''Microsoft.Storage/storageAccounts/'',
      variables(''supportLogStorageAccountName'')), variables(''storageApiVersion'')).primaryEndpoints.queue]",
      "storageAccountName": "[variables(''supportLogStorageAccountName'')]", "tableEndpoint":
      "[reference(concat(''Microsoft.Storage/storageAccounts/'', variables(''supportLogStorageAccountName'')),
      variables(''storageApiVersion'')).primaryEndpoints.table]"}, "fabricSettings":
      [{"parameters": [{"name": "ClusterProtectionLevel", "value": "[parameters(''clusterProtectionLevel'')]"}],
      "name": "Security"}], "UpgradeDescription": {"UpgradeReplicaSetCheckTimeout":
      "0.05:00:00", "HealthCheckWaitDuration": "0.00:00:02", "HealthCheckStableDuration":
      "0.00:00:02", "HealthCheckRetryTimeout": "0.00:00:02", "UpgradeTimeout": "0.06:00:00",
      "UpgradeDomainTimeout": "0.02:00:00"}, "managementEndpoint": "[concat(''https://'',reference(concat(variables(''lbIPName''),''-'',''0'')).dnsSettings.fqdn,'':'',variables(''nt0fabricHttpGatewayPort''))]",
      "nodeTypes": [{"name": "[variables(''vmNodeType0Name'')]", "applicationPorts":
      {"endPort": "[variables(''nt0applicationEndPort'')]", "startPort": "[variables(''nt0applicationStartPort'')]"},
      "clientConnectionEndpointPort": "[variables(''nt0fabricTcpGatewayPort'')]",
      "durabilityLevel": "[parameters(''durabilityLevel'')]", "ephemeralPorts": {"endPort":
      "[variables(''nt0ephemeralEndPort'')]", "startPort": "[variables(''nt0ephemeralStartPort'')]"},
      "httpGatewayEndpointPort": "[variables(''nt0fabricHttpGatewayPort'')]", "isPrimary":
      true, "vmInstanceCount": "[parameters(''nt0InstanceCount'')]"}], "provisioningState":
      "Default", "reliabilityLevel": "[parameters(''reliabilityLevel'')]", "upgradeMode":
      "Automatic", "vmImage": "Windows"}, "tags": {"resourceType": "Service Fabric",
      "clusterName": "[parameters(''clusterName'')]"}}], "outputs": {"clusterProperties":
      {"value": "[reference(parameters(''clusterName''))]", "type": "object"}}}, "parameters":
      {"clusterLocation": {"value": "westus"}, "clusterName": {"value": "sfcli7"},
      "adminUserName": {"value": "adminuser"}, "adminPassword": {"value": "User@123456789"},
      "vmImagePublisher": {"value": "MicrosoftWindowsServer"}, "vmSku": {"value":
      "Standard_D2_V2"}, "vmImageOffer": {"value": "WindowsServer"}, "vmImageSku":
      {"value": "2016-Datacenter"}, "vmImageVersion": {"value": "latest"}, "loadBalancedAppPort1":
      {"value": 80}, "loadBalancedAppPort2": {"value": 8081}, "certificateStorevalue":
      {"value": "My"}, "certificateThumbprint": {"value": "2BD8C05E9F256CFFB91CBCC30CC8577CD6206965"},
      "sourceVaultvalue": {"value": "/subscriptions/13ad2c84-84fa-4798-ad71-e70c07af873f/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4"},
      "certificateUrlvalue": {"value": "https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77"},
      "clusterProtectionLevel": {"value": "EncryptAndSign"}, "storageAccountType":
      {"value": "Standard_LRS"}, "supportLogStorageAccountType": {"value": "Standard_LRS"},
      "applicationDiagnosticsStorageAccountType": {"value": "Standard_LRS"}, "nt0InstanceCount":
      {"value": 1}, "durabilityLevel": {"value": "Bronze"}, "reliabilityLevel": {"value":
      "None"}}, "mode": "Incremental"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['21400']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Resources/deployments/AzurePSDeployment-201708250949","name":"AzurePSDeployment-201708250949","properties":{"templateHash":"2243685697941274048","parameters":{"clusterLocation":{"type":"String","value":"westus"},"clusterName":{"type":"String","value":"sfcli7"},"adminUserName":{"type":"String","value":"adminuser"},"durabilityLevel":{"type":"String","value":"Bronze"},"reliabilityLevel":{"type":"String","value":"None"},"adminPassword":{"type":"SecureString"},"vmImagePublisher":{"type":"String","value":"MicrosoftWindowsServer"},"vmImageOffer":{"type":"String","value":"WindowsServer"},"vmImageSku":{"type":"String","value":"2016-Datacenter"},"vmSku":{"type":"String","value":"Standard_D2_V2"},"vmImageVersion":{"type":"String","value":"latest"},"loadBalancedAppPort1":{"type":"Int","value":80},"loadBalancedAppPort2":{"type":"Int","value":8081},"certificateStoreValue":{"type":"String","value":"My"},"certificateThumbprint":{"type":"String","value":"2BD8C05E9F256CFFB91CBCC30CC8577CD6206965"},"sourceVaultValue":{"type":"String","value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4"},"certificateUrlValue":{"type":"String","value":"https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77"},"clusterProtectionLevel":{"type":"String","value":"EncryptAndSign"},"storageAccountType":{"type":"String","value":"Standard_LRS"},"supportLogStorageAccountType":{"type":"String","value":"Standard_LRS"},"applicationDiagnosticsStorageAccountType":{"type":"String","value":"Standard_LRS"},"nt0InstanceCount":{"type":"Int","value":1}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2017-08-25T16:49:24.2422805Z","duration":"PT0.3652856S","correlationId":"facd28ba-cbe5-4a03-91b1-a02318671e89","providers":[{"namespace":"Microsoft.Storage","resourceTypes":[{"resourceType":"storageAccounts","locations":["westus"]}]},{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"virtualNetworks","locations":["westus"]},{"resourceType":"publicIPAddresses","locations":["westus"]},{"resourceType":"loadBalancers","locations":["westus"]}]},{"namespace":"Microsoft.Compute","resourceTypes":[{"resourceType":"virtualMachineScaleSets","locations":["westus"]}]},{"namespace":"Microsoft.ServiceFabric","resourceTypes":[{"resourceType":"clusters","locations":["westus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIP-LB-FE-0"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","resourceType":"Microsoft.Network/loadBalancers","resourceName":"LB-sfcli7-nt1vm"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/virtualNetworks/VNet","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"VNet"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2100"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2101"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2102"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2103"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2104"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","resourceType":"Microsoft.Network/loadBalancers","resourceName":"LB-sfcli7-nt1vm"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn23"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22","actionName":"listKeys","apiVersion":"2015-05-01-preview"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7","resourceType":"Microsoft.ServiceFabric/clusters","resourceName":"sfcli7"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn23","actionName":"listKeys","apiVersion":"2015-05-01-preview"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2100","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2101","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2102","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2103","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2104","apiVersion":"2016-01-01"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Compute/virtualMachineScaleSets/nt1vm","resourceType":"Microsoft.Compute/virtualMachineScaleSets","resourceName":"nt1vm"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIP-LB-FE-0"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7","resourceType":"Microsoft.ServiceFabric/clusters","resourceName":"sfcli7"}]}}'}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/13ad2c84-84fa-4798-ad71-e70c07af873f/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/AzurePSDeployment-201708250949/operationStatuses/08586979271216006987?api-version=2017-05-10']
      Cache-Control: [no-cache]
      Content-Length: ['8211']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:23 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:49:53 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:50:24 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:50:54 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:51:25 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:51:55 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:52:25 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:52:56 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:53:26 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:53:57 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:54:26 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:54:58 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:55:28 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586979271216006987?api-version=2017-05-10
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:55:59 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['22']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 resourcemanagementclient/1.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [58bd478c-89b5-11e7-bf85-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Resources/deployments/AzurePSDeployment-201708250949","name":"AzurePSDeployment-201708250949","properties":{"templateHash":"2243685697941274048","parameters":{"clusterLocation":{"type":"String","value":"westus"},"clusterName":{"type":"String","value":"sfcli7"},"adminUserName":{"type":"String","value":"adminuser"},"durabilityLevel":{"type":"String","value":"Bronze"},"reliabilityLevel":{"type":"String","value":"None"},"adminPassword":{"type":"SecureString"},"vmImagePublisher":{"type":"String","value":"MicrosoftWindowsServer"},"vmImageOffer":{"type":"String","value":"WindowsServer"},"vmImageSku":{"type":"String","value":"2016-Datacenter"},"vmSku":{"type":"String","value":"Standard_D2_V2"},"vmImageVersion":{"type":"String","value":"latest"},"loadBalancedAppPort1":{"type":"Int","value":80},"loadBalancedAppPort2":{"type":"Int","value":8081},"certificateStoreValue":{"type":"String","value":"My"},"certificateThumbprint":{"type":"String","value":"2BD8C05E9F256CFFB91CBCC30CC8577CD6206965"},"sourceVaultValue":{"type":"String","value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli4/providers/Microsoft.KeyVault/vaults/sfcli4"},"certificateUrlValue":{"type":"String","value":"https://sfcli4.vault.azure.net/secrets/sfcli4201708250843/2b9981be18164360a21e6face7b67a77"},"clusterProtectionLevel":{"type":"String","value":"EncryptAndSign"},"storageAccountType":{"type":"String","value":"Standard_LRS"},"supportLogStorageAccountType":{"type":"String","value":"Standard_LRS"},"applicationDiagnosticsStorageAccountType":{"type":"String","value":"Standard_LRS"},"nt0InstanceCount":{"type":"Int","value":1}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2017-08-25T16:55:53.9903123Z","duration":"PT6M30.1133174S","correlationId":"facd28ba-cbe5-4a03-91b1-a02318671e89","providers":[{"namespace":"Microsoft.Storage","resourceTypes":[{"resourceType":"storageAccounts","locations":["westus"]}]},{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"virtualNetworks","locations":["westus"]},{"resourceType":"publicIPAddresses","locations":["westus"]},{"resourceType":"loadBalancers","locations":["westus"]}]},{"namespace":"Microsoft.Compute","resourceTypes":[{"resourceType":"virtualMachineScaleSets","locations":["westus"]}]},{"namespace":"Microsoft.ServiceFabric","resourceTypes":[{"resourceType":"clusters","locations":["westus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIP-LB-FE-0"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","resourceType":"Microsoft.Network/loadBalancers","resourceName":"LB-sfcli7-nt1vm"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/virtualNetworks/VNet","resourceType":"Microsoft.Network/virtualNetworks","resourceName":"VNet"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2100"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2101"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2102"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2103"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2104"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm","resourceType":"Microsoft.Network/loadBalancers","resourceName":"LB-sfcli7-nt1vm"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn23"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22","actionName":"listKeys","apiVersion":"2015-05-01-preview"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7","resourceType":"Microsoft.ServiceFabric/clusters","resourceName":"sfcli7"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn23","actionName":"listKeys","apiVersion":"2015-05-01-preview"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2100","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2101","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2102","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2103","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn2104","apiVersion":"2016-01-01"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Compute/virtualMachineScaleSets/nt1vm","resourceType":"Microsoft.Compute/virtualMachineScaleSets","resourceName":"nt1vm"},{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22","resourceType":"Microsoft.Storage/storageAccounts","resourceName":"vdq75fhr3kbn22","apiVersion":"2016-01-01"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIP-LB-FE-0"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7","resourceType":"Microsoft.ServiceFabric/clusters","resourceName":"sfcli7"}],"outputs":{"clusterProperties":{"type":"Object","value":{"provisioningState":"Succeeded","clusterId":"f0d19091-ebea-4451-a286-cb53a7e86b57","clusterCodeVersion":"5.7.198.9494","clusterState":"WaitingForNodes","managementEndpoint":"https://sfcli7.westus.cloudapp.azure.com:19080","clusterEndpoint":"https://westus.servicefabric.azure.com/runtime/clusters/f0d19091-ebea-4451-a286-cb53a7e86b57","certificate":{"thumbprint":"2BD8C05E9F256CFFB91CBCC30CC8577CD6206965","x509StoreName":"My"},"clientCertificateThumbprints":[],"clientCertificateCommonNames":[],"fabricSettings":[{"name":"Security","parameters":[{"name":"ClusterProtectionLevel","value":"EncryptAndSign"}]}],"upgradeDescription":{"overrideUserUpgradePolicy":false,"forceRestart":false,"upgradeReplicaSetCheckTimeout":"05:00:00","healthCheckWaitDuration":"00:00:02","healthCheckStableDuration":"00:00:02","healthCheckRetryTimeout":"00:00:02","upgradeTimeout":"06:00:00","upgradeDomainTimeout":"02:00:00"},"diagnosticsStorageAccountConfig":{"storageAccountName":"vdq75fhr3kbn22","protectedAccountKeyName":"StorageAccountKey1","blobEndpoint":"https://vdq75fhr3kbn22.blob.core.windows.net/","queueEndpoint":"https://vdq75fhr3kbn22.queue.core.windows.net/","tableEndpoint":"https://vdq75fhr3kbn22.table.core.windows.net/"},"nodeTypes":[{"name":"nt1vm","clientConnectionEndpointPort":19000,"httpGatewayEndpointPort":19080,"applicationPorts":{"startPort":20000,"endPort":30000},"ephemeralPorts":{"startPort":49152,"endPort":65534},"isPrimary":true,"vmInstanceCount":1,"durabilityLevel":"Bronze"}],"vmImage":"Windows","reliabilityLevel":"None","upgradeMode":"Automatic","availableClusterVersions":[{"codeVersion":"5.7.198.9494","supportExpiryUtc":"9999-12-31T23:59:59.9999999","environment":"Windows"},{"codeVersion":"5.7.207.9494","supportExpiryUtc":"9999-12-31T23:59:59.9999999","environment":"Windows"}]}}},"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Compute/virtualMachineScaleSets/nt1vm"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/loadBalancers/LB-sfcli7-nt1vm"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/publicIPAddresses/PublicIP-LB-FE-0"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Network/virtualNetworks/VNet"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2100"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2101"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2102"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2103"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn2104"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn22"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.Storage/storageAccounts/vdq75fhr3kbn23"}]}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Fri, 25 Aug 2017 16:55:59 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['11792']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.1 (Windows-10-10.0.15063-SP0) requests/2.9.1 msrest/0.4.14
          msrest_azure/0.4.12 azure-mgmt-servicefabric/0.1.0 Azure-SDK-For-Python
          AZURECLI/TEST/2.0.13+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [45d9045c-89b6-11e7-b787-185e0fecfac1]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7?api-version=2016-09-01
  response:
    body: {string: "{\r\n  \"type\": \"Microsoft.ServiceFabric/clusters\",\r\n  \"\
        location\": \"westus\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/sfcli7/providers/Microsoft.ServiceFabric/clusters/sfcli7\"\
        ,\r\n  \"name\": \"sfcli7\",\r\n  \"tags\": {\r\n    \"resourceType\": \"\
        Service Fabric\",\r\n    \"clusterName\": \"sfcli7\"\r\n  },\r\n  \"etag\"\
        : \"W/\\\"636392765892447428\\\"\",\r\n  \"properties\": {\r\n    \"provisioningState\"\
        : \"Succeeded\",\r\n    \"clusterId\": \"f0d19091-ebea-4451-a286-cb53a7e86b57\"\
        ,\r\n    \"clusterCodeVersion\": \"5.7.198.9494\",\r\n    \"clusterState\"\
        : \"Deploying\",\r\n    \"managementEndpoint\": \"https://sfcli7.westus.cloudapp.azure.com:19080\"\
        ,\r\n    \"clusterEndpoint\": \"https://westus.servicefabric.azure.com/runtime/clusters/f0d19091-ebea-4451-a286-cb53a7e86b57\"\
        ,\r\n    \"certificate\": {\r\n      \"thumbprint\": \"2BD8C05E9F256CFFB91CBCC30CC8577CD6206965\"\
        ,\r\n      \"x509StoreName\": \"My\"\r\n    },\r\n    \"clientCertificateThumbprints\"\
        : [],\r\n    \"clientCertificateCommonNames\": [],\r\n    \"fabricSettings\"\
        : [\r\n      {\r\n        \"name\": \"Security\",\r\n        \"parameters\"\
        : [\r\n          {\r\n            \"name\": \"ClusterProtectionLevel\",\r\n\
        \            \"value\": \"EncryptAndSign\"\r\n          }\r\n        ]\r\n\
        \      }\r\n    ],\r\n    \"upgradeDescription\": {\r\n      \"overrideUserUpgradePolicy\"\
        : false,\r\n      \"forceRestart\": false,\r\n      \"upgradeReplicaSetCheckTimeout\"\
        : \"05:00:00\",\r\n      \"healthCheckWaitDuration\": \"00:00:02\",\r\n  \
        \    \"healthCheckStableDuration\": \"00:00:02\",\r\n      \"healthCheckRetryTimeout\"\
        : \"00:00:02\",\r\n      \"upgradeTimeout\": \"06:00:00\",\r\n      \"upgradeDomainTimeout\"\
        : \"02:00:00\"\r\n    },\r\n    \"diagnosticsStorageAccountConfig\": {\r\n\
        \      \"storageAccountName\": \"vdq75fhr3kbn22\",\r\n      \"protectedAccountKeyName\"\
        : \"StorageAccountKey1\",\r\n      \"blobEndpoint\": \"https://vdq75fhr3kbn22.blob.core.windows.net/\"\
        ,\r\n      \"queueEndpoint\": \"https://vdq75fhr3kbn22.queue.core.windows.net/\"\
        ,\r\n      \"tableEndpoint\": \"https://vdq75fhr3kbn22.table.core.windows.net/\"\
        \r\n    },\r\n    \"nodeTypes\": [\r\n      {\r\n        \"name\": \"nt1vm\"\
        ,\r\n        \"clientConnectionEndpointPort\": 19000,\r\n        \"httpGatewayEndpointPort\"\
        : 19080,\r\n        \"applicationPorts\": {\r\n          \"startPort\": 20000,\r\
        \n          \"endPort\": 30000\r\n        },\r\n        \"ephemeralPorts\"\
        : {\r\n          \"startPort\": 49152,\r\n          \"endPort\": 65534\r\n\
        \        },\r\n        \"isPrimary\": true,\r\n        \"vmInstanceCount\"\
        : 1,\r\n        \"durabilityLevel\": \"Bronze\"\r\n      }\r\n    ],\r\n \
        \   \"vmImage\": \"Windows\",\r\n    \"reliabilityLevel\": \"None\",\r\n \
        \   \"upgradeMode\": \"Automatic\",\r\n    \"availableClusterVersions\": [\r\
        \n      {\r\n        \"codeVersion\": \"5.7.198.9494\",\r\n        \"supportExpiryUtc\"\
        : \"9999-12-31T23:59:59.9999999\",\r\n        \"environment\": \"Windows\"\
        \r\n      },\r\n      {\r\n        \"codeVersion\": \"5.7.207.9494\",\r\n\
        \        \"supportExpiryUtc\": \"9999-12-31T23:59:59.9999999\",\r\n      \
        \  \"environment\": \"Windows\"\r\n      }\r\n    ]\r\n  }\r\n}"}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json]
      Date: ['Fri, 25 Aug 2017 16:56:00 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0, Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      X-Content-Type-Options: [nosniff]
      content-length: ['2842']
    status: {code: 200, message: OK}
version: 1
