interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-02-26T07:35:14Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [--location --name --tag]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001","name":"img_tmpl_basic000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-02-26T07:35:14Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:35:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [role assignment create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [--assignee --role --scope]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2018-01-01-preview
  response:
    body: {string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Lets
        you manage everything except access to resources.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2019-02-05T21:24:38.4580610Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['832']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:35:18 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=production; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-request-charge: ['1']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [role assignment create]
      Connection: [keep-alive]
      ParameterSetName: [--assignee --role --scope]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-graphrbac/0.53.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28c%3Ac%20eq%20%27cf32a0cc-373c-47c9-9156-0db11f6a6dfc%27%29&api-version=1.6
  response:
    body: {string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"ef511139-6170-438e-a6e1-763dc31bdf74","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"Azure
        Virtual Machine Image Builder","appId":"cf32a0cc-373c-47c9-9156-0db11f6a6dfc","appOwnerTenantId":"f8cdef31-a31e-4b4a-93e4-5f571e91255a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"Azure
        Virtual Machine Image Builder","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"oauth2Permissions":[],"passwordCredentials":[],"preferredTokenSigningKeyThumbprint":null,"publisherName":"Microsoft
        Services","replyUrls":[],"samlMetadataUrl":null,"servicePrincipalNames":["cf32a0cc-373c-47c9-9156-0db11f6a6dfc"],"servicePrincipalType":"Application","signInAudience":"AzureADMultipleOrgs","tags":[],"tokenEncryptionKeyId":null}]}'}
    headers:
      access-control-allow-origin: ['*']
      cache-control: [no-cache]
      content-length: ['1109']
      content-type: [application/json; odata=minimalmetadata; streaming=true; charset=utf-8]
      dataserviceversion: [3.0;]
      date: ['Tue, 26 Feb 2019 07:35:20 GMT']
      duration: ['1135652']
      expires: ['-1']
      ocp-aad-diagnostics-server-name: [CLBFhp12uVA5Nnh6MG2VC8aF6kYj6BwyK0Y6WAoeTzc=]
      ocp-aad-session-key: [OcoBlSolPCjA_axAYI0essHPPBNb71xN26EIuspjNeGZzXYVzdbVk-kefzIsyj_Nr35127onXmJMXjtm4VYcEWUSu75ZTuGxH0XU3s2pv0MGmLv01lG7VOyvsGZKGPWJ.tZ1G-zEtL-GV48X50wEwMq2oyPY-vGcTtAIe9PSZwy4]
      pragma: [no-cache]
      request-id: [20fb6a98-a982-4758-8f9e-9fa8ff78de99]
      server: [Microsoft-IIS/10.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-aspnet-version: [4.0.30319]
      x-ms-dirapi-data-contract-version: ['1.6']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "ef511139-6170-438e-a6e1-763dc31bdf74"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [role assignment create]
      Connection: [keep-alive]
      Content-Length: ['233']
      Content-Type: [application/json; charset=utf-8]
      Cookie: [x-ms-gateway-slice=production]
      ParameterSetName: [--assignee --role --scope]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Authorization/roleAssignments/efaeb82e-3738-407f-b88b-892c70e9d32b?api-version=2018-01-01-preview
  response:
    body: {string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"ef511139-6170-438e-a6e1-763dc31bdf74","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001","createdOn":"2019-02-26T07:35:21.5132218Z","updatedOn":"2019-02-26T07:35:21.5132218Z","createdBy":null,"updatedBy":"d12dc20d-54ce-4951-abd5-5f531f1dbca2"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Authorization/roleAssignments/efaeb82e-3738-407f-b88b-892c70e9d32b","type":"Microsoft.Authorization/roleAssignments","name":"efaeb82e-3738-407f-b88b-892c70e9d32b"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['903']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:35:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=production; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-ms-request-charge: ['3']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001","name":"img_tmpl_basic000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-02-26T07:35:14Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:35:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          subscriptionclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/locations?api-version=2016-06-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastasia","name":"eastasia","displayName":"East
        Asia","longitude":"114.188","latitude":"22.267"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southeastasia","name":"southeastasia","displayName":"Southeast
        Asia","longitude":"103.833","latitude":"1.283"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/centralus","name":"centralus","displayName":"Central
        US","longitude":"-93.6208","latitude":"41.5908"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastus","name":"eastus","displayName":"East
        US","longitude":"-79.8164","latitude":"37.3719"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastus2","name":"eastus2","displayName":"East
        US 2","longitude":"-78.3889","latitude":"36.6681"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus","name":"westus","displayName":"West
        US","longitude":"-122.417","latitude":"37.783"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/northcentralus","name":"northcentralus","displayName":"North
        Central US","longitude":"-87.6278","latitude":"41.8819"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southcentralus","name":"southcentralus","displayName":"South
        Central US","longitude":"-98.5","latitude":"29.4167"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/northeurope","name":"northeurope","displayName":"North
        Europe","longitude":"-6.2597","latitude":"53.3478"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westeurope","name":"westeurope","displayName":"West
        Europe","longitude":"4.9","latitude":"52.3667"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/japanwest","name":"japanwest","displayName":"Japan
        West","longitude":"135.5022","latitude":"34.6939"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/japaneast","name":"japaneast","displayName":"Japan
        East","longitude":"139.77","latitude":"35.68"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/brazilsouth","name":"brazilsouth","displayName":"Brazil
        South","longitude":"-46.633","latitude":"-23.55"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiaeast","name":"australiaeast","displayName":"Australia
        East","longitude":"151.2094","latitude":"-33.86"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiasoutheast","name":"australiasoutheast","displayName":"Australia
        Southeast","longitude":"144.9631","latitude":"-37.8136"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southindia","name":"southindia","displayName":"South
        India","longitude":"80.1636","latitude":"12.9822"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/centralindia","name":"centralindia","displayName":"Central
        India","longitude":"73.9197","latitude":"18.5822"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westindia","name":"westindia","displayName":"West
        India","longitude":"72.868","latitude":"19.088"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/canadacentral","name":"canadacentral","displayName":"Canada
        Central","longitude":"-79.383","latitude":"43.653"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/canadaeast","name":"canadaeast","displayName":"Canada
        East","longitude":"-71.217","latitude":"46.817"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/uksouth","name":"uksouth","displayName":"UK
        South","longitude":"-0.799","latitude":"50.941"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/ukwest","name":"ukwest","displayName":"UK
        West","longitude":"-3.084","latitude":"53.427"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westcentralus","name":"westcentralus","displayName":"West
        Central US","longitude":"-110.234","latitude":"40.890"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus2","name":"westus2","displayName":"West
        US 2","longitude":"-119.852","latitude":"47.233"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/koreacentral","name":"koreacentral","displayName":"Korea
        Central","longitude":"126.9780","latitude":"37.5665"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/koreasouth","name":"koreasouth","displayName":"Korea
        South","longitude":"129.0756","latitude":"35.1796"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/francecentral","name":"francecentral","displayName":"France
        Central","longitude":"2.3730","latitude":"46.3772"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/francesouth","name":"francesouth","displayName":"France
        South","longitude":"2.1972","latitude":"43.8345"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiacentral","name":"australiacentral","displayName":"Australia
        Central","longitude":"149.1244","latitude":"-35.3075"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiacentral2","name":"australiacentral2","displayName":"Australia
        Central 2","longitude":"149.1244","latitude":"-35.3075"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5269']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:35:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"source": {"type": "PlatformImage",
      "publisher": "Canonical", "offer": "UbuntuServer", "sku": "18.04-LTS", "version":
      "18.04.201808140"}, "customize": [{"name": "customizeScript.sh", "type": "shell",
      "script": "https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh"},
      {"name": "customizeScript.sh", "type": "shell", "script": "https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh"}],
      "distribute": []}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      Content-Length: ['553']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g --scripts --image-source]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01\"\
        ,\n \"location\": \"westus\",\n \"name\": \"template01\",\n \"properties\"\
        : {\n  \"source\": {\n   \"offer\": \"UbuntuServer\",\n   \"publisher\": \"\
        Canonical\",\n   \"sku\": \"18.04-LTS\",\n   \"type\": \"PlatformImage\",\n\
        \   \"version\": \"18.04.201808140\"\n  },\n  \"customize\": [\n   {\n   \
        \ \"name\": \"customizeScript.sh\",\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   },\n   {\n    \"name\": \"customizeScript.sh\"\
        ,\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   }\n  ],\n  \"provisioningState\": \"Creating\"\
        \n },\n \"tags\": {},\n \"type\": \"Microsoft.VirtualMachineImages/imageTemplates\"\
        \n}"}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/2ff5eae4-253e-47d8-b0e3-90f6667e5553?api-version=2018-02-01-preview']
      cache-control: [no-cache]
      content-length: ['958']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:35:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/2ff5eae4-253e-47d8-b0e3-90f6667e5553?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"name\": \"2FF5EAE4-253E-47D8-B0E3-90F6667E5553\",\n \"status\"\
        : \"Succeeded\",\n \"startTime\": \"2019-02-26T07:35:28.0379833Z\",\n \"endTime\"\
        : \"2019-02-26T07:35:56.6844787Z\"\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['165']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:35:58 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01\"\
        ,\n \"location\": \"westus\",\n \"name\": \"template01\",\n \"properties\"\
        : {\n  \"source\": {\n   \"offer\": \"UbuntuServer\",\n   \"publisher\": \"\
        Canonical\",\n   \"sku\": \"18.04-LTS\",\n   \"type\": \"PlatformImage\",\n\
        \   \"version\": \"18.04.201808140\"\n  },\n  \"customize\": [\n   {\n   \
        \ \"name\": \"customizeScript.sh\",\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   },\n   {\n    \"name\": \"customizeScript.sh\"\
        ,\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   }\n  ],\n  \"provisioningState\": \"Succeeded\"\
        \n },\n \"tags\": {},\n \"type\": \"Microsoft.VirtualMachineImages/imageTemplates\"\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['959']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:35:59 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source --managed-image-destinations]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001","name":"img_tmpl_basic000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-02-26T07:35:14Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:36:01 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source --managed-image-destinations]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          subscriptionclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/locations?api-version=2016-06-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastasia","name":"eastasia","displayName":"East
        Asia","longitude":"114.188","latitude":"22.267"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southeastasia","name":"southeastasia","displayName":"Southeast
        Asia","longitude":"103.833","latitude":"1.283"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/centralus","name":"centralus","displayName":"Central
        US","longitude":"-93.6208","latitude":"41.5908"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastus","name":"eastus","displayName":"East
        US","longitude":"-79.8164","latitude":"37.3719"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastus2","name":"eastus2","displayName":"East
        US 2","longitude":"-78.3889","latitude":"36.6681"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus","name":"westus","displayName":"West
        US","longitude":"-122.417","latitude":"37.783"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/northcentralus","name":"northcentralus","displayName":"North
        Central US","longitude":"-87.6278","latitude":"41.8819"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southcentralus","name":"southcentralus","displayName":"South
        Central US","longitude":"-98.5","latitude":"29.4167"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/northeurope","name":"northeurope","displayName":"North
        Europe","longitude":"-6.2597","latitude":"53.3478"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westeurope","name":"westeurope","displayName":"West
        Europe","longitude":"4.9","latitude":"52.3667"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/japanwest","name":"japanwest","displayName":"Japan
        West","longitude":"135.5022","latitude":"34.6939"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/japaneast","name":"japaneast","displayName":"Japan
        East","longitude":"139.77","latitude":"35.68"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/brazilsouth","name":"brazilsouth","displayName":"Brazil
        South","longitude":"-46.633","latitude":"-23.55"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiaeast","name":"australiaeast","displayName":"Australia
        East","longitude":"151.2094","latitude":"-33.86"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiasoutheast","name":"australiasoutheast","displayName":"Australia
        Southeast","longitude":"144.9631","latitude":"-37.8136"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southindia","name":"southindia","displayName":"South
        India","longitude":"80.1636","latitude":"12.9822"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/centralindia","name":"centralindia","displayName":"Central
        India","longitude":"73.9197","latitude":"18.5822"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westindia","name":"westindia","displayName":"West
        India","longitude":"72.868","latitude":"19.088"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/canadacentral","name":"canadacentral","displayName":"Canada
        Central","longitude":"-79.383","latitude":"43.653"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/canadaeast","name":"canadaeast","displayName":"Canada
        East","longitude":"-71.217","latitude":"46.817"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/uksouth","name":"uksouth","displayName":"UK
        South","longitude":"-0.799","latitude":"50.941"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/ukwest","name":"ukwest","displayName":"UK
        West","longitude":"-3.084","latitude":"53.427"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westcentralus","name":"westcentralus","displayName":"West
        Central US","longitude":"-110.234","latitude":"40.890"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus2","name":"westus2","displayName":"West
        US 2","longitude":"-119.852","latitude":"47.233"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/koreacentral","name":"koreacentral","displayName":"Korea
        Central","longitude":"126.9780","latitude":"37.5665"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/koreasouth","name":"koreasouth","displayName":"Korea
        South","longitude":"129.0756","latitude":"35.1796"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/francecentral","name":"francecentral","displayName":"France
        Central","longitude":"2.3730","latitude":"46.3772"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/francesouth","name":"francesouth","displayName":"France
        South","longitude":"2.1972","latitude":"43.8345"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiacentral","name":"australiacentral","displayName":"Australia
        Central","longitude":"149.1244","latitude":"-35.3075"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiacentral2","name":"australiacentral2","displayName":"Australia
        Central 2","longitude":"149.1244","latitude":"-35.3075"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5269']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:36:00 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "properties": {"source": {"type": "PlatformImage",
      "publisher": "Canonical", "offer": "UbuntuServer", "sku": "18.04-LTS", "version":
      "18.04.201808140"}, "customize": [{"name": "customizeScript.sh", "type": "shell",
      "script": "https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh"}],
      "distribute": [{"runOutputName": "img_1", "type": "managedImage", "imageId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/img_1",
      "location": "westus"}, {"runOutputName": "img_2", "type": "managedImage", "imageId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/img_2",
      "location": "centralus"}]}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      Content-Length: ['926']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g --scripts --image-source --managed-image-destinations]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template02?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template02\"\
        ,\n \"location\": \"westus\",\n \"name\": \"template02\",\n \"properties\"\
        : {\n  \"source\": {\n   \"offer\": \"UbuntuServer\",\n   \"publisher\": \"\
        Canonical\",\n   \"sku\": \"18.04-LTS\",\n   \"type\": \"PlatformImage\",\n\
        \   \"version\": \"18.04.201808140\"\n  },\n  \"customize\": [\n   {\n   \
        \ \"name\": \"customizeScript.sh\",\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   }\n  ],\n  \"distribute\": [\n   {\n    \"\
        imageId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/img_1\"\
        ,\n    \"location\": \"westus\",\n    \"runOutputName\": \"img_1\",\n    \"\
        tags\": {},\n    \"type\": \"managedImage\"\n   },\n   {\n    \"imageId\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/img_2\"\
        ,\n    \"location\": \"centralus\",\n    \"runOutputName\": \"img_2\",\n \
        \   \"tags\": {},\n    \"type\": \"managedImage\"\n   }\n  ],\n  \"provisioningState\"\
        : \"Creating\"\n },\n \"tags\": {},\n \"type\": \"Microsoft.VirtualMachineImages/imageTemplates\"\
        \n}"}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/9a2df9b1-1ab4-4d6b-b09e-ef136a069b8d?api-version=2018-02-01-preview']
      cache-control: [no-cache]
      content-length: ['1415']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:36:02 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source --managed-image-destinations]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/9a2df9b1-1ab4-4d6b-b09e-ef136a069b8d?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"name\": \"9A2DF9B1-1AB4-4D6B-B09E-EF136A069B8D\",\n \"status\"\
        : \"Succeeded\",\n \"startTime\": \"2019-02-26T07:36:02.8350413Z\",\n \"endTime\"\
        : \"2019-02-26T07:36:29.7837153Z\"\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['165']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:36:33 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder template create]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --scripts --image-source --managed-image-destinations]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template02?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template02\"\
        ,\n \"location\": \"westus\",\n \"name\": \"template02\",\n \"properties\"\
        : {\n  \"source\": {\n   \"offer\": \"UbuntuServer\",\n   \"publisher\": \"\
        Canonical\",\n   \"sku\": \"18.04-LTS\",\n   \"type\": \"PlatformImage\",\n\
        \   \"version\": \"18.04.201808140\"\n  },\n  \"customize\": [\n   {\n   \
        \ \"name\": \"customizeScript.sh\",\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   }\n  ],\n  \"distribute\": [\n   {\n    \"\
        imageId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/img_1\"\
        ,\n    \"location\": \"westus\",\n    \"runOutputName\": \"img_1\",\n    \"\
        tags\": {},\n    \"type\": \"managedImage\"\n   },\n   {\n    \"imageId\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/img_2\"\
        ,\n    \"location\": \"centralus\",\n    \"runOutputName\": \"img_2\",\n \
        \   \"tags\": {},\n    \"type\": \"managedImage\"\n   }\n  ],\n  \"provisioningState\"\
        : \"Succeeded\"\n },\n \"tags\": {},\n \"type\": \"Microsoft.VirtualMachineImages/imageTemplates\"\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['1416']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:36:34 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          subscriptionclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/locations?api-version=2016-06-01
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastasia","name":"eastasia","displayName":"East
        Asia","longitude":"114.188","latitude":"22.267"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southeastasia","name":"southeastasia","displayName":"Southeast
        Asia","longitude":"103.833","latitude":"1.283"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/centralus","name":"centralus","displayName":"Central
        US","longitude":"-93.6208","latitude":"41.5908"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastus","name":"eastus","displayName":"East
        US","longitude":"-79.8164","latitude":"37.3719"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/eastus2","name":"eastus2","displayName":"East
        US 2","longitude":"-78.3889","latitude":"36.6681"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus","name":"westus","displayName":"West
        US","longitude":"-122.417","latitude":"37.783"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/northcentralus","name":"northcentralus","displayName":"North
        Central US","longitude":"-87.6278","latitude":"41.8819"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southcentralus","name":"southcentralus","displayName":"South
        Central US","longitude":"-98.5","latitude":"29.4167"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/northeurope","name":"northeurope","displayName":"North
        Europe","longitude":"-6.2597","latitude":"53.3478"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westeurope","name":"westeurope","displayName":"West
        Europe","longitude":"4.9","latitude":"52.3667"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/japanwest","name":"japanwest","displayName":"Japan
        West","longitude":"135.5022","latitude":"34.6939"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/japaneast","name":"japaneast","displayName":"Japan
        East","longitude":"139.77","latitude":"35.68"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/brazilsouth","name":"brazilsouth","displayName":"Brazil
        South","longitude":"-46.633","latitude":"-23.55"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiaeast","name":"australiaeast","displayName":"Australia
        East","longitude":"151.2094","latitude":"-33.86"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiasoutheast","name":"australiasoutheast","displayName":"Australia
        Southeast","longitude":"144.9631","latitude":"-37.8136"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/southindia","name":"southindia","displayName":"South
        India","longitude":"80.1636","latitude":"12.9822"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/centralindia","name":"centralindia","displayName":"Central
        India","longitude":"73.9197","latitude":"18.5822"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westindia","name":"westindia","displayName":"West
        India","longitude":"72.868","latitude":"19.088"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/canadacentral","name":"canadacentral","displayName":"Canada
        Central","longitude":"-79.383","latitude":"43.653"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/canadaeast","name":"canadaeast","displayName":"Canada
        East","longitude":"-71.217","latitude":"46.817"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/uksouth","name":"uksouth","displayName":"UK
        South","longitude":"-0.799","latitude":"50.941"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/ukwest","name":"ukwest","displayName":"UK
        West","longitude":"-3.084","latitude":"53.427"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westcentralus","name":"westcentralus","displayName":"West
        Central US","longitude":"-110.234","latitude":"40.890"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/westus2","name":"westus2","displayName":"West
        US 2","longitude":"-119.852","latitude":"47.233"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/koreacentral","name":"koreacentral","displayName":"Korea
        Central","longitude":"126.9780","latitude":"37.5665"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/koreasouth","name":"koreasouth","displayName":"Korea
        South","longitude":"129.0756","latitude":"35.1796"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/francecentral","name":"francecentral","displayName":"France
        Central","longitude":"2.3730","latitude":"46.3772"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/francesouth","name":"francesouth","displayName":"France
        South","longitude":"2.1972","latitude":"43.8345"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiacentral","name":"australiacentral","displayName":"Australia
        Central","longitude":"149.1244","latitude":"-35.3075"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/locations/australiacentral2","name":"australiacentral2","displayName":"Australia
        Central 2","longitude":"149.1244","latitude":"-35.3075"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5269']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 26 Feb 2019 07:36:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01\"\
        ,\n \"location\": \"westus\",\n \"name\": \"template01\",\n \"properties\"\
        : {\n  \"source\": {\n   \"offer\": \"UbuntuServer\",\n   \"publisher\": \"\
        Canonical\",\n   \"sku\": \"18.04-LTS\",\n   \"type\": \"PlatformImage\",\n\
        \   \"version\": \"18.04.201808140\"\n  },\n  \"customize\": [\n   {\n   \
        \ \"name\": \"customizeScript.sh\",\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   },\n   {\n    \"name\": \"customizeScript.sh\"\
        ,\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   }\n  ],\n  \"provisioningState\": \"Succeeded\"\
        \n },\n \"tags\": {},\n \"type\": \"Microsoft.VirtualMachineImages/imageTemplates\"\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['959']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:36:35 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      Content-Length: ['0']
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01?api-version=2018-02-01-preview
  response:
    body: {string: ''}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/8258c2b9-c5b5-4b73-9136-b2cd73cd83f5?api-version=2018-02-01-preview']
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 26 Feb 2019 07:36:37 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/8258c2b9-c5b5-4b73-9136-b2cd73cd83f5?api-version=2018-02-01-preview']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/8258c2b9-c5b5-4b73-9136-b2cd73cd83f5?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"name\": \"8258C2B9-C5B5-4B73-9136-B2CD73CD83F5\",\n \"status\"\
        : \"InProgress\",\n \"startTime\": \"2019-02-26T07:36:37.8195669Z\"\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['122']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:37:07 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/8258c2b9-c5b5-4b73-9136-b2cd73cd83f5?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"name\": \"8258C2B9-C5B5-4B73-9136-B2CD73CD83F5\",\n \"status\"\
        : \"InProgress\",\n \"startTime\": \"2019-02-26T07:36:37.8195669Z\"\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['122']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:37:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/8258c2b9-c5b5-4b73-9136-b2cd73cd83f5?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"name\": \"8258C2B9-C5B5-4B73-9136-B2CD73CD83F5\",\n \"status\"\
        : \"InProgress\",\n \"startTime\": \"2019-02-26T07:36:37.8195669Z\"\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['122']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:38:09 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/8258c2b9-c5b5-4b73-9136-b2cd73cd83f5?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"name\": \"8258C2B9-C5B5-4B73-9136-B2CD73CD83F5\",\n \"status\"\
        : \"Succeeded\",\n \"startTime\": \"2019-02-26T07:36:37.8195669Z\",\n \"endTime\"\
        : \"2019-02-26T07:38:13.0585056Z\"\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['165']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:38:40 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"location": "westus", "tags": {}, "properties": {"source": {"type":
      "PlatformImage", "publisher": "Canonical", "offer": "UbuntuServer", "sku": "18.04-LTS",
      "version": "18.04.201808140"}, "customize": [{"name": "customizeScript.sh",
      "type": "shell", "script": "https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh"},
      {"name": "customizeScript.sh", "type": "shell", "script": "https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh"}],
      "distribute": [{"runOutputName": "new_img", "type": "managedImage", "imageId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/new_img",
      "location": "southcentralus"}]}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      Content-Length: ['847']
      Content-Type: [application/json; charset=utf-8]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01\"\
        ,\n \"location\": \"westus\",\n \"name\": \"template01\",\n \"properties\"\
        : {\n  \"source\": {\n   \"offer\": \"UbuntuServer\",\n   \"publisher\": \"\
        Canonical\",\n   \"sku\": \"18.04-LTS\",\n   \"type\": \"PlatformImage\",\n\
        \   \"version\": \"18.04.201808140\"\n  },\n  \"customize\": [\n   {\n   \
        \ \"name\": \"customizeScript.sh\",\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   },\n   {\n    \"name\": \"customizeScript.sh\"\
        ,\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   }\n  ],\n  \"distribute\": [\n   {\n    \"\
        imageId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/new_img\"\
        ,\n    \"location\": \"southcentralus\",\n    \"runOutputName\": \"new_img\"\
        ,\n    \"tags\": {},\n    \"type\": \"managedImage\"\n   }\n  ],\n  \"provisioningState\"\
        : \"Creating\"\n },\n \"tags\": {},\n \"type\": \"Microsoft.VirtualMachineImages/imageTemplates\"\
        \n}"}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/68ba0bf7-0025-4e4c-8edd-2b063196fd65?api-version=2018-02-01-preview']
      cache-control: [no-cache]
      content-length: ['1304']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:38:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.VirtualMachineImages/locations/westus/operations/68ba0bf7-0025-4e4c-8edd-2b063196fd65?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"name\": \"68BA0BF7-0025-4E4C-8EDD-2B063196FD65\",\n \"status\"\
        : \"Succeeded\",\n \"startTime\": \"2019-02-26T07:38:42.4764929Z\",\n \"endTime\"\
        : \"2019-02-26T07:39:10.2447813Z\"\n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['165']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:39:12 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [image-builder output add]
      Connection: [keep-alive]
      ParameterSetName: [-n -g --managed-image --managed-image-location]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          azure-mgmt-imagebuilder/0.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01?api-version=2018-02-01-preview
  response:
    body: {string: "{\n \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001/providers/Microsoft.VirtualMachineImages/imageTemplates/template01\"\
        ,\n \"location\": \"westus\",\n \"name\": \"template01\",\n \"properties\"\
        : {\n  \"source\": {\n   \"offer\": \"UbuntuServer\",\n   \"publisher\": \"\
        Canonical\",\n   \"sku\": \"18.04-LTS\",\n   \"type\": \"PlatformImage\",\n\
        \   \"version\": \"18.04.201808140\"\n  },\n  \"customize\": [\n   {\n   \
        \ \"name\": \"customizeScript.sh\",\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   },\n   {\n    \"name\": \"customizeScript.sh\"\
        ,\n    \"script\": \"https://raw.githubusercontent.com/danielsollondon/azvmimagebuilder/master/quickquickstarts/customizeScript.sh\"\
        ,\n    \"type\": \"shell\"\n   }\n  ],\n  \"distribute\": [\n   {\n    \"\
        imageId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/img_tmpl_basic000001/providers/Microsoft.Compute/images/new_img\"\
        ,\n    \"location\": \"southcentralus\",\n    \"runOutputName\": \"new_img\"\
        ,\n    \"tags\": {},\n    \"type\": \"managedImage\"\n   }\n  ],\n  \"provisioningState\"\
        : \"Succeeded\"\n },\n \"tags\": {},\n \"type\": \"Microsoft.VirtualMachineImages/imageTemplates\"\
        \n}"}
    headers:
      cache-control: [no-cache]
      content-length: ['1305']
      content-type: [application/json]
      date: ['Tue, 26 Feb 2019 07:39:13 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [nginx]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      ParameterSetName: [--name --yes --no-wait]
      User-Agent: [python/3.6.5 (Darwin-18.0.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.4.34
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python AZURECLI/2.0.59]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/img_tmpl_basic000001?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 26 Feb 2019 07:39:15 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1JTUc6NUZUTVBMOjVGQkFTSUM2STdEQVY1T0gzNldLMlBJN0dSSldBNVFJQjdLWHwyQzlGMEZEMEEzMzFGNTAyLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
