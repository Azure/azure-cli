interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2019-06-26T17:27:59Z"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group create
      Connection:
      - keep-alive
      Content-Length:
      - '110'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --location --name --tag
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-06-26T17:27:59Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:28:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: 'b''{"name": "iot-hub-for-cert-test000003"}'''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '60'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2019-03-22-preview
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:28:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2018-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-06-26T17:27:59Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '384'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:28:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 2}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '158'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-03-22-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"11e855c0-d807-4df4-a6b9-2feeab2030a6","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '990'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:28:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:28:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:29:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:29:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:30:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:30:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:31:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:31:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:32:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:32:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/operationResults/b3NfaWhfZGZmZTFlYTMtNmY5Zi00YzJiLTljYWYtOWNlYzMyZGQ5YTM0?api-version=2019-03-22-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2019-03-22-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"11e855c0-d807-4df4-a6b9-2feeab2030a6","resourcegroup":"clitest.rg000002","etag":"AAAAAAam3Oc=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot-hub-for-cert-testz2us","endpoint":"sb://iothub-ns-iot-hub-fo-1820116-0feb3f9326.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1738'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-03-22-preview
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIXpa/W9Pql+UwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRsdmtuNHlpaXlydm92eGF1MB4XDTE5MDYyNjE3MzMwOVoXDTE5\r\nMDYyOTE3MzMwOVowIzEhMB8GA1UEAwwYVEVTVENFUlRsdmtuNHlpaXlydm92eGF1\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQAvgZNcW5qLDuQCg6HTPmb9\r\nM2LRJfkCJl/CXb8RbFmiO03yczk0ePeWj6LLdE/Eg/dMwhzlAzAvFUES9CeDJIN2\r\nzObCfGN9OUwk8q767F2vGaf9wapb+udBCly3e0+0HMQsw59BQJf9r11VJkvQZZV+\r\nCSDTyF4efkamFKdprZBsQWsFP14mlRwyISMxuY566AD8CQ2EYl9Nx55/axak42n7\r\nwIsImfIlqToF52eRgm41cZqkR6BHA+MtSah32lll1Oe0mr60yaMuh1z6U7oFOgm/\r\n7wyF8gx/eChr9MwVxpb1sI+Ea8H52tKzaD4kabtMMobkwWz5dCGJqhNa5vktQo89\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAht+B7MDuSf/ZPLWfWHusDGnvfZk8RfQbKmyWbQMcd\r\nhRTBs6M+nhYho+Opzc6RGErvCDbsf7Fm8/n914m2czgE5v+pJ4E20kZ/vZsUuE6w\r\nuaXe2KAKg2L1vRe/ulFdI64M2hlgF4VCLAonjvV3t1+lfLxF+6iTb0hQvRuQGLlC\r\nVVS3MoDSwX5SzDhGP0bbs8NU9M5Wsv/KwDj1xDQGJY6wWhxPK0seqZ6xuMqigJQ0\r\ncznTPluuOYc0+hsiNepWMouwd9zp9gMMiwWUlooooa5kflvwBAq5jV3mGirytA0E\r\niGMveOWnJS3BwABaJ3rbJNHpyj5iHxn8SOzXv4r3yjeR\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1215'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERTlvkn4yiiyrvovxau","expiry":"Sat,
        29 Jun 2019 17:33:09 GMT","thumbprint":"4B11B140B50B2A03F06EBF5EB213EF4CBBBF7DB4","isVerified":false,"created":"Wed,
        26 Jun 2019 17:33:12 GMT","updated":"Wed, 26 Jun 2019 17:33:12 GMT","certificate":"-----BEGIN
        CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIXpa/W9Pql+UwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRsdmtuNHlpaXlydm92eGF1MB4XDTE5MDYyNjE3MzMwOVoXDTE5\r\nMDYyOTE3MzMwOVowIzEhMB8GA1UEAwwYVEVTVENFUlRsdmtuNHlpaXlydm92eGF1\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQAvgZNcW5qLDuQCg6HTPmb9\r\nM2LRJfkCJl/CXb8RbFmiO03yczk0ePeWj6LLdE/Eg/dMwhzlAzAvFUES9CeDJIN2\r\nzObCfGN9OUwk8q767F2vGaf9wapb+udBCly3e0+0HMQsw59BQJf9r11VJkvQZZV+\r\nCSDTyF4efkamFKdprZBsQWsFP14mlRwyISMxuY566AD8CQ2EYl9Nx55/axak42n7\r\nwIsImfIlqToF52eRgm41cZqkR6BHA+MtSah32lll1Oe0mr60yaMuh1z6U7oFOgm/\r\n7wyF8gx/eChr9MwVxpb1sI+Ea8H52tKzaD4kabtMMobkwWz5dCGJqhNa5vktQo89\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAht+B7MDuSf/ZPLWfWHusDGnvfZk8RfQbKmyWbQMcd\r\nhRTBs6M+nhYho+Opzc6RGErvCDbsf7Fm8/n914m2czgE5v+pJ4E20kZ/vZsUuE6w\r\nuaXe2KAKg2L1vRe/ulFdI64M2hlgF4VCLAonjvV3t1+lfLxF+6iTb0hQvRuQGLlC\r\nVVS3MoDSwX5SzDhGP0bbs8NU9M5Wsv/KwDj1xDQGJY6wWhxPK0seqZ6xuMqigJQ0\r\ncznTPluuOYc0+hsiNepWMouwd9zp9gMMiwWUlooooa5kflvwBAq5jV3mGirytA0E\r\niGMveOWnJS3BwABaJ3rbJNHpyj5iHxn8SOzXv4r3yjeR\r\n-----END
        CERTIFICATE-----\r\n"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAam3Sg="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1891'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2019-03-22-preview
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERTlvkn4yiiyrvovxau","expiry":"Sat,
        29 Jun 2019 17:33:09 GMT","thumbprint":"4B11B140B50B2A03F06EBF5EB213EF4CBBBF7DB4","isVerified":false,"created":"Wed,
        26 Jun 2019 17:33:12 GMT","updated":"Wed, 26 Jun 2019 17:33:12 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAam3Sg="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '709'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERTlvkn4yiiyrvovxau","expiry":"Sat,
        29 Jun 2019 17:33:09 GMT","thumbprint":"4B11B140B50B2A03F06EBF5EB213EF4CBBBF7DB4","isVerified":false,"created":"Wed,
        26 Jun 2019 17:33:12 GMT","updated":"Wed, 26 Jun 2019 17:33:12 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAam3Sg="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '697'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAAam3Sg=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"verificationCode":"69B3C20C581EA422376347CFDB918EA847DA7CEC16BF98EE","subject":"TESTCERTlvkn4yiiyrvovxau","expiry":"Sat,
        29 Jun 2019 17:33:09 GMT","thumbprint":"4B11B140B50B2A03F06EBF5EB213EF4CBBBF7DB4","isVerified":false,"created":"Wed,
        26 Jun 2019 17:33:12 GMT","updated":"Wed, 26 Jun 2019 17:33:14 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAam3Sw="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '767'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIITK0df5iNj3wwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRsdmtuNHlpaXlydm92eGF1MB4XDTE5MDYyNjE3MzMxNloXDTE5\r\nMDYyOTE3MzMxNlowOzE5MDcGA1UEAwwwNjlCM0MyMEM1ODFFQTQyMjM3NjM0N0NG\r\nREI5MThFQTg0N0RBN0NFQzE2QkY5OEVFMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQAxTs0d/pei0VEzhibg9l6UNSp7GpLxDeKpu9LETDsYt7BsuywmGjOo\r\ngdRGHL5zxtdxLzHXMcuWV2Th5XVY0Iy1tbEBduKhlzyRjY84GZOOriczcxKunyVY\r\nJdr7yh0YL2ZQVEFszmsUSlbY70YCLUhvjbxRAMUCsziCfID9rD1gZwZbcS/81VZV\r\n2wgGgDe5aDHLVMDr3YDqIARB9jW7p2E42QkXzZ/uBsumUFTapaGoHi2bix80y5Zt\r\nbXXgyCgq/K0f+j+Vp7nhd2m9xNHKkl1M3+5Xulj02Ian6JK86FRFI3QGtSwy4+d4\r\nr0SQKia8X++ep6N6dxJNizQNNAtGS/v5AgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAkOEa4/PkqoYjE\r\ngdeUqkfTGjZUeZb7waDQfDgPFyHpHnYZ8ZeAo/q8w8WpE5x27Nytv2cwqFf7X7Nl\r\nEp6EmMLg0J7DHwlD8qbXxgsubsk6srMU/bTU8sTIWlRmbJbMGc0x1X0IQcXHXQJz\r\n9h9X5doyIVnhqCeyOlwhX2ZjXBP1UBHqy4RAvm4Nr6GVjTVOWJIqLzNYTkb2T2J7\r\n6QWOIMbq771QyX5CKZroV9FET4Qh3SRsFMwD9QHDHm7W3HFgJyz4i6m3jA/GrAVq\r\nsDgeWKTggMKmf0eZWN+Vw3nb2LzJJB8mrcgNueiOGTh9TR30dFtX1VAeRV0z3e4z\r\nqOg+VoJ4\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1179'
      Content-Type:
      - application/json; charset=utf-8
      If-Match:
      - AAAAAAam3Sw=
      ParameterSetName:
      - --hub-name -g -n -p --etag
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2019-03-22-preview
  response:
    body:
      string: '{"properties":{"subject":"TESTCERTlvkn4yiiyrvovxau","expiry":"Sat,
        29 Jun 2019 17:33:09 GMT","thumbprint":"4B11B140B50B2A03F06EBF5EB213EF4CBBBF7DB4","isVerified":true,"created":"Wed,
        26 Jun 2019 17:33:12 GMT","updated":"Wed, 26 Jun 2019 17:33:16 GMT","certificate":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAam3TA="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '696'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 26 Jun 2019 17:33:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - AAAAAAam3TA=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 azure-mgmt-iothub/0.8.2
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2019-03-22-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 26 Jun 2019 17:33:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --yes --no-wait
      User-Agent:
      - python/3.7.3 (Windows-10-10.0.18922-SP0) msrest/0.6.8 msrest_azure/0.6.1 resourcemanagementclient/2.2.0
        Azure-SDK-For-Python AZURECLI/2.0.67
      accept-language:
      - en-US
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2018-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Wed, 26 Jun 2019 17:33:19 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdCNTJXRldNU1dMTDdPUEZHR0hOT1EyRFNEN0hOSVVHSUE0R3w5NTY3Rjg4RUU1MDQ4MzIxLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2018-05-01
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
version: 1
