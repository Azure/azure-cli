interactions:
- request:
    body: '{"location": "westus"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batch account create
      Connection:
      - keep-alive
      Content-Length:
      - '22'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g -l
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-batch/9.0.0 Azure-SDK-For-Python AZURECLI/2.15.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2020-05-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 04 Dec 2020 18:46:25 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/445ebfcf-484c-4a32-81a8-1f75cf4bb020?api-version=2020-05-01
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batch account create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-batch/9.0.0 Azure-SDK-For-Python AZURECLI/2.15.1
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/operationResults/445ebfcf-484c-4a32-81a8-1f75cf4bb020?api-version=2020-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"clibatch000002.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":700,"dedicatedCoreQuotaPerVMFamily":[{"name":"standardAv2Family","coreQuota":100},{"name":"standardDv2Family","coreQuota":100},{"name":"standardDv3Family","coreQuota":100},{"name":"standardEv3Family","coreQuota":50},{"name":"standardDSv2Family","coreQuota":100},{"name":"standardDSv3Family","coreQuota":100},{"name":"standardESv3Family","coreQuota":50},{"name":"standardFFamily","coreQuota":50},{"name":"standardFSFamily","coreQuota":50},{"name":"standardA0_A7Family","coreQuota":0},{"name":"standardA8_A11Family","coreQuota":0},{"name":"standardDFamily","coreQuota":0},{"name":"standardGFamily","coreQuota":0},{"name":"basicAFamily","coreQuota":0},{"name":"standardNVFamily","coreQuota":0},{"name":"standardNVPromoFamily","coreQuota":0},{"name":"standardNCFamily","coreQuota":0},{"name":"standardNCPromoFamily","coreQuota":0},{"name":"standardHFamily","coreQuota":0},{"name":"standardHPromoFamily","coreQuota":0},{"name":"standardMSFamily","coreQuota":0},{"name":"standardDSFamily","coreQuota":0},{"name":"standardGSFamily","coreQuota":0},{"name":"standardLSFamily","coreQuota":0},{"name":"standardLSv2Family","coreQuota":0},{"name":"standardNCSv2Family","coreQuota":0},{"name":"standardNDSFamily","coreQuota":0},{"name":"standardNCSv3Family","coreQuota":0},{"name":"standardFSv2Family","coreQuota":0},{"name":"standardHBSFamily","coreQuota":0},{"name":"standardHCSFamily","coreQuota":0},{"name":"standardNVSv3Family","coreQuota":0},{"name":"standardHBrsv2Family","coreQuota":0},{"name":"standardDAv4Family","coreQuota":0},{"name":"standardDASv4Family","coreQuota":0},{"name":"standardEAv4Family","coreQuota":0},{"name":"standardEASv4Family","coreQuota":0},{"name":"standardDDv4Family","coreQuota":0},{"name":"standardDDSv4Family","coreQuota":0},{"name":"standardEDv4Family","coreQuota":0},{"name":"standardEDSv4Family","coreQuota":0},{"name":"standardMSv2Family","coreQuota":0},{"name":"standardEIv3Family","coreQuota":0},{"name":"standardNVSv4Family","coreQuota":0},{"name":"standardXEISv4Family","coreQuota":0},{"name":"standardXEIDSv4Family","coreQuota":0}],"dedicatedCoreQuotaPerVMFamilyEnforced":false,"lowPriorityCoreQuota":500,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"poolAllocationMode":"BatchService","publicNetworkAccess":"Enabled","encryption":{"keySource":"Microsoft.Batch"}},"identity":{"type":"None"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2772'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Dec 2020 18:46:41 GMT
      etag:
      - '"0x8D89884F1023DF8"'
      expires:
      - '-1'
      last-modified:
      - Fri, 04 Dec 2020 18:46:41 GMT
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batch account keys list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --query -o
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-batch/9.0.0 Azure-SDK-For-Python AZURECLI/2.15.1
      accept-language:
      - en-US
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002/listKeys?api-version=2020-05-01
  response:
    body:
      string: '{"accountName":"clibatch000002","primary":"6F85bhv8TzSPgrDmhYAhsUXZ92Hq3wbNNgSo6OJ8N56vcVw4A9vF40TtPziW9lYOzv5d86fianWhekuRtsXAdw==","secondary":"X7yhHhiHaBbtux3g+yIYQ8v080Si90ALEysKfVW8FqsRO+1W+27N1oUj78aOvtrJ5KKYTYjIpFLos5CpVt5BEg=="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '246'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Dec 2020 18:46:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - batch account show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-batch/9.0.0 Azure-SDK-For-Python AZURECLI/2.15.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002?api-version=2020-05-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Batch/batchAccounts/clibatch000002","name":"clibatch000002","type":"Microsoft.Batch/batchAccounts","location":"westus","properties":{"accountEndpoint":"clibatch000002.westus.batch.azure.com","provisioningState":"Succeeded","dedicatedCoreQuota":700,"dedicatedCoreQuotaPerVMFamily":[{"name":"standardAv2Family","coreQuota":100},{"name":"standardDv2Family","coreQuota":100},{"name":"standardDv3Family","coreQuota":100},{"name":"standardEv3Family","coreQuota":50},{"name":"standardDSv2Family","coreQuota":100},{"name":"standardDSv3Family","coreQuota":100},{"name":"standardESv3Family","coreQuota":50},{"name":"standardFFamily","coreQuota":50},{"name":"standardFSFamily","coreQuota":50},{"name":"standardA0_A7Family","coreQuota":0},{"name":"standardA8_A11Family","coreQuota":0},{"name":"standardDFamily","coreQuota":0},{"name":"standardGFamily","coreQuota":0},{"name":"basicAFamily","coreQuota":0},{"name":"standardNVFamily","coreQuota":0},{"name":"standardNVPromoFamily","coreQuota":0},{"name":"standardNCFamily","coreQuota":0},{"name":"standardNCPromoFamily","coreQuota":0},{"name":"standardHFamily","coreQuota":0},{"name":"standardHPromoFamily","coreQuota":0},{"name":"standardMSFamily","coreQuota":0},{"name":"standardDSFamily","coreQuota":0},{"name":"standardGSFamily","coreQuota":0},{"name":"standardLSFamily","coreQuota":0},{"name":"standardLSv2Family","coreQuota":0},{"name":"standardNCSv2Family","coreQuota":0},{"name":"standardNDSFamily","coreQuota":0},{"name":"standardNCSv3Family","coreQuota":0},{"name":"standardFSv2Family","coreQuota":0},{"name":"standardHBSFamily","coreQuota":0},{"name":"standardHCSFamily","coreQuota":0},{"name":"standardNVSv3Family","coreQuota":0},{"name":"standardHBrsv2Family","coreQuota":0},{"name":"standardDAv4Family","coreQuota":0},{"name":"standardDASv4Family","coreQuota":0},{"name":"standardEAv4Family","coreQuota":0},{"name":"standardEASv4Family","coreQuota":0},{"name":"standardDDv4Family","coreQuota":0},{"name":"standardDDSv4Family","coreQuota":0},{"name":"standardEDv4Family","coreQuota":0},{"name":"standardEDSv4Family","coreQuota":0},{"name":"standardMSv2Family","coreQuota":0},{"name":"standardEIv3Family","coreQuota":0},{"name":"standardNVSv4Family","coreQuota":0},{"name":"standardXEISv4Family","coreQuota":0},{"name":"standardXEIDSv4Family","coreQuota":0}],"dedicatedCoreQuotaPerVMFamilyEnforced":false,"lowPriorityCoreQuota":500,"poolQuota":100,"activeJobAndJobScheduleQuota":300,"poolAllocationMode":"BatchService","publicNetworkAccess":"Enabled","encryption":{"keySource":"Microsoft.Batch"}},"identity":{"type":"None"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2772'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 04 Dec 2020 18:46:43 GMT
      etag:
      - '"0x8D89884EA26E3A4"'
      expires:
      - '-1'
      last-modified:
      - Fri, 04 Dec 2020 18:46:30 GMT
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "azure-cli-test-paas", "vmSize": "small", "cloudServiceConfiguration":
      {"osFamily": "4"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '96'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:43 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-paas
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:43 GMT
      etag:
      - '0x8D89884F24DC491'
      last-modified:
      - Fri, 04 Dec 2020 18:46:44 GMT
      location:
      - https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-paas
      request-id:
      - b74a87e1-fb33-4c0a-bfd9-cd549c116ebf
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: '{"id": "azure-cli-test-iaas", "vmSize": "Standard_A1", "virtualMachineConfiguration":
      {"imageReference": {"publisher": "Canonical", "offer": "UbuntuServer", "sku":
      "16.04.0-LTS"}, "nodeAgentSKUId": "batch.node.ubuntu 16.04"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '225'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:44 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-iaas
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:44 GMT
      etag:
      - '0x8D89884F2ADE62C'
      last-modified:
      - Fri, 04 Dec 2020 18:46:44 GMT
      location:
      - https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas
      request-id:
      - 08fd2dd9-357f-405e-bad5-1e90aeaee884
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: '{"id": "azure-cli-test-json", "vmSize": "small", "cloudServiceConfiguration":
      {"osFamily": "4"}, "resizeTimeout": "PT15M", "targetLowPriorityNodes": 2, "startTask":
      {"commandLine": "cmd /c echo test", "userIdentity": {"username": "cliTestUser"},
      "waitForSuccess": true}, "taskSlotsPerNode": 3, "userAccounts": [{"name": "cliTestUser",
      "password": "SRYES@#%#_DSFH", "elevationLevel": "admin"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '393'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:44 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-json
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:44 GMT
      etag:
      - '0x8D89884F2F8AB21'
      last-modified:
      - Fri, 04 Dec 2020 18:46:45 GMT
      location:
      - https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-json
      request-id:
      - c8cc4dc7-30c8-4a52-8956-50670a91fb05
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:45 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-json?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"id\":\"azure-cli-test-json\",\"url\":\"https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-json\"\
        ,\"eTag\":\"0x8D89884F2F8AB21\",\"lastModified\":\"2020-12-04T18:46:45.2413217Z\"\
        ,\"creationTime\":\"2020-12-04T18:46:45.2413217Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2020-12-04T18:46:45.2413217Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2020-12-04T18:46:45.2413217Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :2,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n    \
        \  \"username\":\"cliTestUser\"\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  },\"userAccounts\":[\r\n    {\r\n      \"name\":\"cliTestUser\"\
        ,\"elevationLevel\":\"admin\",\"windowsUserConfiguration\":{\r\n        \"\
        loginMode\":\"interactive\"\r\n      }\r\n    }\r\n  ],\"taskSlotsPerNode\"\
        :3,\"taskSchedulingPolicy\":{\r\n    \"nodeFillType\":\"Spread\"\r\n  },\"\
        cloudServiceConfiguration\":{\r\n    \"osFamily\":\"4\",\"osVersion\":\"*\"\
        \r\n  }\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:45 GMT
      etag:
      - '0x8D89884F2F8AB21'
      last-modified:
      - Fri, 04 Dec 2020 18:46:45 GMT
      request-id:
      - f412b33f-4306-4bf0-bb79-a0cf882e6ff4
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:45 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools?api-version=2020-09-01.12.0&maxresults=1000&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"azure-cli-test-iaas\",\"url\":\"https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas\"\
        ,\"eTag\":\"0x8D89884F2ADE62C\",\"lastModified\":\"2020-12-04T18:46:44.7513132Z\"\
        ,\"creationTime\":\"2020-12-04T18:46:44.7513132Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2020-12-04T18:46:44.7513132Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2020-12-04T18:46:44.7513132Z\"\
        ,\"vmSize\":\"standard_a1\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"taskSlotsPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\":\"Spread\"\r\n \
        \     },\"virtualMachineConfiguration\":{\r\n        \"imageReference\":{\r\
        \n          \"publisher\":\"Canonical\",\"offer\":\"UbuntuServer\",\"sku\"\
        :\"16.04.0-LTS\",\"version\":\"latest\"\r\n        },\"nodeAgentSKUId\":\"\
        batch.node.ubuntu 16.04\"\r\n      }\r\n    },{\r\n      \"id\":\"azure-cli-test-json\"\
        ,\"url\":\"https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-json\"\
        ,\"eTag\":\"0x8D89884F2F8AB21\",\"lastModified\":\"2020-12-04T18:46:45.2413217Z\"\
        ,\"creationTime\":\"2020-12-04T18:46:45.2413217Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2020-12-04T18:46:45.2413217Z\",\"allocationState\"\
        :\"resizing\",\"allocationStateTransitionTime\":\"2020-12-04T18:46:45.2413217Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :2,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"startTask\"\
        :{\r\n        \"commandLine\":\"cmd /c echo test\",\"userIdentity\":{\r\n\
        \          \"username\":\"cliTestUser\"\r\n        },\"maxTaskRetryCount\"\
        :0,\"waitForSuccess\":true\r\n      },\"userAccounts\":[\r\n        {\r\n\
        \          \"name\":\"cliTestUser\",\"elevationLevel\":\"admin\",\"windowsUserConfiguration\"\
        :{\r\n            \"loginMode\":\"interactive\"\r\n          }\r\n       \
        \ }\r\n      ],\"taskSlotsPerNode\":3,\"taskSchedulingPolicy\":{\r\n     \
        \   \"nodeFillType\":\"Spread\"\r\n      },\"cloudServiceConfiguration\":{\r\
        \n        \"osFamily\":\"4\",\"osVersion\":\"*\"\r\n      }\r\n    },{\r\n\
        \      \"id\":\"azure-cli-test-paas\",\"url\":\"https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-paas\"\
        ,\"eTag\":\"0x8D89884F24DC491\",\"lastModified\":\"2020-12-04T18:46:44.1213073Z\"\
        ,\"creationTime\":\"2020-12-04T18:46:44.1213073Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2020-12-04T18:46:44.1213073Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2020-12-04T18:46:45.3943214Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"taskSlotsPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\":\"Spread\"\r\n \
        \     },\"cloudServiceConfiguration\":{\r\n        \"osFamily\":\"4\",\"osVersion\"\
        :\"*\"\r\n      }\r\n    }\r\n  ]\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:46 GMT
      request-id:
      - 86e29552-91b5-42db-b2f5-b2179e72d2a2
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:46 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools?api-version=2020-09-01.12.0&$filter=id%20eq%20%27azure-cli-test-paas%27&maxresults=1000&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools\"\
        ,\"value\":[\r\n    {\r\n      \"id\":\"azure-cli-test-paas\",\"url\":\"https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-paas\"\
        ,\"eTag\":\"0x8D89884F24DC491\",\"lastModified\":\"2020-12-04T18:46:44.1213073Z\"\
        ,\"creationTime\":\"2020-12-04T18:46:44.1213073Z\",\"state\":\"active\",\"\
        stateTransitionTime\":\"2020-12-04T18:46:44.1213073Z\",\"allocationState\"\
        :\"steady\",\"allocationStateTransitionTime\":\"2020-12-04T18:46:45.3943214Z\"\
        ,\"vmSize\":\"small\",\"resizeTimeout\":\"PT15M\",\"currentDedicatedNodes\"\
        :0,\"targetDedicatedNodes\":0,\"currentLowPriorityNodes\":0,\"targetLowPriorityNodes\"\
        :0,\"enableAutoScale\":false,\"enableInterNodeCommunication\":false,\"taskSlotsPerNode\"\
        :1,\"taskSchedulingPolicy\":{\r\n        \"nodeFillType\":\"Spread\"\r\n \
        \     },\"cloudServiceConfiguration\":{\r\n        \"osFamily\":\"4\",\"osVersion\"\
        :\"*\"\r\n      }\r\n    }\r\n  ]\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:45 GMT
      request-id:
      - ed1ea073-b02b-4e8d-a0df-8ea49f2e14e3
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"targetDedicatedNodes": 0, "targetLowPriorityNodes": 5}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '56'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:46 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-paas/resize?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-paas/resize
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:46 GMT
      etag:
      - '0x8D89884F3F66CCB'
      last-modified:
      - Fri, 04 Dec 2020 18:46:46 GMT
      request-id:
      - b7cb587f-f832-476e-bf15-282a63bc8b35
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:46 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-paas?api-version=2020-09-01.12.0&$select=allocationState%2C%20targetLowPriorityNodes&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"allocationState\":\"resizing\",\"targetLowPriorityNodes\":5\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:46 GMT
      etag:
      - '0x8D89884F3F66CCB'
      last-modified:
      - Fri, 04 Dec 2020 18:46:46 GMT
      request-id:
      - c72cb00a-829b-4c37-aefd-d51b068ee696
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:47 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-paas/stopresize?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-paas/stopresize
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:47 GMT
      etag:
      - '0x8D89884F3F66CCB'
      last-modified:
      - Fri, 04 Dec 2020 18:46:46 GMT
      request-id:
      - 9061dfa2-64bd-4ee8-adf5-b3ef38900064
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: '{"autoScaleFormula": "$TargetLowPriorityNodes=3"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '49'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:47 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas/enableautoscale?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-iaas/enableautoscale
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:48 GMT
      etag:
      - '0x8D89884F4AA5403'
      last-modified:
      - Fri, 04 Dec 2020 18:46:48 GMT
      request-id:
      - 95e292cf-6457-4113-ae73-e42b965f0618
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:48 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas?api-version=2020-09-01.12.0&$select=enableAutoScale&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"enableAutoScale\":true\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:48 GMT
      etag:
      - '0x8D89884F4AA5403'
      last-modified:
      - Fri, 04 Dec 2020 18:46:48 GMT
      request-id:
      - 62e4484b-ae7a-4725-805f-58897a8c8789
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"autoScaleFormula": "$TargetLowPriorityNodes=3"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '49'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:48 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas/evaluateautoscale?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.AutoScaleRun\"\
        ,\"timestamp\":\"2020-12-04T18:46:49.1212835Z\",\"results\":\"$TargetDedicatedNodes=0;$TargetLowPriorityNodes=3;$NodeDeallocationOption=requeue\"\
        \r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-iaas/evaluateautoscale
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:48 GMT
      request-id:
      - f3e5b22b-65cf-4899-8aa2-ff60c5f851ea
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:49 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas/disableautoscale?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-iaas/disableautoscale
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:49 GMT
      etag:
      - '0x8D89884F4AA5403'
      last-modified:
      - Fri, 04 Dec 2020 18:46:48 GMT
      request-id:
      - 4332cc61-650d-453a-b5ec-9a882a983351
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:49 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas?api-version=2020-09-01.12.0&$select=enableAutoScale&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"enableAutoScale\":false\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:48 GMT
      etag:
      - '0x8D89884F4AA5403'
      last-modified:
      - Fri, 04 Dec 2020 18:46:48 GMT
      request-id:
      - f9420cc2-eb36-479f-ba63-2759c9c9fbeb
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:49 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/poolusagemetrics?api-version=2020-09-01.12.0&maxresults=1000&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#poolusagemetrics\"\
        ,\"value\":[\r\n    \r\n  ]\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:49 GMT
      request-id:
      - 09878e06-20cf-4d23-a579-b4a33acd4fdf
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:50 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-json?api-version=2020-09-01.12.0&$select=startTask&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"startTask\":{\r\n    \"commandLine\":\"cmd /c echo test\",\"userIdentity\"\
        :{\r\n      \"username\":\"cliTestUser\"\r\n    },\"maxTaskRetryCount\":0,\"\
        waitForSuccess\":true\r\n  }\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:50 GMT
      etag:
      - '0x8D89884F2F8AB21'
      last-modified:
      - Fri, 04 Dec 2020 18:46:45 GMT
      request-id:
      - 99b3140c-5c67-4213-a15a-f9fe954e2897
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"startTask": {"commandLine": "new_value"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '43'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:50 GMT
      return-client-request-id:
      - 'false'
    method: PATCH
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-json?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceid:
      - https://clibatcharv4se2rsp64uasl.westus.batch.azure.com/pools/azure-cli-test-json
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:51 GMT
      etag:
      - '0x8D89884F686F181'
      last-modified:
      - Fri, 04 Dec 2020 18:46:51 GMT
      request-id:
      - fbd3efb0-62d3-4004-a237-7f7d2d4ea719
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:51 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-json?api-version=2020-09-01.12.0&$select=startTask&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"startTask\":{\r\n    \"commandLine\":\"new_value\",\"userIdentity\":{\r\
        \n      \"autoUser\":{\r\n        \"scope\":\"pool\",\"elevationLevel\":\"\
        nonadmin\"\r\n      }\r\n    },\"maxTaskRetryCount\":0,\"waitForSuccess\"\
        :true\r\n  }\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:51 GMT
      etag:
      - '0x8D89884F686F181'
      last-modified:
      - Fri, 04 Dec 2020 18:46:51 GMT
      request-id:
      - ae677faa-0a6f-480c-9e08-cb45cd9e44cc
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:51 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/supportedimages?api-version=2020-09-01.12.0&maxresults=1000&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#supportedimages\"\
        ,\"value\":[\r\n    {\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"batch\",\"offer\":\"rendering-centos73\",\"sku\":\"rendering\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.centos 7\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"batch\",\"offer\":\"rendering-windows2016\"\
        ,\"sku\":\"rendering\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"verified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\",\"osType\":\"\
        windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"canonical\",\"offer\":\"ubuntuserver\",\"sku\":\"16.04-lts\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.ubuntu 16.04\",\"batchSupportEndOfLife\":\"2021-05-21T00:00:00Z\"\
        ,\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n       \
        \ \"publisher\":\"canonical\",\"offer\":\"ubuntuserver\",\"sku\":\"16.04.0-lts\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"unverified\",\"\
        nodeAgentSKUId\":\"batch.node.ubuntu 16.04\",\"batchSupportEndOfLife\":\"\
        2021-05-21T00:00:00Z\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"canonical\",\"offer\":\"ubuntuserver\",\"sku\"\
        :\"16_04-lts-gen2\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.ubuntu 16.04\",\"capabilities\"\
        :[\r\n        \"Generation2VMImage\"\r\n      ],\"batchSupportEndOfLife\"\
        :\"2021-05-21T00:00:00Z\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"canonical\",\"offer\":\"ubuntuserver\",\"sku\"\
        :\"18.04-lts\",\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\"\
        ,\"nodeAgentSKUId\":\"batch.node.ubuntu 18.04\",\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"imageReference\":{\r\n        \"publisher\":\"canonical\"\
        ,\"offer\":\"ubuntuserver\",\"sku\":\"18_04-lts-gen2\",\"version\":\"latest\"\
        \r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.ubuntu\
        \ 18.04\",\"capabilities\":[\r\n        \"Generation2VMImage\"\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"credativ\",\"offer\":\"debian\",\"sku\":\"8\",\"version\":\"\
        latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"\
        batch.node.debian 8\",\"batchSupportEndOfLife\":\"2020-07-30T00:00:00Z\",\"\
        osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"credativ\",\"offer\":\"debian\",\"sku\":\"9\",\"version\":\"\
        latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"\
        batch.node.debian 9\",\"batchSupportEndOfLife\":\"2020-10-06T00:00:00Z\",\"\
        osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"debian\",\"offer\":\"debian-10\",\"sku\":\"10\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.debian 10\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container\"\
        ,\"sku\":\"7-4\",\"version\":\"latest\"\r\n      },\"verificationType\":\"\
        unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\":[\r\
        \n        \"DockerCompatible\",\"NvidiaTeslaDriverInstalled\",\"NvidiaGridDriverInstalled\"\
        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container\"\
        ,\"sku\":\"7-5\",\"version\":\"latest\"\r\n      },\"verificationType\":\"\
        unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\":[\r\
        \n        \"DockerCompatible\",\"NvidiaTeslaDriverInstalled\",\"NvidiaGridDriverInstalled\"\
        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container\"\
        ,\"sku\":\"7-6\",\"version\":\"latest\"\r\n      },\"verificationType\":\"\
        unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\":[\r\
        \n        \"DockerCompatible\",\"NvidiaTeslaDriverInstalled\",\"NvidiaGridDriverInstalled\"\
        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container\"\
        ,\"sku\":\"7-7\",\"version\":\"latest\"\r\n      },\"verificationType\":\"\
        verified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\":[\r\
        \n        \"DockerCompatible\",\"NvidiaTeslaDriverInstalled\",\"NvidiaGridDriverInstalled\"\
        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoft-azure-batch\",\"offer\":\"centos-container-rdma\"\
        ,\"sku\":\"7-4\",\"version\":\"latest\"\r\n      },\"verificationType\":\"\
        verified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\":[\r\
        \n        \"DockerCompatible\",\"NvidiaTeslaDriverInstalled\",\"SupportsRDMAOnly\"\
        ,\"IntelMPIRuntimeInstalled\"\r\n      ],\"osType\":\"linux\"\r\n    },{\r\
        \n      \"imageReference\":{\r\n        \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"centos-container-rdma\",\"sku\":\"7-6\",\"version\":\"latest\"\
        \r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos\
        \ 7\",\"capabilities\":[\r\n        \"DockerCompatible\",\"NvidiaTeslaDriverInstalled\"\
        ,\"SupportsRDMAOnly\",\"IntelMPIRuntimeInstalled\"\r\n      ],\"osType\":\"\
        linux\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"microsoft-azure-batch\",\"offer\":\"centos-container-rdma\",\"sku\":\"\
        7-7\",\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\"\
        ,\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\":[\r\n       \
        \ \"DockerCompatible\",\"NvidiaTeslaDriverInstalled\",\"SupportsRDMAOnly\"\
        ,\"IntelMPIRuntimeInstalled\"\r\n      ],\"osType\":\"linux\"\r\n    },{\r\
        \n      \"imageReference\":{\r\n        \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container\",\"sku\":\"16-04-lts\",\"version\":\"\
        latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"\
        batch.node.ubuntu 16.04\",\"capabilities\":[\r\n        \"DockerCompatible\"\
        ,\"NvidiaTeslaDriverInstalled\",\"NvidiaGridDriverInstalled\"\r\n      ],\"\
        batchSupportEndOfLife\":\"2021-05-21T00:00:00Z\",\"osType\":\"linux\"\r\n\
        \    },{\r\n      \"imageReference\":{\r\n        \"publisher\":\"microsoft-azure-batch\"\
        ,\"offer\":\"ubuntu-server-container-rdma\",\"sku\":\"16-04-lts\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.ubuntu 16.04\",\"capabilities\":[\r\n        \"DockerCompatible\"\
        ,\"NvidiaTeslaDriverInstalled\",\"SupportsRDMAOnly\"\r\n      ],\"batchSupportEndOfLife\"\
        :\"2021-05-21T00:00:00Z\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoft-dsvm\",\"offer\":\"dsvm-win-2019\"\
        ,\"sku\":\"server-2019\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\",\"osType\"\
        :\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"microsoft-dsvm\",\"offer\":\"ubuntu-1804\",\"sku\":\"1804\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\"\
        :\"batch.node.ubuntu 18.04\",\"capabilities\":[\r\n        \"NvidiaTeslaDriverInstalled\"\
        \r\n      ],\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2008-r2-sp1\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"verified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\",\"osType\":\"\
        windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\":\"2008-r2-sp1-smalldisk\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"\
        imageReference\":{\r\n        \"publisher\":\"microsoftwindowsserver\",\"\
        offer\":\"windowsserver\",\"sku\":\"2012-datacenter\",\"version\":\"latest\"\
        \r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2012-datacenter-smalldisk\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\"\
        ,\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n     \
        \   \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"\
        sku\":\"2012-r2-datacenter\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"verified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\",\"osType\":\"\
        windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\":\"2012-r2-datacenter-smalldisk\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"\
        imageReference\":{\r\n        \"publisher\":\"microsoftwindowsserver\",\"\
        offer\":\"windowsserver\",\"sku\":\"2016-datacenter\",\"version\":\"latest\"\
        \r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2016-datacenter-gensecond\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"Generation2VMImage\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2016-datacenter-gs\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\",\"osType\"\
        :\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\":\"2016-datacenter-smalldisk\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"\
        imageReference\":{\r\n        \"publisher\":\"microsoftwindowsserver\",\"\
        offer\":\"windowsserver\",\"sku\":\"2016-datacenter-smalldisk-g2\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"capabilities\":[\r\n        \"Generation2VMImage\"\
        \r\n      ],\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2016-datacenter-with-containers\",\"version\":\"latest\"\r\n  \
        \    },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2016-datacenter-with-containers-gs\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2019-datacenter\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"verified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\",\"osType\":\"\
        windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\":\"2019-datacenter-core\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"\
        imageReference\":{\r\n        \"publisher\":\"microsoftwindowsserver\",\"\
        offer\":\"windowsserver\",\"sku\":\"2019-datacenter-core-g2\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"capabilities\":[\r\n        \"Generation2VMImage\"\
        \r\n      ],\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2019-datacenter-core-smalldisk\",\"version\":\"latest\"\r\n   \
        \   },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\
        \n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2019-datacenter-core-smalldisk-g2\",\"version\":\"latest\"\r\n\
        \      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"Generation2VMImage\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2019-datacenter-core-with-containers\",\"version\":\"latest\"\r\n     \
        \ },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2019-datacenter-core-with-containers-g2\",\"version\":\"latest\"\r\n  \
        \    },\"verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\",\"Generation2VMImage\"\
        \r\n      ],\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2019-datacenter-core-with-containers-smalldisk\",\"version\":\"\
        latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"\
        batch.node.windows amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\
        \r\n      ],\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2019-datacenter-gensecond\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"Generation2VMImage\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2019-datacenter-gs\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows amd64\",\"osType\"\
        :\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\"\
        :\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\":\"2019-datacenter-smalldisk\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"osType\":\"windows\"\r\n    },{\r\n      \"\
        imageReference\":{\r\n        \"publisher\":\"microsoftwindowsserver\",\"\
        offer\":\"windowsserver\",\"sku\":\"2019-datacenter-smalldisk-g2\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\"\
        :\"batch.node.windows amd64\",\"capabilities\":[\r\n        \"Generation2VMImage\"\
        \r\n      ],\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2019-datacenter-with-containers\",\"version\":\"latest\"\r\n  \
        \    },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2019-datacenter-with-containers-g2\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\",\"Generation2VMImage\"\
        \r\n      ],\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\"\
        ,\"sku\":\"2019-datacenter-with-containers-gs\",\"version\":\"latest\"\r\n\
        \      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"2019-datacenter-with-containers-smalldisk\",\"version\":\"latest\"\r\n\
        \      },\"verificationType\":\"verified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\r\n      ],\"\
        osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"microsoftwindowsserver\",\"offer\":\"windowsserver\",\"sku\"\
        :\"datacenter-core-1903-with-containers-smalldisk\",\"version\":\"latest\"\
        \r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.windows\
        \ amd64\",\"capabilities\":[\r\n        \"DockerCompatible\"\r\n      ],\"\
        batchSupportEndOfLife\":\"2021-01-08T00:00:00Z\",\"osType\":\"windows\"\r\n\
        \    },{\r\n      \"imageReference\":{\r\n        \"publisher\":\"microsoftwindowsserver\"\
        ,\"offer\":\"windowsserver\",\"sku\":\"datacenter-core-2004-with-containers-smalldisk\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"unverified\",\"\
        nodeAgentSKUId\":\"batch.node.windows amd64\",\"capabilities\":[\r\n     \
        \   \"DockerCompatible\"\r\n      ],\"batchSupportEndOfLife\":\"2022-01-14T00:00:00Z\"\
        ,\"osType\":\"windows\"\r\n    },{\r\n      \"imageReference\":{\r\n     \
        \   \"publisher\":\"openlogic\",\"offer\":\"centos\",\"sku\":\"7.3\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\"\
        :\"batch.node.centos 7\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"openlogic\",\"offer\":\"centos\",\"sku\":\"\
        7.4\",\"version\":\"latest\"\r\n      },\"verificationType\":\"unverified\"\
        ,\"nodeAgentSKUId\":\"batch.node.centos 7\",\"osType\":\"linux\"\r\n    },{\r\
        \n      \"imageReference\":{\r\n        \"publisher\":\"openlogic\",\"offer\"\
        :\"centos\",\"sku\":\"7.5\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"osType\":\"linux\"\
        \r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\":\"openlogic\"\
        ,\"offer\":\"centos\",\"sku\":\"7.6\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\"\
        ,\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n       \
        \ \"publisher\":\"openlogic\",\"offer\":\"centos\",\"sku\":\"7.7\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"unverified\",\"nodeAgentSKUId\"\
        :\"batch.node.centos 7\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"openlogic\",\"offer\":\"centos\",\"sku\":\"\
        7_8\",\"version\":\"latest\"\r\n      },\"verificationType\":\"verified\"\
        ,\"nodeAgentSKUId\":\"batch.node.centos 7\",\"osType\":\"linux\"\r\n    },{\r\
        \n      \"imageReference\":{\r\n        \"publisher\":\"openlogic\",\"offer\"\
        :\"centos\",\"sku\":\"7_8-gen2\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\"\
        :[\r\n        \"Generation2VMImage\"\r\n      ],\"osType\":\"linux\"\r\n \
        \   },{\r\n      \"imageReference\":{\r\n        \"publisher\":\"openlogic\"\
        ,\"offer\":\"centos\",\"sku\":\"8_1\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 8\"\
        ,\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n       \
        \ \"publisher\":\"openlogic\",\"offer\":\"centos\",\"sku\":\"8_2\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.centos 8\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\"\
        :{\r\n        \"publisher\":\"openlogic\",\"offer\":\"centos\",\"sku\":\"\
        8_2-gen2\",\"version\":\"latest\"\r\n      },\"verificationType\":\"unverified\"\
        ,\"nodeAgentSKUId\":\"batch.node.centos 8\",\"capabilities\":[\r\n       \
        \ \"Generation2VMImage\"\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n  \
        \    \"imageReference\":{\r\n        \"publisher\":\"openlogic\",\"offer\"\
        :\"centos-hpc\",\"sku\":\"7.3\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\"\
        :[\r\n        \"SupportsRDMAOnly\",\"IntelMPIRuntimeInstalled\"\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"openlogic\",\"offer\":\"centos-hpc\",\"sku\":\"7.4\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.centos 7\",\"capabilities\":[\r\n        \"SupportsRDMAOnly\"\
        ,\"IntelMPIRuntimeInstalled\"\r\n      ],\"osType\":\"linux\"\r\n    },{\r\
        \n      \"imageReference\":{\r\n        \"publisher\":\"openlogic\",\"offer\"\
        :\"centos-hpc\",\"sku\":\"7.6\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"capabilities\"\
        :[\r\n        \"SupportsRDMAOnly\",\"IntelMPIRuntimeInstalled\"\r\n      ],\"\
        osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n        \"\
        publisher\":\"openlogic\",\"offer\":\"centos-hpc\",\"sku\":\"7.7\",\"version\"\
        :\"latest\"\r\n      },\"verificationType\":\"verified\",\"nodeAgentSKUId\"\
        :\"batch.node.centos 7\",\"capabilities\":[\r\n        \"SupportsRDMAOnly\"\
        ,\"IntelMPIRuntimeInstalled\"\r\n      ],\"osType\":\"linux\"\r\n    },{\r\
        \n      \"imageReference\":{\r\n        \"publisher\":\"openlogic\",\"offer\"\
        :\"centos-hpc\",\"sku\":\"7_7-gen2\",\"version\":\"latest\"\r\n      },\"\
        verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\"\
        ,\"capabilities\":[\r\n        \"SupportsRDMAOnly\",\"IntelMPIRuntimeInstalled\"\
        ,\"Generation2VMImage\"\r\n      ],\"osType\":\"linux\"\r\n    },{\r\n   \
        \   \"imageReference\":{\r\n        \"publisher\":\"oracle\",\"offer\":\"\
        oracle-linux\",\"sku\":\"7.4\",\"version\":\"latest\"\r\n      },\"verificationType\"\
        :\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos 7\",\"osType\":\"linux\"\
        \r\n    },{\r\n      \"imageReference\":{\r\n        \"publisher\":\"oracle\"\
        ,\"offer\":\"oracle-linux\",\"sku\":\"78\",\"version\":\"latest\"\r\n    \
        \  },\"verificationType\":\"unverified\",\"nodeAgentSKUId\":\"batch.node.centos\
        \ 7\",\"osType\":\"linux\"\r\n    },{\r\n      \"imageReference\":{\r\n  \
        \      \"publisher\":\"oracle\",\"offer\":\"oracle-linux\",\"sku\":\"81\"\
        ,\"version\":\"latest\"\r\n      },\"verificationType\":\"unverified\",\"\
        nodeAgentSKUId\":\"batch.node.centos 8\",\"osType\":\"linux\"\r\n    }\r\n\
        \  ]\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:51 GMT
      request-id:
      - 0f6778e5-961a-4e53-a341-55894eb8d520
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:52 GMT
      return-client-request-id:
      - 'false'
    method: DELETE
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: ''
    headers:
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:51 GMT
      request-id:
      - 635e54eb-6458-4b75-b435-85fd828ccd21
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:52 GMT
      return-client-request-id:
      - 'false'
    method: GET
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-iaas?api-version=2020-09-01.12.0&$select=state&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#pools/@Element\"\
        ,\"state\":\"deleting\"\r\n}"
    headers:
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:52 GMT
      etag:
      - '0x8D89884F74569BA'
      last-modified:
      - Fri, 04 Dec 2020 18:46:52 GMT
      request-id:
      - 76664ab7-e251-4943-8761-8b17557432d0
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "app_package_test", "vmSize": "small", "cloudServiceConfiguration":
      {"osFamily": "4"}, "applicationPackageReferences": [{"applicationId": "does-not-exist"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '164'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:52 GMT
      return-client-request-id:
      - 'false'
    method: POST
    uri: https://clibatch000002.westus.batch.azure.com/pools?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidApplicationPackageReferences\",\"message\":{\r\n    \"\
        lang\":\"en-US\",\"value\":\"One or more of the specified application package\
        \ references are invalid.\\nRequestId:23be7794-f04c-4655-9e61-6c1ffd292c9b\\\
        nTime:2020-12-04T18:46:53.2313570Z\"\r\n  },\"values\":[\r\n    {\r\n    \
        \  \"key\":\"does-not-exist\",\"value\":\"The specified application package\
        \ does not exist.\"\r\n    }\r\n  ]\r\n}"
    headers:
      content-length:
      - '526'
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:52 GMT
      request-id:
      - 23be7794-f04c-4655-9e61-6c1ffd292c9b
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 409
      message: One or more of the specified application package references are invalid.
- request:
    body: '{"applicationPackageReferences": [{"applicationId": "does-not-exist"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '71'
      Content-Type:
      - application/json; odata=minimalmetadata; charset=utf-8
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-batch/10.0.0 Azure-SDK-For-Python
      accept-language:
      - en-US
      ocp-date:
      - Fri, 04 Dec 2020 18:46:53 GMT
      return-client-request-id:
      - 'false'
    method: PATCH
    uri: https://clibatch000002.westus.batch.azure.com/pools/azure-cli-test-paas?api-version=2020-09-01.12.0&timeout=30
  response:
    body:
      string: "{\r\n  \"odata.metadata\":\"https://clibatch000002.westus.batch.azure.com/$metadata#Microsoft.Azure.Batch.Protocol.Entities.Container.errors/@Element\"\
        ,\"code\":\"InvalidApplicationPackageReferences\",\"message\":{\r\n    \"\
        lang\":\"en-US\",\"value\":\"One or more of the specified application package\
        \ references are invalid.\\nRequestId:4934db8e-c5e8-4e79-a8d4-adeb1272ed66\\\
        nTime:2020-12-04T18:46:53.6237841Z\"\r\n  },\"values\":[\r\n    {\r\n    \
        \  \"key\":\"does-not-exist\",\"value\":\"The specified application package\
        \ does not exist.\"\r\n    }\r\n  ]\r\n}"
    headers:
      content-length:
      - '526'
      content-type:
      - application/json;odata=minimalmetadata
      dataserviceversion:
      - '3.0'
      date:
      - Fri, 04 Dec 2020 18:46:53 GMT
      request-id:
      - 4934db8e-c5e8-4e79-a8d4-adeb1272ed66
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 409
      message: One or more of the specified application package references are invalid.
version: 1
