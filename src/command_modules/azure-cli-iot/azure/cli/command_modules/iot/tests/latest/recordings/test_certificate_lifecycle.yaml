interactions:
- request:
    body: '{"location": "westus", "tags": {"product": "azurecli", "cause": "automation",
      "date": "2018-05-09T22:28:42Z"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['110']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.33]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-05-09T22:28:42Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:28:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"name": "iot-hub-for-cert-test000003"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['60']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2018-04-01
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:28:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.33]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-05-09T22:28:42Z"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['384']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:28:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 2}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"377c3343-75bb-4244-98a3-0fb84a830c4b","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfYWMwMDQwMjItNTJlMi00NTFiLTg2Y2QtZDgyY2VjYzY3YjBi?api-version=2018-04-01&asyncinfo']
      cache-control: [no-cache]
      content-length: ['990']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:28:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfYWMwMDQwMjItNTJlMi00NTFiLTg2Y2QtZDgyY2VjYzY3YjBi?api-version=2018-04-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:29:19 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfYWMwMDQwMjItNTJlMi00NTFiLTg2Y2QtZDgyY2VjYzY3YjBi?api-version=2018-04-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:29:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfYWMwMDQwMjItNTJlMi00NTFiLTg2Y2QtZDgyY2VjYzY3YjBi?api-version=2018-04-01&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:19 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"377c3343-75bb-4244-98a3-0fb84a830c4b","resourcegroup":"clitest.rg000002","etag":"AAAAAAHlYcw=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot-hub-for-cert-testd5oj","endpoint":"sb://iothub-ns-iot-hub-fo-460375-ba242e3699.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot-hub-for-cert-testd5oj-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-460375-ba242e3699.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2083']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2018-04-01
  response:
    body: {string: '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIOyGOEh3ztiEwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlR2N3J1enR1ejd4NWdtbXNqMB4XDTE4MDUwODIyMjg0MloXDTE4\r\nMDUxMjIyMjg0MlowIzEhMB8GA1UEAwwYVEVTVENFUlR2N3J1enR1ejd4NWdtbXNq\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQAtjFPZkQWYxENPWozNE0eS\r\ngfN6LjLyzAzcjh1/ccshjzV1ImyhJcQdaJPpgUqXnq4Tsh+pMjHXTdD8/8uH/HFr\r\npQjT3s4Df91/pbvpdpSFr8eVQEi9H8J3qTyjQ5K+Pz7I1hz39HbuYYyORgZMPgqW\r\nid0uwTMlQzUvLt6bmfToVEXogzkhj/D2ODypzS688ZFI46OD2Ap3S4A50MVo2n5P\r\nCE9wXbEmHl5J1TtTSM2/SJOmeQ+nAH8/ICTkBRid2RVBhx3Vnhk5TTSDOHzvHOfB\r\ny97PYu0b6jTuRcMBNlQIWjfXdx2u1/FuemEBcbiqTpDNYosbwLborDchauKYioFd\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAAQWjX1t9iY0z6nrmoh2GeYSx7vFkzpTadJS4/qVHB\r\nlUF0ZWnes8N9GCGZ6RfEbWJIZuJzQEgb/hJSZVZmtnsdad7vVQzSQjxB0cqzl3Yj\r\nkJyncZIGgbFGpwnv9u8yR0n3UvAmRVK9FmFc4OSQ+bSlwm7sMMzmiHXT5bUASsbC\r\nGlOyI+KHY9FsdZfci3H6imyNRW9rUWpHKQ+ZMwarVmW93Ki62XXFK+tWgt0WB527\r\nhGTJqEp/Gk4LcKE/gepBpuJTe0ZaT73RQezJ80H45sTloOWYe4ct86oMNLRunOsN\r\nptOc+ISJS/zdZCMvpoQa/HUQDUM5HGm8TB8fFwQon4NN\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate create]
      Connection: [keep-alive]
      Content-Length: ['1215']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat, 12
        May 2018 22:28:42 GMT","thumbprint":"2A200A8B86D33E2608F27F8CD886D897355C83F0","isVerified":false,"created":"Wed,
        09 May 2018 22:30:22 GMT","updated":"Wed, 09 May 2018 22:30:22 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlYd0="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['681']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2018-04-01
  response:
    body: {string: '{"value":[{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat,
        12 May 2018 22:28:42 GMT","thumbprint":"2A200A8B86D33E2608F27F8CD886D897355C83F0","isVerified":false,"created":"Wed,
        09 May 2018 22:30:22 GMT","updated":"Wed, 09 May 2018 22:30:22 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlYd0="}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['693']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat, 12
        May 2018 22:28:42 GMT","thumbprint":"2A200A8B86D33E2608F27F8CD886D897355C83F0","isVerified":false,"created":"Wed,
        09 May 2018 22:30:22 GMT","updated":"Wed, 09 May 2018 22:30:22 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlYd0="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['681']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate generate-verification-code]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAHlYd0=]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"verificationCode":"E321379ECE409FCF4883F2C97853F0E591DFD338A9527C14","subject":"CN=TESTCERT000001","expiry":"Sat,
        12 May 2018 22:28:42 GMT","thumbprint":"2A200A8B86D33E2608F27F8CD886D897355C83F0","isVerified":false,"created":"Wed,
        09 May 2018 22:30:22 GMT","updated":"Wed, 09 May 2018 22:30:24 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlYec="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['751']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIIUZjRNZeBGL4wDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlR2N3J1enR1ejd4NWdtbXNqMB4XDTE4MDUwOTIyMzAyNVoXDTE4\r\nMDUxMjIyMzAyNVowOzE5MDcGA1UEAwwwRTMyMTM3OUVDRTQwOUZDRjQ4ODNGMkM5\r\nNzg1M0YwRTU5MURGRDMzOEE5NTI3QzE0MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQA0oftXnR8H1hjerpkMOk287szoCqXaTc9/g6Uk96M5XM3iXidUZUqw\r\n+j2nbptq7xmlIt5RQ9yKC/5QnEGOKokKLzHMUhdGNE4vs+RPzqIzSrkvD2d4FUZm\r\nmHPzqDF9ij/ydcxE1UtHm5f9rR3lryQicAsVuS1Pjgwac7umUU1hku5sx6Ml9P5C\r\nEMY6yxj9Q5MpvhP7BAuQ5vZnrEvKKDPyjMf/F4pQuJofMTCE+h8uwuGfWioDOmAO\r\n1GEsOdBuCYs+/Gduuw84UWyhs1V5ohmwZKieFix+g7E/JE7vybjeV5NIpA/jIvVU\r\nXG5O1Q74Tm45+WFlzeogRDTrW7dW/UsnAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAll7iavUWzBLJp\r\nAwuJ/4KtTn587jmK8RH5GHhRTH4qV9oDSpTcbtNqTjhADFqgqrKsHZtWrhLROJ31\r\nx73FW5cTgfm0u0s9oa+dztgIo6iuO2FA5oojvX03n48T9Gkg/XsgG+r89C4ie6mF\r\n/tZzMPk5hXGdkStmy+SsNaMqHTDiwwi0X806v9kxOn4Woo8CS9J5V49SHy72twyz\r\nishdX9QLZAxRQj5Ts8qNPdHCANE9lwUj1N8V91KOFi71IzUOe2lNaJiOB1a5VClH\r\nRaFqbUNw25hZ2yo7CeZ6nqZoSoTfHUGyiJrCKo40EILtbjcC8ZbpkcTq0bJ5lQiI\r\n+VrKCztN\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate verify]
      Connection: [keep-alive]
      Content-Length: ['1179']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAHlYec=]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat, 12
        May 2018 22:28:42 GMT","thumbprint":"2A200A8B86D33E2608F27F8CD886D897355C83F0","isVerified":true,"created":"Wed,
        09 May 2018 22:30:22 GMT","updated":"Wed, 09 May 2018 22:30:25 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlYe8="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['680']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 22:30:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAHlYe8=]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.33]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2018-04-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 09 May 2018 22:30:26 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.33]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 09 May 2018 22:30:27 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdUNUFMV0c0SEdCNzRSVkxLVFAyN1c3Mk01VkI1TUM0TUxTS3w2Qjg1Mzk1QjUzQTUyRDQ1LVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
