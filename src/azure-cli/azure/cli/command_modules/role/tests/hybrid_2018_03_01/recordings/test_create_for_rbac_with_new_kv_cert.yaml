interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:36:25 GMT
      duration:
      - '2345427'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - N4+GZCeuBICqA9yHJI6fyz45bb70LiBRrNRRpMhbuPY=
      ocp-aad-session-key:
      - 34GUBRr2pn9_Q7sWmD0Wv15hhqU4gIRydERbl4UVrv5YDESvCk3JL28pJCTwdwp5QEkRgNyLvCgm2YUxv8bczqDNT3L7ZudTTDYzg9Hn0swCCdckQu6t10B1rQzn6cG_tm9el6p8u0LAcj9D1n7psPvAA3QaYRnt1Pdyk8jeXqY.hldPsHrlyD8wNNqBQr1dxIa8E3_2OuhSqSyHvwhq6v4
      pragma:
      - no-cache
      request-id:
      - a25bb0ed-fc64-410f-b0c4-1a67fcee23b7
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"99f9bed5cc33403b9931ff2ad054b3fc"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:28 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=99f9bed5cc33403b9931ff2ad054b3fc
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"99f9bed5cc33403b9931ff2ad054b3fc"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"99f9bed5cc33403b9931ff2ad054b3fc"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"99f9bed5cc33403b9931ff2ad054b3fc"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"99f9bed5cc33403b9931ff2ad054b3fc"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"99f9bed5cc33403b9931ff2ad054b3fc"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:36:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"99f9bed5cc33403b9931ff2ad054b3fc"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/146ed8b01ec5421e8dde646f9e64ea21","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/146ed8b01ec5421e8dde646f9e64ea21","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/146ed8b01ec5421e8dde646f9e64ea21","x5t":"YP9c0ZpXQy3Ijd8oJUHf_FZ7VYQ","cer":"MIIDQDCCAiigAwIBAgIQdkR4TL09Sn2m2tsM8onekzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjEwNjAyMDcyNjU1WhcNMjIwNzAyMDczNjU1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDmrZS6HASKPxXzTLljyid/k5jV7T9ojvnheLIhzi/T+1aRhJUkoYLgIgdFbpR6VfVOTiIuXL7jbUiTZHRx+IdZfAuGDIXMgsj3AIOsUY9GV1TNYgpRkxWXd35bWSKa06mk4fSNOhiji6B/OkpwHmulgmKdaPbPXTmfCN7k7MoJ2ctly9/bE6kPUm3LvCeYTHmdFJtOZcv7I2Ow/KaSWco+CnTKe7e/ODJCav825ilmsaJW/JDyYvTd/eplluFrPH2uqlw2acKmyk2FOJeVq6xOTUClRzFZtC7F1r+yr5IC56e/lqgVlOcfQKrtu6d1Fq/aSOEpBUXd5pJ5HOeiubO9AgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQZUmlGeKc3eX4XAErvBygyEvJCQjAdBgNVHQ4EFgQUGVJpRninN3l+FwBK7wcoMhLyQkIwDQYJKoZIhvcNAQELBQADggEBAFXS2sSTRBDz8tF+vzlynkpUzDQHJwRKyFp6bmeaJ2T8NrDeazIR0YqMopADZoX0z/SXu7FAQ5/1ZpOz/LQQsO2ledjB6mZlqf/zY5dP6XJDrUzUVYZrzvcHfOaR7mx7I0aSRtY4NqPknG9Oju+Ii/1u3daZHYvhpaDUfGHUad9lm++YJtbn44iVoIYgvNs65vq/Hcpt+JRNOPRgHoirjOwjLOATDObJohbA7wMB2nQOECo8kTPXxc/qBfmUXsjL4qLTmEI8ZWXTgMvMrb/u/wgGnYaCfTl2Ft1XZJnwj1jGVs/fFaVdMcOUxJjeNqIk6zCyr4/cdW8u088bGtb0CUs=","attributes":{"enabled":true,"nbf":1622618815,"exp":1656747415,"created":1622619415,"updated":1622619415,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1622619388,"updated":1622619388}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:03 GMT
      duration:
      - '2385323'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - pfK7ioPp9rgmjJ/VTaKeZjFM+IImuM6rzv4O4DlZM+Q=
      ocp-aad-session-key:
      - bZ977Paqcy6siXfpLxvXPVX01501eWmr2YHFTfakMrz2FQmTNczdg8rtAofwo6DDZk8EbWWq9HNMo5Xj4sFIla9esuH8liPuhiUL0FjCWTep4j3pBYY24mEcLQG8FljShOTMBx3EtDdVrIm9gzI7eYUH9LNTgIuw7aXnXlu5jGo.XdxCXBM4V3bYF5keITulS82v9g6b-TgghX2LGzmt1jo
      pragma:
      - no-cache
      request-id:
      - 545d3bb3-f1c2-4b40-b79b-35d7ac7d47e3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "keyCredentials": [{"startDate": "2021-06-02T07:36:26.336046Z",
      "endDate": "2022-06-02T07:36:26.336046Z", "value": "MIIDQDCCAiigAwIBAgIQdkR4TL09Sn2m2tsM8onekzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjEwNjAyMDcyNjU1WhcNMjIwNzAyMDczNjU1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDmrZS6HASKPxXzTLljyid/k5jV7T9ojvnheLIhzi/T+1aRhJUkoYLgIgdFbpR6VfVOTiIuXL7jbUiTZHRx+IdZfAuGDIXMgsj3AIOsUY9GV1TNYgpRkxWXd35bWSKa06mk4fSNOhiji6B/OkpwHmulgmKdaPbPXTmfCN7k7MoJ2ctly9/bE6kPUm3LvCeYTHmdFJtOZcv7I2Ow/KaSWco+CnTKe7e/ODJCav825ilmsaJW/JDyYvTd/eplluFrPH2uqlw2acKmyk2FOJeVq6xOTUClRzFZtC7F1r+yr5IC56e/lqgVlOcfQKrtu6d1Fq/aSOEpBUXd5pJ5HOeiubO9AgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQZUmlGeKc3eX4XAErvBygyEvJCQjAdBgNVHQ4EFgQUGVJpRninN3l+FwBK7wcoMhLyQkIwDQYJKoZIhvcNAQELBQADggEBAFXS2sSTRBDz8tF+vzlynkpUzDQHJwRKyFp6bmeaJ2T8NrDeazIR0YqMopADZoX0z/SXu7FAQ5/1ZpOz/LQQsO2ledjB6mZlqf/zY5dP6XJDrUzUVYZrzvcHfOaR7mx7I0aSRtY4NqPknG9Oju+Ii/1u3daZHYvhpaDUfGHUad9lm++YJtbn44iVoIYgvNs65vq/Hcpt+JRNOPRgHoirjOwjLOATDObJohbA7wMB2nQOECo8kTPXxc/qBfmUXsjL4qLTmEI8ZWXTgMvMrb/u/wgGnYaCfTl2Ft1XZJnwj1jGVs/fFaVdMcOUxJjeNqIk6zCyr4/cdW8u088bGtb0CUs=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_new_cert000001",
      "identifierUris": []}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1485'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "826f26bd-ec80-4270-9ad2-c4922e02a555", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "f7138b2e-31f1-4cbd-a975-7dab924d302a",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_new_cert000001", "errorUrl": null,
        "groupMembershipClaims": null, "homepage": null, "identifierUris": [], "informationalUrls":
        {"termsOfService": null, "support": null, "privacy": null, "marketing": null},
        "isDeviceOnlyAuthSupported": null, "keyCredentials": [{"customKeyIdentifier":
        "60FF5CD19A57432DC88DDF282541DFFC567B5584", "endDate": "2022-06-02T07:36:26.336046Z",
        "keyId": "88888888-0000-0000-0000-000000000001", "startDate": "2021-06-02T07:36:26.336046Z",
        "type": "AsymmetricX509Cert", "usage": "Verify", "value": null}], "knownClientApplications":
        [], "logoutUrl": null, "logo@odata.mediaEditLink": "directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_new_cert000001 on behalf
        of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "id": "b4591403-8717-4361-b3d0-2126b8cf46ae", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_new_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2606'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:04 GMT
      duration:
      - '6081120'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - botmI4xF49EcyP8EJofHyJYgaNYeoE8NteMvV50yx44=
      ocp-aad-session-key:
      - QURWnoAxasJlHssI2xkKG0Ddo1DtQVOddyyQdJknXMTBno7h1dhTBp759HxqP-kRD8FvxAWkj_b4zH5-En24CcxGoUQ9vpKZBD4fResRvrsnCVHr4YEwE_bJpD2kgbd1cPQVEsMCS2QT-XAlxL8rGnpWSmg5TTg3zle26kL0yRA.v5lUy_K9NrzGwu3Z6n1jil_0Pzxs7H_AijED9La7J4U
      pragma:
      - no-cache
      request-id:
      - 7268e156-d371-465c-835a-26472db5afcc
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "f7138b2e-31f1-4cbd-a975-7dab924d302a"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"ad28d437-af73-44a4-bc1c-9bc47b49e11c","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"f7138b2e-31f1-4cbd-a975-7dab924d302a","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"b4591403-8717-4361-b3d0-2126b8cf46ae","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["f7138b2e-31f1-4cbd-a975-7dab924d302a"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1988'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:05 GMT
      duration:
      - '3703177'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/ad28d437-af73-44a4-bc1c-9bc47b49e11c/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - glg1JfA1kWhCTDRD0Jy8mD2x1W1UECiqolE+Xaa9Sss=
      ocp-aad-session-key:
      - 07BYkqD-NKlCOJ6N9vWM09q1gRC_Rw81G-gs6RwhPI2uZttEddsh3o3lLyAG0P2t9fdvvwenIG6-Zg35u-H_4nJ6EXeGJH1Rty8piA_EFwCXpWKo-legDsIoW37MNfuKBhj2sbS3U_GjIAk7QoruCmpqPYMGcsdFu_FErYzFjkg.0diJ4NraKYh3RDrbSvNQSbCmNPXlNgp7CllvUthaUzI
      pragma:
      - no-cache
      request-id:
      - 8e49a78b-d05b-47a0-8ffb-96d359cc1693
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC, manage assignments in Azure Blueprints, or share image galleries.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete","Microsoft.Compute/galleries/share/action"]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-12-04T00:34:54.8501087Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '947'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "ad28d437-af73-44a4-bc1c-9bc47b49e11c"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2015-07-01
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal ad28d437af7344a4bc1c9bc47b49e11c
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC, manage assignments in Azure Blueprints, or share image galleries.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete","Microsoft.Compute/galleries/share/action"]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-12-04T00:34:54.8501087Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '947'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "ad28d437-af73-44a4-bc1c-9bc47b49e11c"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2015-07-01
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"ad28d437-af73-44a4-bc1c-9bc47b49e11c","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","createdOn":"2021-06-02T07:37:11.9854638Z","updatedOn":"2021-06-02T07:37:12.2954765Z","createdBy":null,"updatedBy":"6d97229a-391f-473a-893f-f0608b592d7b"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '868'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/146ed8b01ec5421e8dde646f9e64ea21","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/146ed8b01ec5421e8dde646f9e64ea21","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/146ed8b01ec5421e8dde646f9e64ea21","x5t":"YP9c0ZpXQy3Ijd8oJUHf_FZ7VYQ","cer":"MIIDQDCCAiigAwIBAgIQdkR4TL09Sn2m2tsM8onekzANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjEwNjAyMDcyNjU1WhcNMjIwNzAyMDczNjU1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDmrZS6HASKPxXzTLljyid/k5jV7T9ojvnheLIhzi/T+1aRhJUkoYLgIgdFbpR6VfVOTiIuXL7jbUiTZHRx+IdZfAuGDIXMgsj3AIOsUY9GV1TNYgpRkxWXd35bWSKa06mk4fSNOhiji6B/OkpwHmulgmKdaPbPXTmfCN7k7MoJ2ctly9/bE6kPUm3LvCeYTHmdFJtOZcv7I2Ow/KaSWco+CnTKe7e/ODJCav825ilmsaJW/JDyYvTd/eplluFrPH2uqlw2acKmyk2FOJeVq6xOTUClRzFZtC7F1r+yr5IC56e/lqgVlOcfQKrtu6d1Fq/aSOEpBUXd5pJ5HOeiubO9AgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQZUmlGeKc3eX4XAErvBygyEvJCQjAdBgNVHQ4EFgQUGVJpRninN3l+FwBK7wcoMhLyQkIwDQYJKoZIhvcNAQELBQADggEBAFXS2sSTRBDz8tF+vzlynkpUzDQHJwRKyFp6bmeaJ2T8NrDeazIR0YqMopADZoX0z/SXu7FAQ5/1ZpOz/LQQsO2ledjB6mZlqf/zY5dP6XJDrUzUVYZrzvcHfOaR7mx7I0aSRtY4NqPknG9Oju+Ii/1u3daZHYvhpaDUfGHUad9lm++YJtbn44iVoIYgvNs65vq/Hcpt+JRNOPRgHoirjOwjLOATDObJohbA7wMB2nQOECo8kTPXxc/qBfmUXsjL4qLTmEI8ZWXTgMvMrb/u/wgGnYaCfTl2Ft1XZJnwj1jGVs/fFaVdMcOUxJjeNqIk6zCyr4/cdW8u088bGtb0CUs=","attributes":{"enabled":true,"nbf":1622618815,"exp":1656747415,"created":1622619415,"updated":1622619415,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1622619388,"updated":1622619388}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27f7138b2e-31f1-4cbd-a975-7dab924d302a%27%29%20or%20displayName%20eq%20%27f7138b2e-31f1-4cbd-a975-7dab924d302a%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"ad28d437-af73-44a4-bc1c-9bc47b49e11c","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"f7138b2e-31f1-4cbd-a975-7dab924d302a","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":null,"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"b4591403-8717-4361-b3d0-2126b8cf46ae","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["f7138b2e-31f1-4cbd-a975-7dab924d302a"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '1991'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:15 GMT
      duration:
      - '2516426'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - OQTqLsfnr1521Fs19n7k6zJmxVZiCaU+y59dbbowMQo=
      ocp-aad-session-key:
      - 0VCtZ34hBpNS1YRIiNzgmUa-QFp6DxbwXBN2CDyHN7ECkwILyyQxLCfOKy6Umdb_DbHRQl4QvpIzvj5wSJluEvJy_PPBiQ9irSxKSHQitS4UuiInXWSoChZ2cylJC51sbfP3VxuAKbw6x1Ct5gNcDPl9csnci92FdfEu5c_zCSI.ldJ7_TjO34K_ITZ78ORaHvd9koVoe63TRV9YBrzsyP4
      pragma:
      - no-cache
      request-id:
      - 4670296f-54b1-4600-a00c-ebe74aa6a5ec
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27f7138b2e-31f1-4cbd-a975-7dab924d302a%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:15 GMT
      duration:
      - '3485308'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - v6mh2qS6M4TEfm4mzbIsQZOcXCbqiOZTBx5Tu6Htcdg=
      ocp-aad-session-key:
      - aTjNqaRy6uYJyQ5YBktzYyhg2wPttWEI6FZ5At2Hp_Qw_luTNLLMisjv_EJdEDaaNmTnsVUM8e_l_N0ncwRotH8abJObF8xjA6Sf5Z3vcnSOZiPU1n3jnowrBbah2frYbnDJ11Wmx6JNFXYiqpXodr2qZX13czstK5SX_MOB1Po.dAcgcSdzQ5sezEyy3lftn4dQknyVvixFxiN0CTOiWuo
      pragma:
      - no-cache
      request-id:
      - f5834289-e3ae-4548-94cf-15d12544ddc6
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27f7138b2e-31f1-4cbd-a975-7dab924d302a%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"826f26bd-ec80-4270-9ad2-c4922e02a555","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"f7138b2e-31f1-4cbd-a975-7dab924d302a","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"60FF5CD19A57432DC88DDF282541DFFC567B5584","endDate":"2022-06-02T07:36:26.336046Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2021-06-02T07:36:26.336046Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"b4591403-8717-4361-b3d0-2126b8cf46ae","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2523'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:16 GMT
      duration:
      - '2486129'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - EWhFTijSw9bQfoTXxashlyvSfkNuRvSusMtzIbt3zf0=
      ocp-aad-session-key:
      - RMjgcoCfpK-hT15l8hrRj07KihtbHzfNSD-GuNUmG64HSWZSJuSkfETEp5A946VrXNNaty06LUd8LKrSsmSgTD1dzjaKLmiyEtedHSrCgEtX7r4F0Z2mmejVD44geNlB1ePlh8b_cCIbzkeiCeHpbKd7IGG4uPVhZ9YLrXKlEFM.JUPurMrf2S1CWClM_To8eOXmEzoPYcy9UF7hJQhTQKk
      pragma:
      - no-cache
      request-id:
      - 78788cde-85e1-4274-921f-5b7a8b5c12f5
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/826f26bd-ec80-4270-9ad2-c4922e02a555?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"826f26bd-ec80-4270-9ad2-c4922e02a555","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"f7138b2e-31f1-4cbd-a975-7dab924d302a","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"60FF5CD19A57432DC88DDF282541DFFC567B5584","endDate":"2022-06-02T07:36:26.336046Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2021-06-02T07:36:26.336046Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"b4591403-8717-4361-b3d0-2126b8cf46ae","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2520'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:17 GMT
      duration:
      - '3908825'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - j6ZsMuxEFp4K2U49mofGkyk9fpH6Y/C79BBrFEk6eWQ=
      ocp-aad-session-key:
      - pq_7T8q6hBkvwVlR1gDGIxgK9HPsSYuJWuaggQrIM_NRASvbVl87lmpAhhE9ixzUM5iaf1idNdPKM1dav6547iFy7XJcVyHEp1qxMzu1l-DSUyYXKQUy2Zb_9djoXjnhAJcz1tIfybLADi6WefS7W3TvxiBN_r7x91u1XT-mCQc.NmkNhTMaPUZM0w2LULXXYocIHIrHos5JQ7aYGBx-4lE
      pragma:
      - no-cache
      request-id:
      - b7f9c6ed-a0fd-4f1e-b7d7-e63d590a06b6
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b4ddf3652f0b4fa49a1c1f63db930f7a"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:18 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=b4ddf3652f0b4fa49a1c1f63db930f7a
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b4ddf3652f0b4fa49a1c1f63db930f7a"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b4ddf3652f0b4fa49a1c1f63db930f7a"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b4ddf3652f0b4fa49a1c1f63db930f7a"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5q2UuhwEij8V80y5Y8onf5OY1e0/aI754XiyIc4v0/tWkYSVJKGC4CIHRW6UelX1Tk4iLly+421Ik2R0cfiHWXwLhgyFzILI9wCDrFGPRldUzWIKUZMVl3d+W1kimtOppOH0jToYo4ugfzpKcB5rpYJinWj2z105nwje5OzKCdnLZcvf2xOpD1Jty7wnmEx5nRSbTmXL+yNjsPymklnKPgp0ynu3vzgyQmr/NuYpZrGiVvyQ8mL03f3qZZbhazx9rqpcNmnCpspNhTiXlausTk1ApUcxWbQuxda/sq+SAuenv5aoFZTnH0Cq7bundRav2kjhKQVF3eaSeRznormzvQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJwMx30UMYnrmyidbmiqc7D6obl/5rvxA6aKz6W1CVhQ5nWw93OCB6VvKKnRPK9Pp1oMnczMB840qZGbHaCtdUNcD3TAOTSAyZcBBswqtPSq9v09EYbZyp3NDX7L/wXsMaEnzlJ8z5ELHioXucUmucCUaecF40/heT45eaR7fsTcjaabcsXTk9ttLPdr9jNzHvSU9A93k0VH8QnWO0bGd2GIWEv7B2Qh78o/lWQqQM45w+PhR/blqjwqpiiG1XOX2wJRatoI64h7XTC0NrEugTf/G9rbepyLzMYKMF9LVqEx6feYoECuoLuZ3woO0iIqHyZOqEUJ+skZZnXntLDGi/8=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"b4ddf3652f0b4fa49a1c1f63db930f7a"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/e4803663144d4ab9b29bafccb2ec9abd","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/e4803663144d4ab9b29bafccb2ec9abd","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/e4803663144d4ab9b29bafccb2ec9abd","x5t":"LsuWG8LkJlynbueQBOBTff4Em68","cer":"MIIDQDCCAiigAwIBAgIQXSW7q4bSQqCGz7vnErTpGTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjEwNjAyMDcyNzM0WhcNMjIwNzAyMDczNzM0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDmrZS6HASKPxXzTLljyid/k5jV7T9ojvnheLIhzi/T+1aRhJUkoYLgIgdFbpR6VfVOTiIuXL7jbUiTZHRx+IdZfAuGDIXMgsj3AIOsUY9GV1TNYgpRkxWXd35bWSKa06mk4fSNOhiji6B/OkpwHmulgmKdaPbPXTmfCN7k7MoJ2ctly9/bE6kPUm3LvCeYTHmdFJtOZcv7I2Ow/KaSWco+CnTKe7e/ODJCav825ilmsaJW/JDyYvTd/eplluFrPH2uqlw2acKmyk2FOJeVq6xOTUClRzFZtC7F1r+yr5IC56e/lqgVlOcfQKrtu6d1Fq/aSOEpBUXd5pJ5HOeiubO9AgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQZUmlGeKc3eX4XAErvBygyEvJCQjAdBgNVHQ4EFgQUGVJpRninN3l+FwBK7wcoMhLyQkIwDQYJKoZIhvcNAQELBQADggEBADLk1YtjLLZZYEreauEiffQhkOTAIDbrgo1WmexO04C1O0deBHD9cWnCyrMfWTxtUBuNS0hovLIkMPTArRJvWD812+5jX8t4PSjdVdjxffZ0rRKnC66ETD7FkIgudz8OpuQXVoO6mubHxotI4P9JJfeMAaP0ZOaBYEmZ7K3eJXtE2vbLYLfDnXsVm7Tx1p+1NMu1zdcN0mORC0qTzHDVDhz5BjO3jGakm3Jikk3SVmpPxgK/XrZQnF+zXIROW3I327DJMVdotkpQARAy6mvtTfspG4savI+zfiVwfRT7ZacejakvmlWHgheUkilqnJM2sUw4FJ7kDm2nAQoEsTpt6Do=","attributes":{"enabled":true,"nbf":1622618854,"exp":1656747454,"created":1622619455,"updated":1622619455,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1622619388,"updated":1622619439}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2021-06-02T07:37:15.463132Z", "endDate":
      "2022-06-02T07:37:15.463132Z", "value": "MIIDQDCCAiigAwIBAgIQXSW7q4bSQqCGz7vnErTpGTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjEwNjAyMDcyNzM0WhcNMjIwNzAyMDczNzM0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDmrZS6HASKPxXzTLljyid/k5jV7T9ojvnheLIhzi/T+1aRhJUkoYLgIgdFbpR6VfVOTiIuXL7jbUiTZHRx+IdZfAuGDIXMgsj3AIOsUY9GV1TNYgpRkxWXd35bWSKa06mk4fSNOhiji6B/OkpwHmulgmKdaPbPXTmfCN7k7MoJ2ctly9/bE6kPUm3LvCeYTHmdFJtOZcv7I2Ow/KaSWco+CnTKe7e/ODJCav825ilmsaJW/JDyYvTd/eplluFrPH2uqlw2acKmyk2FOJeVq6xOTUClRzFZtC7F1r+yr5IC56e/lqgVlOcfQKrtu6d1Fq/aSOEpBUXd5pJ5HOeiubO9AgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQZUmlGeKc3eX4XAErvBygyEvJCQjAdBgNVHQ4EFgQUGVJpRninN3l+FwBK7wcoMhLyQkIwDQYJKoZIhvcNAQELBQADggEBADLk1YtjLLZZYEreauEiffQhkOTAIDbrgo1WmexO04C1O0deBHD9cWnCyrMfWTxtUBuNS0hovLIkMPTArRJvWD812+5jX8t4PSjdVdjxffZ0rRKnC66ETD7FkIgudz8OpuQXVoO6mubHxotI4P9JJfeMAaP0ZOaBYEmZ7K3eJXtE2vbLYLfDnXsVm7Tx1p+1NMu1zdcN0mORC0qTzHDVDhz5BjO3jGakm3Jikk3SVmpPxgK/XrZQnF+zXIROW3I327DJMVdotkpQARAy6mvtTfspG4savI+zfiVwfRT7ZacejakvmlWHgheUkilqnJM2sUw4FJ7kDm2nAQoEsTpt6Do=",
      "keyId": "88888888-0000-0000-0000-000000000004", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1335'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/826f26bd-ec80-4270-9ad2-c4922e02a555?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Wed, 02 Jun 2021 07:37:41 GMT
      duration:
      - '4847769'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - u0gpeVRFYL5rjrOBdcC4GdxdFqdc6lM2UXWMasS9iVI=
      ocp-aad-session-key:
      - ytxifss6etqO3ah4u7JcbOQOXouGhZPkdKYINHcOTg-vQ0X4gQ3NGd5p9F_eWzcqRN_1cB649j9eEXFI7jXap7CUVSyIqSGGqmPsq2mnB-DBLe2QGPbCkapPAcdLBnEspeVIGxGiiJi6TzBX0uoJm3aEUSRlJ0WUauHtwqMKUw4.xHIrW2aaugdjE9xVrXJioEpaXwsy09K5On38R1zudZI
      pragma:
      - no-cache
      request-id:
      - 205ee8fe-a739-4874-a15c-468568949b45
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/e4803663144d4ab9b29bafccb2ec9abd","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/e4803663144d4ab9b29bafccb2ec9abd","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/e4803663144d4ab9b29bafccb2ec9abd","x5t":"LsuWG8LkJlynbueQBOBTff4Em68","cer":"MIIDQDCCAiigAwIBAgIQXSW7q4bSQqCGz7vnErTpGTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjEwNjAyMDcyNzM0WhcNMjIwNzAyMDczNzM0WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDmrZS6HASKPxXzTLljyid/k5jV7T9ojvnheLIhzi/T+1aRhJUkoYLgIgdFbpR6VfVOTiIuXL7jbUiTZHRx+IdZfAuGDIXMgsj3AIOsUY9GV1TNYgpRkxWXd35bWSKa06mk4fSNOhiji6B/OkpwHmulgmKdaPbPXTmfCN7k7MoJ2ctly9/bE6kPUm3LvCeYTHmdFJtOZcv7I2Ow/KaSWco+CnTKe7e/ODJCav825ilmsaJW/JDyYvTd/eplluFrPH2uqlw2acKmyk2FOJeVq6xOTUClRzFZtC7F1r+yr5IC56e/lqgVlOcfQKrtu6d1Fq/aSOEpBUXd5pJ5HOeiubO9AgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBQZUmlGeKc3eX4XAErvBygyEvJCQjAdBgNVHQ4EFgQUGVJpRninN3l+FwBK7wcoMhLyQkIwDQYJKoZIhvcNAQELBQADggEBADLk1YtjLLZZYEreauEiffQhkOTAIDbrgo1WmexO04C1O0deBHD9cWnCyrMfWTxtUBuNS0hovLIkMPTArRJvWD812+5jX8t4PSjdVdjxffZ0rRKnC66ETD7FkIgudz8OpuQXVoO6mubHxotI4P9JJfeMAaP0ZOaBYEmZ7K3eJXtE2vbLYLfDnXsVm7Tx1p+1NMu1zdcN0mORC0qTzHDVDhz5BjO3jGakm3Jikk3SVmpPxgK/XrZQnF+zXIROW3I327DJMVdotkpQARAy6mvtTfspG4savI+zfiVwfRT7ZacejakvmlWHgheUkilqnJM2sUw4FJ7kDm2nAQoEsTpt6Do=","attributes":{"enabled":true,"nbf":1622618854,"exp":1656747454,"created":1622619455,"updated":1622619455,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1622619388,"updated":1622619439}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 02 Jun 2021 07:37:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.73;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.2.297.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27f7138b2e-31f1-4cbd-a975-7dab924d302a%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:43 GMT
      duration:
      - '2336473'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - pfK7ioPp9rgmjJ/VTaKeZjFM+IImuM6rzv4O4DlZM+Q=
      ocp-aad-session-key:
      - a-097Dcz6UUWi5dwpaHPkSmebVe0HTJYGIyCWWRrxPGrvlLETorBkvdM3z-EqVbBlufySywB4i4t6bAo4D1W3HwoTGy4xXYEugHymheq3dcgbeB5D3NLzoUTPvBFrwMJ7BXGgYiQ_4Rw7M0gVf7CipvytN7VU92WH05eFH8JDMI.tHDfQ4vAhPUZ9E_u3FXQ7IcWq9ErcnSNyQ8L9tBb0dE
      pragma:
      - no-cache
      request-id:
      - 938edd11-ebd5-4aa7-8be1-0239e123d866
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%27f7138b2e-31f1-4cbd-a975-7dab924d302a%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"826f26bd-ec80-4270-9ad2-c4922e02a555","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"f7138b2e-31f1-4cbd-a975-7dab924d302a","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":null,"identifierUris":[],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"2ECB961BC2E4265CA76EE79004E0537DFE049BAF","endDate":"2022-06-02T07:37:15.463132Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2021-06-02T07:37:15.463132Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/826f26bd-ec80-4270-9ad2-c4922e02a555/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"b4591403-8717-4361-b3d0-2126b8cf46ae","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2523'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Wed, 02 Jun 2021 07:37:43 GMT
      duration:
      - '2334253'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - FS8vl5Shx4lQcwUqyCNpfX2Su5PXZU90OSFcnV+NhCo=
      ocp-aad-session-key:
      - V0h_ffIX9pHiALjDjdhYePpTntF7P_WizyBjxuR7fxCbbFi9gMQTUE_GSLPXOludAgGdTcmlwZ0TMrHjzFdUja5lRVSGb6Qf4-VGUpnEGZZ6FeS1LPM7sbYNKGsktPEXKElDbl16akygZFs79OOoGLx_Tki71j8X8ykwRo-tSEY.KMBXg8GRvhTtNISlyCRJ9xRmB2PrsbqrRxv8z68MsCk
      pragma:
      - no-cache
      request-id:
      - 773a80bf-578d-457d-b9c9-fec529bfea94
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.9.5 (Windows-10-10.0.19043-SP0) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.24.0
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/826f26bd-ec80-4270-9ad2-c4922e02a555?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Wed, 02 Jun 2021 07:37:44 GMT
      duration:
      - '4510728'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - U4RxEEUuRixFo2YtSFybg72WLIq37OGThxE+5xVROfs=
      ocp-aad-session-key:
      - MKvBF3zR3reMrLLbO7amdBUm1nasBamuc4F4ycDTuqcU5NSB5-uL3fO5g5GepOCX9jfbBPDrGoHCp0ZF6WP2C2kCYOhG6M3iWe9iYNcMD0idJNKgI76Yr5tSTJY6Da7rFn19cebDGlg3fGbeTFiS1AlYmADQb0TKoXubytY8M7A.guqhnQV1a8EMmyCQECytz_WGc2M7n1w_skZKoSBxJn8
      pragma:
      - no-cache
      request-id:
      - 4a23500b-21aa-4e9e-b54d-bfd10d740960
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
