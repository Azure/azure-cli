interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=displayName%20eq%20%27cli_test_sp_with_kv_new_cert000001%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '92'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:11 GMT
      odata-version:
      - '4.0'
      request-id:
      - 4c14daad-07c5-4bec-abcf-63b9e3797b4c
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000080E6"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.4
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "sans": {}, "key_usage":
      ["cRLSign", "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement",
      "keyCertSign"], "validity_months": 12}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '489'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAveRpM45nlIBktuny1GlEugNxit8y9SS5a0/oAXkWLjBD4eUo6Jnc3X24MIJF9pmGjDR5razq2174fGFjTB5Wb4jYGqu8dr4tsF5LiRntqUJOufVn3h/3MaaCvPbjDflEzlTrQy9m39s+l6qdjtq8jpU7l3QZHYsuKA3hog8p2F97cf5qlAB1K408IBcVUytlUzNptiexyIrq1gVe0PrdiH6celAj41piFIZqi3Bul7DzjzOvc5ysI/HDBOVRMed2DeMM+R9baNO0ANhmKiQd12/KHKvk0bXsOax1PtdlG5d+XL3DwQq06YdsqawWOs1JZibXX9rd9idS8o0NIFauoQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJM1WzTCUx5OB0sMQM5dyS/NuUZZ3LTbbwj8HYOwaqp77cCVcnDBs1AVHaVD1WMW1uaotC1l5i8Bm7TyQKlW4wrMY+yrpe4EwnKtmzfGDu5WjVif3n6+JgYDEl8t/1ILWx9lKSQD1w1oWSZ/dEYA8UVeP85TfOyj2VIGJPmakSgbM+qeqo5BG5Q8u7QpJ1x13GkgNpZpDthQPB/q9Wvd64e+wIpxOsKiqaSXXKR309kG3ISAjd2VjyYH3y3rzz76khPkjgSjW2jYpw0BKkiplwOdvZhgElXK36eYsT6HOUdnM3MUR41r7z3vGAVb1jj3VxXKmjeBP6hWaOzS/ALqlao=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b5eaf0ad8d9b4722a461dc2a0124be5b"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:13 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4&request_id=b5eaf0ad8d9b4722a461dc2a0124be5b
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAveRpM45nlIBktuny1GlEugNxit8y9SS5a0/oAXkWLjBD4eUo6Jnc3X24MIJF9pmGjDR5razq2174fGFjTB5Wb4jYGqu8dr4tsF5LiRntqUJOufVn3h/3MaaCvPbjDflEzlTrQy9m39s+l6qdjtq8jpU7l3QZHYsuKA3hog8p2F97cf5qlAB1K408IBcVUytlUzNptiexyIrq1gVe0PrdiH6celAj41piFIZqi3Bul7DzjzOvc5ysI/HDBOVRMed2DeMM+R9baNO0ANhmKiQd12/KHKvk0bXsOax1PtdlG5d+XL3DwQq06YdsqawWOs1JZibXX9rd9idS8o0NIFauoQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJM1WzTCUx5OB0sMQM5dyS/NuUZZ3LTbbwj8HYOwaqp77cCVcnDBs1AVHaVD1WMW1uaotC1l5i8Bm7TyQKlW4wrMY+yrpe4EwnKtmzfGDu5WjVif3n6+JgYDEl8t/1ILWx9lKSQD1w1oWSZ/dEYA8UVeP85TfOyj2VIGJPmakSgbM+qeqo5BG5Q8u7QpJ1x13GkgNpZpDthQPB/q9Wvd64e+wIpxOsKiqaSXXKR309kG3ISAjd2VjyYH3y3rzz76khPkjgSjW2jYpw0BKkiplwOdvZhgElXK36eYsT6HOUdnM3MUR41r7z3vGAVb1jj3VxXKmjeBP6hWaOzS/ALqlao=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"b5eaf0ad8d9b4722a461dc2a0124be5b"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAveRpM45nlIBktuny1GlEugNxit8y9SS5a0/oAXkWLjBD4eUo6Jnc3X24MIJF9pmGjDR5razq2174fGFjTB5Wb4jYGqu8dr4tsF5LiRntqUJOufVn3h/3MaaCvPbjDflEzlTrQy9m39s+l6qdjtq8jpU7l3QZHYsuKA3hog8p2F97cf5qlAB1K408IBcVUytlUzNptiexyIrq1gVe0PrdiH6celAj41piFIZqi3Bul7DzjzOvc5ysI/HDBOVRMed2DeMM+R9baNO0ANhmKiQd12/KHKvk0bXsOax1PtdlG5d+XL3DwQq06YdsqawWOs1JZibXX9rd9idS8o0NIFauoQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJM1WzTCUx5OB0sMQM5dyS/NuUZZ3LTbbwj8HYOwaqp77cCVcnDBs1AVHaVD1WMW1uaotC1l5i8Bm7TyQKlW4wrMY+yrpe4EwnKtmzfGDu5WjVif3n6+JgYDEl8t/1ILWx9lKSQD1w1oWSZ/dEYA8UVeP85TfOyj2VIGJPmakSgbM+qeqo5BG5Q8u7QpJ1x13GkgNpZpDthQPB/q9Wvd64e+wIpxOsKiqaSXXKR309kG3ISAjd2VjyYH3y3rzz76khPkjgSjW2jYpw0BKkiplwOdvZhgElXK36eYsT6HOUdnM3MUR41r7z3vGAVb1jj3VxXKmjeBP6hWaOzS/ALqlao=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"b5eaf0ad8d9b4722a461dc2a0124be5b"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1213'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/7ea44b2979cf42669d59697e20f810dd","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/7ea44b2979cf42669d59697e20f810dd","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/7ea44b2979cf42669d59697e20f810dd","x5t":"_5RARnzs5Af4hn-ZaYBZFoXukHs","cer":"MIIDQDCCAiigAwIBAgIQCqHHsO/YQWWd1/gBdxLCPjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTE1WhcNMjQxMjIwMDUzNTE1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBAEeVWXdV9dFf5wSVS76lBckq6oyHvuzYYwa5+BoauGub/tekCK+9XqLK46wyZS1eIo2Wj674dHvgksS8Yh4Ik9OF0w1U8Pxt67YRWdb8Ej0iGG0GpAfGu/3wSMr6EPy0CWrhL3lRGyV+wm7A3i9RUS+iZs9X0co9HjONtBI7rLgwXUo53O/pUehQIckFgvpNvbK6EkucexcLFlCKgOewBuNa7/wtJLAEDhwn9FnAHY/c+oQLYjU4SHJwtozt7UWSHdGfdYzKu5z+W0E6Oktzd5kFKo+66T0fp9nva4A/cHZvb3Bi8lNT1/1Xw8voBm1pHPMXbFeeqeaBkoIjCTjRADw=","attributes":{"enabled":true,"nbf":1703049915,"exp":1734672915,"created":1703050515,"updated":1703050515,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050514,"updated":1703050514}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/7ea44b2979cf42669d59697e20f810dd","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/7ea44b2979cf42669d59697e20f810dd","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/7ea44b2979cf42669d59697e20f810dd","x5t":"_5RARnzs5Af4hn-ZaYBZFoXukHs","cer":"MIIDQDCCAiigAwIBAgIQCqHHsO/YQWWd1/gBdxLCPjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTE1WhcNMjQxMjIwMDUzNTE1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBAEeVWXdV9dFf5wSVS76lBckq6oyHvuzYYwa5+BoauGub/tekCK+9XqLK46wyZS1eIo2Wj674dHvgksS8Yh4Ik9OF0w1U8Pxt67YRWdb8Ej0iGG0GpAfGu/3wSMr6EPy0CWrhL3lRGyV+wm7A3i9RUS+iZs9X0co9HjONtBI7rLgwXUo53O/pUehQIckFgvpNvbK6EkucexcLFlCKgOewBuNa7/wtJLAEDhwn9FnAHY/c+oQLYjU4SHJwtozt7UWSHdGfdYzKu5z+W0E6Oktzd5kFKo+66T0fp9nva4A/cHZvb3Bi8lNT1/1Xw8voBm1pHPMXbFeeqeaBkoIjCTjRADw=","attributes":{"enabled":true,"nbf":1703049915,"exp":1734672915,"created":1703050515,"updated":1703050515,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050514,"updated":1703050514}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_new_cert000001%27%29
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:21 GMT
      odata-version:
      - '4.0'
      request-id:
      - 8084c48d-3cd4-43e2-8d0b-9cbd7c5136e3
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094A5"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "cli_test_sp_with_kv_new_cert000001", "keyCredentials":
      [{"@odata.type": "#microsoft.graph.keyCredential", "displayName": null, "endDateTime":
      "2024-12-20T05:35:12Z", "key": "MIIDQDCCAiigAwIBAgIQCqHHsO/YQWWd1/gBdxLCPjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTE1WhcNMjQxMjIwMDUzNTE1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBAEeVWXdV9dFf5wSVS76lBckq6oyHvuzYYwa5+BoauGub/tekCK+9XqLK46wyZS1eIo2Wj674dHvgksS8Yh4Ik9OF0w1U8Pxt67YRWdb8Ej0iGG0GpAfGu/3wSMr6EPy0CWrhL3lRGyV+wm7A3i9RUS+iZs9X0co9HjONtBI7rLgwXUo53O/pUehQIckFgvpNvbK6EkucexcLFlCKgOewBuNa7/wtJLAEDhwn9FnAHY/c+oQLYjU4SHJwtozt7UWSHdGfdYzKu5z+W0E6Oktzd5kFKo+66T0fp9nva4A/cHZvb3Bi8lNT1/1Xw8voBm1pHPMXbFeeqeaBkoIjCTjRADw=",
      "keyId": "88888888-0000-0000-0000-000000000001", "startDateTime": "2023-12-20T05:35:12Z",
      "type": "AsymmetricX509Cert", "usage": "Verify"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1450'
      Content-Type:
      - application/json
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: POST
    uri: https://graph.microsoft.com/v1.0/applications
  response:
    body:
      string: '{"@odata.context": "https://graph.microsoft.com/v1.0/$metadata#applications/$entity",
        "id": "e66d563d-26dc-4968-b73a-669388025140", "deletedDateTime": null, "appId":
        "03974722-47c5-4b52-8d86-1056014bdf25", "applicationTemplateId": null, "disabledByMicrosoftStatus":
        null, "createdDateTime": "2023-12-20T05:35:23.334992Z", "displayName": "cli_test_sp_with_kv_new_cert000001",
        "description": null, "groupMembershipClaims": null, "identifierUris": [],
        "isDeviceOnlyAuthSupported": null, "isFallbackPublicClient": null, "notes":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "serviceManagementReference":
        null, "signInAudience": "AzureADandPersonalMicrosoftAccount", "tags": [],
        "tokenEncryptionKeyId": null, "samlMetadataUrl": null, "defaultRedirectUri":
        null, "certification": null, "optionalClaims": null, "servicePrincipalLockConfiguration":
        null, "requestSignatureVerification": null, "addIns": [], "api": {"acceptMappedClaims":
        null, "knownClientApplications": [], "requestedAccessTokenVersion": 2, "oauth2PermissionScopes":
        [], "preAuthorizedApplications": []}, "appRoles": [], "info": {"logoUrl":
        null, "marketingUrl": null, "privacyStatementUrl": null, "supportUrl": null,
        "termsOfServiceUrl": null}, "keyCredentials": [{"customKeyIdentifier": "FF9440467CECE407F8867F996980591685EE907B",
        "displayName": "CN=KeyVault Generated", "endDateTime": "2024-12-20T05:35:12Z",
        "key": null, "keyId": "88888888-0000-0000-0000-000000000001", "startDateTime":
        "2023-12-20T05:35:12Z", "type": "AsymmetricX509Cert", "usage": "Verify"}],
        "parentalControlSettings": {"countriesBlockedForMinors": [], "legalAgeGroupRule":
        "Allow"}, "passwordCredentials": [], "publicClient": {"redirectUris": []},
        "requiredResourceAccess": [], "verifiedPublisher": {"displayName": null, "verifiedPublisherId":
        null, "addedDateTime": null}, "web": {"homePageUrl": null, "logoutUrl": null,
        "redirectUris": [], "implicitGrantSettings": {"enableAccessTokenIssuance":
        false, "enableIdTokenIssuance": false}, "redirectUriSettings": []}, "spa":
        {"redirectUris": []}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2039'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:23 GMT
      location:
      - https://graph.microsoft.com/v2/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/e66d563d-26dc-4968-b73a-669388025140/Microsoft.DirectoryServices.Application
      odata-version:
      - '4.0'
      request-id:
      - 82b0325c-2f64-444c-8a10-479c9b5d5fbf
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF00008BC9"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: '{"appId": "03974722-47c5-4b52-8d86-1056014bdf25", "accountEnabled": true}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '73'
      Content-Type:
      - application/json
      ParameterSetName:
      - --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: POST
    uri: https://graph.microsoft.com/v1.0/servicePrincipals
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals/$entity","id":"9f612ed3-991a-4318-8a88-3deb69bfc5e8","deletedDateTime":null,"accountEnabled":true,"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appDescription":null,"appId":"03974722-47c5-4b52-8d86-1056014bdf25","applicationTemplateId":null,"appOwnerOrganizationId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"createdDateTime":"2023-12-20T05:35:26Z","description":null,"disabledByMicrosoftStatus":null,"displayName":"cli_test_sp_with_kv_new_cert000001","homepage":null,"loginUrl":null,"logoutUrl":null,"notes":null,"notificationEmailAddresses":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyThumbprint":null,"replyUrls":[],"servicePrincipalNames":["03974722-47c5-4b52-8d86-1056014bdf25"],"servicePrincipalType":"Application","signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlSingleSignOnSettings":null,"addIns":[],"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[],"oauth2PermissionScopes":[],"passwordCredentials":[],"resourceSpecificApplicationPermissions":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1350'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:26 GMT
      location:
      - https://graph.microsoft.com/v2/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a/directoryObjects/9f612ed3-991a-4318-8a88-3deb69bfc5e8/Microsoft.DirectoryServices.ServicePrincipal
      odata-version:
      - '4.0'
      request-id:
      - 9c432367-00f9-48ee-9703-6b3da55f9f79
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF00001883"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/7ea44b2979cf42669d59697e20f810dd","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/7ea44b2979cf42669d59697e20f810dd","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/7ea44b2979cf42669d59697e20f810dd","x5t":"_5RARnzs5Af4hn-ZaYBZFoXukHs","cer":"MIIDQDCCAiigAwIBAgIQCqHHsO/YQWWd1/gBdxLCPjANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTE1WhcNMjQxMjIwMDUzNTE1WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBAEeVWXdV9dFf5wSVS76lBckq6oyHvuzYYwa5+BoauGub/tekCK+9XqLK46wyZS1eIo2Wj674dHvgksS8Yh4Ik9OF0w1U8Pxt67YRWdb8Ej0iGG0GpAfGu/3wSMr6EPy0CWrhL3lRGyV+wm7A3i9RUS+iZs9X0co9HjONtBI7rLgwXUo53O/pUehQIckFgvpNvbK6EkucexcLFlCKgOewBuNa7/wtJLAEDhwn9FnAHY/c+oQLYjU4SHJwtozt7UWSHdGfdYzKu5z+W0E6Oktzd5kFKo+66T0fp9nva4A/cHZvb3Bi8lNT1/1Xw8voBm1pHPMXbFeeqeaBkoIjCTjRADw=","attributes":{"enabled":true,"nbf":1703049915,"exp":1734672915,"created":1703050515,"updated":1703050515,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050514,"updated":1703050514}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%2703974722-47c5-4b52-8d86-1056014bdf25%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[{"id":"e66d563d-26dc-4968-b73a-669388025140","deletedDateTime":null,"appId":"03974722-47c5-4b52-8d86-1056014bdf25","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:23Z","displayName":"cli_test_sp_with_kv_new_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"FF9440467CECE407F8867F996980591685EE907B","displayName":"CN=KeyVault
        Generated","endDateTime":"2024-12-20T05:35:12Z","key":null,"keyId":"88888888-0000-0000-0000-000000000001","startDateTime":"2023-12-20T05:35:12Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1908'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:28 GMT
      odata-version:
      - '4.0'
      request-id:
      - d95f46c0-3a34-4b0f-b884-91a4ed07701f
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000017C9"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications/e66d563d-26dc-4968-b73a-669388025140
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications/$entity","id":"e66d563d-26dc-4968-b73a-669388025140","deletedDateTime":null,"appId":"03974722-47c5-4b52-8d86-1056014bdf25","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:23Z","displayName":"cli_test_sp_with_kv_new_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"FF9440467CECE407F8867F996980591685EE907B","displayName":"CN=KeyVault
        Generated","endDateTime":"2024-12-20T05:35:12Z","key":null,"keyId":"88888888-0000-0000-0000-000000000001","startDateTime":"2023-12-20T05:35:12Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1904'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:29 GMT
      odata-version:
      - '4.0'
      request-id:
      - 34474cfe-8335-4c7b-a1bb-8bfe50512acc
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094AA"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "sans": {}, "key_usage":
      ["cRLSign", "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement",
      "keyCertSign"], "validity_months": 12}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '489'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAveRpM45nlIBktuny1GlEugNxit8y9SS5a0/oAXkWLjBD4eUo6Jnc3X24MIJF9pmGjDR5razq2174fGFjTB5Wb4jYGqu8dr4tsF5LiRntqUJOufVn3h/3MaaCvPbjDflEzlTrQy9m39s+l6qdjtq8jpU7l3QZHYsuKA3hog8p2F97cf5qlAB1K408IBcVUytlUzNptiexyIrq1gVe0PrdiH6celAj41piFIZqi3Bul7DzjzOvc5ysI/HDBOVRMed2DeMM+R9baNO0ANhmKiQd12/KHKvk0bXsOax1PtdlG5d+XL3DwQq06YdsqawWOs1JZibXX9rd9idS8o0NIFauoQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJM1WzTCUx5OB0sMQM5dyS/NuUZZ3LTbbwj8HYOwaqp77cCVcnDBs1AVHaVD1WMW1uaotC1l5i8Bm7TyQKlW4wrMY+yrpe4EwnKtmzfGDu5WjVif3n6+JgYDEl8t/1ILWx9lKSQD1w1oWSZ/dEYA8UVeP85TfOyj2VIGJPmakSgbM+qeqo5BG5Q8u7QpJ1x13GkgNpZpDthQPB/q9Wvd64e+wIpxOsKiqaSXXKR309kG3ISAjd2VjyYH3y3rzz76khPkjgSjW2jYpw0BKkiplwOdvZhgElXK36eYsT6HOUdnM3MUR41r7z3vGAVb1jj3VxXKmjeBP6hWaOzS/ALqlao=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"addc108491db4931aa72614ae91ec2e6"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:30 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4&request_id=addc108491db4931aa72614ae91ec2e6
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAveRpM45nlIBktuny1GlEugNxit8y9SS5a0/oAXkWLjBD4eUo6Jnc3X24MIJF9pmGjDR5razq2174fGFjTB5Wb4jYGqu8dr4tsF5LiRntqUJOufVn3h/3MaaCvPbjDflEzlTrQy9m39s+l6qdjtq8jpU7l3QZHYsuKA3hog8p2F97cf5qlAB1K408IBcVUytlUzNptiexyIrq1gVe0PrdiH6celAj41piFIZqi3Bul7DzjzOvc5ysI/HDBOVRMed2DeMM+R9baNO0ANhmKiQd12/KHKvk0bXsOax1PtdlG5d+XL3DwQq06YdsqawWOs1JZibXX9rd9idS8o0NIFauoQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJM1WzTCUx5OB0sMQM5dyS/NuUZZ3LTbbwj8HYOwaqp77cCVcnDBs1AVHaVD1WMW1uaotC1l5i8Bm7TyQKlW4wrMY+yrpe4EwnKtmzfGDu5WjVif3n6+JgYDEl8t/1ILWx9lKSQD1w1oWSZ/dEYA8UVeP85TfOyj2VIGJPmakSgbM+qeqo5BG5Q8u7QpJ1x13GkgNpZpDthQPB/q9Wvd64e+wIpxOsKiqaSXXKR309kG3ISAjd2VjyYH3y3rzz76khPkjgSjW2jYpw0BKkiplwOdvZhgElXK36eYsT6HOUdnM3MUR41r7z3vGAVb1jj3VxXKmjeBP6hWaOzS/ALqlao=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"addc108491db4931aa72614ae91ec2e6"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1301'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAveRpM45nlIBktuny1GlEugNxit8y9SS5a0/oAXkWLjBD4eUo6Jnc3X24MIJF9pmGjDR5razq2174fGFjTB5Wb4jYGqu8dr4tsF5LiRntqUJOufVn3h/3MaaCvPbjDflEzlTrQy9m39s+l6qdjtq8jpU7l3QZHYsuKA3hog8p2F97cf5qlAB1K408IBcVUytlUzNptiexyIrq1gVe0PrdiH6celAj41piFIZqi3Bul7DzjzOvc5ysI/HDBOVRMed2DeMM+R9baNO0ANhmKiQd12/KHKvk0bXsOax1PtdlG5d+XL3DwQq06YdsqawWOs1JZibXX9rd9idS8o0NIFauoQIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBAJM1WzTCUx5OB0sMQM5dyS/NuUZZ3LTbbwj8HYOwaqp77cCVcnDBs1AVHaVD1WMW1uaotC1l5i8Bm7TyQKlW4wrMY+yrpe4EwnKtmzfGDu5WjVif3n6+JgYDEl8t/1ILWx9lKSQD1w1oWSZ/dEYA8UVeP85TfOyj2VIGJPmakSgbM+qeqo5BG5Q8u7QpJ1x13GkgNpZpDthQPB/q9Wvd64e+wIpxOsKiqaSXXKR309kG3ISAjd2VjyYH3y3rzz76khPkjgSjW2jYpw0BKkiplwOdvZhgElXK36eYsT6HOUdnM3MUR41r7z3vGAVb1jj3VxXKmjeBP6hWaOzS/ALqlao=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"addc108491db4931aa72614ae91ec2e6"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1213'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/0e87e5c3f4494e4f987771a7808754b5","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/0e87e5c3f4494e4f987771a7808754b5","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/0e87e5c3f4494e4f987771a7808754b5","x5t":"ycVnT1snWLr78YLnTn2BCNWNzeQ","cer":"MIIDQDCCAiigAwIBAgIQYKi3NSm5TM2gAHHVNcvWczANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTMzWhcNMjQxMjIwMDUzNTMzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBABYDIKR1K5wElVyl93jzQ53gaq2q3F36Wbr6h+yScPt36XThGpkOlkhVUGZvfPmwOSKr/ehU0NbALmoqPSnE/SzLVqrWwFs30H05pOW4R9xl5QH7WJ8+bgumfycViSe3nPyaw8+BcQFD3mQorKJ15KagRCNt44N0w9Y6KKYRw1xFpRq20bN9JsQIISCSbM7CTUO1S8H/d73K8meyhNk+ruhJyEgoi6kgsPmpm5x1Qu8tZwgfG23x6fe19xrqdwFkcwQ4qWoDfn4lG7kKFB+8om/DtRJa3AT7ExA7xI2BVDX3C7Z7zLenLH/ueYFdCCNdJOXCfOneA1wruANhNP/w6mk=","attributes":{"enabled":true,"nbf":1703049933,"exp":1734672933,"created":1703050533,"updated":1703050533,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050514,"updated":1703050531}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/0e87e5c3f4494e4f987771a7808754b5","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/0e87e5c3f4494e4f987771a7808754b5","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/0e87e5c3f4494e4f987771a7808754b5","x5t":"ycVnT1snWLr78YLnTn2BCNWNzeQ","cer":"MIIDQDCCAiigAwIBAgIQYKi3NSm5TM2gAHHVNcvWczANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTMzWhcNMjQxMjIwMDUzNTMzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBABYDIKR1K5wElVyl93jzQ53gaq2q3F36Wbr6h+yScPt36XThGpkOlkhVUGZvfPmwOSKr/ehU0NbALmoqPSnE/SzLVqrWwFs30H05pOW4R9xl5QH7WJ8+bgumfycViSe3nPyaw8+BcQFD3mQorKJ15KagRCNt44N0w9Y6KKYRw1xFpRq20bN9JsQIISCSbM7CTUO1S8H/d73K8meyhNk+ruhJyEgoi6kgsPmpm5x1Qu8tZwgfG23x6fe19xrqdwFkcwQ4qWoDfn4lG7kKFB+8om/DtRJa3AT7ExA7xI2BVDX3C7Z7zLenLH/ueYFdCCNdJOXCfOneA1wruANhNP/w6mk=","attributes":{"enabled":true,"nbf":1703049933,"exp":1734672933,"created":1703050533,"updated":1703050533,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050514,"updated":1703050531}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"@odata.type": "#microsoft.graph.keyCredential", "displayName":
      null, "endDateTime": "2024-12-20T05:35:30Z", "key": "MIIDQDCCAiigAwIBAgIQYKi3NSm5TM2gAHHVNcvWczANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTMzWhcNMjQxMjIwMDUzNTMzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBABYDIKR1K5wElVyl93jzQ53gaq2q3F36Wbr6h+yScPt36XThGpkOlkhVUGZvfPmwOSKr/ehU0NbALmoqPSnE/SzLVqrWwFs30H05pOW4R9xl5QH7WJ8+bgumfycViSe3nPyaw8+BcQFD3mQorKJ15KagRCNt44N0w9Y6KKYRw1xFpRq20bN9JsQIISCSbM7CTUO1S8H/d73K8meyhNk+ruhJyEgoi6kgsPmpm5x1Qu8tZwgfG23x6fe19xrqdwFkcwQ4qWoDfn4lG7kKFB+8om/DtRJa3AT7ExA7xI2BVDX3C7Z7zLenLH/ueYFdCCNdJOXCfOneA1wruANhNP/w6mk=",
      "keyId": "88888888-0000-0000-0000-000000000002", "startDateTime": "2023-12-20T05:35:30Z",
      "type": "AsymmetricX509Cert", "usage": "Verify"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1397'
      Content-Type:
      - application/json
      ParameterSetName:
      - --id --create-cert --keyvault --cert
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: PATCH
    uri: https://graph.microsoft.com/v1.0/applications/e66d563d-26dc-4968-b73a-669388025140
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Wed, 20 Dec 2023 05:35:38 GMT
      request-id:
      - 38e3b9eb-d825-417a-bde5-2fe59ac15dc1
      strict-transport-security:
      - max-age=31536000
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"003","RoleInstance":"SE1PEPF000094AB"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - azsdk-python-keyvault-certificates/4.7.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=7.4
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/0e87e5c3f4494e4f987771a7808754b5","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/0e87e5c3f4494e4f987771a7808754b5","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/0e87e5c3f4494e4f987771a7808754b5","x5t":"ycVnT1snWLr78YLnTn2BCNWNzeQ","cer":"MIIDQDCCAiigAwIBAgIQYKi3NSm5TM2gAHHVNcvWczANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjMxMjIwMDUyNTMzWhcNMjQxMjIwMDUzNTMzWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC95GkzjmeUgGS26fLUaUS6A3GK3zL1JLlrT+gBeRYuMEPh5SjomdzdfbgwgkX2mYaMNHmtrOrbXvh8YWNMHlZviNgaq7x2vi2wXkuJGe2pQk659WfeH/cxpoK89uMN+UTOVOtDL2bf2z6Xqp2O2ryOlTuXdBkdiy4oDeGiDynYX3tx/mqUAHUrjTwgFxVTK2VTM2m2J7HIiurWBV7Q+t2Ifpx6UCPjWmIUhmqLcG6XsPOPM69znKwj8cME5VEx53YN4wz5H1to07QA2GYqJB3Xb8ocq+TRtew5rHU+12Ubl35cvcPBCrTph2yprBY6zUlmJtdf2t32J1LyjQ0gVq6hAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBT0qU3p+SQUpPxpmqZHIO9GCa72FzAdBgNVHQ4EFgQU9KlN6fkkFKT8aZqmRyDvRgmu9hcwDQYJKoZIhvcNAQELBQADggEBABYDIKR1K5wElVyl93jzQ53gaq2q3F36Wbr6h+yScPt36XThGpkOlkhVUGZvfPmwOSKr/ehU0NbALmoqPSnE/SzLVqrWwFs30H05pOW4R9xl5QH7WJ8+bgumfycViSe3nPyaw8+BcQFD3mQorKJ15KagRCNt44N0w9Y6KKYRw1xFpRq20bN9JsQIISCSbM7CTUO1S8H/d73K8meyhNk+ruhJyEgoi6kgsPmpm5x1Qu8tZwgfG23x6fe19xrqdwFkcwQ4qWoDfn4lG7kKFB+8om/DtRJa3AT7ExA7xI2BVDX3C7Z7zLenLH/ueYFdCCNdJOXCfOneA1wruANhNP/w6mk=","attributes":{"enabled":true,"nbf":1703049933,"exp":1734672933,"created":1703050533,"updated":1703050533,"recoveryLevel":"CustomizedRecoverable+Purgeable","recoverableDays":7},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","sans":{},"ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":12,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1703050514,"updated":1703050531}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:35:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=223.167.122.78;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.9.1145.1
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app show
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%2703974722-47c5-4b52-8d86-1056014bdf25%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[{"id":"e66d563d-26dc-4968-b73a-669388025140","deletedDateTime":null,"appId":"03974722-47c5-4b52-8d86-1056014bdf25","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:23Z","displayName":"cli_test_sp_with_kv_new_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C9C5674F5B2758BAFBF182E74E7D8108D58DCDE4","displayName":"CN=KeyVault
        Generated","endDateTime":"2024-12-20T05:35:30Z","key":null,"keyId":"88888888-0000-0000-0000-000000000002","startDateTime":"2023-12-20T05:35:30Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1908'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:36:16 GMT
      odata-version:
      - '4.0'
      request-id:
      - 5e33bd5a-9ec0-4152-abb9-23db46692e57
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF00009496"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app show
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications/e66d563d-26dc-4968-b73a-669388025140
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications/$entity","id":"e66d563d-26dc-4968-b73a-669388025140","deletedDateTime":null,"appId":"03974722-47c5-4b52-8d86-1056014bdf25","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:23Z","displayName":"cli_test_sp_with_kv_new_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C9C5674F5B2758BAFBF182E74E7D8108D58DCDE4","displayName":"CN=KeyVault
        Generated","endDateTime":"2024-12-20T05:35:30Z","key":null,"keyId":"88888888-0000-0000-0000-000000000002","startDateTime":"2023-12-20T05:35:30Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1904'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:36:18 GMT
      odata-version:
      - '4.0'
      request-id:
      - 56a9eea6-fb80-44a4-abd3-dc3de5f1c076
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF0000948E"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: GET
    uri: https://graph.microsoft.com/v1.0/applications?$filter=appId%20eq%20%2703974722-47c5-4b52-8d86-1056014bdf25%27
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#applications","value":[{"id":"e66d563d-26dc-4968-b73a-669388025140","deletedDateTime":null,"appId":"03974722-47c5-4b52-8d86-1056014bdf25","applicationTemplateId":null,"disabledByMicrosoftStatus":null,"createdDateTime":"2023-12-20T05:35:23Z","displayName":"cli_test_sp_with_kv_new_cert000001","description":null,"groupMembershipClaims":null,"identifierUris":[],"isDeviceOnlyAuthSupported":null,"isFallbackPublicClient":null,"notes":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","serviceManagementReference":null,"signInAudience":"AzureADandPersonalMicrosoftAccount","tags":[],"tokenEncryptionKeyId":null,"samlMetadataUrl":null,"defaultRedirectUri":null,"certification":null,"optionalClaims":null,"servicePrincipalLockConfiguration":null,"requestSignatureVerification":null,"addIns":[],"api":{"acceptMappedClaims":null,"knownClientApplications":[],"requestedAccessTokenVersion":2,"oauth2PermissionScopes":[],"preAuthorizedApplications":[]},"appRoles":[],"info":{"logoUrl":null,"marketingUrl":null,"privacyStatementUrl":null,"supportUrl":null,"termsOfServiceUrl":null},"keyCredentials":[{"customKeyIdentifier":"C9C5674F5B2758BAFBF182E74E7D8108D58DCDE4","displayName":"CN=KeyVault
        Generated","endDateTime":"2024-12-20T05:35:30Z","key":null,"keyId":"88888888-0000-0000-0000-000000000002","startDateTime":"2023-12-20T05:35:30Z","type":"AsymmetricX509Cert","usage":"Verify"}],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":{"redirectUris":[]},"requiredResourceAccess":[],"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"web":{"homePageUrl":null,"logoutUrl":null,"redirectUris":[],"implicitGrantSettings":{"enableAccessTokenIssuance":false,"enableIdTokenIssuance":false},"redirectUriSettings":[]},"spa":{"redirectUris":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1908'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Wed, 20 Dec 2023 05:36:21 GMT
      odata-version:
      - '4.0'
      request-id:
      - b65c73ba-5eb6-4921-8df2-b80faa014462
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF00009490"}}'
      x-ms-resource-unit:
      - '2'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: DELETE
    uri: https://graph.microsoft.com/v1.0/applications/e66d563d-26dc-4968-b73a-669388025140
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Wed, 20 Dec 2023 05:36:22 GMT
      request-id:
      - fdf9b915-804b-478d-b3b7-50e369df2262
      strict-transport-security:
      - max-age=31536000
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF000015B6"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - rest
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --method --url
      User-Agent:
      - python/3.10.11 (Windows-10-10.0.22621-SP0) AZURECLI/2.55.0 (MSI)
    method: DELETE
    uri: https://graph.microsoft.com/v1.0/directory/deletedItems/e66d563d-26dc-4968-b73a-669388025140
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      date:
      - Wed, 20 Dec 2023 05:36:25 GMT
      request-id:
      - 6f721f55-c8df-4bc6-8c7d-0f9ef37eca46
      strict-transport-security:
      - max-age=31536000
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Korea Central","Slice":"E","Ring":"3","ScaleUnit":"001","RoleInstance":"SE1PEPF00009491"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 204
      message: No Content
version: 1
