interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:00 GMT
      duration:
      - '2355395'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - m9WUaBuJWWN8jTTxvaqUkzVAeQ7QyDcmFQANzJzN5CM=
      ocp-aad-session-key:
      - kDcGPT5-8UQqWRX9Lzg5S5YK_AjPJhCvs52vgvgRtXbfibm8aw8T-rY99foregYUKwLIxRuUtn48vUMBCcZ-E8RSETZhzYr73ytqrDXSF0J8aEk1ULyats03DmDqDQ_O4CTykZY2ISvEnp9pphcA7-iRdBPBYUl_oxgeHoBzwuk.j7gifiQDBM-tyc9xrpl5fMfJeP7BarGeI5k9D55nupw
      pragma:
      - no-cache
      request-id:
      - df37672a-a56c-4534-99d4-cbf91ccabbe8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - 0
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"Request is missing a Bearer
        or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '87'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.windows.net/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://vault.azure.net"
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"0c1987238d944ee4966b4eda5ba1f94d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:04 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=0c1987238d944ee4966b4eda5ba1f94d
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"0c1987238d944ee4966b4eda5ba1f94d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"0c1987238d944ee4966b4eda5ba1f94d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"0c1987238d944ee4966b4eda5ba1f94d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"0c1987238d944ee4966b4eda5ba1f94d"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/cbd4507f304d41d2b4f5c91d195b403d","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/cbd4507f304d41d2b4f5c91d195b403d","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/cbd4507f304d41d2b4f5c91d195b403d","x5t":"Yz3V0JDDZzA5RL0eAAtjJiDiF_0","cer":"MIIDQDCCAiigAwIBAgIQAbPZhpKzTUm4SDUk2DOY1DANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA3MDc1MzE5WhcNMjExMDA3MDgwMzE5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDYD/JTVBt/IMZV+3nWMchvqu3PS9OCIJbF4NU1SxmF6KzFU8pS1k6UxtAXCd1zIrDNURMK1hXGPoZgPQAYK6ivq6yQ3QtarAwltydyStJyR9cBV2Zev5bpGjOBU6GjR9wOdfzwOcDUwvJKhBEhgVQZqEfS7Re+6WFMZklp1vURj+ynoNfIfovkNo1Ez47lRuWz+SgOjqMz5ph572aA4Z3JWIwkRA1bOG3c3DSicMo9cd/fuDjxG2Q2bplows0l38quxQUClSBBm3tamAdyU/Bvwp2befABwMXPEoReVsxLQcarPFUuoQsYeLtk4rF6uzC6TZ3V/RdRx2Hixt72B9PXAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRx4VaSdfIkWVP+rFi1IkHfy5aIkDAdBgNVHQ4EFgQUceFWknXyJFlT/qxYtSJB38uWiJAwDQYJKoZIhvcNAQELBQADggEBAKFl1YkbLGIY3l+ELibcFIoXTFROUR3rAMY8yuDYHmLP07Qs4pyJWav26o8ZzlOTIirZ8lMFVnsrqziHoR3cXA5XSkn/F2beTIS5SMxNmti516z89c58kEDehmMkbw0CrLWe5Z4FpVYJd8dRxXYogTuhOIS5Fh5WdADgGfpeJQ+Kuo+bBBQitQlv9M6QqpyJ4Q9PPe3r35q8BQCV9TBfFRSryED/Sbs7NZePxI9Pm6cK4B8bh0ygY3c5dY19UOAIcPdln+wwyBt3k+gOcoCoOwO1ra/WNcvP3xVWlsX5AdUicE5OUBD6H2CDWh/YO3RugFrLJ4SaSvEa6JQ+e9GCIHg=","attributes":{"enabled":true,"nbf":1599465199,"exp":1633593799,"created":1599465799,"updated":1599465799,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599465784,"updated":1599465784}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=startswith%28displayName%2C%27cli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:25 GMT
      duration:
      - '2189938'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - kBih7fSyN4KBVbbQbefvyTLr/UFDpjbEhYoFfqqwsMs=
      ocp-aad-session-key:
      - qCH1yDJCiXaYhmIbVl68Ux92NW_WZ8AHZTqJFguTuQSeG824qfIDRom-oVNnSoEJ7O2UkwYLpkTY4UgCPLDaojsvbBsle5FndbpgP4MYnuCNg_Es2N_9XbYyhaiBNhU-3O-gH8OTlEP1qO6yxuPU7oY3FPjJA16p-YtkSwcsqr0.Z-lZnZguf6LdNeTYfoJ_8OfXw0mpxoblUlEqlsgwPR0
      pragma:
      - no-cache
      request-id:
      - 4887d8e6-4a62-4a79-8faf-63aa1c6e27f6
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "homepage": "https://cli_test_sp_with_kv_new_cert000001",
      "keyCredentials": [{"startDate": "2020-09-07T08:03:01.173031Z", "endDate": "2021-09-07T08:03:01.173031Z",
      "value": "MIIDQDCCAiigAwIBAgIQAbPZhpKzTUm4SDUk2DOY1DANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA3MDc1MzE5WhcNMjExMDA3MDgwMzE5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDYD/JTVBt/IMZV+3nWMchvqu3PS9OCIJbF4NU1SxmF6KzFU8pS1k6UxtAXCd1zIrDNURMK1hXGPoZgPQAYK6ivq6yQ3QtarAwltydyStJyR9cBV2Zev5bpGjOBU6GjR9wOdfzwOcDUwvJKhBEhgVQZqEfS7Re+6WFMZklp1vURj+ynoNfIfovkNo1Ez47lRuWz+SgOjqMz5ph572aA4Z3JWIwkRA1bOG3c3DSicMo9cd/fuDjxG2Q2bplows0l38quxQUClSBBm3tamAdyU/Bvwp2befABwMXPEoReVsxLQcarPFUuoQsYeLtk4rF6uzC6TZ3V/RdRx2Hixt72B9PXAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRx4VaSdfIkWVP+rFi1IkHfy5aIkDAdBgNVHQ4EFgQUceFWknXyJFlT/qxYtSJB38uWiJAwDQYJKoZIhvcNAQELBQADggEBAKFl1YkbLGIY3l+ELibcFIoXTFROUR3rAMY8yuDYHmLP07Qs4pyJWav26o8ZzlOTIirZ8lMFVnsrqziHoR3cXA5XSkn/F2beTIS5SMxNmti516z89c58kEDehmMkbw0CrLWe5Z4FpVYJd8dRxXYogTuhOIS5Fh5WdADgGfpeJQ+Kuo+bBBQitQlv9M6QqpyJ4Q9PPe3r35q8BQCV9TBfFRSryED/Sbs7NZePxI9Pm6cK4B8bh0ygY3c5dY19UOAIcPdln+wwyBt3k+gOcoCoOwO1ra/WNcvP3xVWlsX5AdUicE5OUBD6H2CDWh/YO3RugFrLJ4SaSvEa6JQ+e9GCIHg=",
      "keyId": "88888888-0000-0000-0000-000000000001", "usage": "Verify", "type":
      "AsymmetricX509Cert"}], "displayName": "cli_test_sp_with_kv_new_cert000001",
      "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '1668'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "35ff23dc-a0b4-48ff-a678-bdba0e8179da", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "12802b13-28bf-43c7-94d8-3490e9973a6e",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "cli_test_sp_with_kv_new_cert000001", "errorUrl": null,
        "groupMembershipClaims": null, "homepage": "https://cli_test_sp_with_kv_new_cert000001",
        "identifierUris": ["http://cli_test_sp_with_kv_new_cert000001"], "informationalUrls":
        {"termsOfService": null, "support": null, "privacy": null, "marketing": null},
        "isDeviceOnlyAuthSupported": null, "keyCredentials": [{"customKeyIdentifier":
        "633DD5D090C367303944BD1E000B632620E217FD", "endDate": "2021-09-07T08:03:01.173031Z",
        "keyId": "88888888-0000-0000-0000-000000000001", "startDate": "2020-09-07T08:03:01.173031Z",
        "type": "AsymmetricX509Cert", "usage": "Verify", "value": null}], "knownClientApplications":
        [], "logoutUrl": null, "logo@odata.mediaEditLink": "directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access cli_test_sp_with_kv_new_cert000001 on behalf
        of the signed-in user.", "adminConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "id": "4acc075f-5b7c-4f0c-b960-38a8b219fc43", "isEnabled": true, "type": "User",
        "userConsentDescription": "Allow the application to access cli_test_sp_with_kv_new_cert000001
        on your behalf.", "userConsentDisplayName": "Access cli_test_sp_with_kv_new_cert000001",
        "value": "user_impersonation"}], "oauth2RequirePostResponse": false, "optionalClaims":
        null, "orgRestrictions": [], "parentalControlSettings": {"countriesBlockedForMinors":
        [], "legalAgeGroupRule": "Allow"}, "passwordCredentials": [], "publicClient":
        null, "publisherDomain": "AzureSDKTeam.onmicrosoft.com", "recordConsentConditions":
        null, "replyUrls": [], "requiredResourceAccess": [], "samlMetadataUrl": null,
        "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId": null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2771'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:26 GMT
      duration:
      - '4592744'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - gKxHTLxqRzyd5BoZh/K02jPjfqm6SFlkXqRCXGmt0wY=
      ocp-aad-session-key:
      - CI5h3HSChXB5ZW8YkF9zTQ4njdF29EC4zlX3bw14Hl8Jia7XwMNt7rrCs6DuZSQdzIhHUbuTXCzxiabgrEvCzdfx7yFMrF30VZ9ItE1lOCIYsU7lcRVZf4j1r9o67CUuKCxOclvv-EFfpPTCO8tMGXV9obxupr4fJrlGsSMZc0Y.4JqpF0WEYzVjaGVNLX0Pr70rUy0hbKZpNU6HDnAwtFw
      pragma:
      - no-cache
      request-id:
      - 9c30a80d-3015-4199-a635-cc3bc8f8d040
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"accountEnabled": "True", "appId": "12802b13-28bf-43c7-94d8-3490e9973a6e"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '75'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"35948cc5-d814-4b2d-9ce6-1fd61f08ee53","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"12802b13-28bf-43c7-94d8-3490e9973a6e","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"4acc075f-5b7c-4f0c-b960-38a8b219fc43","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["12802b13-28bf-43c7-94d8-3490e9973a6e","http://cli_test_sp_with_kv_new_cert000001"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2154'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:27 GMT
      duration:
      - '3235786'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/35948cc5-d814-4b2d-9ce6-1fd61f08ee53/Microsoft.DirectoryServices.ServicePrincipal
      ocp-aad-diagnostics-server-name:
      - Y4iM87OCSiCnshC0cTkLQL60sfZlr62HMhLqFfQdzAo=
      ocp-aad-session-key:
      - VVao2yit2pi-zLqRpnZknnHvVQPnpwtq42m-uM5CryqnpRBpztfNjhwgD9CKotfTNtQ8gNH0zflcSBpSbR_5VOX4HEkWVgXQmwG3jPcqvN90vImAqd8wvHgCXO7kp9RHGmQtuM2jwZzhF7DfSv9PUhUG96EGLWVfNJVtYOpPzfM.4wjP8PvhEWL1xERO57UhNAV9cCYrXK-S8ZXdFHCqxTQ
      pragma:
      - no-cache
      request-id:
      - 5cd18e5c-9aa3-4224-93cb-8c969584a25c
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-08-14T20:15:12.5169529Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '838'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "35948cc5-d814-4b2d-9ce6-1fd61f08ee53"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2015-07-01
  response:
    body:
      string: '{"error":{"code":"PrincipalNotFound","message":"Principal 35948cc5d8144b2d9ce61fd61f08ee53
        does not exist in the directory 54826b22-38d6-4fb2-bad9-b7b93a3e9c5a."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '163'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Contributor%27&api-version=2015-07-01
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Contributor","type":"BuiltInRole","description":"Grants
        full access to manage all resources, but does not allow you to assign roles
        in Azure RBAC.","assignableScopes":["/"],"permissions":[{"actions":["*"],"notActions":["Microsoft.Authorization/*/Delete","Microsoft.Authorization/*/Write","Microsoft.Authorization/elevateAccess/Action","Microsoft.Blueprint/blueprintAssignments/write","Microsoft.Blueprint/blueprintAssignments/delete"]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2020-08-14T20:15:12.5169529Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","type":"Microsoft.Authorization/roleDefinitions","name":"b24988ac-6180-42a0-ab88-20f7382dd24c"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '838'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c",
      "principalId": "35948cc5-d814-4b2d-9ce6-1fd61f08ee53"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp create-for-rbac
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --scopes --create-cert --keyvault --cert -n
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2015-07-01
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c","principalId":"35948cc5-d814-4b2d-9ce6-1fd61f08ee53","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001","createdOn":"2020-09-07T08:03:35.0538042Z","updatedOn":"2020-09-07T08:03:35.0538042Z","createdBy":null,"updatedBy":"0d504196-1423-4569-9a6e-15149656f0ee"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_sp_with_kv_new_cert000001/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '868'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/cbd4507f304d41d2b4f5c91d195b403d","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/cbd4507f304d41d2b4f5c91d195b403d","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/cbd4507f304d41d2b4f5c91d195b403d","x5t":"Yz3V0JDDZzA5RL0eAAtjJiDiF_0","cer":"MIIDQDCCAiigAwIBAgIQAbPZhpKzTUm4SDUk2DOY1DANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA3MDc1MzE5WhcNMjExMDA3MDgwMzE5WjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDYD/JTVBt/IMZV+3nWMchvqu3PS9OCIJbF4NU1SxmF6KzFU8pS1k6UxtAXCd1zIrDNURMK1hXGPoZgPQAYK6ivq6yQ3QtarAwltydyStJyR9cBV2Zev5bpGjOBU6GjR9wOdfzwOcDUwvJKhBEhgVQZqEfS7Re+6WFMZklp1vURj+ynoNfIfovkNo1Ez47lRuWz+SgOjqMz5ph572aA4Z3JWIwkRA1bOG3c3DSicMo9cd/fuDjxG2Q2bplows0l38quxQUClSBBm3tamAdyU/Bvwp2befABwMXPEoReVsxLQcarPFUuoQsYeLtk4rF6uzC6TZ3V/RdRx2Hixt72B9PXAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRx4VaSdfIkWVP+rFi1IkHfy5aIkDAdBgNVHQ4EFgQUceFWknXyJFlT/qxYtSJB38uWiJAwDQYJKoZIhvcNAQELBQADggEBAKFl1YkbLGIY3l+ELibcFIoXTFROUR3rAMY8yuDYHmLP07Qs4pyJWav26o8ZzlOTIirZ8lMFVnsrqziHoR3cXA5XSkn/F2beTIS5SMxNmti516z89c58kEDehmMkbw0CrLWe5Z4FpVYJd8dRxXYogTuhOIS5Fh5WdADgGfpeJQ+Kuo+bBBQitQlv9M6QqpyJ4Q9PPe3r35q8BQCV9TBfFRSryED/Sbs7NZePxI9Pm6cK4B8bh0ygY3c5dY19UOAIcPdln+wwyBt3k+gOcoCoOwO1ra/WNcvP3xVWlsX5AdUicE5OUBD6H2CDWh/YO3RugFrLJ4SaSvEa6JQ+e9GCIHg=","attributes":{"enabled":true,"nbf":1599465199,"exp":1633593799,"created":1599465799,"updated":1599465799,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599465784,"updated":1599465784}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/servicePrincipals?$filter=servicePrincipalNames%2Fany%28x%3Ax%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29%20or%20displayName%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.ServicePrincipal","objectType":"ServicePrincipal","objectId":"35948cc5-d814-4b2d-9ce6-1fd61f08ee53","deletionTimestamp":null,"accountEnabled":true,"addIns":[],"alternativeNames":[],"appDisplayName":"cli_test_sp_with_kv_new_cert000001","appId":"12802b13-28bf-43c7-94d8-3490e9973a6e","applicationTemplateId":null,"appOwnerTenantId":"54826b22-38d6-4fb2-bad9-b7b93a3e9c5a","appRoleAssignmentRequired":false,"appRoles":[],"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"keyCredentials":[],"logoutUrl":null,"notificationEmailAddresses":[],"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"4acc075f-5b7c-4f0c-b960-38a8b219fc43","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"passwordCredentials":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyEndDateTime":null,"preferredTokenSigningKeyThumbprint":null,"publisherName":"AzureSDKTeam","replyUrls":[],"samlMetadataUrl":null,"samlSingleSignOnSettings":null,"servicePrincipalNames":["http://cli_test_sp_with_kv_new_cert000001","12802b13-28bf-43c7-94d8-3490e9973a6e"],"servicePrincipalType":"Application","signInAudience":"AzureADMyOrg","tags":[],"tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2157'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:38 GMT
      duration:
      - '2269940'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - qD03Phkyp3PESyOCOq/UWezyOoJRSPWoF1sQ7pSJmlE=
      ocp-aad-session-key:
      - TrC6-iZGH_lHAcRfagEJhoEUon3s_PqRF2QuxrltNFQkTjR4H31EuvOKThWH5YneqSa_penOTxI4ekqaavdI2Cvge61-EzvC68sMUf_U4-AN6rv7_StPDiqQtr1dnKgxS2MWsJbCB-Jvi1SjDRjoZSuUXxRkhafAOkSHyxNnhjc.u8GnqqN-DtXyN18ikFzR0qAblu9pLLKYmgkHSBQeTbw
      pragma:
      - no-cache
      request-id:
      - 9a0c00ea-9215-4df1-89a7-22088565d532
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%2712802b13-28bf-43c7-94d8-3490e9973a6e%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:39 GMT
      duration:
      - '2309618'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - VGDUYIwMMxxQjRRnndvpoCz/X8I/clG9sX5Ey+KkbZI=
      ocp-aad-session-key:
      - tSJgwli4PQyqmaRFVVu7tMUhNGq6UC_5SWumzEfFtJD-gr2d8l3XSDEXgCAyYlCZ21NLMUVO3Wlh4e8O0nWOsS5XNptBU5BQevs6fdFbGnuSRSnQMMNJkH4ttmJIlB07mHW3NcUFdyQJWS2WaAeryI-a3zhy32B7d9-4QorU8Hk.oSjsTacfWB6aB5a6-LxO5GI65tFWfn9_7lsZq78YmHQ
      pragma:
      - no-cache
      request-id:
      - 538f81d4-de4c-42eb-b506-e5377713e5ec
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=appId%20eq%20%2712802b13-28bf-43c7-94d8-3490e9973a6e%27&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"35ff23dc-a0b4-48ff-a678-bdba0e8179da","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"12802b13-28bf-43c7-94d8-3490e9973a6e","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"633DD5D090C367303944BD1E000B632620E217FD","endDate":"2021-09-07T08:03:01.173031Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2020-09-07T08:03:01.173031Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"4acc075f-5b7c-4f0c-b960-38a8b219fc43","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:40 GMT
      duration:
      - '2375653'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Drw2XA9KyQgsrpvmmqtwgHiZqOOXvdLCC08yhhod2oI=
      ocp-aad-session-key:
      - 0FtsGEBXuDFA4HmV06tL6kBROd0SWsK8UZpXSyrMtmJQwRZPR0fk4ChiY4ThZ2RuwpoEFkmgfr1KOe9lt5ChcpA1BStPxLR82T-KPW0HmWPVcbe3dIYFzw72b_-E70KwgP11Ls4YySdxg5eKBWVqlhM2Phnm6z9J8QSc5DCW0f8.Xg_D5GodBM5oDrlkpVsXQxMZTcbT5XDfFcngvqxhhhE
      pragma:
      - no-cache
      request-id:
      - dc0e4ab0-7b03-43f8-baff-fb2f6df2c714
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/35ff23dc-a0b4-48ff-a678-bdba0e8179da?api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element","odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"35ff23dc-a0b4-48ff-a678-bdba0e8179da","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"12802b13-28bf-43c7-94d8-3490e9973a6e","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"633DD5D090C367303944BD1E000B632620E217FD","endDate":"2021-09-07T08:03:01.173031Z","keyId":"88888888-0000-0000-0000-000000000001","startDate":"2020-09-07T08:03:01.173031Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"4acc075f-5b7c-4f0c-b960-38a8b219fc43","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2685'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:03:40 GMT
      duration:
      - '3689685'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - S6JOxqfnOkanIAG4msJtwrnfA+xqhJrZ7rLDa//lFRU=
      ocp-aad-session-key:
      - zbCErkWnP025mu2lHazML1HFqygQcQNNYc2ZhrICsNEfSV1Fz0e_aaA46ByaYcINv7wdaru_5tI3Cw1avEFAtxhgAM7K01aIB2or8AHPWFcIIWVLjdEP-k_Qjl7bloWEsvqmj6rN4PUM7t4JC5VW288BFRDklZoI5K8LDwnKZO8.kg9Gcf7BKfMQtpWnEjUJXysMkLaE0zr2MKH67kCYdB4
      pragma:
      - no-cache
      request-id:
      - f6f452e2-5a39-4539-b588-24373bcba74f
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"policy": {"key_props": {"exportable": true, "kty": "RSA", "key_size":
      2048, "reuse_key": true}, "secret_props": {"contentType": "application/x-pkcs12"},
      "x509_props": {"subject": "CN=KeyVault Generated", "key_usage": ["cRLSign",
      "dataEncipherment", "digitalSignature", "keyEncipherment", "keyAgreement", "keyCertSign"],
      "validity_months": 13}, "lifetime_actions": [{"trigger": {"days_before_expiry":
      90}, "action": {"action_type": "AutoRenew"}}], "issuer": {"name": "Self"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '477'
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: POST
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/create?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4b66e514ae8d4d2d8a24029a741a93f0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:42 GMT
      expires:
      - '-1'
      location:
      - https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01&request_id=4b66e514ae8d4d2d8a24029a741a93f0
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4b66e514ae8d4d2d8a24029a741a93f0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4b66e514ae8d4d2d8a24029a741a93f0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4b66e514ae8d4d2d8a24029a741a93f0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:03:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"inProgress","status_details":"Pending
        certificate created. Certificate request is in progress. This may take some
        time based on the issuer provider. Please check again later.","request_id":"4b66e514ae8d4d2d8a24029a741a93f0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1303'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:04:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending","issuer":{"name":"Self"},"csr":"MIICrTCCAZUCAQAwHTEbMBkGA1UEAxMSS2V5VmF1bHQgR2VuZXJhdGVkMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2A/yU1QbfyDGVft51jHIb6rtz0vTgiCWxeDVNUsZheisxVPKUtZOlMbQFwndcyKwzVETCtYVxj6GYD0AGCuor6uskN0LWqwMJbcnckrSckfXAVdmXr+W6RozgVOho0fcDnX88DnA1MLySoQRIYFUGahH0u0XvulhTGZJadb1EY/sp6DXyH6L5DaNRM+O5Ubls/koDo6jM+aYee9mgOGdyViMJEQNWzht3Nw0onDKPXHf37g48RtkNm6ZaMLNJd/KrsUFApUgQZt7WpgHclPwb8Kdm3nwAcDFzxKEXlbMS0HGqzxVLqELGHi7ZOKxerswuk2d1f0XUcdh4sbe9gfT1wIDAQABoEswSQYJKoZIhvcNAQkOMTwwOjAOBgNVHQ8BAf8EBAMCAb4wHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAkGA1UdEwQCMAAwDQYJKoZIhvcNAQELBQADggEBABJ+DOQC4x7LyqUDy3DI/t1ZTojA1FTrZuN2hedjbhx6edSxQfUzitB73IdUeaZdh4imcqIpVleHC7TDTHCRUe43/XB91yRC9cyEA90RKvXBOv6iHTwcPFHSfGklJ6RTtJhR2IE+gvt00WKMT5d56dI82clyAOZpix0skiCBA/N/KTla7IufIZprNFXDN/Og1STrMF0EVzXTsbdXzoL2la8t5t/7u6LrRBWUF1Xw/xXabBwIOt6ITrsh+89+ppRwJnvYaC0nQwcLt2Grs+12WqAPhlrNH8m6r2DH7aC9ys+EsIJnM7jsYIm7XFfVm+06mH8dnGRK+Ek3b96j2aXj+oc=","cancellation_requested":false,"status":"completed","target":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1","request_id":"4b66e514ae8d4d2d8a24029a741a93f0"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1217'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:04:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/59cd7084feb64fa088e8b687577646f1","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/59cd7084feb64fa088e8b687577646f1","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/59cd7084feb64fa088e8b687577646f1","x5t":"sZ5rPMqf3JNuv0GlBQ0h4TV74ag","cer":"MIIDQDCCAiigAwIBAgIQc9xTIgfZQbWViuwpE+bDtTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA3MDc1NDAyWhcNMjExMDA3MDgwNDAyWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDYD/JTVBt/IMZV+3nWMchvqu3PS9OCIJbF4NU1SxmF6KzFU8pS1k6UxtAXCd1zIrDNURMK1hXGPoZgPQAYK6ivq6yQ3QtarAwltydyStJyR9cBV2Zev5bpGjOBU6GjR9wOdfzwOcDUwvJKhBEhgVQZqEfS7Re+6WFMZklp1vURj+ynoNfIfovkNo1Ez47lRuWz+SgOjqMz5ph572aA4Z3JWIwkRA1bOG3c3DSicMo9cd/fuDjxG2Q2bplows0l38quxQUClSBBm3tamAdyU/Bvwp2befABwMXPEoReVsxLQcarPFUuoQsYeLtk4rF6uzC6TZ3V/RdRx2Hixt72B9PXAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRx4VaSdfIkWVP+rFi1IkHfy5aIkDAdBgNVHQ4EFgQUceFWknXyJFlT/qxYtSJB38uWiJAwDQYJKoZIhvcNAQELBQADggEBANTMoyVSsQOkM7rNxiwJUtb4aDErt0B9HwY54Lfea9Y8V5afqxMhX0bJd0cOEHtSfrEFwV2rBnfKeXi9sdNfTYDarbY4DXZ6o71rdgr1/fxplxQwEtccvqP70Z8IqpdtRrUSo8XM5Q5ucxq7ZX2qzqYCAgIt9SEV2DTmNbFLeHarRLJN9jUEz2Qk3Y71o1ohivFsFUsqTP5ePvmwxlIazGJW0DBOkPWuvGdP5RxhYL9iX/Ss22/y2uPZw8JzzxJShwoBsnmhLcBVe+osF220Iery1TxglbiBj21x9DC326CbpPNiudUtl9GRRMiZEP0TY3ftaY/Hrr4FE0tv/Sq7h7g=","attributes":{"enabled":true,"nbf":1599465242,"exp":1633593842,"created":1599465842,"updated":1599465842,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599465784,"updated":1599465822}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:04:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"keyCredentials": [{"startDate": "2020-09-07T08:03:38.965525Z", "endDate":
      "2021-09-07T08:03:38.965525Z", "value": "MIIDQDCCAiigAwIBAgIQc9xTIgfZQbWViuwpE+bDtTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA3MDc1NDAyWhcNMjExMDA3MDgwNDAyWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDYD/JTVBt/IMZV+3nWMchvqu3PS9OCIJbF4NU1SxmF6KzFU8pS1k6UxtAXCd1zIrDNURMK1hXGPoZgPQAYK6ivq6yQ3QtarAwltydyStJyR9cBV2Zev5bpGjOBU6GjR9wOdfzwOcDUwvJKhBEhgVQZqEfS7Re+6WFMZklp1vURj+ynoNfIfovkNo1Ez47lRuWz+SgOjqMz5ph572aA4Z3JWIwkRA1bOG3c3DSicMo9cd/fuDjxG2Q2bplows0l38quxQUClSBBm3tamAdyU/Bvwp2befABwMXPEoReVsxLQcarPFUuoQsYeLtk4rF6uzC6TZ3V/RdRx2Hixt72B9PXAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRx4VaSdfIkWVP+rFi1IkHfy5aIkDAdBgNVHQ4EFgQUceFWknXyJFlT/qxYtSJB38uWiJAwDQYJKoZIhvcNAQELBQADggEBANTMoyVSsQOkM7rNxiwJUtb4aDErt0B9HwY54Lfea9Y8V5afqxMhX0bJd0cOEHtSfrEFwV2rBnfKeXi9sdNfTYDarbY4DXZ6o71rdgr1/fxplxQwEtccvqP70Z8IqpdtRrUSo8XM5Q5ucxq7ZX2qzqYCAgIt9SEV2DTmNbFLeHarRLJN9jUEz2Qk3Y71o1ohivFsFUsqTP5ePvmwxlIazGJW0DBOkPWuvGdP5RxhYL9iX/Ss22/y2uPZw8JzzxJShwoBsnmhLcBVe+osF220Iery1TxglbiBj21x9DC326CbpPNiudUtl9GRRMiZEP0TY3ftaY/Hrr4FE0tv/Sq7h7g=",
      "keyId": "88888888-0000-0000-0000-000000000004", "usage": "Verify", "type":
      "AsymmetricX509Cert"}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad sp credential reset
      Connection:
      - keep-alive
      Content-Length:
      - '1335'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n --create-cert --keyvault --cert
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: PATCH
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/35ff23dc-a0b4-48ff-a678-bdba0e8179da?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Mon, 07 Sep 2020 08:04:11 GMT
      duration:
      - '4171099'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - Fh94VYLX1lwgFeLErI9c1l+Vt23tXdSSBVaAvHw6yWk=
      ocp-aad-session-key:
      - xTcNSF4mnYipMR-CrdsQtjNdUTPyPpjr2kn6uhYpnRkYKsCkRSfVsz6ChJaZ2xyLNx8d3pe2mRDrkNERZWYrIlcrAh-f_ORKXJFEQzDc1Yo2Kr1onqtyBrCvHLetasRVbgu-myeSJtLrgYUng1NCBN2Tv6kRJutIBdXtjrApXxk.S8Z6A1dW3Gm_pxFUQ_2D9PIlOMEOrjsIb_kYeWUBbiU
      pragma:
      - no-cache
      request-id:
      - de785cf3-bfb2-4035-8e34-5ed3851536ba
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json; charset=utf-8
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-keyvault/2016-10-01 Azure-SDK-For-Python
      accept-language:
      - en-US
    method: GET
    uri: https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/?api-version=2016-10-01
  response:
    body:
      string: '{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/59cd7084feb64fa088e8b687577646f1","kid":"https://test-rbac-new-kv000002.vault.azure.net/keys/cert1/59cd7084feb64fa088e8b687577646f1","sid":"https://test-rbac-new-kv000002.vault.azure.net/secrets/cert1/59cd7084feb64fa088e8b687577646f1","x5t":"sZ5rPMqf3JNuv0GlBQ0h4TV74ag","cer":"MIIDQDCCAiigAwIBAgIQc9xTIgfZQbWViuwpE+bDtTANBgkqhkiG9w0BAQsFADAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwHhcNMjAwOTA3MDc1NDAyWhcNMjExMDA3MDgwNDAyWjAdMRswGQYDVQQDExJLZXlWYXVsdCBHZW5lcmF0ZWQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDYD/JTVBt/IMZV+3nWMchvqu3PS9OCIJbF4NU1SxmF6KzFU8pS1k6UxtAXCd1zIrDNURMK1hXGPoZgPQAYK6ivq6yQ3QtarAwltydyStJyR9cBV2Zev5bpGjOBU6GjR9wOdfzwOcDUwvJKhBEhgVQZqEfS7Re+6WFMZklp1vURj+ynoNfIfovkNo1Ez47lRuWz+SgOjqMz5ph572aA4Z3JWIwkRA1bOG3c3DSicMo9cd/fuDjxG2Q2bplows0l38quxQUClSBBm3tamAdyU/Bvwp2befABwMXPEoReVsxLQcarPFUuoQsYeLtk4rF6uzC6TZ3V/RdRx2Hixt72B9PXAgMBAAGjfDB6MA4GA1UdDwEB/wQEAwIBvjAJBgNVHRMEAjAAMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAfBgNVHSMEGDAWgBRx4VaSdfIkWVP+rFi1IkHfy5aIkDAdBgNVHQ4EFgQUceFWknXyJFlT/qxYtSJB38uWiJAwDQYJKoZIhvcNAQELBQADggEBANTMoyVSsQOkM7rNxiwJUtb4aDErt0B9HwY54Lfea9Y8V5afqxMhX0bJd0cOEHtSfrEFwV2rBnfKeXi9sdNfTYDarbY4DXZ6o71rdgr1/fxplxQwEtccvqP70Z8IqpdtRrUSo8XM5Q5ucxq7ZX2qzqYCAgIt9SEV2DTmNbFLeHarRLJN9jUEz2Qk3Y71o1ohivFsFUsqTP5ePvmwxlIazGJW0DBOkPWuvGdP5RxhYL9iX/Ss22/y2uPZw8JzzxJShwoBsnmhLcBVe+osF220Iery1TxglbiBj21x9DC326CbpPNiudUtl9GRRMiZEP0TY3ftaY/Hrr4FE0tv/Sq7h7g=","attributes":{"enabled":true,"nbf":1599465242,"exp":1633593842,"created":1599465842,"updated":1599465842,"recoveryLevel":"Purgeable"},"policy":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/policy","key_props":{"exportable":true,"kty":"RSA","key_size":2048,"reuse_key":true},"secret_props":{"contentType":"application/x-pkcs12"},"x509_props":{"subject":"CN=KeyVault
        Generated","ekus":["1.3.6.1.5.5.7.3.1","1.3.6.1.5.5.7.3.2"],"key_usage":["cRLSign","dataEncipherment","digitalSignature","keyAgreement","keyCertSign","keyEncipherment"],"validity_months":13,"basic_constraints":{"ca":false}},"lifetime_actions":[{"trigger":{"days_before_expiry":90},"action":{"action_type":"AutoRenew"}}],"issuer":{"name":"Self"},"attributes":{"enabled":true,"created":1599465784,"updated":1599465822}},"pending":{"id":"https://test-rbac-new-kv000002.vault.azure.net/certificates/cert1/pending"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2382'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 07 Sep 2020 08:04:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.9;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - westus
      x-ms-keyvault-service-version:
      - 1.1.44.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27http%3A%2F%2Fcli_test_sp_with_kv_new_cert000001%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[{"odata.type":"Microsoft.DirectoryServices.Application","objectType":"Application","objectId":"35ff23dc-a0b4-48ff-a678-bdba0e8179da","deletionTimestamp":null,"acceptMappedClaims":null,"addIns":[],"appId":"12802b13-28bf-43c7-94d8-3490e9973a6e","applicationTemplateId":null,"appRoles":[],"availableToOtherTenants":false,"displayName":"cli_test_sp_with_kv_new_cert000001","errorUrl":null,"groupMembershipClaims":null,"homepage":"https://cli_test_sp_with_kv_new_cert000001","identifierUris":["http://cli_test_sp_with_kv_new_cert000001"],"informationalUrls":{"termsOfService":null,"support":null,"privacy":null,"marketing":null},"isDeviceOnlyAuthSupported":null,"keyCredentials":[{"customKeyIdentifier":"B19E6B3CCA9FDC936EBF41A5050D21E1357BE1A8","endDate":"2021-09-07T08:03:38.965525Z","keyId":"88888888-0000-0000-0000-000000000004","startDate":"2020-09-07T08:03:38.965525Z","type":"AsymmetricX509Cert","usage":"Verify","value":null}],"knownClientApplications":[],"logoutUrl":null,"logo@odata.mediaEditLink":"directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/logo","logoUrl":null,"mainLogo@odata.mediaEditLink":"directoryObjects/35ff23dc-a0b4-48ff-a678-bdba0e8179da/Microsoft.DirectoryServices.Application/mainLogo","oauth2AllowIdTokenImplicitFlow":true,"oauth2AllowImplicitFlow":false,"oauth2AllowUrlPathMatching":false,"oauth2Permissions":[{"adminConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on behalf of
        the signed-in user.","adminConsentDisplayName":"Access cli_test_sp_with_kv_new_cert000001","id":"4acc075f-5b7c-4f0c-b960-38a8b219fc43","isEnabled":true,"type":"User","userConsentDescription":"Allow
        the application to access cli_test_sp_with_kv_new_cert000001 on your behalf.","userConsentDisplayName":"Access
        cli_test_sp_with_kv_new_cert000001","value":"user_impersonation"}],"oauth2RequirePostResponse":false,"optionalClaims":null,"orgRestrictions":[],"parentalControlSettings":{"countriesBlockedForMinors":[],"legalAgeGroupRule":"Allow"},"passwordCredentials":[],"publicClient":null,"publisherDomain":"AzureSDKTeam.onmicrosoft.com","recordConsentConditions":null,"replyUrls":[],"requiredResourceAccess":[],"samlMetadataUrl":null,"signInAudience":"AzureADMyOrg","tokenEncryptionKeyId":null}]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2688'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 07 Sep 2020 08:04:13 GMT
      duration:
      - '2268486'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - qD03Phkyp3PESyOCOq/UWezyOoJRSPWoF1sQ7pSJmlE=
      ocp-aad-session-key:
      - eHLpmV19zY79fM0ivCNJiIkqTJgQk-ip4dO1seESqHKJ-ng7IszNoc-aJafQ046AWQY7TcwUbdpkEenutbjmrzuHGBGp_JEtDb3sePbCVlVPA0D3QUaPJl8MFkuLGp2FmkLHwNlo9PCJCAAS1PJVkDQ4NkV2WFfB8y_6X3aJx2s.jyu6o01GfqUfEt6-oek7wGi8eTxUtpHb0H42LPhNp2I
      pragma:
      - no-cache
      request-id:
      - fb55a2d8-b5b1-41d3-adcf-3882800a83b8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - ad app delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --id
      User-Agent:
      - python/3.8.5 (Windows-10-10.0.19041-SP0) msrest/0.6.18 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.11.1
      accept-language:
      - en-US
    method: DELETE
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications/35ff23dc-a0b4-48ff-a678-bdba0e8179da?api-version=1.6
  response:
    body:
      string: ''
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      date:
      - Mon, 07 Sep 2020 08:04:19 GMT
      duration:
      - '57119916'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - 6sefrbwjEnLiuPVqSE8CNdgE3jZeyuKw+YvzR5MjvEY=
      ocp-aad-session-key:
      - Fit8DS9bomRp4Jmmn6FeRev8cxH5kRNgeiJv9kmbMoGYZZbcAmVMSDblAEk8lLyf2ONXB62DhFpfq8Ui6urHQiWu47HCC_mH_QSbwv2ESfIXEPHXzTYRaIWrpFJRcjZecBw424_CJtp1oxjxNSzZ9p0070sRyWHI4DdD4n6WcNc.6ueLaTXIm2ri9zcr8vY-Yv-qdhj46uWkAUee7d18WO4
      pragma:
      - no-cache
      request-id:
      - 5a02a2eb-ab3e-48c8-8b73-908cb594128b
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 204
      message: No Content
version: 1
