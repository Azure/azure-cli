interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/storageAccounts?api-version=2021-09-01
  response:
    body:
      string: '{"value":[{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Storage/storageAccounts/datahistorypp","name":"datahistorypp","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-07-19T17:10:36.1817423Z","key2":"2021-07-19T17:10:36.1817423Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-19T17:10:36.1817423Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-19T17:10:36.1817423Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-07-19T17:10:36.0879993Z","primaryEndpoints":{"dfs":"https://datahistorypp.dfs.core.windows.net/","web":"https://datahistorypp.z13.web.core.windows.net/","blob":"https://datahistorypp.blob.core.windows.net/","queue":"https://datahistorypp.queue.core.windows.net/","table":"https://datahistorypp.table.core.windows.net/","file":"https://datahistorypp.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://datahistorypp-secondary.dfs.core.windows.net/","web":"https://datahistorypp-secondary.z13.web.core.windows.net/","blob":"https://datahistorypp-secondary.blob.core.windows.net/","queue":"https://datahistorypp-secondary.queue.core.windows.net/","table":"https://datahistorypp-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-extension-dogfood/providers/Microsoft.Storage/storageAccounts/iothubdfextension","name":"iothubdfextension","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-12-08T20:04:13.2606504Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-12-08T20:04:13.2606504Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2020-12-08T20:04:13.1512596Z","primaryEndpoints":{"dfs":"https://iothubdfextension.dfs.core.windows.net/","web":"https://iothubdfextension.z13.web.core.windows.net/","blob":"https://iothubdfextension.blob.core.windows.net/","queue":"https://iothubdfextension.queue.core.windows.net/","table":"https://iothubdfextension.table.core.windows.net/","file":"https://iothubdfextension.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://iothubdfextension-secondary.dfs.core.windows.net/","web":"https://iothubdfextension-secondary.z13.web.core.windows.net/","blob":"https://iothubdfextension-secondary.blob.core.windows.net/","queue":"https://iothubdfextension-secondary.queue.core.windows.net/","table":"https://iothubdfextension-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jiacjutest/providers/Microsoft.Storage/storageAccounts/jiacjutest","name":"jiacjutest","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-11-16T00:00:42.1218840Z","key2":"2021-11-16T00:00:42.1218840Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-11-16T00:00:42.1218840Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-11-16T00:00:42.1218840Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-11-16T00:00:41.8874796Z","primaryEndpoints":{"blob":"https://jiacjutest.blob.core.windows.net/","queue":"https://jiacjutest.queue.core.windows.net/","table":"https://jiacjutest.table.core.windows.net/","file":"https://jiacjutest.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/model-repo-test/providers/Microsoft.Storage/storageAccounts/modelrepostorage","name":"modelrepostorage","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2022-02-22T21:14:54.0252821Z","key2":"2022-02-22T21:14:54.0252821Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-02-22T21:14:54.0409956Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-02-22T21:14:54.0409956Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-02-22T21:14:53.9002827Z","primaryEndpoints":{"dfs":"https://modelrepostorage.dfs.core.windows.net/","web":"https://modelrepostorage.z13.web.core.windows.net/","blob":"https://modelrepostorage.blob.core.windows.net/","queue":"https://modelrepostorage.queue.core.windows.net/","table":"https://modelrepostorage.table.core.windows.net/","file":"https://modelrepostorage.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://modelrepostorage-secondary.dfs.core.windows.net/","web":"https://modelrepostorage-secondary.z13.web.core.windows.net/","blob":"https://modelrepostorage-secondary.blob.core.windows.net/","queue":"https://modelrepostorage-secondary.queue.core.windows.net/","table":"https://modelrepostorage-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_RAGZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avins-models-repo-test/providers/Microsoft.Storage/storageAccounts/modelsrepotest230291","name":"modelsrepotest230291","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-05-11T22:28:39.5386501Z","key2":"2022-05-11T22:28:39.5386501Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-11T22:28:39.5386501Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-11T22:28:39.5386501Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-05-11T22:28:39.3511797Z","primaryEndpoints":{"dfs":"https://modelsrepotest230291.dfs.core.windows.net/","web":"https://modelsrepotest230291.z13.web.core.windows.net/","blob":"https://modelsrepotest230291.blob.core.windows.net/","queue":"https://modelsrepotest230291.queue.core.windows.net/","table":"https://modelsrepotest230291.table.core.windows.net/","file":"https://modelsrepotest230291.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://modelsrepotest230291-secondary.dfs.core.windows.net/","web":"https://modelsrepotest230291-secondary.z13.web.core.windows.net/","blob":"https://modelsrepotest230291-secondary.blob.core.windows.net/","queue":"https://modelsrepotest230291-secondary.queue.core.windows.net/","table":"https://modelsrepotest230291-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_RAGZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avins-models-repo-test/providers/Microsoft.Storage/storageAccounts/modelsrepotest2303","name":"modelsrepotest2303","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-03-24T21:29:15.1865885Z","key2":"2022-03-24T21:29:15.1865885Z"},"privateEndpointConnections":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avins-models-repo-test/providers/Microsoft.Storage/storageAccounts/modelsrepotest2303/privateEndpointConnections/modelsrepotest2303.493f1adb-53e5-4737-9099-6284f27a6697","name":"modelsrepotest2303.493f1adb-53e5-4737-9099-6284f27a6697","type":"Microsoft.Storage/storageAccounts/privateEndpointConnections","properties":{"provisioningState":"Succeeded","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avins-models-repo-test/providers/Microsoft.Network/privateEndpoints/models-repo-test-storage-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionRequired":"None"}}}],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-24T21:29:15.1865885Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-24T21:29:15.1865885Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-03-24T21:29:15.0459822Z","primaryEndpoints":{"dfs":"https://modelsrepotest2303.dfs.core.windows.net/","web":"https://modelsrepotest2303.z13.web.core.windows.net/","blob":"https://modelsrepotest2303.blob.core.windows.net/","queue":"https://modelsrepotest2303.queue.core.windows.net/","table":"https://modelsrepotest2303.table.core.windows.net/","file":"https://modelsrepotest2303.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://modelsrepotest2303-secondary.dfs.core.windows.net/","web":"https://modelsrepotest2303-secondary.z13.web.core.windows.net/","blob":"https://modelsrepotest2303-secondary.blob.core.windows.net/","queue":"https://modelsrepotest2303-secondary.queue.core.windows.net/","table":"https://modelsrepotest2303-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/edge_billable_modules/providers/Microsoft.Storage/storageAccounts/privatepreviewbilledge","name":"privatepreviewbilledge","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2022-01-14T03:26:59.5305000Z","key2":"2022-01-14T03:26:59.5305000Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-01-14T03:26:59.5305000Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-01-14T03:26:59.5305000Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-01-14T03:26:59.3898773Z","primaryEndpoints":{"dfs":"https://privatepreviewbilledge.dfs.core.windows.net/","web":"https://privatepreviewbilledge.z13.web.core.windows.net/","blob":"https://privatepreviewbilledge.blob.core.windows.net/","queue":"https://privatepreviewbilledge.queue.core.windows.net/","table":"https://privatepreviewbilledge.table.core.windows.net/","file":"https://privatepreviewbilledge.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://privatepreviewbilledge-secondary.dfs.core.windows.net/","web":"https://privatepreviewbilledge-secondary.z13.web.core.windows.net/","blob":"https://privatepreviewbilledge-secondary.blob.core.windows.net/","queue":"https://privatepreviewbilledge-secondary.queue.core.windows.net/","table":"https://privatepreviewbilledge-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Storage/storageAccounts/raharrideviceupdates","name":"raharrideviceupdates","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-09-10T21:56:24.8723906Z","key2":"2021-09-10T21:56:24.8723906Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-09-10T21:56:24.8723906Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-09-10T21:56:24.8723906Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-09-10T21:56:24.7786183Z","primaryEndpoints":{"blob":"https://raharrideviceupdates.blob.core.windows.net/","queue":"https://raharrideviceupdates.queue.core.windows.net/","table":"https://raharrideviceupdates.table.core.windows.net/","file":"https://raharrideviceupdates.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rido-validations/providers/Microsoft.Storage/storageAccounts/ridotempdata","name":"ridotempdata","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-04-19T21:49:24.0720856Z","key2":"2021-04-19T21:49:24.0720856Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-04-19T21:49:24.0720856Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-04-19T21:49:24.0720856Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-04-19T21:49:23.9627356Z","primaryEndpoints":{"dfs":"https://ridotempdata.dfs.core.windows.net/","web":"https://ridotempdata.z13.web.core.windows.net/","blob":"https://ridotempdata.blob.core.windows.net/","queue":"https://ridotempdata.queue.core.windows.net/","table":"https://ridotempdata.table.core.windows.net/","file":"https://ridotempdata.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://ridotempdata-secondary.dfs.core.windows.net/","web":"https://ridotempdata-secondary.z13.web.core.windows.net/","blob":"https://ridotempdata-secondary.blob.core.windows.net/","queue":"https://ridotempdata-secondary.queue.core.windows.net/","table":"https://ridotempdata-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Storage/storageAccounts/rkesslerstorage","name":"rkesslerstorage","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2021-08-31T04:38:45.5328731Z","key2":"2021-08-31T04:38:45.5328731Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-31T04:38:45.5328731Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-31T04:38:45.5328731Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-08-31T04:38:45.4234853Z","primaryEndpoints":{"dfs":"https://rkesslerstorage.dfs.core.windows.net/","web":"https://rkesslerstorage.z13.web.core.windows.net/","blob":"https://rkesslerstorage.blob.core.windows.net/","queue":"https://rkesslerstorage.queue.core.windows.net/","table":"https://rkesslerstorage.table.core.windows.net/","file":"https://rkesslerstorage.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://rkesslerstorage-secondary.dfs.core.windows.net/","web":"https://rkesslerstorage-secondary.z13.web.core.windows.net/","blob":"https://rkesslerstorage-secondary.blob.core.windows.net/","queue":"https://rkesslerstorage-secondary.queue.core.windows.net/","table":"https://rkesslerstorage-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Storage/storageAccounts/topicspaceapp","name":"topicspaceapp","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2021-08-04T17:37:25.9771582Z","key2":"2021-08-04T17:37:25.9771582Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-04T17:37:25.9771582Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-04T17:37:25.9771582Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-08-04T17:37:25.8677834Z","primaryEndpoints":{"dfs":"https://topicspaceapp.dfs.core.windows.net/","web":"https://topicspaceapp.z13.web.core.windows.net/","blob":"https://topicspaceapp.blob.core.windows.net/","queue":"https://topicspaceapp.queue.core.windows.net/","table":"https://topicspaceapp.table.core.windows.net/","file":"https://topicspaceapp.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Storage/storageAccounts/vilitstore","name":"vilitstore","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2021-08-23T20:09:36.4369560Z","key2":"2021-08-23T20:09:36.4369560Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-23T20:09:36.4369560Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-23T20:09:36.4369560Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-08-23T20:09:36.3275868Z","primaryEndpoints":{"dfs":"https://vilitstore.dfs.core.windows.net/","web":"https://vilitstore.z13.web.core.windows.net/","blob":"https://vilitstore.blob.core.windows.net/","queue":"https://vilitstore.queue.core.windows.net/","table":"https://vilitstore.table.core.windows.net/","file":"https://vilitstore.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available","secondaryLocation":"westus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Storage/storageAccounts/testiotextstor0","name":"testiotextstor0","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"Logging,
        Metrics, AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2019-10-19T00:06:41.0740705Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2019-10-19T00:06:41.0740705Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2019-10-19T00:06:41.0115264Z","primaryEndpoints":{"dfs":"https://testiotextstor0.dfs.core.windows.net/","web":"https://testiotextstor0.z20.web.core.windows.net/","blob":"https://testiotextstor0.blob.core.windows.net/","queue":"https://testiotextstor0.queue.core.windows.net/","table":"https://testiotextstor0.table.core.windows.net/","file":"https://testiotextstor0.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-05-16T22:54:28.6625805Z","key2":"2022-05-16T22:54:28.6625805Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-16T22:54:28.6782138Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-16T22:54:28.6782138Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-05-16T22:54:28.5532258Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs4100300009acbc8c3","name":"cs4100300009acbc8c3","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2022-02-09T18:44:35.6761185Z","key2":"2022-02-09T18:44:35.6761185Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-02-09T18:44:35.6761185Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-02-09T18:44:35.6761185Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2022-02-09T18:44:35.5823418Z","primaryEndpoints":{"dfs":"https://cs4100300009acbc8c3.dfs.core.windows.net/","web":"https://cs4100300009acbc8c3.z22.web.core.windows.net/","blob":"https://cs4100300009acbc8c3.blob.core.windows.net/","queue":"https://cs4100300009acbc8c3.queue.core.windows.net/","table":"https://cs4100300009acbc8c3.table.core.windows.net/","file":"https://cs4100300009acbc8c3.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs41003200066a7dd52","name":"cs41003200066a7dd52","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-11-18T17:36:45.6533903Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-11-18T17:36:45.6533903Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2020-11-18T17:36:45.5752594Z","primaryEndpoints":{"dfs":"https://cs41003200066a7dd52.dfs.core.windows.net/","web":"https://cs41003200066a7dd52.z22.web.core.windows.net/","blob":"https://cs41003200066a7dd52.blob.core.windows.net/","queue":"https://cs41003200066a7dd52.queue.core.windows.net/","table":"https://cs41003200066a7dd52.table.core.windows.net/","file":"https://cs41003200066a7dd52.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs410033fff96467dc6","name":"cs410033fff96467dc6","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2021-12-13T17:13:30.0923471Z","key2":"2021-12-13T17:13:30.0923471Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-12-13T17:13:30.0923471Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-12-13T17:13:30.0923471Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-12-13T17:13:29.9986006Z","primaryEndpoints":{"dfs":"https://cs410033fff96467dc6.dfs.core.windows.net/","web":"https://cs410033fff96467dc6.z22.web.core.windows.net/","blob":"https://cs410033fff96467dc6.blob.core.windows.net/","queue":"https://cs410033fff96467dc6.queue.core.windows.net/","table":"https://cs410033fff96467dc6.table.core.windows.net/","file":"https://cs410033fff96467dc6.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs410037ffe801b4af4","name":"cs410037ffe801b4af4","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-11-20T12:02:15.3272698Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-11-20T12:02:15.3272698Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2020-11-20T12:02:15.2647454Z","primaryEndpoints":{"dfs":"https://cs410037ffe801b4af4.dfs.core.windows.net/","web":"https://cs410037ffe801b4af4.z22.web.core.windows.net/","blob":"https://cs410037ffe801b4af4.blob.core.windows.net/","queue":"https://cs410037ffe801b4af4.queue.core.windows.net/","table":"https://cs410037ffe801b4af4.table.core.windows.net/","file":"https://cs410037ffe801b4af4.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs4a386d5eaea90x441ax826","name":"cs4a386d5eaea90x441ax826","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2019-11-25T17:05:48.4365854Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2019-11-25T17:05:48.4365854Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2019-11-25T17:05:48.3897448Z","primaryEndpoints":{"dfs":"https://cs4a386d5eaea90x441ax826.dfs.core.windows.net/","web":"https://cs4a386d5eaea90x441ax826.z22.web.core.windows.net/","blob":"https://cs4a386d5eaea90x441ax826.blob.core.windows.net/","queue":"https://cs4a386d5eaea90x441ax826.queue.core.windows.net/","table":"https://cs4a386d5eaea90x441ax826.table.core.windows.net/","file":"https://cs4a386d5eaea90x441ax826.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iotqrcodes/providers/Microsoft.Storage/storageAccounts/iotqrcodes","name":"iotqrcodes","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-07-29T18:48:51.7888406Z","key2":"2021-07-29T18:48:51.7888406Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-29T18:48:51.7888406Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-07-29T18:48:51.7888406Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-07-29T18:48:51.7263422Z","primaryEndpoints":{"dfs":"https://iotqrcodes.dfs.core.windows.net/","web":"https://iotqrcodes.z22.web.core.windows.net/","blob":"https://iotqrcodes.blob.core.windows.net/","queue":"https://iotqrcodes.queue.core.windows.net/","table":"https://iotqrcodes.table.core.windows.net/","file":"https://iotqrcodes.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Storage/storageAccounts/vilit8722","name":"vilit8722","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-05-11T18:59:07.4717431Z","key2":"2022-05-11T18:59:07.4717431Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-11T18:59:07.4717431Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-11T18:59:07.4717431Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-05-11T18:59:07.3623120Z","primaryEndpoints":{"blob":"https://vilit8722.blob.core.windows.net/","queue":"https://vilit8722.queue.core.windows.net/","table":"https://vilit8722.table.core.windows.net/","file":"https://vilit8722.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-eh-to-azmon/providers/Microsoft.Storage/storageAccounts/vilitehtoazmon8c23","name":"vilitehtoazmon8c23","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-03-31T17:19:46.9319689Z","key2":"2022-03-31T17:19:46.9319689Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-31T17:19:46.9319689Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-03-31T17:19:46.9319689Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-03-31T17:19:46.8225518Z","primaryEndpoints":{"blob":"https://vilitehtoazmon8c23.blob.core.windows.net/","queue":"https://vilitehtoazmon8c23.queue.core.windows.net/","table":"https://vilitehtoazmon8c23.table.core.windows.net/","file":"https://vilitehtoazmon8c23.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/dt_test/providers/Microsoft.Storage/storageAccounts/wqklkwjkjwejkwe","name":"wqklkwjkjwejkwe","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"keyCreationTime":{"key1":"2021-03-16T15:47:52.5520552Z","key2":"2021-03-16T15:47:52.5520552Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"isHnsEnabled":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":false,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-03-16T15:47:52.5520552Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-03-16T15:47:52.5520552Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-03-16T15:47:52.4739156Z","primaryEndpoints":{"dfs":"https://wqklkwjkjwejkwe.dfs.core.windows.net/","web":"https://wqklkwjkjwejkwe.z19.web.core.windows.net/","blob":"https://wqklkwjkjwejkwe.blob.core.windows.net/","queue":"https://wqklkwjkjwejkwe.queue.core.windows.net/","table":"https://wqklkwjkjwejkwe.table.core.windows.net/","file":"https://wqklkwjkjwejkwe.file.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli-int-test-rg/providers/Microsoft.Storage/storageAccounts/azcliintteststorage","name":"azcliintteststorage","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-07-18T00:47:50.5253938Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-07-18T00:47:50.5253938Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2020-07-18T00:47:50.4473020Z","primaryEndpoints":{"dfs":"https://azcliintteststorage.dfs.core.windows.net/","web":"https://azcliintteststorage.z5.web.core.windows.net/","blob":"https://azcliintteststorage.blob.core.windows.net/","queue":"https://azcliintteststorage.queue.core.windows.net/","table":"https://azcliintteststorage.table.core.windows.net/","file":"https://azcliintteststorage.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available","secondaryLocation":"westcentralus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://azcliintteststorage-secondary.dfs.core.windows.net/","web":"https://azcliintteststorage-secondary.z5.web.core.windows.net/","blob":"https://azcliintteststorage-secondary.blob.core.windows.net/","queue":"https://azcliintteststorage-secondary.queue.core.windows.net/","table":"https://azcliintteststorage-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/eventualC/providers/Microsoft.Storage/storageAccounts/dmrstore","name":"dmrstore","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-11-20T01:26:42.2484427Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-11-20T01:26:42.2484427Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2020-11-20T01:26:42.1546871Z","primaryEndpoints":{"dfs":"https://dmrstore.dfs.core.windows.net/","web":"https://dmrstore.z5.web.core.windows.net/","blob":"https://dmrstore.blob.core.windows.net/","queue":"https://dmrstore.queue.core.windows.net/","table":"https://dmrstore.table.core.windows.net/","file":"https://dmrstore.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available","secondaryLocation":"westcentralus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Storage/storageAccounts/rkiotstorage2","name":"rkiotstorage2","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-02-23T23:15:17.7346844Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-02-23T23:15:17.7346844Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-02-23T23:15:17.6409336Z","primaryEndpoints":{"dfs":"https://rkiotstorage2.dfs.core.windows.net/","web":"https://rkiotstorage2.z5.web.core.windows.net/","blob":"https://rkiotstorage2.blob.core.windows.net/","queue":"https://rkiotstorage2.queue.core.windows.net/","table":"https://rkiotstorage2.table.core.windows.net/","file":"https://rkiotstorage2.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available","secondaryLocation":"westcentralus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Storage/storageAccounts/rkstoragetest","name":"rkstoragetest","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"isHnsEnabled":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-03-10T19:12:01.2738834Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-03-10T19:12:01.2738834Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2020-03-10T19:12:01.2113542Z","primaryEndpoints":{"dfs":"https://rkstoragetest.dfs.core.windows.net/","web":"https://rkstoragetest.z5.web.core.windows.net/","blob":"https://rkstoragetest.blob.core.windows.net/","queue":"https://rkstoragetest.queue.core.windows.net/","table":"https://rkstoragetest.table.core.windows.net/","file":"https://rkstoragetest.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available","secondaryLocation":"westcentralus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Storage/storageAccounts/rktsistorage","name":"rktsistorage","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"keyCreationTime":{"key1":"2021-04-05T17:19:34.7436222Z","key2":"2021-04-05T17:19:34.7436222Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"isHnsEnabled":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":false,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-04-05T17:19:34.7592460Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-04-05T17:19:34.7592460Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-04-05T17:19:34.6498962Z","primaryEndpoints":{"dfs":"https://rktsistorage.dfs.core.windows.net/","web":"https://rktsistorage.z5.web.core.windows.net/","blob":"https://rktsistorage.blob.core.windows.net/","queue":"https://rktsistorage.queue.core.windows.net/","table":"https://rktsistorage.table.core.windows.net/","file":"https://rktsistorage.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Storage/storageAccounts/storageaccountrkiot8c13","name":"storageaccountrkiot8c13","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-09-16T22:15:10.5759611Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2020-09-16T22:15:10.5759611Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2020-09-16T22:15:10.4821881Z","primaryEndpoints":{"blob":"https://storageaccountrkiot8c13.blob.core.windows.net/","queue":"https://storageaccountrkiot8c13.queue.core.windows.net/","table":"https://storageaccountrkiot8c13.table.core.windows.net/","file":"https://storageaccountrkiot8c13.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Storage/storageAccounts/storageaccountrkiotb9e5","name":"storageaccountrkiotb9e5","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-02-23T19:30:15.3804746Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-02-23T19:30:15.3804746Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-02-23T19:30:15.3023373Z","primaryEndpoints":{"blob":"https://storageaccountrkiotb9e5.blob.core.windows.net/","queue":"https://storageaccountrkiotb9e5.queue.core.windows.net/","table":"https://storageaccountrkiotb9e5.table.core.windows.net/","file":"https://storageaccountrkiotb9e5.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Storage/storageAccounts/testrevocation","name":"testrevocation","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"keyCreationTime":{"key1":null,"key2":null},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-02-10T19:00:22.0329798Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-02-10T19:00:22.0329798Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-02-10T19:00:21.9705172Z","primaryEndpoints":{"dfs":"https://testrevocation.dfs.core.windows.net/","web":"https://testrevocation.z5.web.core.windows.net/","blob":"https://testrevocation.blob.core.windows.net/","queue":"https://testrevocation.queue.core.windows.net/","table":"https://testrevocation.table.core.windows.net/","file":"https://testrevocation.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available","secondaryLocation":"westcentralus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://testrevocation-secondary.dfs.core.windows.net/","web":"https://testrevocation-secondary.z5.web.core.windows.net/","blob":"https://testrevocation-secondary.blob.core.windows.net/","queue":"https://testrevocation-secondary.queue.core.windows.net/","table":"https://testrevocation-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Storage/storageAccounts/rkesslereasteaup2storage","name":"rkesslereasteaup2storage","type":"Microsoft.Storage/storageAccounts","location":"eastus2euap","tags":{},"properties":{"defaultToOAuthAuthentication":false,"keyCreationTime":{"key1":"2021-10-28T16:38:28.5298643Z","key2":"2021-10-28T16:38:28.5298643Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-28T16:38:28.5298643Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-10-28T16:38:28.5298643Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2021-10-28T16:38:28.4517312Z","primaryEndpoints":{"dfs":"https://rkesslereasteaup2storage.dfs.core.windows.net/","web":"https://rkesslereasteaup2storage.z3.web.core.windows.net/","blob":"https://rkesslereasteaup2storage.blob.core.windows.net/","queue":"https://rkesslereasteaup2storage.queue.core.windows.net/","table":"https://rkesslereasteaup2storage.table.core.windows.net/","file":"https://rkesslereasteaup2storage.file.core.windows.net/"},"primaryLocation":"eastus2euap","statusOfPrimary":"available","secondaryLocation":"centraluseuap","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://rkesslereasteaup2storage-secondary.dfs.core.windows.net/","web":"https://rkesslereasteaup2storage-secondary.z3.web.core.windows.net/","blob":"https://rkesslereasteaup2storage-secondary.blob.core.windows.net/","queue":"https://rkesslereasteaup2storage-secondary.queue.core.windows.net/","table":"https://rkesslereasteaup2storage-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Storage/storageAccounts/rkesslerstoragev1","name":"rkesslerstoragev1","type":"Microsoft.Storage/storageAccounts","location":"eastus2euap","tags":{},"properties":{"keyCreationTime":{"key1":"2021-08-31T15:39:41.4036635Z","key2":"2021-08-31T15:39:41.4036635Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-31T15:39:41.4193120Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2021-08-31T15:39:41.4193120Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2021-08-31T15:39:41.3411838Z","primaryEndpoints":{"blob":"https://rkesslerstoragev1.blob.core.windows.net/","queue":"https://rkesslerstoragev1.queue.core.windows.net/","table":"https://rkesslerstoragev1.table.core.windows.net/","file":"https://rkesslerstoragev1.file.core.windows.net/"},"primaryLocation":"eastus2euap","statusOfPrimary":"available","secondaryLocation":"centraluseuap","statusOfSecondary":"available","secondaryEndpoints":{"blob":"https://rkesslerstoragev1-secondary.blob.core.windows.net/","queue":"https://rkesslerstoragev1-secondary.queue.core.windows.net/","table":"https://rkesslerstoragev1-secondary.table.core.windows.net/"}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '52475'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:54:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - 47a2dc08-291f-4562-a35d-5f46209dae9c
      - 3d55e375-5812-451c-a8b9-5654b0630f25
      - 89d9e992-c1c9-482c-a0c2-e18290427d91
      - cc1400a6-07ff-4385-aaff-25b14e4bf605
      - d25e1f61-6be2-44ed-a8de-83a1e671219f
      - c20c2d8a-6a49-4204-98d6-4e5e6bef24b6
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2021-09-01&$expand=kerb
  response:
    body:
      string: '{"keys":[{"creationTime":"2022-05-16T22:54:28.6625805Z","keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"creationTime":"2022-05-16T22:54:28.6625805Z","keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Mon, 16 May 2022 22:54:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/xml
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-storage-blob/12.10.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
      x-ms-date:
      - Mon, 16 May 2022 22:54:48 GMT
      x-ms-version:
      - '2021-04-10'
    method: PUT
    uri: https://clitest000002.blob.core.windows.net/iothubcontainer?restype=container
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 22:54:48 GMT
      etag:
      - '"0x8DA378F1492EC2C"'
      last-modified:
      - Mon, 16 May 2022 22:54:49 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-version:
      - '2021-04-10'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2021-09-01&$expand=kerb
  response:
    body:
      string: '{"keys":[{"creationTime":"2022-05-16T22:54:28.6625805Z","keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"creationTime":"2022-05-16T22:54:28.6625805Z","keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Mon, 16 May 2022 22:54:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2021-09-01
  response:
    body:
      string: '{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-05-16T22:54:28.6625805Z","key2":"2022-05-16T22:54:28.6625805Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-16T22:54:28.6782138Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-16T22:54:28.6782138Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-05-16T22:54:28.5532258Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1269'
      content-type:
      - application/json
      date:
      - Mon, 16 May 2022 22:54:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-storage/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2021-09-01
  response:
    body:
      string: '{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2022-05-16T22:54:28.6625805Z","key2":"2022-05-16T22:54:28.6625805Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-16T22:54:28.6782138Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2022-05-16T22:54:28.6782138Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2022-05-16T22:54:28.5532258Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1269'
      content-type:
      - application/json
      date:
      - Mon, 16 May 2022 22:54:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0 Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-05-16T22:54:25Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '311'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:54:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '23'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-msi/6.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006?api-version=2018-11-30
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006","name":"iot-user-identity000006","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus2","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec","clientId":"53134324-0c17-4a65-b71a-f9f975c00de9"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:54:51 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-05-16T22:54:25Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '311'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:54:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '23'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-msi/6.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007?api-version=2018-11-30
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007","name":"iot-user-identity000007","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus2","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d","clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:54:55 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-05-16T22:54:25Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '311'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:54:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity create
      Connection:
      - keep-alive
      Content-Length:
      - '23'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-msi/6.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008?api-version=2018-11-30
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008","name":"iot-user-identity000008","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus2","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4","clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:54:57 GMT
      expires:
      - '-1'
      location:
      - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: '{"location": "westus2", "properties": {"minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName":
      ""}}, "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "SystemAssigned,
      UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '884'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjY3ODM5MjYtZjU3Ny00ZTk0LWEyMTUtNGJkOTM5ZTliMDQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1435'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:55:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjY3ODM5MjYtZjU3Ny00ZTk0LWEyMTUtNGJkOTM5ZTliMDQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:55:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjY3ODM5MjYtZjU3Ny00ZTk0LWEyMTUtNGJkOTM5ZTliMDQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:56:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjY3ODM5MjYtZjU3Ny00ZTk0LWEyMTUtNGJkOTM5ZTliMDQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:56:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjY3ODM5MjYtZjU3Ny00ZTk0LWEyMTUtNGJkOTM5ZTliMDQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:57:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjY3ODM5MjYtZjU3Ny00ZTk0LWEyMTUtNGJkOTM5ZTliMDQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:57:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVRYY=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2115'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:57:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.36.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Storage%20Blob%20Data%20Contributor%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Storage Blob Data Contributor","type":"BuiltInRole","description":"Allows
        for read, write and delete access to Azure Storage blob containers and data","assignableScopes":["/"],"permissions":[{"actions":["Microsoft.Storage/storageAccounts/blobServices/containers/delete","Microsoft.Storage/storageAccounts/blobServices/containers/read","Microsoft.Storage/storageAccounts/blobServices/containers/write","Microsoft.Storage/storageAccounts/blobServices/generateUserDelegationKey/action"],"notActions":[],"dataActions":["Microsoft.Storage/storageAccounts/blobServices/containers/blobs/delete","Microsoft.Storage/storageAccounts/blobServices/containers/blobs/read","Microsoft.Storage/storageAccounts/blobServices/containers/blobs/write","Microsoft.Storage/storageAccounts/blobServices/containers/blobs/move/action","Microsoft.Storage/storageAccounts/blobServices/containers/blobs/add/action"],"notDataActions":[]}],"createdOn":"2017-12-21T00:01:24.7972312Z","updatedOn":"2021-11-11T20:13:54.9397456Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe","type":"Microsoft.Authorization/roleDefinitions","name":"ba92f5b4-2d11-453d-a403-e96b0029c9fe"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:57:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe",
      "principalId": "6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - -n -g --sku --location --mintls --mi-system-assigned --mi-user-assigned --role
        --scopes
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.36.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000001?api-version=2020-04-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/ba92f5b4-2d11-453d-a403-e96b0029c9fe","principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","condition":null,"conditionVersion":null,"createdOn":"2022-05-16T22:57:35.5081587Z","updatedOn":"2022-05-16T22:57:35.8675439Z","createdBy":null,"updatedBy":"0417ddc2-87dc-4923-8865-84f5bd13acce","delegatedManagedIdentityResourceId":null,"description":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000001","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000001"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1003'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:57:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-identity-hub","name":"rk-identity-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"e":"b","test":"test"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGgM2BQ=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-identity-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-identity-hub","endpoint":"sb://iothub-ns-rk-identit-3174359-de82e52e4d.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"test","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"lifecycle_route","source":"DeviceLifecycleEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"device_job_lifecycle_events_route","source":"DeviceJobLifecycleEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"connection_state_events_route","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableModuleSAS":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"}},"principalId":"2ec95e8e-45d2-4680-bed8-1fe8433820b4"},"systemData":{"createdAt":"2020-03-31T22:25:20.24Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubEast","name":"rkesslerHubEast","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADGaryzE=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.132.150","action":"Accept","ipMask":"73.97.132.150"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"73.97.132.150","action":"Allow","ipMask":"73.97.132.150"}]},"hostName":"rkesslerHubEast.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":2,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubeast","endpoint":"sb://iothub-ns-rkesslerhu-4910438-dfc628c2e6.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[{"connectionString":"Endpoint=sb://az-cli-int-test-servicebus-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerTest;SharedAccessKey=****;EntityPath=testtopic","name":"endpoint1","id":"64774abf-3add-4e83-b0e5-ad6c9a07fd42","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"cli-int-test-rg"}],"serviceBusTopics":[{"connectionString":"Endpoint=sb://az-cli-int-test-servicebus-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerTest;SharedAccessKey=****;EntityPath=az-cli-int-test-servicebus","name":"servicebustopic1","id":"89b2c8ba-0ce6-4cf8-959d-1ae596c680a1","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"cli-int-test-rg"}],"eventHubs":[{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","name":"testRoute1","id":"421c6e84-9b92-474a-a4f0-812004ba5409","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","name":"ehubtest2","id":"1322ca79-5ab5-498f-aa42-9bb943a9fd86","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","authenticationType":"keyBased","name":"testEndpoint","id":"f21787f6-3389-4a72-9ce1-9ae01853105a","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","authenticationType":"keyBased","name":"testEndpoint2","id":"ced63e9b-9199-4cf6-9cf6-6f296608496c","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=rkstoragetest;AccountKey=****","containerName":"test3","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"storage","id":"47bb7579-95c8-429e-8fda-8389e10dc90d","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}]},"enrichments":[],"routes":[{"name":"DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"TelemetryModelInformation","source":"DeviceMessages","condition":"$iothub-interface-id
        = \"urn:azureiot:ModelDiscovery:ModelInformation:1\"","endpointNames":["events"],"isEnabled":true},{"name":"DeviceTwinEvents","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'')","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT2H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-09-28T20:31:20.88Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubBasic","name":"rkesslerHubBasic","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF4uNdI=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"rkesslerHubBasic.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubbasic","endpoint":"sb://iothub-ns-rkesslerhu-5856834-888c890346.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"route2","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"B1","tier":"Basic","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-11T05:43:03.923Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/avagraw-iot-hub","name":"avagraw-iot-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADF6bLe8=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"avagraw-iot-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"avagraw-iot-hub","endpoint":"sb://iothub-ns-avagraw-io-9684408-600ce25791.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-04-07T23:02:07.663Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/iot-cli-extensions-integration-test-hub","name":"iot-cli-extensions-integration-test-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADFw9ud4=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-cli-extensions-integration-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-cli-extensions-integr","endpoint":"sb://iothub-ns-iot-cli-ex-9730108-95336c2aa2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azcliintteststorage;AccountKey=****","containerName":"devices","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-04-09T08:58:12.597Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-test-1","name":"raharri-test-1","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGWFmQM=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"raharri-test-1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"raharri-test-1","endpoint":"sb://iothub-ns-raharri-te-11679783-47062fe1c2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Network/privateEndpoints/raharri-test"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-test-1/PrivateEndpointConnections/raharri-test-1.c0b264f9-87d9-4ef7-aea5-6774bca55d85","name":"raharri-test-1.c0b264f9-87d9-4ef7-aea5-6774bca55d85","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-06-03T21:17:21.517Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubAu2021","name":"rkesslerHubAu2021","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF2lvbw=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerHubAu2021.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubau2021","endpoint":"sb://iothub-ns-rkesslerhu-14200631-32ee399d59.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-08-13T22:57:08.61Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/fileupload-icm","name":"fileupload-icm","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGgM1x0=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"10.0.0.28","action":"Accept","ipMask":"10.0.0.28"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"10.0.0.28","action":"Allow","ipMask":"10.0.0.28"}]},"hostName":"fileupload-icm.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"fileupload-icm","endpoint":"sb://iothub-ns-fileupload-14312231-bc8f29349b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[{"connectionString":"Endpoint=sb://rk-sb-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_askhura-test-rg;SharedAccessKey=****;EntityPath=queue-1","authenticationType":"keyBased","name":"servicebus-systemassigned","id":"3440cbf7-f2ff-40aa-8f97-0b68d6c1c223","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"serviceBusTopics":[{"endpointUri":"sb://rk-sb-namespace.servicebus.windows.net","entityPath":"topic-1","authenticationType":"identityBased","name":"topic-userassgined","id":"5213a80d-ecaf-4fd2-911f-89da00a0792b","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"eventHubs":[{"endpointUri":"sb://yingevent.servicebus.windows.net","entityPath":"testevent","authenticationType":"identityBased","name":"test13","id":"3ac306b4-bb1f-4349-a62c-b95f3b46e91c","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"111111","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"222222","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"3453533","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"asdfasfdasfd","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"75756756","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"5676576576","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"vjfdjhgjgjg","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"dsdfsgsfdggggf","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"erytryry56","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"eventroute","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=rkiotstorage2;AccountKey=****","containerName":"container1","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":12}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test-2":{"clientId":"7ee8a73e-24bd-4681-963b-708239d7c5d9","principalId":"76ee23e0-7ab2-4ec6-99fa-1c9e9fb308a6"}},"principalId":"9f8a3338-fcf5-48b1-8f1b-31ba009cd8b9"},"systemData":{"createdAt":"2021-08-19T15:38:33.3466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Devices/IotHubs/vilit-hub-test","name":"vilit-hub-test","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"exam":"test2","exam2":"test3"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit","etag":"AAAADGVr4g0=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-test","endpoint":"sb://iothub-ns-vilit-hub-16240640-68efd3638f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://viliteventhub.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_vilit-hub-test;SharedAccessKey=****;EntityPath=eventhub2","authenticationType":"keyBased","name":"endpoint","id":"9a207810-9af0-4cb7-831b-ab665c16d6a2","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"vilit"}],"storageContainers":[]},"routes":[{"name":"route","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T21:37:52.5566667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/smoke-test-3","name":"smoke-test-3","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADF3waEw=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"smoke-test-3.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"smoke-test-3","endpoint":"sb://iothub-ns-smoke-test-16241276-718954597f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T23:04:32.7833333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jiacjutest/providers/Microsoft.Devices/IotHubs/newiothubDeletewithLock","name":"newiothubDeletewithLock","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"device":"tag"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"jiacjutest","etag":"AAAADGZ/Kl4=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"newiothubDeletewithLock.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"newiothubdeletewithlock","endpoint":"sb://iothub-ns-newiothubd-16851029-a939ca66f2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-13T19:43:55.73Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jingrg/providers/Microsoft.Devices/IotHubs/JingHub","name":"JingHub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"jingrg","etag":"AAAADGVqjsc=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"JingHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"jinghub","endpoint":"sb://iothub-ns-jinghub-18297925-00079d4986.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-29T21:24:51.3966667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-eh-to-azmon/providers/Microsoft.Devices/IotHubs/vilit-hub-to-be-logged","name":"vilit-hub-to-be-logged","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-eh-to-azmon","etag":"AAAADGcY8Vk=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-to-be-logged.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":7,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-to-be-logged","endpoint":"sb://iothub-ns-vilit-hub-18322115-c3f0235d39.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-31T17:23:21.6266667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-adu-hub","name":"askhura-adu-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGcMC5k=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-adu-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-adu-hub","endpoint":"sb://iothub-ns-askhura-ad-18747832-281cfb3511.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T16:31:22.41Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/brandnew","name":"brandnew","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ying","etag":"AAAADGe7lFI=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"50.54.142.94","action":"Accept","ipMask":"50.54.142.94"}],"networkRuleSets":{"defaultAction":"Deny","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"50.54.142.94","action":"Allow","ipMask":"50.54.142.94"}]},"hostName":"brandnew.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"brandnew","endpoint":"sb://iothub-ns-brandnew-18926890-67128da56e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-05T21:59:02.2466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Devices/IotHubs/vilit-hub-test-101","name":"vilit-hub-test-101","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit","etag":"AAAADGfLm/k=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-test-101.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-test-101","endpoint":"sb://iothub-ns-vilit-hub-18945100-1d14ec9101.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-06T16:55:02.32Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/asfsfsfsfdsdfsdf","name":"asfsfsfsfdsdfsdf","type":"Microsoft.Devices/IotHubs","location":"southeastasia","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADF6xfwY=","properties":{"locations":[{"location":"Southeast
        Asia","role":"primary"},{"location":"East Asia","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"asfsfsfsfdsdfsdf.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"asfsfsfsfdsdfsdf","endpoint":"sb://iothub-ns-asfsfsfsfd-16443893-76a9d6d183.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-12-17T23:26:47.5766667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/ilienorway","name":"ilienorway","type":"Microsoft.Devices/IotHubs","location":"norwaywest","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGSQpzg=","properties":{"locations":[{"location":"Norway
        West","role":"primary"},{"location":"Norway East","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ilienorway.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"ilienorway","endpoint":"sb://iothub-ns-ilienorway-17913320-fbfaad439f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-10T22:21:10.18Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/norwayhubworks","name":"norwayhubworks","type":"Microsoft.Devices/IotHubs","location":"norwaywest","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGQKxaI=","properties":{"locations":[{"location":"Norway
        West","role":"primary"},{"location":"Norway East","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"norwayhubworks.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"norwayhubworks","endpoint":"sb://iothub-ns-norwayhubw-17914003-eb93cbe919.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-10T22:56:29.9366667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-staging-test","name":"raharri-staging-test","type":"Microsoft.Devices/IotHubs","location":"brazilsouth","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGF5LT4=","properties":{"locations":[{"location":"Brazil
        South","role":"primary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"raharri-staging-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"raharri-staging-test","endpoint":"sb://iothub-ns-raharri-st-17203994-46fca5195e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":true},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-02-03T18:07:11.78Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerNorthEurope","name":"rkesslerNorthEurope","type":"Microsoft.Devices/IotHubs","location":"northeurope","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFwD1S8=","properties":{"locations":[{"location":"North
        Europe","role":"primary"},{"location":"West Europe","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerNorthEurope.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslernortheurope","endpoint":"sb://iothub-ns-rkesslerno-6065260-e40e15a83a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-20T11:41:22.963Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/pamontg-aducreate/providers/Microsoft.Devices/IotHubs/pamontg9","name":"pamontg9","type":"Microsoft.Devices/IotHubs","location":"northeurope","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"pamontg-aducreate","etag":"AAAADGhHZAI=","properties":{"locations":[{"location":"North
        Europe","role":"primary"},{"location":"West Europe","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"pamontg9.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"pamontg9","endpoint":"sb://iothub-ns-pamontg9-19081585-8f83eb73d3.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-12T21:32:30.73Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerGWV2","name":"rkesslerGWV2","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFq+hyg=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerGWV2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslergwv2","endpoint":"sb://iothub-ns-rkesslergw-6461604-f593ab0244.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","publicNetworkAccess":"Enabled"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-12-09T00:15:53.1Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rido-validations/providers/Microsoft.Devices/IotHubs/ridouai","name":"ridouai","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rido-validations","etag":"AAAADGiCvS4=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ridouai.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"ridouai","endpoint":"sb://iothub-ns-ridouai-10068656-2089e0e3d0.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/DevUX-Validation/providers/Microsoft.ManagedIdentity/userAssignedIdentities/RidoAppsZero":{"clientId":"14dbbbff-b140-4d4d-8e93-342767eccaed","principalId":"a1cba8fb-b87d-4874-9889-ffb0301da996"}},"principalId":"39e4264a-8ec3-4ff4-bbd2-79ce7013d718"},"systemData":{"createdAt":"2021-04-19T21:41:37.127Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunCanaryHub","name":"PaymaunCanaryHub","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGe77u0=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunCanaryHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymauncanaryhub","endpoint":"sb://iothub-ns-paymauncan-10310011-6987067cc3.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"037b18ad-6223-46a5-8c29-38decf34adb4"},"systemData":{"createdAt":"2021-04-26T21:57:51.633Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerCentralEUAP","name":"rkesslerCentralEUAP","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFr9z3Y=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerCentralEUAP.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslercentraleuap","endpoint":"sb://iothub-ns-rkesslerce-11307302-081dd4122e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerCentralEUAP;SharedAccessKey=****;EntityPath=paymauneventhub","authenticationType":"keyBased","name":"adfasdf","id":"d257224f-c654-4732-8050-5070a3289394","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-05-24T21:28:58.873Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-canary-hub","name":"askhura-canary-hub","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGgM0zQ=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-canary-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-canary-hub","endpoint":"sb://iothub-ns-askhura-ca-14484209-edda2c9cc5.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://yingevent.servicebus.windows.net","entityPath":"testevent","authenticationType":"identityBased","identity":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/microsoft.managedidentity/userassignedidentities/rk-identity-test"},"name":"eventhubendpoint","id":"b7b561d4-b013-44b6-8fae-f500a98f8301","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=rkiotstorage2;AccountKey=****","containerName":"container1","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","authenticationType":"keyBased","name":"sfgsdgsdgds","id":"1bd38b37-d87a-4b74-bf7c-55db1cec46ca","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}]},"enrichments":[{"key":"sdfsdsds","value":"asdfasdfsd","endpointNames":["asdfghjkl"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"}},"principalId":"2f1c3c88-510c-4d4a-9952-2b2ff442471a"},"systemData":{"createdAt":"2021-08-26T17:58:44.9966667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-canary-2","name":"askhura-canary-2","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGe77uE=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-canary-2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-canary-2","endpoint":"sb://iothub-ns-askhura-ca-14605461-4ef323760e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"2cee2b73-f50a-46be-877c-5101746daa34"},"systemData":{"createdAt":"2021-08-31T19:07:32.63Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-broker/providers/Microsoft.Devices/IotHubs/vilit-test-mqtt","name":"vilit-test-mqtt","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-broker","etag":"AAAADF/UJJg=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-test-mqtt.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-test-mqtt","endpoint":"sb://iothub-ns-vilit-test-16754325-6ea7e5609a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"MqttBroker","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-07T20:25:18.41Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-broker/providers/Microsoft.Devices/IotHubs/vilit-test-broker","name":"vilit-test-broker","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-broker","etag":"AAAADGCxQyk=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-test-broker.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-test-broker","endpoint":"sb://iothub-ns-vilit-test-16990908-50b5f5df01.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"MqttBrokerRoute","source":"MqttBrokerMessages","condition":"STARTS_WITH($mqtt-topic,
        \"vehicles/\")","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"MqttBroker","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-21T20:53:27.9466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ADU/providers/Microsoft.Devices/IotHubs/adu-privatepreview-hub","name":"adu-privatepreview-hub","type":"Microsoft.Devices/IotHubs","location":"eastus2euap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ADU","etag":"AAAADFmIPoQ=","properties":{"locations":[{"location":"East
        US 2 EUAP","role":"primary"},{"location":"Central US EUAP","role":"secondary"}],"state":"ActivationFailed","provisioningState":"Failed","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-10-07T20:33:01.093Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerEastEUAP","name":"rkesslerEastEUAP","type":"Microsoft.Devices/IotHubs","location":"eastus2euap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFrmLTA=","properties":{"locations":[{"location":"East
        US 2 EUAP","role":"primary"},{"location":"Central US EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerEastEUAP.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslereasteuap","endpoint":"sb://iothub-ns-rkesslerea-8983535-c5e2500f5d.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-03-17T22:13:07.4Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGhFWiA=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"test-filter","action":"Accept","ipMask":"1.3.2.4"},{"filterName":"test-filter2","action":"Accept","ipMask":"1.4.2.4"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"test-filter","action":"Allow","ipMask":"1.3.2.4"},{"filterName":"test-filter2","action":"Allow","ipMask":"1.4.2.4"}]},"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-2363588-460f33d1a4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_PaymaunHub;SharedAccessKey=****;EntityPath=paymauneventhub","name":"myEventhubEp","id":"c9b7ab5b-7624-44a4-a1ad-f598f0962fd1","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"},{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=TestPolicy;SharedAccessKey=****;EntityPath=paymauneventhub","authenticationType":"keyBased","name":"MyEHEndpoint","id":"df3df736-f923-4f92-9d53-32a6ee66a03e","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"}],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"4b7391c6-0e52-4226-af5b-bf287993966a"},"systemData":{"createdAt":"2019-10-23T23:13:57.47Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/yingworkhub","name":"yingworkhub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ying","etag":"AAAADGHItR4=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"test","action":"Accept","ipMask":"1.0.0.0"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"test","action":"Allow","ipMask":"1.0.0.0"}]},"hostName":"yingworkhub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"yingworkhub","endpoint":"sb://iothub-ns-yingworkhu-7810654-bfabd1a47f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://yingevent.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_yingworkhub;SharedAccessKey=****;EntityPath=testevent","name":"test222","id":"cdd74cb4-e0db-4cf8-8bc7-8f7f4f3345b6","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"},{"connectionString":"Endpoint=sb://yingevent.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_yingworkhub;SharedAccessKey=****;EntityPath=testevent","authenticationType":"keyBased","name":"test333","id":"7d19929b-0545-4f24-8321-0835e1f0d49b","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[]},"enrichments":[],"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT5H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT5H","maxDeliveryCount":19}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adt-test/providers/Microsoft.Network/privateEndpoints/test"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/yingworkhub/PrivateEndpointConnections/yingworkhub.fd9ad8f7-c538-4c92-9ae7-cb2e40c15981","name":"yingworkhub.fd9ad8f7-c538-4c92-9ae7-cb2e40c15981","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-02-03T01:11:50.883Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/iliestesthub","name":"iliestesthub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{"mytag":"myvalue"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGfMD1A=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.236.151","action":"Accept","ipMask":"73.97.236.151"}],"networkRuleSets":{"defaultAction":"Deny","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"73.97.236.151","action":"Allow","ipMask":"73.97.236.151"}]},"hostName":"iliestesthub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iliestesthub","endpoint":"sb://iothub-ns-iliestesth-10067252-c029533c08.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=andbuctestadu;AccountKey=****","containerName":"test","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"storageendpoint","id":"f82ebb49-8708-4d8f-9050-224ff362f456","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ADU"},{"containerName":"deviceupdates","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","endpointUri":"https://raharrideviceupdates.blob.core.windows.net/","authenticationType":"identityBased","name":"fsdfsdfs","id":"306e31c4-8b69-4673-b1a5-e6468e0ebbab","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"raharri"}]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"505bd383-2da9-4337-8cb5-aa1cb5bdf02e"},"systemData":{"createdAt":"2021-04-19T20:43:16.37Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/BillableModulesTestHub","name":"BillableModulesTestHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADF6FwK4=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"BillableModulesTestHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"billablemodulestesthub","endpoint":"sb://iothub-ns-billablemo-16397238-86d909a7ce.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-12-15T01:34:40.3366667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/TestIotExt1","name":"TestIotExt1","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADFv9nug=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"TestIotExt1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"testiotext1","endpoint":"sb://iothub-ns-testiotext-2312279-f90eed5388.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2019-10-15T01:05:39.05Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/ProHub","name":"ProHub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADFv97l0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ProHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"prohub","endpoint":"sb://iothub-ns-prohub-2773227-3cde9e3ef9.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-01-15T01:41:14.637Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubWestUS2","name":"rkesslerHubWestUS2","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF5AJEc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.132.150","action":"Accept","ipMask":"73.97.132.150"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"73.97.132.150","action":"Allow","ipMask":"73.97.132.150"}]},"hostName":"rkesslerHubWestUS2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubwestus2","endpoint":"sb://iothub-ns-rkesslerhu-5873664-22a9e08b63.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-11T22:44:00.1Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-cli-int-test-hub","name":"rk-cli-int-test-hub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGe8FlM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-cli-int-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-cli-int-test-hub","endpoint":"sb://iothub-ns-rk-cli-int-6335385-8cf2a6e686.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"23c984de-d8ee-45f9-83ea-c0930a6a5665"},"systemData":{"createdAt":"2020-12-03T18:15:27.6Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/smoke-test-2","name":"smoke-test-2","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGXl3wE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"smoke-test-2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"smoke-test-2","endpoint":"sb://iothub-ns-smoke-test-16240457-a5759ac96a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T21:07:45.04Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-cli-test-hub","name":"rk-cli-test-hub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGchvk4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-cli-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-cli-test-hub","endpoint":"sb://iothub-ns-rk-cli-tes-17680483-b104918893.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-01T19:55:07.66Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunHubTest1","name":"PaymaunHubTest1","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGg0HKo=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHubTest1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhubtest1","endpoint":"sb://iothub-ns-paymaunhub-18818448-b5a0060e31.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-27T02:04:42.49Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVRYY=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97818'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:57:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fsa --fsi --fcs --fc --fnld
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-identity-hub","name":"rk-identity-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"e":"b","test":"test"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGgM2BQ=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-identity-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-identity-hub","endpoint":"sb://iothub-ns-rk-identit-3174359-de82e52e4d.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"test","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"lifecycle_route","source":"DeviceLifecycleEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"device_job_lifecycle_events_route","source":"DeviceJobLifecycleEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"connection_state_events_route","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableModuleSAS":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"}},"principalId":"2ec95e8e-45d2-4680-bed8-1fe8433820b4"},"systemData":{"createdAt":"2020-03-31T22:25:20.24Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubEast","name":"rkesslerHubEast","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADGaryzE=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.132.150","action":"Accept","ipMask":"73.97.132.150"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"73.97.132.150","action":"Allow","ipMask":"73.97.132.150"}]},"hostName":"rkesslerHubEast.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":2,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubeast","endpoint":"sb://iothub-ns-rkesslerhu-4910438-dfc628c2e6.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[{"connectionString":"Endpoint=sb://az-cli-int-test-servicebus-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerTest;SharedAccessKey=****;EntityPath=testtopic","name":"endpoint1","id":"64774abf-3add-4e83-b0e5-ad6c9a07fd42","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"cli-int-test-rg"}],"serviceBusTopics":[{"connectionString":"Endpoint=sb://az-cli-int-test-servicebus-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerTest;SharedAccessKey=****;EntityPath=az-cli-int-test-servicebus","name":"servicebustopic1","id":"89b2c8ba-0ce6-4cf8-959d-1ae596c680a1","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"cli-int-test-rg"}],"eventHubs":[{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","name":"testRoute1","id":"421c6e84-9b92-474a-a4f0-812004ba5409","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","name":"ehubtest2","id":"1322ca79-5ab5-498f-aa42-9bb943a9fd86","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","authenticationType":"keyBased","name":"testEndpoint","id":"f21787f6-3389-4a72-9ce1-9ae01853105a","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","authenticationType":"keyBased","name":"testEndpoint2","id":"ced63e9b-9199-4cf6-9cf6-6f296608496c","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=rkstoragetest;AccountKey=****","containerName":"test3","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"storage","id":"47bb7579-95c8-429e-8fda-8389e10dc90d","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}]},"enrichments":[],"routes":[{"name":"DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"TelemetryModelInformation","source":"DeviceMessages","condition":"$iothub-interface-id
        = \"urn:azureiot:ModelDiscovery:ModelInformation:1\"","endpointNames":["events"],"isEnabled":true},{"name":"DeviceTwinEvents","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'')","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT2H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-09-28T20:31:20.88Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubBasic","name":"rkesslerHubBasic","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF4uNdI=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"rkesslerHubBasic.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubbasic","endpoint":"sb://iothub-ns-rkesslerhu-5856834-888c890346.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"route2","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"B1","tier":"Basic","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-11T05:43:03.923Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/avagraw-iot-hub","name":"avagraw-iot-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADF6bLe8=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"avagraw-iot-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"avagraw-iot-hub","endpoint":"sb://iothub-ns-avagraw-io-9684408-600ce25791.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-04-07T23:02:07.663Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/iot-cli-extensions-integration-test-hub","name":"iot-cli-extensions-integration-test-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADFw9ud4=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-cli-extensions-integration-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-cli-extensions-integr","endpoint":"sb://iothub-ns-iot-cli-ex-9730108-95336c2aa2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azcliintteststorage;AccountKey=****","containerName":"devices","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-04-09T08:58:12.597Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-test-1","name":"raharri-test-1","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGWFmQM=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"raharri-test-1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"raharri-test-1","endpoint":"sb://iothub-ns-raharri-te-11679783-47062fe1c2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Network/privateEndpoints/raharri-test"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-test-1/PrivateEndpointConnections/raharri-test-1.c0b264f9-87d9-4ef7-aea5-6774bca55d85","name":"raharri-test-1.c0b264f9-87d9-4ef7-aea5-6774bca55d85","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-06-03T21:17:21.517Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubAu2021","name":"rkesslerHubAu2021","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF2lvbw=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerHubAu2021.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubau2021","endpoint":"sb://iothub-ns-rkesslerhu-14200631-32ee399d59.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-08-13T22:57:08.61Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/fileupload-icm","name":"fileupload-icm","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGgM1x0=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"10.0.0.28","action":"Accept","ipMask":"10.0.0.28"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"10.0.0.28","action":"Allow","ipMask":"10.0.0.28"}]},"hostName":"fileupload-icm.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"fileupload-icm","endpoint":"sb://iothub-ns-fileupload-14312231-bc8f29349b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[{"connectionString":"Endpoint=sb://rk-sb-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_askhura-test-rg;SharedAccessKey=****;EntityPath=queue-1","authenticationType":"keyBased","name":"servicebus-systemassigned","id":"3440cbf7-f2ff-40aa-8f97-0b68d6c1c223","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"serviceBusTopics":[{"endpointUri":"sb://rk-sb-namespace.servicebus.windows.net","entityPath":"topic-1","authenticationType":"identityBased","name":"topic-userassgined","id":"5213a80d-ecaf-4fd2-911f-89da00a0792b","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"eventHubs":[{"endpointUri":"sb://yingevent.servicebus.windows.net","entityPath":"testevent","authenticationType":"identityBased","name":"test13","id":"3ac306b4-bb1f-4349-a62c-b95f3b46e91c","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"111111","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"222222","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"3453533","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"asdfasfdasfd","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"75756756","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"5676576576","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"vjfdjhgjgjg","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"dsdfsgsfdggggf","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"erytryry56","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"eventroute","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=rkiotstorage2;AccountKey=****","containerName":"container1","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":12}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test-2":{"clientId":"7ee8a73e-24bd-4681-963b-708239d7c5d9","principalId":"76ee23e0-7ab2-4ec6-99fa-1c9e9fb308a6"}},"principalId":"9f8a3338-fcf5-48b1-8f1b-31ba009cd8b9"},"systemData":{"createdAt":"2021-08-19T15:38:33.3466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Devices/IotHubs/vilit-hub-test","name":"vilit-hub-test","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"exam":"test2","exam2":"test3"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit","etag":"AAAADGVr4g0=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-test","endpoint":"sb://iothub-ns-vilit-hub-16240640-68efd3638f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://viliteventhub.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_vilit-hub-test;SharedAccessKey=****;EntityPath=eventhub2","authenticationType":"keyBased","name":"endpoint","id":"9a207810-9af0-4cb7-831b-ab665c16d6a2","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"vilit"}],"storageContainers":[]},"routes":[{"name":"route","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T21:37:52.5566667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/smoke-test-3","name":"smoke-test-3","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADF3waEw=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"smoke-test-3.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"smoke-test-3","endpoint":"sb://iothub-ns-smoke-test-16241276-718954597f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T23:04:32.7833333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jiacjutest/providers/Microsoft.Devices/IotHubs/newiothubDeletewithLock","name":"newiothubDeletewithLock","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"device":"tag"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"jiacjutest","etag":"AAAADGZ/Kl4=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"newiothubDeletewithLock.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"newiothubdeletewithlock","endpoint":"sb://iothub-ns-newiothubd-16851029-a939ca66f2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-13T19:43:55.73Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jingrg/providers/Microsoft.Devices/IotHubs/JingHub","name":"JingHub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"jingrg","etag":"AAAADGVqjsc=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"JingHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"jinghub","endpoint":"sb://iothub-ns-jinghub-18297925-00079d4986.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-29T21:24:51.3966667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-eh-to-azmon/providers/Microsoft.Devices/IotHubs/vilit-hub-to-be-logged","name":"vilit-hub-to-be-logged","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-eh-to-azmon","etag":"AAAADGcY8Vk=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-to-be-logged.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":7,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-to-be-logged","endpoint":"sb://iothub-ns-vilit-hub-18322115-c3f0235d39.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-31T17:23:21.6266667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-adu-hub","name":"askhura-adu-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGcMC5k=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-adu-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-adu-hub","endpoint":"sb://iothub-ns-askhura-ad-18747832-281cfb3511.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T16:31:22.41Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/brandnew","name":"brandnew","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ying","etag":"AAAADGe7lFI=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"50.54.142.94","action":"Accept","ipMask":"50.54.142.94"}],"networkRuleSets":{"defaultAction":"Deny","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"50.54.142.94","action":"Allow","ipMask":"50.54.142.94"}]},"hostName":"brandnew.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"brandnew","endpoint":"sb://iothub-ns-brandnew-18926890-67128da56e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-05T21:59:02.2466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Devices/IotHubs/vilit-hub-test-101","name":"vilit-hub-test-101","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit","etag":"AAAADGfLm/k=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-test-101.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-test-101","endpoint":"sb://iothub-ns-vilit-hub-18945100-1d14ec9101.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-06T16:55:02.32Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/asfsfsfsfdsdfsdf","name":"asfsfsfsfdsdfsdf","type":"Microsoft.Devices/IotHubs","location":"southeastasia","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADF6xfwY=","properties":{"locations":[{"location":"Southeast
        Asia","role":"primary"},{"location":"East Asia","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"asfsfsfsfdsdfsdf.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"asfsfsfsfdsdfsdf","endpoint":"sb://iothub-ns-asfsfsfsfd-16443893-76a9d6d183.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-12-17T23:26:47.5766667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/ilienorway","name":"ilienorway","type":"Microsoft.Devices/IotHubs","location":"norwaywest","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGSQpzg=","properties":{"locations":[{"location":"Norway
        West","role":"primary"},{"location":"Norway East","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ilienorway.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"ilienorway","endpoint":"sb://iothub-ns-ilienorway-17913320-fbfaad439f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-10T22:21:10.18Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/norwayhubworks","name":"norwayhubworks","type":"Microsoft.Devices/IotHubs","location":"norwaywest","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGQKxaI=","properties":{"locations":[{"location":"Norway
        West","role":"primary"},{"location":"Norway East","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"norwayhubworks.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"norwayhubworks","endpoint":"sb://iothub-ns-norwayhubw-17914003-eb93cbe919.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-10T22:56:29.9366667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-staging-test","name":"raharri-staging-test","type":"Microsoft.Devices/IotHubs","location":"brazilsouth","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGF5LT4=","properties":{"locations":[{"location":"Brazil
        South","role":"primary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"raharri-staging-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"raharri-staging-test","endpoint":"sb://iothub-ns-raharri-st-17203994-46fca5195e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":true},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-02-03T18:07:11.78Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerNorthEurope","name":"rkesslerNorthEurope","type":"Microsoft.Devices/IotHubs","location":"northeurope","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFwD1S8=","properties":{"locations":[{"location":"North
        Europe","role":"primary"},{"location":"West Europe","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerNorthEurope.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslernortheurope","endpoint":"sb://iothub-ns-rkesslerno-6065260-e40e15a83a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-20T11:41:22.963Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/pamontg-aducreate/providers/Microsoft.Devices/IotHubs/pamontg9","name":"pamontg9","type":"Microsoft.Devices/IotHubs","location":"northeurope","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"pamontg-aducreate","etag":"AAAADGhHZAI=","properties":{"locations":[{"location":"North
        Europe","role":"primary"},{"location":"West Europe","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"pamontg9.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"pamontg9","endpoint":"sb://iothub-ns-pamontg9-19081585-8f83eb73d3.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-12T21:32:30.73Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerGWV2","name":"rkesslerGWV2","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFq+hyg=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerGWV2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslergwv2","endpoint":"sb://iothub-ns-rkesslergw-6461604-f593ab0244.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","publicNetworkAccess":"Enabled"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-12-09T00:15:53.1Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rido-validations/providers/Microsoft.Devices/IotHubs/ridouai","name":"ridouai","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rido-validations","etag":"AAAADGiCvS4=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ridouai.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"ridouai","endpoint":"sb://iothub-ns-ridouai-10068656-2089e0e3d0.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/DevUX-Validation/providers/Microsoft.ManagedIdentity/userAssignedIdentities/RidoAppsZero":{"clientId":"14dbbbff-b140-4d4d-8e93-342767eccaed","principalId":"a1cba8fb-b87d-4874-9889-ffb0301da996"}},"principalId":"39e4264a-8ec3-4ff4-bbd2-79ce7013d718"},"systemData":{"createdAt":"2021-04-19T21:41:37.127Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunCanaryHub","name":"PaymaunCanaryHub","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGe77u0=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunCanaryHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymauncanaryhub","endpoint":"sb://iothub-ns-paymauncan-10310011-6987067cc3.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"037b18ad-6223-46a5-8c29-38decf34adb4"},"systemData":{"createdAt":"2021-04-26T21:57:51.633Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerCentralEUAP","name":"rkesslerCentralEUAP","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFr9z3Y=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerCentralEUAP.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslercentraleuap","endpoint":"sb://iothub-ns-rkesslerce-11307302-081dd4122e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerCentralEUAP;SharedAccessKey=****;EntityPath=paymauneventhub","authenticationType":"keyBased","name":"adfasdf","id":"d257224f-c654-4732-8050-5070a3289394","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-05-24T21:28:58.873Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-canary-hub","name":"askhura-canary-hub","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGgM0zQ=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-canary-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-canary-hub","endpoint":"sb://iothub-ns-askhura-ca-14484209-edda2c9cc5.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://yingevent.servicebus.windows.net","entityPath":"testevent","authenticationType":"identityBased","identity":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/microsoft.managedidentity/userassignedidentities/rk-identity-test"},"name":"eventhubendpoint","id":"b7b561d4-b013-44b6-8fae-f500a98f8301","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=rkiotstorage2;AccountKey=****","containerName":"container1","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","authenticationType":"keyBased","name":"sfgsdgsdgds","id":"1bd38b37-d87a-4b74-bf7c-55db1cec46ca","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}]},"enrichments":[{"key":"sdfsdsds","value":"asdfasdfsd","endpointNames":["asdfghjkl"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"}},"principalId":"2f1c3c88-510c-4d4a-9952-2b2ff442471a"},"systemData":{"createdAt":"2021-08-26T17:58:44.9966667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-canary-2","name":"askhura-canary-2","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGe77uE=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-canary-2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-canary-2","endpoint":"sb://iothub-ns-askhura-ca-14605461-4ef323760e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"2cee2b73-f50a-46be-877c-5101746daa34"},"systemData":{"createdAt":"2021-08-31T19:07:32.63Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-broker/providers/Microsoft.Devices/IotHubs/vilit-test-mqtt","name":"vilit-test-mqtt","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-broker","etag":"AAAADF/UJJg=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-test-mqtt.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-test-mqtt","endpoint":"sb://iothub-ns-vilit-test-16754325-6ea7e5609a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"MqttBroker","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-07T20:25:18.41Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-broker/providers/Microsoft.Devices/IotHubs/vilit-test-broker","name":"vilit-test-broker","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-broker","etag":"AAAADGCxQyk=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-test-broker.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-test-broker","endpoint":"sb://iothub-ns-vilit-test-16990908-50b5f5df01.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"MqttBrokerRoute","source":"MqttBrokerMessages","condition":"STARTS_WITH($mqtt-topic,
        \"vehicles/\")","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"MqttBroker","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-21T20:53:27.9466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ADU/providers/Microsoft.Devices/IotHubs/adu-privatepreview-hub","name":"adu-privatepreview-hub","type":"Microsoft.Devices/IotHubs","location":"eastus2euap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ADU","etag":"AAAADFmIPoQ=","properties":{"locations":[{"location":"East
        US 2 EUAP","role":"primary"},{"location":"Central US EUAP","role":"secondary"}],"state":"ActivationFailed","provisioningState":"Failed","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-10-07T20:33:01.093Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerEastEUAP","name":"rkesslerEastEUAP","type":"Microsoft.Devices/IotHubs","location":"eastus2euap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFrmLTA=","properties":{"locations":[{"location":"East
        US 2 EUAP","role":"primary"},{"location":"Central US EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerEastEUAP.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslereasteuap","endpoint":"sb://iothub-ns-rkesslerea-8983535-c5e2500f5d.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-03-17T22:13:07.4Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGhFWiA=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"test-filter","action":"Accept","ipMask":"1.3.2.4"},{"filterName":"test-filter2","action":"Accept","ipMask":"1.4.2.4"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"test-filter","action":"Allow","ipMask":"1.3.2.4"},{"filterName":"test-filter2","action":"Allow","ipMask":"1.4.2.4"}]},"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-2363588-460f33d1a4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_PaymaunHub;SharedAccessKey=****;EntityPath=paymauneventhub","name":"myEventhubEp","id":"c9b7ab5b-7624-44a4-a1ad-f598f0962fd1","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"},{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=TestPolicy;SharedAccessKey=****;EntityPath=paymauneventhub","authenticationType":"keyBased","name":"MyEHEndpoint","id":"df3df736-f923-4f92-9d53-32a6ee66a03e","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"}],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"4b7391c6-0e52-4226-af5b-bf287993966a"},"systemData":{"createdAt":"2019-10-23T23:13:57.47Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/yingworkhub","name":"yingworkhub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ying","etag":"AAAADGHItR4=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"test","action":"Accept","ipMask":"1.0.0.0"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"test","action":"Allow","ipMask":"1.0.0.0"}]},"hostName":"yingworkhub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"yingworkhub","endpoint":"sb://iothub-ns-yingworkhu-7810654-bfabd1a47f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://yingevent.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_yingworkhub;SharedAccessKey=****;EntityPath=testevent","name":"test222","id":"cdd74cb4-e0db-4cf8-8bc7-8f7f4f3345b6","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"},{"connectionString":"Endpoint=sb://yingevent.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_yingworkhub;SharedAccessKey=****;EntityPath=testevent","authenticationType":"keyBased","name":"test333","id":"7d19929b-0545-4f24-8321-0835e1f0d49b","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[]},"enrichments":[],"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT5H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT5H","maxDeliveryCount":19}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adt-test/providers/Microsoft.Network/privateEndpoints/test"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/yingworkhub/PrivateEndpointConnections/yingworkhub.fd9ad8f7-c538-4c92-9ae7-cb2e40c15981","name":"yingworkhub.fd9ad8f7-c538-4c92-9ae7-cb2e40c15981","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-02-03T01:11:50.883Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/iliestesthub","name":"iliestesthub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{"mytag":"myvalue"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGfMD1A=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.236.151","action":"Accept","ipMask":"73.97.236.151"}],"networkRuleSets":{"defaultAction":"Deny","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"73.97.236.151","action":"Allow","ipMask":"73.97.236.151"}]},"hostName":"iliestesthub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iliestesthub","endpoint":"sb://iothub-ns-iliestesth-10067252-c029533c08.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=andbuctestadu;AccountKey=****","containerName":"test","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"storageendpoint","id":"f82ebb49-8708-4d8f-9050-224ff362f456","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ADU"},{"containerName":"deviceupdates","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","endpointUri":"https://raharrideviceupdates.blob.core.windows.net/","authenticationType":"identityBased","name":"fsdfsdfs","id":"306e31c4-8b69-4673-b1a5-e6468e0ebbab","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"raharri"}]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"505bd383-2da9-4337-8cb5-aa1cb5bdf02e"},"systemData":{"createdAt":"2021-04-19T20:43:16.37Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/BillableModulesTestHub","name":"BillableModulesTestHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADF6FwK4=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"BillableModulesTestHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"billablemodulestesthub","endpoint":"sb://iothub-ns-billablemo-16397238-86d909a7ce.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-12-15T01:34:40.3366667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/TestIotExt1","name":"TestIotExt1","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADFv9nug=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"TestIotExt1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"testiotext1","endpoint":"sb://iothub-ns-testiotext-2312279-f90eed5388.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2019-10-15T01:05:39.05Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/ProHub","name":"ProHub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADFv97l0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ProHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"prohub","endpoint":"sb://iothub-ns-prohub-2773227-3cde9e3ef9.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-01-15T01:41:14.637Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubWestUS2","name":"rkesslerHubWestUS2","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF5AJEc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.132.150","action":"Accept","ipMask":"73.97.132.150"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"73.97.132.150","action":"Allow","ipMask":"73.97.132.150"}]},"hostName":"rkesslerHubWestUS2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubwestus2","endpoint":"sb://iothub-ns-rkesslerhu-5873664-22a9e08b63.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-11T22:44:00.1Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-cli-int-test-hub","name":"rk-cli-int-test-hub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGe8FlM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-cli-int-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-cli-int-test-hub","endpoint":"sb://iothub-ns-rk-cli-int-6335385-8cf2a6e686.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"23c984de-d8ee-45f9-83ea-c0930a6a5665"},"systemData":{"createdAt":"2020-12-03T18:15:27.6Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/smoke-test-2","name":"smoke-test-2","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGXl3wE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"smoke-test-2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"smoke-test-2","endpoint":"sb://iothub-ns-smoke-test-16240457-a5759ac96a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T21:07:45.04Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-cli-test-hub","name":"rk-cli-test-hub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGchvk4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-cli-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-cli-test-hub","endpoint":"sb://iothub-ns-rk-cli-tes-17680483-b104918893.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-01T19:55:07.66Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunHubTest1","name":"PaymaunHubTest1","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGg0HKo=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHubTest1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhubtest1","endpoint":"sb://iothub-ns-paymaunhub-18818448-b5a0060e31.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-27T02:04:42.49Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVRYY=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97818'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:58:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fsa --fsi --fcs --fc --fnld
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-identity-hub","name":"rk-identity-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"e":"b","test":"test"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGgM2BQ=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-identity-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-identity-hub","endpoint":"sb://iothub-ns-rk-identit-3174359-de82e52e4d.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"test","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"lifecycle_route","source":"DeviceLifecycleEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"device_job_lifecycle_events_route","source":"DeviceJobLifecycleEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"connection_state_events_route","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableModuleSAS":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"}},"principalId":"2ec95e8e-45d2-4680-bed8-1fe8433820b4"},"systemData":{"createdAt":"2020-03-31T22:25:20.24Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubEast","name":"rkesslerHubEast","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADGaryzE=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.132.150","action":"Accept","ipMask":"73.97.132.150"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"73.97.132.150","action":"Allow","ipMask":"73.97.132.150"}]},"hostName":"rkesslerHubEast.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":2,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubeast","endpoint":"sb://iothub-ns-rkesslerhu-4910438-dfc628c2e6.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[{"connectionString":"Endpoint=sb://az-cli-int-test-servicebus-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerTest;SharedAccessKey=****;EntityPath=testtopic","name":"endpoint1","id":"64774abf-3add-4e83-b0e5-ad6c9a07fd42","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"cli-int-test-rg"}],"serviceBusTopics":[{"connectionString":"Endpoint=sb://az-cli-int-test-servicebus-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerTest;SharedAccessKey=****;EntityPath=az-cli-int-test-servicebus","name":"servicebustopic1","id":"89b2c8ba-0ce6-4cf8-959d-1ae596c680a1","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"cli-int-test-rg"}],"eventHubs":[{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","name":"testRoute1","id":"421c6e84-9b92-474a-a4f0-812004ba5409","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","name":"ehubtest2","id":"1322ca79-5ab5-498f-aa42-9bb943a9fd86","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","authenticationType":"keyBased","name":"testEndpoint","id":"f21787f6-3389-4a72-9ce1-9ae01853105a","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"},{"connectionString":"Endpoint=sb://rk-eh-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerHubEast;SharedAccessKey=****;EntityPath=rk-event-hub","authenticationType":"keyBased","name":"testEndpoint2","id":"ced63e9b-9199-4cf6-9cf6-6f296608496c","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=rkstoragetest;AccountKey=****","containerName":"test3","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"storage","id":"47bb7579-95c8-429e-8fda-8389e10dc90d","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}]},"enrichments":[],"routes":[{"name":"DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"TelemetryModelInformation","source":"DeviceMessages","condition":"$iothub-interface-id
        = \"urn:azureiot:ModelDiscovery:ModelInformation:1\"","endpointNames":["events"],"isEnabled":true},{"name":"DeviceTwinEvents","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'')","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT2H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-09-28T20:31:20.88Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubBasic","name":"rkesslerHubBasic","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF4uNdI=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"rkesslerHubBasic.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubbasic","endpoint":"sb://iothub-ns-rkesslerhu-5856834-888c890346.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"route2","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"B1","tier":"Basic","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-11T05:43:03.923Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/avagraw-iot-hub","name":"avagraw-iot-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADF6bLe8=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"avagraw-iot-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"avagraw-iot-hub","endpoint":"sb://iothub-ns-avagraw-io-9684408-600ce25791.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-04-07T23:02:07.663Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/iot-cli-extensions-integration-test-hub","name":"iot-cli-extensions-integration-test-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADFw9ud4=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-cli-extensions-integration-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-cli-extensions-integr","endpoint":"sb://iothub-ns-iot-cli-ex-9730108-95336c2aa2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=azcliintteststorage;AccountKey=****","containerName":"devices","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-04-09T08:58:12.597Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-test-1","name":"raharri-test-1","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGWFmQM=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"raharri-test-1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"raharri-test-1","endpoint":"sb://iothub-ns-raharri-te-11679783-47062fe1c2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Network/privateEndpoints/raharri-test"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-test-1/PrivateEndpointConnections/raharri-test-1.c0b264f9-87d9-4ef7-aea5-6774bca55d85","name":"raharri-test-1.c0b264f9-87d9-4ef7-aea5-6774bca55d85","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-06-03T21:17:21.517Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubAu2021","name":"rkesslerHubAu2021","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF2lvbw=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerHubAu2021.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubau2021","endpoint":"sb://iothub-ns-rkesslerhu-14200631-32ee399d59.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-08-13T22:57:08.61Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/fileupload-icm","name":"fileupload-icm","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGgM1x0=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"10.0.0.28","action":"Accept","ipMask":"10.0.0.28"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"10.0.0.28","action":"Allow","ipMask":"10.0.0.28"}]},"hostName":"fileupload-icm.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"fileupload-icm","endpoint":"sb://iothub-ns-fileupload-14312231-bc8f29349b.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[{"connectionString":"Endpoint=sb://rk-sb-namespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_askhura-test-rg;SharedAccessKey=****;EntityPath=queue-1","authenticationType":"keyBased","name":"servicebus-systemassigned","id":"3440cbf7-f2ff-40aa-8f97-0b68d6c1c223","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"serviceBusTopics":[{"endpointUri":"sb://rk-sb-namespace.servicebus.windows.net","entityPath":"topic-1","authenticationType":"identityBased","name":"topic-userassgined","id":"5213a80d-ecaf-4fd2-911f-89da00a0792b","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}],"eventHubs":[{"endpointUri":"sb://yingevent.servicebus.windows.net","entityPath":"testevent","authenticationType":"identityBased","name":"test13","id":"3ac306b4-bb1f-4349-a62c-b95f3b46e91c","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"111111","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"222222","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"3453533","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"asdfasfdasfd","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"75756756","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"5676576576","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"vjfdjhgjgjg","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"dsdfsgsfdggggf","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"erytryry56","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"eventroute","source":"DeviceMessages","condition":"true","endpointNames":["test13"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=rkiotstorage2;AccountKey=****","containerName":"container1","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":12}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test-2":{"clientId":"7ee8a73e-24bd-4681-963b-708239d7c5d9","principalId":"76ee23e0-7ab2-4ec6-99fa-1c9e9fb308a6"}},"principalId":"9f8a3338-fcf5-48b1-8f1b-31ba009cd8b9"},"systemData":{"createdAt":"2021-08-19T15:38:33.3466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Devices/IotHubs/vilit-hub-test","name":"vilit-hub-test","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"exam":"test2","exam2":"test3"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit","etag":"AAAADGVr4g0=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-test","endpoint":"sb://iothub-ns-vilit-hub-16240640-68efd3638f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://viliteventhub.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_vilit-hub-test;SharedAccessKey=****;EntityPath=eventhub2","authenticationType":"keyBased","name":"endpoint","id":"9a207810-9af0-4cb7-831b-ab665c16d6a2","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"vilit"}],"storageContainers":[]},"routes":[{"name":"route","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T21:37:52.5566667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/smoke-test-3","name":"smoke-test-3","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADF3waEw=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"smoke-test-3.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"smoke-test-3","endpoint":"sb://iothub-ns-smoke-test-16241276-718954597f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T23:04:32.7833333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jiacjutest/providers/Microsoft.Devices/IotHubs/newiothubDeletewithLock","name":"newiothubDeletewithLock","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{"device":"tag"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"jiacjutest","etag":"AAAADGZ/Kl4=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"newiothubDeletewithLock.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"newiothubdeletewithlock","endpoint":"sb://iothub-ns-newiothubd-16851029-a939ca66f2.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-13T19:43:55.73Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/jingrg/providers/Microsoft.Devices/IotHubs/JingHub","name":"JingHub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"jingrg","etag":"AAAADGVqjsc=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"JingHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"jinghub","endpoint":"sb://iothub-ns-jinghub-18297925-00079d4986.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-29T21:24:51.3966667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-eh-to-azmon/providers/Microsoft.Devices/IotHubs/vilit-hub-to-be-logged","name":"vilit-hub-to-be-logged","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-eh-to-azmon","etag":"AAAADGcY8Vk=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-to-be-logged.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":7,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-to-be-logged","endpoint":"sb://iothub-ns-vilit-hub-18322115-c3f0235d39.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-31T17:23:21.6266667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-adu-hub","name":"askhura-adu-hub","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGcMC5k=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-adu-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-adu-hub","endpoint":"sb://iothub-ns-askhura-ad-18747832-281cfb3511.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-20T16:31:22.41Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/brandnew","name":"brandnew","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ying","etag":"AAAADGe7lFI=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"50.54.142.94","action":"Accept","ipMask":"50.54.142.94"}],"networkRuleSets":{"defaultAction":"Deny","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"50.54.142.94","action":"Allow","ipMask":"50.54.142.94"}]},"hostName":"brandnew.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"brandnew","endpoint":"sb://iothub-ns-brandnew-18926890-67128da56e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-05T21:59:02.2466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit/providers/Microsoft.Devices/IotHubs/vilit-hub-test-101","name":"vilit-hub-test-101","type":"Microsoft.Devices/IotHubs","location":"eastus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit","etag":"AAAADGfLm/k=","properties":{"locations":[{"location":"East
        US","role":"primary"},{"location":"West US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-hub-test-101.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-hub-test-101","endpoint":"sb://iothub-ns-vilit-hub-18945100-1d14ec9101.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-06T16:55:02.32Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/asfsfsfsfdsdfsdf","name":"asfsfsfsfdsdfsdf","type":"Microsoft.Devices/IotHubs","location":"southeastasia","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADF6xfwY=","properties":{"locations":[{"location":"Southeast
        Asia","role":"primary"},{"location":"East Asia","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"asfsfsfsfdsdfsdf.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"asfsfsfsfdsdfsdf","endpoint":"sb://iothub-ns-asfsfsfsfd-16443893-76a9d6d183.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-12-17T23:26:47.5766667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/ilienorway","name":"ilienorway","type":"Microsoft.Devices/IotHubs","location":"norwaywest","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGSQpzg=","properties":{"locations":[{"location":"Norway
        West","role":"primary"},{"location":"Norway East","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ilienorway.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"ilienorway","endpoint":"sb://iothub-ns-ilienorway-17913320-fbfaad439f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-10T22:21:10.18Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/norwayhubworks","name":"norwayhubworks","type":"Microsoft.Devices/IotHubs","location":"norwaywest","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGQKxaI=","properties":{"locations":[{"location":"Norway
        West","role":"primary"},{"location":"Norway East","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"norwayhubworks.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"norwayhubworks","endpoint":"sb://iothub-ns-norwayhubw-17914003-eb93cbe919.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-10T22:56:29.9366667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/raharri-staging-test","name":"raharri-staging-test","type":"Microsoft.Devices/IotHubs","location":"brazilsouth","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGF5LT4=","properties":{"locations":[{"location":"Brazil
        South","role":"primary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"raharri-staging-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"raharri-staging-test","endpoint":"sb://iothub-ns-raharri-st-17203994-46fca5195e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":true},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-02-03T18:07:11.78Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerNorthEurope","name":"rkesslerNorthEurope","type":"Microsoft.Devices/IotHubs","location":"northeurope","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFwD1S8=","properties":{"locations":[{"location":"North
        Europe","role":"primary"},{"location":"West Europe","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerNorthEurope.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslernortheurope","endpoint":"sb://iothub-ns-rkesslerno-6065260-e40e15a83a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-20T11:41:22.963Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/pamontg-aducreate/providers/Microsoft.Devices/IotHubs/pamontg9","name":"pamontg9","type":"Microsoft.Devices/IotHubs","location":"northeurope","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"pamontg-aducreate","etag":"AAAADGhHZAI=","properties":{"locations":[{"location":"North
        Europe","role":"primary"},{"location":"West Europe","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"pamontg9.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"pamontg9","endpoint":"sb://iothub-ns-pamontg9-19081585-8f83eb73d3.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[],"enableDataResidency":false},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-12T21:32:30.73Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerGWV2","name":"rkesslerGWV2","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFq+hyg=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerGWV2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslergwv2","endpoint":"sb://iothub-ns-rkesslergw-6461604-f593ab0244.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","publicNetworkAccess":"Enabled"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-12-09T00:15:53.1Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rido-validations/providers/Microsoft.Devices/IotHubs/ridouai","name":"ridouai","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rido-validations","etag":"AAAADGiCvS4=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ridouai.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"ridouai","endpoint":"sb://iothub-ns-ridouai-10068656-2089e0e3d0.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/DevUX-Validation/providers/Microsoft.ManagedIdentity/userAssignedIdentities/RidoAppsZero":{"clientId":"14dbbbff-b140-4d4d-8e93-342767eccaed","principalId":"a1cba8fb-b87d-4874-9889-ffb0301da996"}},"principalId":"39e4264a-8ec3-4ff4-bbd2-79ce7013d718"},"systemData":{"createdAt":"2021-04-19T21:41:37.127Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunCanaryHub","name":"PaymaunCanaryHub","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGe77u0=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunCanaryHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymauncanaryhub","endpoint":"sb://iothub-ns-paymauncan-10310011-6987067cc3.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"037b18ad-6223-46a5-8c29-38decf34adb4"},"systemData":{"createdAt":"2021-04-26T21:57:51.633Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerCentralEUAP","name":"rkesslerCentralEUAP","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFr9z3Y=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerCentralEUAP.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslercentraleuap","endpoint":"sb://iothub-ns-rkesslerce-11307302-081dd4122e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_rkesslerCentralEUAP;SharedAccessKey=****;EntityPath=paymauneventhub","authenticationType":"keyBased","name":"adfasdf","id":"d257224f-c654-4732-8050-5070a3289394","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-05-24T21:28:58.873Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-canary-hub","name":"askhura-canary-hub","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGgM0zQ=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-canary-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-canary-hub","endpoint":"sb://iothub-ns-askhura-ca-14484209-edda2c9cc5.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://yingevent.servicebus.windows.net","entityPath":"testevent","authenticationType":"identityBased","identity":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/microsoft.managedidentity/userassignedidentities/rk-identity-test"},"name":"eventhubendpoint","id":"b7b561d4-b013-44b6-8fae-f500a98f8301","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=rkiotstorage2;AccountKey=****","containerName":"container1","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","authenticationType":"keyBased","name":"sfgsdgsdgds","id":"1bd38b37-d87a-4b74-bf7c-55db1cec46ca","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"rk-iot-rg"}]},"enrichments":[{"key":"sdfsdsds","value":"asdfasdfsd","endpointNames":["asdfghjkl"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rk-iot-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/rk-identity-test":{"clientId":"9ac12ce2-8398-4c52-94f2-7407c6e73c1c","principalId":"cf0d4fef-1347-4443-a37c-62f8ae417f9e"}},"principalId":"2f1c3c88-510c-4d4a-9952-2b2ff442471a"},"systemData":{"createdAt":"2021-08-26T17:58:44.9966667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/askhura-test-rg/providers/Microsoft.Devices/IotHubs/askhura-canary-2","name":"askhura-canary-2","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"askhura-test-rg","etag":"AAAADGe77uE=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"askhura-canary-2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"askhura-canary-2","endpoint":"sb://iothub-ns-askhura-ca-14605461-4ef323760e.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","disableLocalAuth":true,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"2cee2b73-f50a-46be-877c-5101746daa34"},"systemData":{"createdAt":"2021-08-31T19:07:32.63Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-broker/providers/Microsoft.Devices/IotHubs/vilit-test-mqtt","name":"vilit-test-mqtt","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-broker","etag":"AAAADF/UJJg=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-test-mqtt.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-test-mqtt","endpoint":"sb://iothub-ns-vilit-test-16754325-6ea7e5609a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"MqttBroker","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-07T20:25:18.41Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vilit-broker/providers/Microsoft.Devices/IotHubs/vilit-test-broker","name":"vilit-test-broker","type":"Microsoft.Devices/IotHubs","location":"centraluseuap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"vilit-broker","etag":"AAAADGCxQyk=","properties":{"locations":[{"location":"Central
        US EUAP","role":"primary"},{"location":"East US 2 EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"vilit-test-broker.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"vilit-test-broker","endpoint":"sb://iothub-ns-vilit-test-16990908-50b5f5df01.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"MqttBrokerRoute","source":"MqttBrokerMessages","condition":"STARTS_WITH($mqtt-topic,
        \"vehicles/\")","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"MqttBroker","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-01-21T20:53:27.9466667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ADU/providers/Microsoft.Devices/IotHubs/adu-privatepreview-hub","name":"adu-privatepreview-hub","type":"Microsoft.Devices/IotHubs","location":"eastus2euap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ADU","etag":"AAAADFmIPoQ=","properties":{"locations":[{"location":"East
        US 2 EUAP","role":"primary"},{"location":"Central US EUAP","role":"secondary"}],"state":"ActivationFailed","provisioningState":"Failed","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-10-07T20:33:01.093Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerEastEUAP","name":"rkesslerEastEUAP","type":"Microsoft.Devices/IotHubs","location":"eastus2euap","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADFrmLTA=","properties":{"locations":[{"location":"East
        US 2 EUAP","role":"primary"},{"location":"Central US EUAP","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rkesslerEastEUAP.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslereasteuap","endpoint":"sb://iothub-ns-rkesslerea-8983535-c5e2500f5d.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"GWV2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-03-17T22:13:07.4Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunHub","name":"PaymaunHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGhFWiA=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"test-filter","action":"Accept","ipMask":"1.3.2.4"},{"filterName":"test-filter2","action":"Accept","ipMask":"1.4.2.4"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"test-filter","action":"Allow","ipMask":"1.3.2.4"},{"filterName":"test-filter2","action":"Allow","ipMask":"1.4.2.4"}]},"hostName":"PaymaunHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhub","endpoint":"sb://iothub-ns-paymaunhub-2363588-460f33d1a4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_PaymaunHub;SharedAccessKey=****;EntityPath=paymauneventhub","name":"myEventhubEp","id":"c9b7ab5b-7624-44a4-a1ad-f598f0962fd1","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"},{"connectionString":"Endpoint=sb://paymauneventhubnamespace.servicebus.windows.net:5671/;SharedAccessKeyName=TestPolicy;SharedAccessKey=****;EntityPath=paymauneventhub","authenticationType":"keyBased","name":"MyEHEndpoint","id":"df3df736-f923-4f92-9d53-32a6ee66a03e","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"TestCLI"}],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"4b7391c6-0e52-4226-af5b-bf287993966a"},"systemData":{"createdAt":"2019-10-23T23:13:57.47Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/yingworkhub","name":"yingworkhub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"ying","etag":"AAAADGHItR4=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"test","action":"Accept","ipMask":"1.0.0.0"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"test","action":"Allow","ipMask":"1.0.0.0"}]},"hostName":"yingworkhub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"yingworkhub","endpoint":"sb://iothub-ns-yingworkhu-7810654-bfabd1a47f.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://yingevent.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_yingworkhub;SharedAccessKey=****;EntityPath=testevent","name":"test222","id":"cdd74cb4-e0db-4cf8-8bc7-8f7f4f3345b6","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"},{"connectionString":"Endpoint=sb://yingevent.servicebus.windows.net:5671/;SharedAccessKeyName=iothubroutes_yingworkhub;SharedAccessKey=****;EntityPath=testevent","authenticationType":"keyBased","name":"test333","id":"7d19929b-0545-4f24-8321-0835e1f0d49b","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ying"}],"storageContainers":[]},"enrichments":[],"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT5H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT5H","maxDeliveryCount":19}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/adt-test/providers/Microsoft.Network/privateEndpoints/test"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/ying/providers/Microsoft.Devices/IotHubs/yingworkhub/PrivateEndpointConnections/yingworkhub.fd9ad8f7-c538-4c92-9ae7-cb2e40c15981","name":"yingworkhub.fd9ad8f7-c538-4c92-9ae7-cb2e40c15981","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}],"publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-02-03T01:11:50.883Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iliesrg/providers/Microsoft.Devices/IotHubs/iliestesthub","name":"iliestesthub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{"mytag":"myvalue"},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"iliesrg","etag":"AAAADGfMD1A=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.236.151","action":"Accept","ipMask":"73.97.236.151"}],"networkRuleSets":{"defaultAction":"Deny","applyToBuiltInEventHubEndpoint":false,"ipRules":[{"filterName":"73.97.236.151","action":"Allow","ipMask":"73.97.236.151"}]},"hostName":"iliestesthub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iliestesthub","endpoint":"sb://iothub-ns-iliestesth-10067252-c029533c08.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;AccountName=andbuctestadu;AccountKey=****","containerName":"test","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","name":"storageendpoint","id":"f82ebb49-8708-4d8f-9050-224ff362f456","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"ADU"},{"containerName":"deviceupdates","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}.avro","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":104857600,"encoding":"avro","endpointUri":"https://raharrideviceupdates.blob.core.windows.net/","authenticationType":"identityBased","name":"fsdfsdfs","id":"306e31c4-8b69-4673-b1a5-e6468e0ebbab","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"raharri"}]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":"","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"505bd383-2da9-4337-8cb5-aa1cb5bdf02e"},"systemData":{"createdAt":"2021-04-19T20:43:16.37Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/avagraw_test/providers/Microsoft.Devices/IotHubs/BillableModulesTestHub","name":"BillableModulesTestHub","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"avagraw_test","etag":"AAAADF6FwK4=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"BillableModulesTestHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"billablemodulestesthub","endpoint":"sb://iothub-ns-billablemo-16397238-86d909a7ce.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-12-15T01:34:40.3366667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/TestIotExt1","name":"TestIotExt1","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADFv9nug=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"TestIotExt1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"testiotext1","endpoint":"sb://iothub-ns-testiotext-2312279-f90eed5388.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2019-10-15T01:05:39.05Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/ProHub","name":"ProHub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADFv97l0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"ProHub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"prohub","endpoint":"sb://iothub-ns-prohub-2773227-3cde9e3ef9.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-01-15T01:41:14.637Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rkesslerTest/providers/Microsoft.Devices/IotHubs/rkesslerHubWestUS2","name":"rkesslerHubWestUS2","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rkesslerTest","etag":"AAAADF5AJEc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[{"filterName":"73.97.132.150","action":"Accept","ipMask":"73.97.132.150"}],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":true,"ipRules":[{"filterName":"73.97.132.150","action":"Allow","ipMask":"73.97.132.150"}]},"hostName":"rkesslerHubWestUS2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rkesslerhubwestus2","endpoint":"sb://iothub-ns-rkesslerhu-5873664-22a9e08b63.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","privateEndpointConnections":[],"publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2020-11-11T22:44:00.1Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-cli-int-test-hub","name":"rk-cli-int-test-hub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGe8FlM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-cli-int-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-cli-int-test-hub","endpoint":"sb://iothub-ns-rk-cli-int-6335385-8cf2a6e686.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;AccountName=testiotextstor0;AccountKey=****","containerName":"devices"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"23c984de-d8ee-45f9-83ea-c0930a6a5665"},"systemData":{"createdAt":"2020-12-03T18:15:27.6Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/raharri/providers/Microsoft.Devices/IotHubs/smoke-test-2","name":"smoke-test-2","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"raharri","etag":"AAAADGXl3wE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"networkRuleSets":{"defaultAction":"Allow","applyToBuiltInEventHubEndpoint":false,"ipRules":[]},"hostName":"smoke-test-2.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"smoke-test-2","endpoint":"sb://iothub-ns-smoke-test-16240457-a5759ac96a.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","publicNetworkAccess":"Enabled","disableLocalAuth":false,"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2021-11-30T21:07:45.04Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/rk-iot-rg/providers/Microsoft.Devices/IotHubs/rk-cli-test-hub","name":"rk-cli-test-hub","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"rk-iot-rg","etag":"AAAADGchvk4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"rk-cli-test-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"rk-cli-test-hub","endpoint":"sb://iothub-ns-rk-cli-tes-17680483-b104918893.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-03-01T19:55:07.66Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/TestCLI/providers/Microsoft.Devices/IotHubs/PaymaunHubTest1","name":"PaymaunHubTest1","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"TestCLI","etag":"AAAADGg0HKo=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"PaymaunHubTest1.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"paymaunhubtest1","endpoint":"sb://iothub-ns-paymaunhub-18818448-b5a0060e31.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[{"name":"DeviceUpdate.DeviceTwinChanges","source":"TwinChangeEvents","condition":"(opType
        = ''updateTwin'' OR opType = ''replaceTwin'') AND IS_DEFINED($body.tags.ADUGroup)","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DigitalTwinChanges","source":"DigitalTwinChangeEvents","condition":"true","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceLifeCycle","source":"DeviceLifecycleEvents","condition":"opType
        = ''deleteDeviceIdentity'' OR opType = ''deleteModuleIdentity''","endpointNames":["events"],"isEnabled":true},{"name":"DeviceUpdate.DeviceConnectionState","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["events"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-27T02:04:42.49Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVRYY=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97818'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:58:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
      - ''
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVRYY=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1672'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVRYY=''}'
      ParameterSetName:
      - -n --fsa --fsi --fcs --fc --fnld
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVRYY=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYzE3MzcxNjQtNTE0Mi00Y2M2LWI3M2QtZGNlYWNiMzlhMjdhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4226'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:58:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fsa --fsi --fcs --fc --fnld
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYzE3MzcxNjQtNTE0Mi00Y2M2LWI3M2QtZGNlYWNiMzlhMjdhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:59:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fsa --fsi --fcs --fc --fnld
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTKE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2508'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:59:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 22:59:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:59:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTKE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2508'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:59:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVTKE=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "keyBased"}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "features": "None"},
      "sku": {"name": "S1", "capacity": 1}, "identity": {"type": "SystemAssigned,
      UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1643'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVTKE=''}'
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTKE=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMjY4YjRmZTktZGUyNC00OWY3LWI2OWYtYzhkYjZmYmEzYjUyO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4221'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:59:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMjY4YjRmZTktZGUyNC00OWY3LWI2OWYtYzhkYjZmYmEzYjUyO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 22:59:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2503'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:00:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2503'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:00:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2503'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:00:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTnA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2503'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVTnA=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1648'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVTnA=''}'
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVTnA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMWM1NWVjOWEtMjA4Yy00NDAyLWI3NGItOTExNjhiMDE0NTQ0O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4226'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMWM1NWVjOWEtMjA4Yy00NDAyLWI3NGItOTExNjhiMDE0NTQ0O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVUdM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2508'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2022-05-16T22:54:25Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '311'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "sku": {"name": "Standard", "tier": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      Content-Length:
      - '72'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009","name":"ehNamespaceiothubfortest1000009","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"a386d5ea-ea90-441a-8263-d816368c84a1:ehnamespaceiothubfortest1x4vkmyz","createdAt":"2022-05-16T23:00:42.64Z","updatedAt":"2022-05-16T23:00:42.64Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000009.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '774'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:00:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '49'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009","name":"ehNamespaceiothubfortest1000009","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"a386d5ea-ea90-441a-8263-d816368c84a1:ehnamespaceiothubfortest1x4vkmyz","createdAt":"2022-05-16T23:00:42.64Z","updatedAt":"2022-05-16T23:00:42.64Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000009.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '774'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009","name":"ehNamespaceiothubfortest1000009","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Succeeded","metricId":"a386d5ea-ea90-441a-8263-d816368c84a1:ehnamespaceiothubfortest1x4vkmyz","createdAt":"2022-05-16T23:00:42.64Z","updatedAt":"2022-05-16T23:01:29.797Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000009.servicebus.windows.net:443/","status":"Active"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '773'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009?api-version=2021-11-01
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009","name":"ehNamespaceiothubfortest1000009","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Succeeded","metricId":"a386d5ea-ea90-441a-8263-d816368c84a1:ehnamespaceiothubfortest1x4vkmyz","createdAt":"2022-05-16T23:00:42.64Z","updatedAt":"2022-05-16T23:01:29.797Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000009.servicebus.windows.net:443/","status":"Active"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '773'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/CH3
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/CH3
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --namespace-name --name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-eventhub/10.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010?api-version=2021-11-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010","name":"eventHubiothubfortest000010","type":"Microsoft.EventHub/Namespaces/EventHubs","location":"West
        US 2","properties":{"messageRetentionInDays":7,"partitionCount":4,"status":"Active","createdAt":"2022-05-16T23:01:45.81Z","updatedAt":"2022-05-16T23:01:46.04Z","partitionIds":["0","1","2","3"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '499'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Service-Bus-Resource-Provider/SN1
      - Microsoft-HTTPAPI/2.0
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=servicePrincipalNames/any(c:c%20eq%20'6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26')
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '92'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:47 GMT
      odata-version:
      - '4.0'
      request-id:
      - 2578b01f-efda-453d-a5b2-6176c975af70
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"West US 2","Slice":"E","Ring":"1","ScaleUnit":"002","RoleInstance":"MWH0EPF00076CDE"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"ids": ["6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"], "types": ["user", "group",
      "servicePrincipal", "directoryObjectPartnerReference"]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '132'
      Content-Type:
      - application/json
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: POST
    uri: https://graph.microsoft.com/v1.0/directoryObjects/getByIds
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#directoryObjects","value":[{"@odata.type":"#microsoft.graph.servicePrincipal","id":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26","deletedDateTime":null,"accountEnabled":true,"alternativeNames":["isExplicit=False","/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003"],"appDisplayName":null,"appDescription":null,"appId":"ba651468-eeca-4a33-9deb-0a1ec2f0edd0","applicationTemplateId":null,"appOwnerOrganizationId":null,"appRoleAssignmentRequired":false,"createdDateTime":"2022-05-16T22:54:59Z","description":null,"disabledByMicrosoftStatus":null,"displayName":"identitytesthub000003","homepage":null,"loginUrl":null,"logoutUrl":null,"notes":null,"notificationEmailAddresses":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyThumbprint":null,"replyUrls":[],"servicePrincipalNames":["ba651468-eeca-4a33-9deb-0a1ec2f0edd0","https://identity.azure.net/0A8X4EVhcf474xlSgIIdalbKqoMtqD8Erj6zbff1zzA="],"servicePrincipalType":"ManagedIdentity","signInAudience":null,"tags":[],"tokenEncryptionKeyId":null,"info":null,"samlSingleSignOnSettings":null,"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"addIns":[],"appRoles":[],"keyCredentials":[{"customKeyIdentifier":"A975D7634B487970B2D9823F761217378CC1056C","displayName":"CN=ba651468-eeca-4a33-9deb-0a1ec2f0edd0","endDateTime":"2022-08-14T22:49:00Z","key":null,"keyId":"3677fb1f-4751-4944-a569-4fb540b636fd","startDateTime":"2022-05-16T22:49:00Z","type":"AsymmetricX509Cert","usage":"Verify"}],"oauth2PermissionScopes":[],"passwordCredentials":[],"resourceSpecificApplicationPermissions":[]}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1731'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:47 GMT
      location:
      - https://graph.microsoft.com
      odata-version:
      - '4.0'
      request-id:
      - 04a6b42d-f09e-4e23-93da-b18f0ae4fd39
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"West US 2","Slice":"E","Ring":"1","ScaleUnit":"002","RoleInstance":"MWH0EPF00070F96"}}'
      x-ms-resource-unit:
      - '3'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.36.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Azure%20Event%20Hubs%20Data%20Sender%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Azure Event Hubs Data Sender","type":"BuiltInRole","description":"Allows
        send access to Azure Event Hubs resources.","assignableScopes":["/"],"permissions":[{"actions":["Microsoft.EventHub/*/eventhubs/read"],"notActions":[],"dataActions":["Microsoft.EventHub/*/send/action"],"notDataActions":[]}],"createdOn":"2019-05-10T06:26:12.4673714Z","updatedOn":"2021-11-11T20:14:01.4925583Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/2b629674-e913-4c01-ae53-ef4638d8f975","type":"Microsoft.Authorization/roleDefinitions","name":"2b629674-e913-4c01-ae53-ef4638d8f975"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '698'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/2b629674-e913-4c01-ae53-ef4638d8f975",
      "principalId": "6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26", "principalType": "ServicePrincipal"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '270'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.36.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002?api-version=2020-04-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/2b629674-e913-4c01-ae53-ef4638d8f975","principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010","condition":null,"conditionVersion":null,"createdOn":"2022-05-16T23:01:49.0914774Z","updatedOn":"2022-05-16T23:01:49.4508546Z","createdBy":null,"updatedBy":"0417ddc2-87dc-4923-8865-84f5bd13acce","delegatedManagedIdentityResourceId":null,"description":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000002","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000002"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - identity show
      Connection:
      - keep-alive
      ParameterSetName:
      - --id
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-msi/6.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006?api-version=2018-11-30
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006","name":"iot-user-identity000006","type":"Microsoft.ManagedIdentity/userAssignedIdentities","location":"westus2","tags":{},"properties":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec","clientId":"53134324-0c17-4a65-b71a-f9f975c00de9"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=servicePrincipalNames/any(c:c%20eq%20'e37aa72c-e174-45ad-a399-e4af19c152ec')
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#servicePrincipals","value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '92'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:51 GMT
      odata-version:
      - '4.0'
      request-id:
      - b77c640f-6ff0-4c83-afe7-613fd19a7d59
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"West US 2","Slice":"E","Ring":"1","ScaleUnit":"002","RoleInstance":"MWH0EPF00032D56"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"ids": ["e37aa72c-e174-45ad-a399-e4af19c152ec"], "types": ["user", "group",
      "servicePrincipal", "directoryObjectPartnerReference"]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '132'
      Content-Type:
      - application/json
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: POST
    uri: https://graph.microsoft.com/v1.0/directoryObjects/getByIds
  response:
    body:
      string: '{"@odata.context":"https://graph.microsoft.com/v1.0/$metadata#directoryObjects","value":[{"@odata.type":"#microsoft.graph.servicePrincipal","id":"e37aa72c-e174-45ad-a399-e4af19c152ec","deletedDateTime":null,"accountEnabled":true,"alternativeNames":["isExplicit=True","/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006"],"appDisplayName":null,"appDescription":null,"appId":"53134324-0c17-4a65-b71a-f9f975c00de9","applicationTemplateId":null,"appOwnerOrganizationId":null,"appRoleAssignmentRequired":false,"createdDateTime":"2022-05-16T22:54:51Z","description":null,"disabledByMicrosoftStatus":null,"displayName":"iot-user-identity000006","homepage":null,"loginUrl":null,"logoutUrl":null,"notes":null,"notificationEmailAddresses":[],"preferredSingleSignOnMode":null,"preferredTokenSigningKeyThumbprint":null,"replyUrls":[],"servicePrincipalNames":["53134324-0c17-4a65-b71a-f9f975c00de9","https://identity.azure.net/a+84pTZIA8CAdjIAvEEojmkRq99XR/8RIGwmMJJukYU="],"servicePrincipalType":"ManagedIdentity","signInAudience":null,"tags":[],"tokenEncryptionKeyId":null,"info":null,"samlSingleSignOnSettings":null,"verifiedPublisher":{"displayName":null,"verifiedPublisherId":null,"addedDateTime":null},"addIns":[],"appRoles":[],"keyCredentials":[{"customKeyIdentifier":"1DD0E0DC04B867EB869C5579B9DF85CA3AF4EA0D","displayName":"CN=53134324-0c17-4a65-b71a-f9f975c00de9","endDateTime":"2022-08-14T22:49:00Z","key":null,"keyId":"51b4683d-9d30-4622-baf9-429871cc8225","startDateTime":"2022-05-16T22:49:00Z","type":"AsymmetricX509Cert","usage":"Verify"}],"oauth2PermissionScopes":[],"passwordCredentials":[],"resourceSpecificApplicationPermissions":[]}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1757'
      content-type:
      - application/json;odata.metadata=minimal;odata.streaming=true;IEEE754Compatible=false;charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:51 GMT
      location:
      - https://graph.microsoft.com
      odata-version:
      - '4.0'
      request-id:
      - 45a0f522-8f6e-4f66-a3a5-6ad677811b06
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"West US 2","Slice":"E","Ring":"1","ScaleUnit":"002","RoleInstance":"MWH0EPF0005A6AE"}}'
      x-ms-resource-unit:
      - '3'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.36.0
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Azure%20Event%20Hubs%20Data%20Sender%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Azure Event Hubs Data Sender","type":"BuiltInRole","description":"Allows
        send access to Azure Event Hubs resources.","assignableScopes":["/"],"permissions":[{"actions":["Microsoft.EventHub/*/eventhubs/read"],"notActions":[],"dataActions":["Microsoft.EventHub/*/send/action"],"notDataActions":[]}],"createdOn":"2019-05-10T06:26:12.4673714Z","updatedOn":"2021-11-11T20:14:01.4925583Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/2b629674-e913-4c01-ae53-ef4638d8f975","type":"Microsoft.Authorization/roleDefinitions","name":"2b629674-e913-4c01-ae53-ef4638d8f975"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '698'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/2b629674-e913-4c01-ae53-ef4638d8f975",
      "principalId": "e37aa72c-e174-45ad-a399-e4af19c152ec", "principalType": "ServicePrincipal"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '270'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --role --assignee --scope
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) msrest/0.6.21 msrest_azure/0.6.4
        azure-mgmt-authorization/0.61.0 Azure-SDK-For-Python AZURECLI/2.36.0
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003?api-version=2020-04-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/2b629674-e913-4c01-ae53-ef4638d8f975","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010","condition":null,"conditionVersion":null,"createdOn":"2022-05-16T23:01:52.6494205Z","updatedOn":"2022-05-16T23:01:52.9776301Z","createdBy":null,"updatedBy":"0417ddc2-87dc-4923-8865-84f5bd13acce","delegatedManagedIdentityResourceId":null,"description":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000009/eventhubs/eventHubiothubfortest000010/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000003","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000003"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1107'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:01:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:02:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:02:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVUdM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2508'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:02:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVUdM=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"endpointUri":
      "sb://ehNamespaceiothubfortest1000009.servicebus.windows.net", "entityPath":
      "eventHubiothubfortest000010", "authenticationType": "identityBased", "name":
      "EHSystemIdentityEndpoint000004", "subscriptionId": "a386d5ea-ea90-441a-8263-d816368c84a1",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": []}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '1947'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVUdM=''}'
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVUdM=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMGRjOWNjODktOTMyYS00NWQwLWJkMjEtMmNlY2U1Yjc2YzFmO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4558'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:02:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMGRjOWNjODktOTMyYS00NWQwLWJkMjEtMmNlY2U1Yjc2YzFmO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:02:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVWzA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2840'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --identity --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:03:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --identity --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --identity --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVWzA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2840'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVWzA=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "a767f6e0-4ccf-481b-8ef2-6dc9766ecc12",
      "endpointUri": "sb://ehNamespaceiothubfortest1000009.servicebus.windows.net",
      "entityPath": "eventHubiothubfortest000010", "authenticationType": "identityBased",
      "name": "EHSystemIdentityEndpoint000004", "subscriptionId": "a386d5ea-ea90-441a-8263-d816368c84a1",
      "resourceGroup": "clitest.rg000001"}, {"endpointUri": "sb://ehNamespaceiothubfortest1000009.servicebus.windows.net",
      "entityPath": "eventHubiothubfortest000010", "authenticationType": "identityBased",
      "identity": {"userAssignedIdentity": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006"},
      "name": "EHUserIdentityEndpoint000005", "subscriptionId": "a386d5ea-ea90-441a-8263-d816368c84a1",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": []}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '2500'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVWzA=''}'
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --identity --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVWzA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"},{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","identity":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006"},"name":"EHUserIdentityEndpoint000005","id":"ad1910bd-ddcb-41de-9eac-24f329b21eed","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNzBkYjcyNjctYWFjYy00NTNlLWE3ZjYtMzQ2ZmI1MGQ1MWE3O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '5094'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --identity --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNzBkYjcyNjctYWFjYy00NTNlLWE3ZjYtMzQ2ZmI1MGQ1MWE3O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s --auth-type --identity --endpoint-uri --entity-path
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVXZQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"},{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","identity":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006"},"name":"EHUserIdentityEndpoint000005","id":"ad1910bd-ddcb-41de-9eac-24f329b21eed","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3376'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:03:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVXZQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"},{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","identity":{"userAssignedIdentity":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006"},"name":"EHUserIdentityEndpoint000005","id":"ad1910bd-ddcb-41de-9eac-24f329b21eed","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3376'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVXZQ=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "a767f6e0-4ccf-481b-8ef2-6dc9766ecc12",
      "endpointUri": "sb://ehNamespaceiothubfortest1000009.servicebus.windows.net",
      "entityPath": "eventHubiothubfortest000010", "authenticationType": "identityBased",
      "name": "EHSystemIdentityEndpoint000004", "subscriptionId": "a386d5ea-ea90-441a-8263-d816368c84a1",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": []}, "routes": [],
      "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '1993'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVXZQ=''}'
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVXZQ=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZmYxZjljNzctYmIyYy00MDQ0LThjMjktMzdmYTljN2Q5YjFlO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4558'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:03:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZmYxZjljNzctYmIyYy00MDQ0LThjMjktMzdmYTljN2Q5YjFlO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVX84=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2840'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:04:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVX84=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1000009.servicebus.windows.net","entityPath":"eventHubiothubfortest000010","authenticationType":"identityBased","name":"EHSystemIdentityEndpoint000004","id":"a767f6e0-4ccf-481b-8ef2-6dc9766ecc12","subscriptionId":"a386d5ea-ea90-441a-8263-d816368c84a1","resourceGroup":"clitest.rg000001"}],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2840'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVX84=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '1648'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVX84=''}'
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVX84=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTA2MjUxYzQtYjI2Ny00OTViLTkyNjItZDI3NGEwMjllN2U2O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4226'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZTA2MjUxYzQtYjI2Ny00OTViLTkyNjItZDI3NGEwMjllN2U2O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVYoI=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2508'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "properties": {"addressSpace": {"addressPrefixes":
      ["10.0.0.0/16"]}, "dhcpOptions": {}, "subnets": [{"name": "subnet1", "properties":
      {"addressPrefix": "10.0.0.0/24", "privateEndpointNetworkPolicies": "Enabled",
      "privateLinkServiceNetworkPolicies": "Enabled"}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      Content-Length:
      - '299'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g -l --subnet-name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"test-iot-vnet\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet\",\r\n
        \ \"etag\": \"W/\\\"27ef117d-7c71-4022-a4a4-0628b711a814\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus2\",\r\n
        \ \"tags\": {},\r\n  \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n
        \   \"resourceGuid\": \"a87c310c-42f1-46f2-a885-66c603845426\",\r\n    \"addressSpace\":
        {\r\n      \"addressPrefixes\": [\r\n        \"10.0.0.0/16\"\r\n      ]\r\n
        \   },\r\n    \"dhcpOptions\": {\r\n      \"dnsServers\": []\r\n    },\r\n
        \   \"subnets\": [\r\n      {\r\n        \"name\": \"subnet1\",\r\n        \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1\",\r\n
        \       \"etag\": \"W/\\\"27ef117d-7c71-4022-a4a4-0628b711a814\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Updating\",\r\n
        \         \"addressPrefix\": \"10.0.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Enabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/d7833129-839a-4394-a225-3e580015c9db?api-version=2021-05-01
      cache-control:
      - no-cache
      content-length:
      - '1310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 10be3e45-c361-4b28-8a00-bb5393a43153
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --subnet-name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/d7833129-839a-4394-a225-3e580015c9db?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 1690b7fa-efad-428f-b099-f7b2f43947fa
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -l --subnet-name
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"test-iot-vnet\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet\",\r\n
        \ \"etag\": \"W/\\\"b52b9c8b-5460-4fda-8465-d4fd5ef8dce3\\\"\",\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks\",\r\n  \"location\": \"westus2\",\r\n
        \ \"tags\": {},\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"resourceGuid\": \"a87c310c-42f1-46f2-a885-66c603845426\",\r\n    \"addressSpace\":
        {\r\n      \"addressPrefixes\": [\r\n        \"10.0.0.0/16\"\r\n      ]\r\n
        \   },\r\n    \"dhcpOptions\": {\r\n      \"dnsServers\": []\r\n    },\r\n
        \   \"subnets\": [\r\n      {\r\n        \"name\": \"subnet1\",\r\n        \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1\",\r\n
        \       \"etag\": \"W/\\\"b52b9c8b-5460-4fda-8465-d4fd5ef8dce3\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"addressPrefix\": \"10.0.0.0/24\",\r\n          \"delegations\":
        [],\r\n          \"privateEndpointNetworkPolicies\": \"Enabled\",\r\n          \"privateLinkServiceNetworkPolicies\":
        \"Enabled\"\r\n        },\r\n        \"type\": \"Microsoft.Network/virtualNetworks/subnets\"\r\n
        \     }\r\n    ],\r\n    \"virtualNetworkPeerings\": [],\r\n    \"enableDdosProtection\":
        false\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1312'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:57 GMT
      etag:
      - W/"b52b9c8b-5460-4fda-8465-d4fd5ef8dce3"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 90cc063e-cc0e-40c0-b9f5-beb75744c5f4
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet subnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --vnet-name -g --disable-private-endpoint-network-policies
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"subnet1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1\",\r\n
        \ \"etag\": \"W/\\\"b52b9c8b-5460-4fda-8465-d4fd5ef8dce3\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"addressPrefix\": \"10.0.0.0/24\",\r\n
        \   \"delegations\": [],\r\n    \"privateEndpointNetworkPolicies\": \"Enabled\",\r\n
        \   \"privateLinkServiceNetworkPolicies\": \"Enabled\"\r\n  },\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks/subnets\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '535'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:57 GMT
      etag:
      - W/"b52b9c8b-5460-4fda-8465-d4fd5ef8dce3"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 03188fdc-80dc-4781-98a7-8122725ea985
    status:
      code: 200
      message: OK
- request:
    body: '{"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1",
      "name": "subnet1", "type": "Microsoft.Network/virtualNetworks/subnets", "properties":
      {"addressPrefix": "10.0.0.0/24", "delegations": [], "privateEndpointNetworkPolicies":
      "Disabled", "privateLinkServiceNetworkPolicies": "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet subnet update
      Connection:
      - keep-alive
      Content-Length:
      - '400'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --vnet-name -g --disable-private-endpoint-network-policies
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"subnet1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1\",\r\n
        \ \"etag\": \"W/\\\"3611f7e8-8f28-45f4-a88b-07015c45f2a0\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Updating\",\r\n    \"addressPrefix\": \"10.0.0.0/24\",\r\n
        \   \"delegations\": [],\r\n    \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n
        \   \"privateLinkServiceNetworkPolicies\": \"Enabled\"\r\n  },\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks/subnets\"\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/cf48e8e7-a9dc-4711-af7f-79885f636af1?api-version=2021-05-01
      cache-control:
      - no-cache
      content-length:
      - '535'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:04:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f50ae7a5-f2b4-41f9-8b0d-8d98bff1908a
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet subnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --vnet-name -g --disable-private-endpoint-network-policies
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/cf48e8e7-a9dc-4711-af7f-79885f636af1?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 3c145c7d-10e6-4f34-aa1c-bb1531403b1d
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network vnet subnet update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --vnet-name -g --disable-private-endpoint-network-policies
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"subnet1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1\",\r\n
        \ \"etag\": \"W/\\\"be468266-b1d3-4956-a474-53b72c55bee0\\\"\",\r\n  \"properties\":
        {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"addressPrefix\": \"10.0.0.0/24\",\r\n
        \   \"delegations\": [],\r\n    \"privateEndpointNetworkPolicies\": \"Disabled\",\r\n
        \   \"privateLinkServiceNetworkPolicies\": \"Enabled\"\r\n  },\r\n  \"type\":
        \"Microsoft.Network/virtualNetworks/subnets\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '536'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:02 GMT
      etag:
      - W/"be468266-b1d3-4956-a474-53b72c55bee0"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 3fba4ecb-bf5a-4206-af77-13f61d3fad93
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-link-resource list
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n -g
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateLinkResources?api-version=2020-03-01
  response:
    body:
      string: '{"value":[{"properties":{"groupId":"iotHub","requiredMembers":["iotHub","eventHub"],"requiredZoneNames":["privatelink.azure-devices.net","privatelink.servicebus.windows.net"]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateLinkResources/iotHub","name":"iotHub","type":"Microsoft.Devices/IotHubs/PrivateLinkResources"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '427'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:05:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVYoI=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2508'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"subnet": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1",
      "properties": {"privateEndpointNetworkPolicies": "Enabled", "privateLinkServiceNetworkPolicies":
      "Enabled"}}, "privateLinkServiceConnections": [{"name": "iot-private-endpoint-connection",
      "properties": {"privateLinkServiceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003",
      "groupIds": ["iotHub"]}}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '616'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"iot-private-endpoint\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint\",\r\n
        \ \"etag\": \"W/\\\"a61111b5-b08c-4634-925a-76dc76d6797f\\\"\",\r\n  \"type\":
        \"Microsoft.Network/privateEndpoints\",\r\n  \"location\": \"westus2\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Updating\",\r\n    \"resourceGuid\":
        \"135d3fdc-d24d-4563-9b1b-f63cc29d8d59\",\r\n    \"privateLinkServiceConnections\":
        [\r\n      {\r\n        \"name\": \"iot-private-endpoint-connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint/privateLinkServiceConnections/iot-private-endpoint-connection\",\r\n
        \       \"etag\": \"W/\\\"a61111b5-b08c-4634-925a-76dc76d6797f\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"privateLinkServiceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003\",\r\n
        \         \"groupIds\": [\r\n            \"iotHub\"\r\n          ],\r\n          \"privateLinkServiceConnectionState\":
        {\r\n            \"status\": \"Approved\",\r\n            \"description\":
        \"Auto Approved\",\r\n            \"actionsRequired\": \"None\"\r\n          }\r\n
        \       },\r\n        \"type\": \"Microsoft.Network/privateEndpoints/privateLinkServiceConnections\"\r\n
        \     }\r\n    ],\r\n    \"manualPrivateLinkServiceConnections\": [],\r\n
        \   \"customNetworkInterfaceName\": \"\",\r\n    \"subnet\": {\r\n      \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1\"\r\n
        \   },\r\n    \"ipConfigurations\": [],\r\n    \"networkInterfaces\": [\r\n
        \     {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/networkInterfaces/iot-private-endpoint.nic.da0cb3ad-cbfe-48e3-afa7-40d302fbbb39\"\r\n
        \     }\r\n    ],\r\n    \"customDnsConfigs\": []\r\n  }\r\n}"
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/1927b006-1ba2-4a3c-a5bc-6e6abe2b319d?api-version=2021-05-01
      cache-control:
      - no-cache
      content-length:
      - '2061'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 5bfe636c-1722-45b0-8feb-2785de3099e6
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/1927b006-1ba2-4a3c-a5bc-6e6abe2b319d?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - f8a48091-2b26-478e-9ad9-5f7769d90800
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/1927b006-1ba2-4a3c-a5bc-6e6abe2b319d?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 9c5ab52f-38a0-4600-9bfc-afbdc7508516
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/1927b006-1ba2-4a3c-a5bc-6e6abe2b319d?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:05:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 35f9887f-f44a-4a19-a436-bfe8b9535807
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/1927b006-1ba2-4a3c-a5bc-6e6abe2b319d?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:06:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 1915250d-2b5d-428f-833a-6952a977e8f8
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/1927b006-1ba2-4a3c-a5bc-6e6abe2b319d?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"InProgress\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '30'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:06:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 098e8328-c2d8-4e8d-a401-2afe58d4b0f9
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus2/operations/1927b006-1ba2-4a3c-a5bc-6e6abe2b319d?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"status\": \"Succeeded\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '29'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 3d0a99ec-6e17-42cc-a5f9-122bd1aa05af
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --vnet-name --subnet -l --connection-name --private-connection-resource-id
        --group-ids
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-network/19.3.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint?api-version=2021-05-01
  response:
    body:
      string: "{\r\n  \"name\": \"iot-private-endpoint\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint\",\r\n
        \ \"etag\": \"W/\\\"b6674dcc-cc1b-4914-a44c-8eefbfca7d8e\\\"\",\r\n  \"type\":
        \"Microsoft.Network/privateEndpoints\",\r\n  \"location\": \"westus2\",\r\n
        \ \"properties\": {\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"resourceGuid\":
        \"135d3fdc-d24d-4563-9b1b-f63cc29d8d59\",\r\n    \"privateLinkServiceConnections\":
        [\r\n      {\r\n        \"name\": \"iot-private-endpoint-connection\",\r\n
        \       \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint/privateLinkServiceConnections/iot-private-endpoint-connection\",\r\n
        \       \"etag\": \"W/\\\"b6674dcc-cc1b-4914-a44c-8eefbfca7d8e\\\"\",\r\n
        \       \"properties\": {\r\n          \"provisioningState\": \"Succeeded\",\r\n
        \         \"privateLinkServiceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003\",\r\n
        \         \"groupIds\": [\r\n            \"iotHub\"\r\n          ],\r\n          \"privateLinkServiceConnectionState\":
        {\r\n            \"status\": \"Approved\",\r\n            \"description\":
        \"Auto-Approved\",\r\n            \"actionsRequired\": \"None\"\r\n          }\r\n
        \       },\r\n        \"type\": \"Microsoft.Network/privateEndpoints/privateLinkServiceConnections\"\r\n
        \     }\r\n    ],\r\n    \"manualPrivateLinkServiceConnections\": [],\r\n
        \   \"customNetworkInterfaceName\": \"\",\r\n    \"subnet\": {\r\n      \"id\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/test-iot-vnet/subnets/subnet1\"\r\n
        \   },\r\n    \"ipConfigurations\": [],\r\n    \"networkInterfaces\": [\r\n
        \     {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/networkInterfaces/iot-private-endpoint.nic.da0cb3ad-cbfe-48e3-afa7-40d302fbbb39\"\r\n
        \     }\r\n    ],\r\n    \"customDnsConfigs\": [\r\n      {\r\n        \"fqdn\":
        \"identitytesthub000003.azure-devices.net\",\r\n        \"ipAddresses\": [\r\n
        \         \"10.0.0.4\"\r\n        ]\r\n      },\r\n      {\r\n        \"fqdn\":
        \"iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net\",\r\n        \"ipAddresses\":
        [\r\n          \"10.0.0.5\"\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2367'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:28 GMT
      etag:
      - W/"b6674dcc-cc1b-4914-a44c-8eefbfca7d8e"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - b13a5a9b-aa84-4716-b7fd-4d0ac273c494
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:07:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVaUQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3211'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection list
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n -g
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections?api-version=2020-03-01
  response:
    body:
      string: '{"value":[{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '683'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"privateEndpoint": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},
      "privateLinkServiceConnectionState": {"status": "Approved", "description": "Approving
      endpoint connection", "actionsRequired": "None"}}, "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8",
      "name": "identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8", "type":
      "Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      Content-Length:
      - '703'
      Content-Type:
      - application/json
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Approving
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:07:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:08:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:08:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:08:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:08:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:08:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:08:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:09:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:09:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:09:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:09:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:09:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:10:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:10:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:10:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:10:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:10:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:10:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"privateEndpoint": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},
      "privateLinkServiceConnectionState": {"status": "Approved", "description": "Approving
      endpoint connection", "actionsRequired": "None"}}, "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8",
      "name": "identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8", "type":
      "Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      Content-Length:
      - '703'
      Content-Type:
      - application/json
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Approving
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:11:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:12:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:12:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:12:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:12:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:12:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:13:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:13:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:13:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:13:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:13:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:13:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:14:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:14:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:14:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection approve
      Connection:
      - keep-alive
      ParameterSetName:
      - --id --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:14:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Approved","description":"Auto-Approved","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '671'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:14:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"privateEndpoint": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},
      "privateLinkServiceConnectionState": {"status": "Rejected", "description": "Rejecting
      endpoint connection", "actionsRequired": "None"}}, "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8",
      "name": "identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8", "type":
      "Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      Content-Length:
      - '703'
      Content-Type:
      - application/json
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNGI2YTllOTUtMWE1ZS00OThjLTljYjMtMjJkOTRhNjVjNDg1O3JlZ2lvbj13ZXN0dXMy?api-version=2020-03-01&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:14:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:14:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:15:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:15:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:15:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:15:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:15:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:15:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:16:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:16:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:16:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:16:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:16:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:17:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:17:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:17:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:17:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:17:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:17:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection reject
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g --description
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection show
      Connection:
      - keep-alive
      ParameterSetName:
      - --type -n --resource-name -g
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: '{"properties":{"privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/iot-private-endpoint"},"privateLinkServiceConnectionState":{"status":"Rejected","description":"Rejecting
        endpoint connection","actionsRequired":"None"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/PrivateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","name":"identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8","type":"Microsoft.Devices/IotHubs/PrivateEndpointConnections"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '687'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network private-endpoint-connection delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --type -n --resource-name -g -y
      User-Agent:
      - python/3.8.3 (Windows-10-10.0.22000-SP0) AZURECLI/2.36.0
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003/privateEndpointConnections/identitytesthub000003.be78c724-3c60-4400-bc75-a07a3a9af1d8?api-version=2020-03-01
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfODdkMjQwMWUtODdhNC00NDhlLTk2MmItZDFhNGI3YzAxNjJiO3JlZ2lvbj13ZXN0dXMy?api-version=2020-03-01&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:24 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfODdkMjQwMWUtODdhNC00NDhlLTk2MmItZDFhNGI3YzAxNjJiO3JlZ2lvbj13ZXN0dXMy?api-version=2020-03-01&operationSource=other
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:18:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVjk8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2551'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:18:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVjk8=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2551'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:18:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVjo0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2551'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:18:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVjo0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2551'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:18:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:19:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVjo0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2551'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:19:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - --n -g --query
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVj/M=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2540'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:19:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVj/M=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2540'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVj/M=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '2030'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVj/M=''}'
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVj/M=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNjdlODc2MDYtZGVmMy00ZDgxLWIzMmUtMWJkZDk2NGJmYmQ3O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4570'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNjdlODc2MDYtZGVmMy00ZDgxLWIzMmUtMWJkZDk2NGJmYmQ3O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:19:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNjdlODc2MDYtZGVmMy00ZDgxLWIzMmUtMWJkZDk2NGJmYmQ3O3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:20:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVkfc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3088'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:20:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:20:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:20:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVkfc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}},"principalId":"6aef19b4-5a17-4e9f-84b9-5c2f80f7fc26"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3088'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:20:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVkfc=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '2014'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVkfc=''}'
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVkfc=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{}}}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNjc4MGZmZTgtZDc1OC00YjM1LTk1ODgtNDEyYmU3ZTAxYjRlO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4501'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:20:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNjc4MGZmZTgtZDc1OC00YjM1LTk1ODgtNDEyYmU3ZTAxYjRlO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:20:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlI0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}}},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2969'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:20:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:20:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlI0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}}},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2969'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVlI0=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '2030'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVlI0=''}'
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlI0=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{}},"principalId":"273fd8b6-b495-4d7e-b6c3-f32a034812c3"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjhhNDcyMTQtZDk0Mi00YWM5LTg5NzctZWVkMTcxODY0NTNhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4570'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYjhhNDcyMTQtZDk0Mi00YWM5LTg5NzctZWVkMTcxODY0NTNhO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlZc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}},"principalId":"273fd8b6-b495-4d7e-b6c3-f32a034812c3"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3088'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:21:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --system-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlZc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}},"principalId":"273fd8b6-b495-4d7e-b6c3-f32a034812c3"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3088'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVlZc=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '2014'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVlZc=''}'
      ParameterSetName:
      - -n -g --system-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlZc=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{}}}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMTIxZTUwOWEtMjA5Ni00NWY0LWI2ZWEtNzBiMTQ2MzUwZTAzO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4501'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:21:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMTIxZTUwOWEtMjA5Ni00NWY0LWI2ZWEtNzBiMTQ2MzUwZTAzO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlvo=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}}},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2969'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:22:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlvo=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000007":{"clientId":"0095db9c-7f76-4f98-9c2d-83b57fef4f81","principalId":"9c8b7c88-5163-474e-88c1-96d4a24c038d"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}}},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2969'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVlvo=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '1840'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVlvo=''}'
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVlvo=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{}}}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZjkzMjI4MzAtZTUzYy00NmQ1LTk1ZTktOWVjODEwOGJjMjQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4329'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfZjkzMjI4MzAtZTUzYy00NmQ1LTk1ZTktOWVjODEwOGJjMjQwO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVmKg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}}},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2695'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:22:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVmKg=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}}},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2695'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVmKg=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned, UserAssigned", "userAssignedIdentities": {"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":
      {}, "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":
      {}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      Content-Length:
      - '1856'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVmKg=''}'
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVmKg=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{}},"principalId":"54b11b42-47c3-4877-a9c2-50b20c4fcd2a"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmUyZTM5NjMtNjc4Zi00NTQ2LTljZGUtNjY1YTI4MmI5ODgyO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4398'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:22:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfNmUyZTM5NjMtNjc4Zi00NTQ2LTljZGUtNjY1YTI4MmI5ODgyO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:23:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity assign
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVmjQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}},"principalId":"54b11b42-47c3-4877-a9c2-50b20c4fcd2a"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2814'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:23:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:23:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --user-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:23:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVmjQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000006":{"clientId":"53134324-0c17-4a65-b71a-f9f975c00de9","principalId":"e37aa72c-e174-45ad-a399-e4af19c152ec"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identity000008":{"clientId":"4938456f-1b48-4aa0-aabf-1cf8af82ebfd","principalId":"19796b3e-4772-4b38-acc6-c117e3ea26b4"}},"principalId":"54b11b42-47c3-4877-a9c2-50b20c4fcd2a"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2814'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:23:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVmjQ=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "SystemAssigned"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '1466'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVmjQ=''}'
      ParameterSetName:
      - -n -g --user-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVmjQ=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"54b11b42-47c3-4877-a9c2-50b20c4fcd2a"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMzQ5ZWU4YTMtOTIxZC00OTUzLTk0ODAtYmM5Mjg2ZjZhNmExO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4013'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:23:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfMzQ5ZWU4YTMtOTIxZC00OTUzLTk0ODAtYmM5Mjg2ZjZhNmExO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:24:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --user-assigned
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVm20=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"54b11b42-47c3-4877-a9c2-50b20c4fcd2a"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2225'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:24:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 16 May 2022 23:24:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "identitytesthub000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '33'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2021-07-02
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''identitytesthub000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '113'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:24:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVm20=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"54b11b42-47c3-4877-a9c2-50b20c4fcd2a"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2225'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:24:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {}, "etag": "AAAADGiVm20=", "properties":
      {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "privateEndpointConnections":
      [], "eventHubEndpoints": {"events": {"retentionTimeInDays": 1, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": []}, "routes": [], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer", "authenticationType": "identityBased"}},
      "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601": "PT15S",
      "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}, "features": "None"}, "sku": {"name": "S1", "capacity": 1}, "identity":
      {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      Content-Length:
      - '1456'
      Content-Type:
      - application/json
      If-Match:
      - '{''IF-MATCH'': ''AAAADGiVm20=''}'
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVm20=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd-operationmonitoring","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-809324ba-56a1-4ef8-8e4b-1140899d7fa0-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-42034e4a-bb8f-44fb-b53b-eb87fc7b0cfc-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        16 May 2022 22:56:40 GMT","ModifiedTime":"Mon, 16 May 2022 22:56:40 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlCollections":[],"azureDigitalTwinsInstances":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYzk0NDJkN2YtZmZjNC00ODQ3LTg4YzMtNzgxZDI3YmVmMWYxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '3900'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:24:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/aWQ9b3NfaWhfYzk0NDJkN2YtZmZjNC00ODQ3LTg4YzMtNzgxZDI3YmVmMWYxO3JlZ2lvbj13ZXN0dXMy?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:24:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub identity remove
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --system
      User-Agent:
      - AZURECLI/2.36.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/identitytesthub000003","name":"identitytesthub000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000001","etag":"AAAADGiVnSs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthub000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubd2tn6qcxdd","endpoint":"sb://iothub-ns-identityte-19167466-f869322b94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-05-16T22:55:02.1066667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2112'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 May 2022 23:24:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1