interactions:
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.18.4]
      return-client-request-id: ['true']
      x-client-CPU: [x86]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [0.5.0]
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2F83398c96-804e-4d3b-90f6-f96a096c64d5%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body: {string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/83398c96-804e-4d3b-90f6-f96a096c64d5/.well-known/openid-configuration"}'}
    headers:
      access-control-allow-methods: ['GET, OPTIONS']
      access-control-allow-origin: ['*']
      cache-control: [private]
      content-length: ['131']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 29 May 2018 21:34:54 GMT']
      p3p: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      server: [Microsoft-IIS/10.0]
      set-cookie: [esctx=AQABAAAAAADX8GCi6Js6SK82TsD2Pb7rC1aLvAHxIIEBewTFi1lhMDmOOFgXf8c0C8wtctiwdvOp41-1w3uQXpAaOU-lKHB4b1ZRhCPoQU-iBKENESai0euK2ZnCqIOCIllM5bp195Ax-26AP-voQL-b7AXEd9npBKMKwkyp72pR9e2zgYwy20I2Ill-lInQ1uEq_zXoe6ggAA;
          domain=.login.windows.net; path=/; secure; HttpOnly, x-ms-gateway-slice=corp;
          path=/; secure; HttpOnly, stsservicecookie=ests; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [reservations reservation list-history]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.31 azure-mgmt-reservations/0.2.0 Azure-SDK-For-Python AZURECLI/2.0.32]
      accept-language: [en-US]
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/providers/Microsoft.Capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions?api-version=2018-06-01
  response:
    body: {string: '{"value":[{"sku":{"name":"Standard_NC12s_v2"},"id":"/providers/microsoft.capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions/7","type":"Microsoft.Capacity/reservationOrders/reservations/revisions","name":"79001a2a-ec6b-408b-b1bf-d6651cebd057/7e4e7046-6e22-4140-8285-6931d2bf7791/7","etag":7,"location":"westeurope","properties":{"appliedScopeType":"Shared","quantity":2,"provisioningState":"Succeeded","expiryDate":"2019-05-29","displayName":"bigCatTest_NCv2","effectiveDateTime":"2018-05-29T21:29:29.9484494Z","lastUpdatedDateTime":"2018-05-29T21:29:29.9484494Z","reservedResourceType":"VirtualMachines","autoFit":"InstanceFlexibilityOn"}},{"sku":{"name":"Standard_NC12s_v2"},"id":"/providers/microsoft.capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions/6","type":"Microsoft.Capacity/reservationOrders/reservations/revisions","name":"79001a2a-ec6b-408b-b1bf-d6651cebd057/7e4e7046-6e22-4140-8285-6931d2bf7791/6","etag":6,"location":"westeurope","properties":{"appliedScopeType":"Shared","quantity":2,"provisioningState":"ConfirmedBilling","expiryDate":"2019-05-29","displayName":"bigCatTest_NCv2","effectiveDateTime":"2018-05-29T21:28:02.9894409Z","extendedStatusInfo":{"statusCode":"Pending","message":"Your
        payment has been successfully processed. We are finalizing your reservation."},"lastUpdatedDateTime":"2018-05-29T21:29:18.439676Z","reservedResourceType":"VirtualMachines","autoFit":"InstanceFlexibilityOn"}},{"sku":{"name":"Standard_NC12s_v2"},"id":"/providers/microsoft.capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions/5","type":"Microsoft.Capacity/reservationOrders/reservations/revisions","name":"79001a2a-ec6b-408b-b1bf-d6651cebd057/7e4e7046-6e22-4140-8285-6931d2bf7791/5","etag":5,"location":"westeurope","properties":{"appliedScopeType":"Shared","quantity":2,"provisioningState":"PendingBilling","displayName":"bigCatTest_NCv2","effectiveDateTime":"2018-05-29T21:28:02.9894409Z","extendedStatusInfo":{"statusCode":"Pending","message":"Payment
        processing is in progress."},"lastUpdatedDateTime":"2018-05-29T21:29:01.247264Z","reservedResourceType":"VirtualMachines","autoFit":"InstanceFlexibilityOn"}},{"sku":{"name":"Standard_NC12s_v2"},"id":"/providers/microsoft.capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions/4","type":"Microsoft.Capacity/reservationOrders/reservations/revisions","name":"79001a2a-ec6b-408b-b1bf-d6651cebd057/7e4e7046-6e22-4140-8285-6931d2bf7791/4","etag":4,"location":"westeurope","properties":{"appliedScopeType":"Shared","quantity":2,"provisioningState":"ConfirmedCapacity","displayName":"bigCatTest_NCv2","effectiveDateTime":"2018-05-29T21:28:02.9894409Z","lastUpdatedDateTime":"2018-05-29T21:28:32.49476Z","reservedResourceType":"VirtualMachines","autoFit":"InstanceFlexibilityOn"}},{"sku":{"name":"Standard_NC12s_v2"},"id":"/providers/microsoft.capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions/3","type":"Microsoft.Capacity/reservationOrders/reservations/revisions","name":"79001a2a-ec6b-408b-b1bf-d6651cebd057/7e4e7046-6e22-4140-8285-6931d2bf7791/3","etag":3,"location":"westeurope","properties":{"appliedScopeType":"Shared","quantity":2,"provisioningState":"PendingCapacity","displayName":"bigCatTest_NCv2","effectiveDateTime":"2018-05-29T21:28:02.9894409Z","extendedStatusInfo":{"statusCode":"Pending","message":"Reservation
        of capacity is in progress."},"lastUpdatedDateTime":"2018-05-29T21:28:18.1583284Z","reservedResourceType":"VirtualMachines","autoFit":"InstanceFlexibilityOn"}},{"sku":{"name":"Standard_NC12s_v2"},"id":"/providers/microsoft.capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions/2","type":"Microsoft.Capacity/reservationOrders/reservations/revisions","name":"79001a2a-ec6b-408b-b1bf-d6651cebd057/7e4e7046-6e22-4140-8285-6931d2bf7791/2","etag":2,"location":"westeurope","properties":{"appliedScopeType":"Shared","quantity":2,"provisioningState":"Creating","displayName":"bigCatTest_NCv2","effectiveDateTime":"2018-05-29T21:28:02.9894409Z","lastUpdatedDateTime":"2018-05-29T21:28:07.4543754Z","reservedResourceType":"VirtualMachines","autoFit":"InstanceFlexibilityOn"}},{"sku":{"name":"Standard_NC12s_v2"},"id":"/providers/microsoft.capacity/reservationOrders/79001a2a-ec6b-408b-b1bf-d6651cebd057/reservations/7e4e7046-6e22-4140-8285-6931d2bf7791/revisions/1","type":"Microsoft.Capacity/reservationOrders/reservations/revisions","name":"79001a2a-ec6b-408b-b1bf-d6651cebd057/7e4e7046-6e22-4140-8285-6931d2bf7791/1","etag":1,"location":"westeurope","properties":{"appliedScopeType":"Shared","quantity":2,"provisioningState":"Creating","displayName":"bigCatTest_NCv2","effectiveDateTime":"2018-05-29T21:28:02.9894409Z","lastUpdatedDateTime":"2018-05-29T21:28:02.9894409Z","reservedResourceType":"VirtualMachines","autoFit":"InstanceFlexibilityOn"}}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['5153']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 29 May 2018 21:34:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: ['Accept-Encoding,Accept-Encoding']
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
version: 1
