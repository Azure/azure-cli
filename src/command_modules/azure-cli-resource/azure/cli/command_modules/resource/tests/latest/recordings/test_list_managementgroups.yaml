interactions:
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.18.4]
      return-client-request-id: ['true']
      x-client-CPU: [x64]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [0.6.0]
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Fb1af47f1-138c-4ed2-8bba-119041b95450%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body: {string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/b1af47f1-138c-4ed2-8bba-119041b95450/.well-known/openid-configuration"}'}
    headers:
      access-control-allow-methods: ['GET, OPTIONS']
      access-control-allow-origin: ['*']
      cache-control: [private]
      content-length: ['131']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 30 May 2018 21:11:59 GMT']
      p3p: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      server: [Microsoft-IIS/10.0]
      set-cookie: [esctx=AQABAAAAAADX8GCi6Js6SK82TsD2Pb7ryEvvTETNAva6bC8OTJaBkx-hi-NTSr8sZpBpQHGy93rd64FI3lnkfGfgxtOSoTWhX_LxZFxlfRXJ0X7RED6T5kc9rK5_dRXllgV1ub1B6I_x_Tcwz2pfPcLK_e9VKqJ6YrMflT7xQFRffQPFTHmeeY-5UF90lzrK87VhN5-XC7ogAA;
          domain=.login.windows.net; path=/; secure; HttpOnly, x-ms-gateway-slice=corp;
          path=/; secure; HttpOnly, stsservicecookie=ests; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: grant_type=refresh_token&client_id=04b07795-8ddb-461a-bbee-02f9e1bf7b46&resource=https%3A%2F%2Fmanagement.core.windows.net%2F&refresh_token=AQABAAAAAABCw9Q9oa6nQrnwvHeP1w5Oi6bpc-ncjhqWq9y4T1FDoBSeSMMYMXOvyBRTIT4OdekISzLOT0wMvp39LoCgwTy2n3uFa7LmpQPas6LG5zCHaB5QIVlpOEJ4PX_qswvzTD8JCiuoeCPZUpfY36o0ky1Pzx99Phi3wVUiF_GGG0ZsDhqKKg0juR-aawwvA0f1Rs4mDJV-JqoxhgkyrtRxFEGGESV031dDmAYRgmJRkc6LCafNbZBCncAVjhv3tzmu7ShjojQoGldpXBzaERwtDrua0h51V0LwBZIkSvu0L_s7XY5HFyrMtWFRYC0pBO8gEX8WZzZbcI8dN8VYogSJ1Bvpy7Cwsz95tZRh1BrImraeyL_ugPhDtWOSkExMx2EwQeoRRHeJkC_mkuD_bh0EwN0S0ZZce3A_3qCkxx69Padqgsy3syR8L-5Nj-1EAIyDLP5pcAb8m0MIzb8d07BaMJGAB2yLWmZSErZpF4qlH8sYe8VYVE6sn2yx9aSsjIYSMcz7abGyWmRRpTxYid0o4JQViAqwSMRodrlAy4FZ1sBnb4BVaqbu4pPgsT-DgJoudgwVllM27B8LnNgRTYSArIR6jPxFv-bWDco8QRMnzET7jDlwU8LKKeITeWzU6TYESboLd8T7tCvWzNIT83begfG6o1XDtFkFQryhQ4Rg6gfrhX1Y10OdQP0VBFAJZXUkmxF_WA-436FiJjawpYr8jGG4iFW8VHVMQxPAuPNvptZXOCAA
    headers:
      Accept: ['*/*']
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['900']
      User-Agent: [python-requests/2.18.4]
      content-type: [application/x-www-form-urlencoded]
      return-client-request-id: ['true']
      x-client-CPU: [x64]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [0.6.0]
    method: POST
    uri: https://login.windows-ppe.net/b1af47f1-138c-4ed2-8bba-119041b95450/oauth2/token
  response:
    body: {string: '{"token_type":"Bearer","scope":"user_impersonation","expires_in":"3599","ext_expires_in":"262800","expires_on":"1527718320","not_before":"1527714420","resource":"https://management.core.windows.net/","access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6ImtHYzU0TDMxdUFaYTFveVlvYVJTR0NpWUt0ZyIsImtpZCI6ImtHYzU0TDMxdUFaYTFveVlvYVJTR0NpWUt0ZyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLXBwZS5uZXQvYjFhZjQ3ZjEtMTM4Yy00ZWQyLThiYmEtMTE5MDQxYjk1NDUwLyIsImlhdCI6MTUyNzcxNDQyMCwibmJmIjoxNTI3NzE0NDIwLCJleHAiOjE1Mjc3MTgzMjAsImFjciI6IjEiLCJhaW8iOiJBU1FBMi84S0FBQUF1OEFMQWd2ejJlaHBWSlc2VFZVN2RMdndJeTNuUGZaeXh0SHN1ZmZTUlh3PSIsImFsdHNlY2lkIjoiMTpsaXZlLmNvbTowMDAzQkZGRDBBQjAxNEY0IiwiYW1yIjpbInB3ZCJdLCJhcHBpZCI6IjA0YjA3Nzk1LThkZGItNDYxYS1iYmVlLTAyZjllMWJmN2I0NiIsImFwcGlkYWNyIjoiMCIsImVfZXhwIjoyNjI4MDAsImVtYWlsIjoiYmlsbHRlc3QxNTcyODFAbGl2ZS5jb20iLCJmYW1pbHlfbmFtZSI6IjdmN2JkZDZjLTYyMzktNDQ2OS04MDRiLTNlNTcxY2YxMDM1YyIsImdpdmVuX25hbWUiOiI3NTE3ZjNlMC0zZWNlLTQ2ZDYtOTcwMC0wZTE1OTM3YzFlZmQiLCJncm91cHMiOlsiMWI0NDRkMzUtMzdlNy00YWFkLThiZjItMDM0ZGMxZDliY2Y3Il0sImlkcCI6ImxpdmUuY29tIiwiaXBhZGRyIjoiMTY3LjIyMC4wLjE2NSIsIm5hbWUiOiI3NTE3ZjNlMC0zZWNlLTQ2ZDYtOTcwMC0wZTE1OTM3YzFlZmQgN2Y3YmRkNmMtNjIzOS00NDY5LTgwNGItM2U1NzFjZjEwMzVjIiwib2lkIjoiODIzOTY5ZTItZjhjMS00YWRkLTg1MjYtNjI1NDRlMmY5NmIyIiwicHVpZCI6IjEwMDMwMDAwQTYxNDY1NTkiLCJzY3AiOiJ1c2VyX2ltcGVyc29uYXRpb24iLCJzdWIiOiI2ZG0zcWk3SUl0aWhhVnJRZURFbUh5WVBuUmpuVjhSNVdvajAxRTE3djY0IiwidGlkIjoiYjFhZjQ3ZjEtMTM4Yy00ZWQyLThiYmEtMTE5MDQxYjk1NDUwIiwidW5pcXVlX25hbWUiOiJsaXZlLmNvbSNiaWxsdGVzdDE1NzI4MUBsaXZlLmNvbSIsInV0aSI6IkJvMUlZM3lQbUVlTFJBeHhKbjBDQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbIjYyZTkwMzk0LTY5ZjUtNDIzNy05MTkwLTAxMjE3NzE0NWUxMCJdfQ.TI8iteB-CD0Rn5ZKeZuz7EBsAm3VswqQmA_0gkfjezLT-HFS1zLZyGk546MMoSdnOADytF5YMPaaVph-Qe0uBDNSCGic7iRrxMfd1IJIz78JzKRQaguuGjN5kWzFCE8IlAM0iXbFIuCzjfK7vS0oa7Qo6VldSkqGjH_UcHXmHishKNGLBEAGrne-NiNLmvvn-TKxtPw3h4oH_K-tUURvF3wzKKjjRDrvx-hBnDK-tqNh7nbcpE6SJxDQbgo06ZwspuNpq59Q-ErtHJdvlDzIx3homNMBJLznEKruXH1jRAxeEL4VH2Mc1fsEvtIKi4eLpOYO1F3C8SCZpAiNGGE0YA"}'}
    headers:
      cache-control: ['no-cache, no-store']
      content-length: ['2064']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 30 May 2018 21:12:00 GMT']
      expires: ['-1']
      p3p: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [stsservicecookie=estsppe; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-clitelem: ['1,0,0,10524904.2308,']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [account management-group list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.2 (Windows-10-10.0.17134-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.31 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.34]
      accept-language: [en-US]
    method: POST
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management/register?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management","namespace":"Microsoft.Management","authorization":{"applicationId":"f2c304cf-8e7e-4c3f-8164-16299ad9d272","roleDefinitionId":"c1cf3708-588a-4647-be7f-f400bbe214cf"},"resourceTypes":[{"resourceType":"resources","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"]},{"resourceType":"managementGroups","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"]},{"resourceType":"getEntities","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"]},{"resourceType":"startTenantBackfill","locations":[],"apiVersions":["2018-03-01-preview"]},{"resourceType":"tenantBackfillStatus","locations":[],"apiVersions":["2018-03-01-preview"]}],"registrationState":"Registered"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1300']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 30 May 2018 21:12:03 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.18.4]
      return-client-request-id: ['true']
      x-client-CPU: [x64]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [0.6.0]
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Fb1af47f1-138c-4ed2-8bba-119041b95450%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body: {string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/b1af47f1-138c-4ed2-8bba-119041b95450/.well-known/openid-configuration"}'}
    headers:
      access-control-allow-methods: ['GET, OPTIONS']
      access-control-allow-origin: ['*']
      cache-control: [private]
      content-length: ['131']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 30 May 2018 21:12:14 GMT']
      p3p: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      server: [Microsoft-IIS/10.0]
      set-cookie: [esctx=AQABAAAAAADX8GCi6Js6SK82TsD2Pb7rrgOBbDU_YDjY-04kK81Kp9gCzKZcKXXqdnSyHhHaoyB1Aqql054fCPrpqNi67MtX0CzQEjAhjrxHGEWk6b-B0YBSfVpyVvXwA_k4oKSW5-TDXh2aOVqEQMIWVAXq5qD4b7NbqhiUsaVVma83sHO0KsR_p5UsU6ZttPrxtTSNsMcgAA;
          domain=.login.windows.net; path=/; secure; HttpOnly, x-ms-gateway-slice=corp;
          path=/; secure; HttpOnly, stsservicecookie=ests; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [account management-group list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.2 (Windows-10-10.0.17134-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.31 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.34]
      accept-language: [en-US]
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Management","namespace":"Microsoft.Management","authorization":{"applicationId":"f2c304cf-8e7e-4c3f-8164-16299ad9d272","roleDefinitionId":"c1cf3708-588a-4647-be7f-f400bbe214cf"},"resourceTypes":[{"resourceType":"resources","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"]},{"resourceType":"managementGroups","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview","2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"]},{"resourceType":"getEntities","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview"]},{"resourceType":"checkNameAvailability","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview"]},{"resourceType":"operationResults","locations":[],"apiVersions":["2018-03-01-preview","2018-01-01-preview"]},{"resourceType":"operations","locations":[],"apiVersions":["2017-11-01-preview","2017-08-31-preview","2017-06-30-preview","2017-05-31-preview"]},{"resourceType":"startTenantBackfill","locations":[],"apiVersions":["2018-03-01-preview"]},{"resourceType":"tenantBackfillStatus","locations":[],"apiVersions":["2018-03-01-preview"]}],"registrationState":"Registered"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1300']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 30 May 2018 21:12:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.18.4]
      return-client-request-id: ['true']
      x-client-CPU: [x64]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [0.6.0]
    method: GET
    uri: https://login.windows.net/common/discovery/instance?authorization_endpoint=https%3A%2F%2Flogin.windows-ppe.net%2Fb1af47f1-138c-4ed2-8bba-119041b95450%2Foauth2%2Fauthorize&api-version=1.0
  response:
    body: {string: '{"tenant_discovery_endpoint":"https://login.windows-ppe.net/b1af47f1-138c-4ed2-8bba-119041b95450/.well-known/openid-configuration"}'}
    headers:
      access-control-allow-methods: ['GET, OPTIONS']
      access-control-allow-origin: ['*']
      cache-control: [private]
      content-length: ['131']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 30 May 2018 21:12:15 GMT']
      p3p: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      server: [Microsoft-IIS/10.0]
      set-cookie: [esctx=AQABAAAAAADX8GCi6Js6SK82TsD2Pb7ri2zwkIjVu9N_SmvvdjcfIf2DlDR8HBt2e7oEiLYLeVddu76vZ__QtVuyeUG-HRRzGvzZ0J_b886vEJKCrnZp2AS5JkAx8SdIravMKhhlNGrWg6d_t2zkNa3veXZuV_zRGzGzIF9FtOo8luL4sdeXOl6YJelhe9v9TCS_9LvQ57cgAA;
          domain=.login.windows.net; path=/; secure; HttpOnly, x-ms-gateway-slice=corp;
          path=/; secure; HttpOnly, stsservicecookie=ests; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Cache-Control: [no-cache]
      CommandName: [account management-group list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.2 (Windows-10-10.0.17134-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.31 azure-mgmt-managementgroups/2018-03-01-preview Azure-SDK-For-Python
          AZURECLI/2.0.34]
      accept-language: [en-US]
    method: GET
    uri: https://api-dogfood.resources.windows-int.net/providers/Microsoft.Management/managementGroups?api-version=2018-03-01-preview
  response:
    body: {string: '{"value":[{"id":"/providers/Microsoft.Management/managementGroups/b1af47f1-138c-4ed2-8bba-119041b95450","type":"/providers/Microsoft.Management/managementGroups","name":"b1af47f1-138c-4ed2-8bba-119041b95450","properties":{"tenantId":"b1af47f1-138c-4ed2-8bba-119041b95450","displayName":"b1af47f1-138c-4ed2-8bba-119041b95450"}},{"id":"/providers/Microsoft.Management/managementGroups/TestGroup1","type":"/providers/Microsoft.Management/managementGroups","name":"TestGroup1","properties":{"tenantId":"b1af47f1-138c-4ed2-8bba-119041b95450","displayName":"TestGroup1"}},{"id":"/providers/Microsoft.Management/managementGroups/TestGroup1Child1","type":"/providers/Microsoft.Management/managementGroups","name":"TestGroup1Child1","properties":{"tenantId":"b1af47f1-138c-4ed2-8bba-119041b95450","displayName":"TestGroup1->Child1"}},{"id":"/providers/Microsoft.Management/managementGroups/TestGroup1Child1Child1","type":"/providers/Microsoft.Management/managementGroups","name":"TestGroup1Child1Child1","properties":{"tenantId":"b1af47f1-138c-4ed2-8bba-119041b95450","displayName":"TestGroup1->Child1->Child1"}}],"@nextLink":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1122']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 30 May 2018 21:12:18 GMT']
      expires: ['-1']
      pragma: [no-cache]
      request-id: [07094ebe-9246-4d93-8daf-9ce353791a66]
      server: [Microsoft-IIS/8.5]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: ['Accept-Encoding,Accept-Encoding']
      x-aspnet-version: [4.0.30319]
      x-ba-restapi: [1.0.3.804]
      x-content-type-options: [nosniff]
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
version: 1
