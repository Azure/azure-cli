interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - redis list
      Connection:
      - keep-alive
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-mgmt-redis/13.1.0 Python/3.9.9 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Cache/redis?api-version=2021-06-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/prn-rg/providers/Microsoft.Cache/Redis/prn-sdkfjdsf","location":"West
        US 2","name":"prn-sdkfjdsf","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"776","maxfragmentationmemory-reserved":"300","maxmemory-policy":"volatile-ttl","total-obuf-hardlimit-perc":"92","aof-backup-enabled":"true","rdb-backup-enabled":"false","maxmemory-delta":"776","aof-storage-connection-string-0":"DefaultEndpointsProtocol=https;BlobEndpoint=https://cliredisvmnyg4w27h52nanr.blob.core.windows.net/;AccountName=cliredisvmnyg4w27h52nanr;AccountKey=[key
        hidden]","aof-storage-connection-string-1":"DefaultEndpointsProtocol=https;BlobEndpoint=https://prnteststorage.blob.core.windows.net/;AccountName=prnteststorage;AccountKey=[key
        hidden]","preferred-data-persistence-auth-method":"sas"},"accessKeys":null,"hostName":"prn-sdkfjdsf.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]},"identity":{"type":"SystemAssigned","principalId":"4baeac34-6c3a-4a2d-8ae1-74ba35524e80","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisob4ghxtitrltqxohxvqqaqsqcnlgkx3tee6tgjhjenoazopzufe3nkmyl3m7z/providers/Microsoft.Cache/Redis/cliredisjjz7o77hpromvqfn","location":"West
        US 2","name":"cliredisjjz7o77hpromvqfn","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredisjjz7o77hpromvqfn.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisgmuryj72kz5lpxtdhgpauupctsep3i2mahqpv62km3wiyvuhtl7he7xdmb4ln/providers/Microsoft.Cache/Redis/cliredisfjzooeuga5vkdcy2","location":"West
        US 2","name":"cliredisfjzooeuga5vkdcy2","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Basic","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"256","maxmemory-reserved":"2","maxfragmentationmemory-reserved":"12","maxmemory-delta":"2"},"accessKeys":null,"hostName":"cliredisfjzooeuga5vkdcy2.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisdpokdhktozwg5eek5twmwd623krcck4kayuoyujnzap63s2bdyzlppirdb2ab/providers/Microsoft.Cache/Redis/cliredispe67t3fiz6335qs3","location":"West
        US 2","name":"cliredispe67t3fiz6335qs3","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredispe67t3fiz6335qs3.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis35h5lpd24qjwrbe7zrui3yw4kgaclzhgd5eirm6xsdwfplzbpljv5ij6zlx2c/providers/Microsoft.Cache/Redis/cliredis6bajnvw677tpycq3","location":"West
        US 2","name":"cliredis6bajnvw677tpycq3","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredis6bajnvw677tpycq3.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis2og74trcsvl2q6af7ioonpqcabaetdwrpi3tski7bjnjzfxxkmbnigfd76sxz/providers/Microsoft.Cache/Redis/cliredisv3icrryj3u3vedyh","location":"West
        US 2","name":"cliredisv3icrryj3u3vedyh","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredisv3icrryj3u3vedyh.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_rediscgoe4tcriefyt3smydzeeoajd6rn6zr4vxdkj332vdfcsuqjqbuhshmwsfmva/providers/Microsoft.Cache/Redis/cliredisikqnbl7qrn76llyr","location":"West
        US 2","name":"cliredisikqnbl7qrn76llyr","type":"Microsoft.Cache/Redis","tags":{"test":"tryingzones"},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"zone":"1","shardId":0,"isMaster":false,"isPrimary":false},{"sslPort":15001,"zone":"2","shardId":0,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredisikqnbl7qrn76llyr.redis.cache.windows.net","port":6379,"sslPort":6380,"replicasPerMaster":1,"linkedServers":[],"replicasPerPrimary":1},"zones":["1","2"]},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redispo4jyc7klxjnmoxufqll3fgik7oifvou5xqjfmuow6olvs5f6mdvizkowzwbh/providers/Microsoft.Cache/Redis/cliredis7fgx4kjctopjdr2v","location":"West
        US 2","name":"cliredis7fgx4kjctopjdr2v","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"6.0.14","sku":{"name":"Basic","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"256","maxmemory-reserved":"2","maxfragmentationmemory-reserved":"12","maxmemory-delta":"2"},"accessKeys":null,"hostName":"cliredis7fgx4kjctopjdr2v.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis37cvorjzxmikrlidrreplccjzj3efxhcvtuwne6eicimwdjjscsbbeirvh2ez/providers/Microsoft.Cache/Redis/cliredisfmg2srrlaye33itl","location":"West
        US 2","name":"cliredisfmg2srrlaye33itl","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredisfmg2srrlaye33itl.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisb4o45ubemxpmwctg6gh4baefnwvzoa6ollrc6seonqz4icaxt7qhq4fkr2udu/providers/Microsoft.Cache/Redis/cliredismpkje54nmtoxl5xd","location":"West
        US 2","name":"cliredismpkje54nmtoxl5xd","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Basic","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"256","maxmemory-reserved":"2","maxfragmentationmemory-reserved":"12","maxmemory-delta":"2"},"accessKeys":null,"hostName":"cliredismpkje54nmtoxl5xd.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisylxc6wscpu7irxlraglui57fmuiyg4aj3tl3kmesw5yy7frpinspu4p2mjwbc/providers/Microsoft.Cache/Redis/cliredisix6wzobltb6veddy","location":"West
        US 2","name":"cliredisix6wzobltb6veddy","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredisix6wzobltb6veddy.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis5iji2jb5mesovapa6xi6gxlwf2oneferdrqv5csfpeufycc33pve6i36dsal2/providers/Microsoft.Cache/Redis/cliredisebcxjzmqzvacrht6","location":"West
        US 2","name":"cliredisebcxjzmqzvacrht6","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Basic","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false}],"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","tenantSettings":{"hello":"1"},"redisConfiguration":{"maxclients":"256","maxmemory-reserved":"2","maxfragmentationmemory-reserved":"12","maxmemory-delta":"2"},"accessKeys":null,"hostName":"cliredisebcxjzmqzvacrht6.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis5jdhherhnfrx3isz752bqjotdp3duopemjamwlz35t3ca2ug2hs2c4si57zre/providers/Microsoft.Cache/Redis/cliredisaer4bi26atzui57s","location":"West
        US 2","name":"cliredisaer4bi26atzui57s","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Basic","family":"C","capacity":0},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"256","maxmemory-reserved":"2","maxfragmentationmemory-reserved":"12","maxmemory-delta":"2"},"accessKeys":null,"hostName":"cliredisaer4bi26atzui57s.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]},"identity":{"type":"SystemAssigned,
        UserAssigned","principalId":"4dd9a34c-423b-4da0-93e0-6b37ab048368","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/prn-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/test":{"principalId":"8834a85a-e764-4150-bec5-60ae558026be","clientId":"361b0f99-cdac-4d41-9b5f-7ac5715f4830"},"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/prn-rg/providers/Microsoft.ManagedIdentity/userAssignedIdentities/test2":{"principalId":"72f1542a-823e-4ab8-b890-1b80087fb575","clientId":"f89512d4-fdab-41d2-a02d-52167939d8f4"}}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisghdczx2oavkzmhehvnyz3qyyxriws52rbf54yguupogyp72mswxxfocb3slko/providers/Microsoft.Cache/Redis/cliredislnlzfleprizvo44y","location":"West
        US 2","name":"cliredislnlzfleprizvo44y","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredislnlzfleprizvo44y.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisqezuiq2nr7h2nv2fjvhq4blswr3cxtrcyx4bk7af34kzva4xt2nt4t5amuad6/providers/Microsoft.Cache/Redis/cliredisjxyuvaxoyd5htwzx","location":"West
        US 2","name":"cliredisjxyuvaxoyd5htwzx","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Creating","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredisjxyuvaxoyd5htwzx.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisk3dqc4gvc7wjmbvdcvt4fnkcepestmlpuxoh3nwuugy4mpqcxmend5xpzaoeu/providers/Microsoft.Cache/Redis/cliredis6rt75sa3bkh2qpvw","location":"West
        US 2","name":"cliredis6rt75sa3bkh2qpvw","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Deleting","redisVersion":"4.0.14","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","tenantSettings":{"hello":"1"},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"200","maxfragmentationmemory-reserved":"300","maxmemory-delta":"200"},"accessKeys":null,"hostName":"cliredis6rt75sa3bkh2qpvw.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '15298'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 26 Dec 2021 20:43:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-rp-server-mvid:
      - d4ea5ce3-f7e2-40fb-b84e-6ac2f809a5f4
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - redis list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.30.0 azsdk-python-mgmt-redis/13.1.0 Python/3.9.9 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis000001/providers/Microsoft.Cache/redis?api-version=2021-06-01
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Sun, 26 Dec 2021 20:43:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
