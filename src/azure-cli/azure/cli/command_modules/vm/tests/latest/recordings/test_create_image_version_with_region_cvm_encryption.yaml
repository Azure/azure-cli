interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","date":"2022-09-16T06:03:12Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '317'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:03:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap", "tags": {}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig create
      Connection:
      - keep-alive
      Content-Length:
      - '41'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --gallery-name
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"name\": \"gallery_000003\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003\",\r\n
        \ \"type\": \"Microsoft.Compute/galleries\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"properties\": {\r\n    \"identifier\": {\r\n      \"uniqueName\":
        \"ce37d538-dfa3-49c3-b3cd-149b4b7db48a-GALLERY_2YA5RKLGULWK\"\r\n    },\r\n
        \   \"provisioningState\": \"Creating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/1b0869ed-001f-481f-89ed-5167b27362a4?api-version=2021-10-01
      cache-control:
      - no-cache
      content-length:
      - '442'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:04:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/CreateUpdateGallery3Min;49,Microsoft.Compute/CreateUpdateGallery30Min;298
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/1b0869ed-001f-481f-89ed-5167b27362a4?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:04:05.8371866+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:04:05.9465599+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"name\": \"1b0869ed-001f-481f-89ed-5167b27362a4\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '184'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:04:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1198,Microsoft.Compute/GetOperationStatus30Min;4194
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"name\": \"gallery_000003\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003\",\r\n
        \ \"type\": \"Microsoft.Compute/galleries\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"properties\": {\r\n    \"identifier\": {\r\n      \"uniqueName\":
        \"ce37d538-dfa3-49c3-b3cd-149b4b7db48a-GALLERY_2YA5RKLGULWK\"\r\n    },\r\n
        \   \"provisioningState\": \"Succeeded\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '443'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:04:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetGallery3Min;345,Microsoft.Compute/GetGallery30Min;2490
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-definition create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --os-type -p -f -s --os-state
        --features --hyper-v-generation
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","date":"2022-09-16T06:03:12Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '317'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:04:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap", "tags": {}, "properties": {"osType": "Windows",
      "osState": "Specialized", "hyperVGeneration": "V2", "identifier": {"publisher":
      "publisher1", "offer": "offer1", "sku": "sku1"}, "disallowed": {}, "features":
      [{"name": "SecurityType", "value": "ConfidentialVm"}]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-definition create
      Connection:
      - keep-alive
      Content-Length:
      - '292'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --os-type -p -f -s --os-state
        --features --hyper-v-generation
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"name\": \"image1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1\",\r\n
        \ \"type\": \"Microsoft.Compute/galleries/images\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n
        \   \"architecture\": \"x64\",\r\n    \"features\": [\r\n      {\r\n        \"name\":
        \"SecurityType\",\r\n        \"value\": \"ConfidentialVM\"\r\n      }\r\n
        \   ],\r\n    \"osType\": \"Windows\",\r\n    \"osState\": \"Specialized\",\r\n
        \   \"identifier\": {\r\n      \"publisher\": \"publisher1\",\r\n      \"offer\":
        \"offer1\",\r\n      \"sku\": \"sku1\"\r\n    },\r\n    \"provisioningState\":
        \"Creating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/9ce28e20-5061-419a-82a2-587af335f3c8?api-version=2021-10-01
      cache-control:
      - no-cache
      content-length:
      - '684'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:04:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/CreateUpdateGalleryImage3Min;149,Microsoft.Compute/CreateUpdateGalleryImage30Min;748
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-definition create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --os-type -p -f -s --os-state
        --features --hyper-v-generation
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/9ce28e20-5061-419a-82a2-587af335f3c8?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:04:45.2749268+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:04:45.3687231+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"name\": \"9ce28e20-5061-419a-82a2-587af335f3c8\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '184'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:05:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1196,Microsoft.Compute/GetOperationStatus30Min;4192
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-definition create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --os-type -p -f -s --os-state
        --features --hyper-v-generation
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"name\": \"image1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1\",\r\n
        \ \"type\": \"Microsoft.Compute/galleries/images\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n
        \   \"architecture\": \"x64\",\r\n    \"features\": [\r\n      {\r\n        \"name\":
        \"SecurityType\",\r\n        \"value\": \"ConfidentialVM\"\r\n      }\r\n
        \   ],\r\n    \"osType\": \"Windows\",\r\n    \"osState\": \"Specialized\",\r\n
        \   \"identifier\": {\r\n      \"publisher\": \"publisher1\",\r\n      \"offer\":
        \"offer1\",\r\n      \"sku\": \"sku1\"\r\n    },\r\n    \"provisioningState\":
        \"Succeeded\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:05:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetGalleryImage3Min;596,Microsoft.Compute/GetGalleryImage30Min;2990
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"CentralUSEUAP","tags":{},"systemData":{"createdBy":"v-jingszhang@microsoft.com","createdByType":"User","createdAt":"2022-09-16T06:03:21.545Z","lastModifiedBy":"v-jingszhang@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-09-16T06:03:21.545Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"d99f94f0-719f-4528-a9b1-cba806ef4124","accessPolicies":[{"tenantId":"d99f94f0-719f-4528-a9b1-cba806ef4124","objectId":"9063b2d8-a920-4f77-b901-59a6b61af245","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1013'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:05:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.517.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.1 Python/3.8.9 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vault-000002.vault.azure.net/keys/key-000004/create?api-version=7.3
  response:
    body:
      string: '{"error":{"code":"Unauthorized","message":"AKV10000: Request is missing
        a Bearer or PoP token."}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '97'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:05:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/d99f94f0-719f-4528-a9b1-cba806ef4124",
        resource="https://vault.azure.net"
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.101;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - CentralUSEUAP
      x-ms-keyvault-service-version:
      - 1.9.538.1
      x-powered-by:
      - ASP.NET
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA", "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '47'
      Content-Type:
      - application/json
      User-Agent:
      - azsdk-python-keyvault-keys/4.5.1 Python/3.8.9 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://vault-000002.vault.azure.net/keys/key-000004/create?api-version=7.3
  response:
    body:
      string: '{"key":{"kid":"https://vault-000002.vault.azure.net/keys/key-000004/fd853708168a48cbbac3bc139c597367","kty":"RSA","key_ops":["encrypt","decrypt","sign","verify","wrapKey","unwrapKey"],"n":"x6GoejmWbG4BKyHEPyepsDq4ZiPo7BcsB1AtG0rr2q6fDtD6Y1CDAYYEflSDos0eVy508YMTViLdyjErOBhR8_2iG7IGg2DYcP6Ms3fy9xLM0QH1GdbhOicYlG-3zc_Oa58QYQ9bZANgchnEg4hldSXxL4B-Lr0WZl5a5JZF1TkU8VjiQkJqHT1Um8FPvZSWR9lRqnGIlYcxM553ZeURQMy08QnX1EIoFol3IywV3d4-chOJ1IRR3WO8BEYGtqglmcoAQV1hSISb_QjudTOL0-VkYTJd56r9jjXcwyYU_CdpDuZaJASGCYkUCl-Yv4hYWVyJHnuHcqdwuwgti2_eJQ","e":"AQAB"},"attributes":{"enabled":true,"created":1663308322,"updated":1663308322,"recoveryLevel":"CustomizedRecoverable","recoverableDays":7,"exportable":false}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '696'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:05:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000;includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.101;act_addr_fam=InterNetwork;
      x-ms-keyvault-region:
      - CentralUSEUAP
      x-ms-keyvault-service-version:
      - 1.9.538.1
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --key-url --source-vault
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","date":"2022-09-16T06:03:12Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '317'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:05:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap", "identity": {"type": "SystemAssigned"}, "properties":
      {"activeKey": {"sourceVault": {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002"},
      "keyUrl": "https://vault-000002.vault.azure.net/keys/key-000004/fd853708168a48cbbac3bc139c597367"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      Content-Length:
      - '358'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --key-url --source-vault
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"location\": \"centraluseuap\",\r\n  \"identity\": {\r\n    \"type\":
        \"SystemAssigned\"\r\n  },\r\n  \"properties\": {\r\n    \"activeKey\": {\r\n
        \     \"sourceVault\": {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002\"\r\n
        \     },\r\n      \"keyUrl\": \"https://vault-000002.vault.azure.net/keys/key-000004/fd853708168a48cbbac3bc139c597367\"\r\n
        \   },\r\n    \"provisioningState\": \"Updating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/32f03465-8399-46cf-9e17-3c6c18cf8569?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&api-version=2022-03-02
      cache-control:
      - no-cache
      content-length:
      - '467'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:05:34 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/32f03465-8399-46cf-9e17-3c6c18cf8569?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&monitor=true&api-version=2022-03-02
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/HighCostDiskEncryptionSet3Min;99,Microsoft.Compute/HighCostDiskEncryptionSet30Min;299
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --key-url --source-vault
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/32f03465-8399-46cf-9e17-3c6c18cf8569?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:05:33.9608495+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:05:34.2889787+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"properties\": {\r\n    \"output\": {\"name\":\"des1-000007\",\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\",\"type\":\"Microsoft.Compute/diskEncryptionSets\",\"location\":\"centraluseuap\",\"identity\":{\"type\":\"SystemAssigned\",\"principalId\":\"3f9df716-06f9-41fa-bb06-bb4a6e9db075\",\"tenantId\":\"d99f94f0-719f-4528-a9b1-cba806ef4124\"},\"properties\":{\"activeKey\":{\"sourceVault\":{\"id\":\"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002\"},\"keyUrl\":\"https://vault-000002.vault.azure.net/keys/key-000004/fd853708168a48cbbac3bc139c597367\"},\"encryptionType\":\"EncryptionAtRestWithCustomerKey\",\"provisioningState\":\"Succeeded\"}}\r\n
        \ },\r\n  \"name\": \"32f03465-8399-46cf-9e17-3c6c18cf8569\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '975'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49984,Microsoft.Compute/GetOperation30Min;399950
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --key-url --source-vault
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"name\": \"des1-000007\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\",\r\n
        \ \"type\": \"Microsoft.Compute/diskEncryptionSets\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"identity\": {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\":
        \"3f9df716-06f9-41fa-bb06-bb4a6e9db075\",\r\n    \"tenantId\": \"d99f94f0-719f-4528-a9b1-cba806ef4124\"\r\n
        \ },\r\n  \"properties\": {\r\n    \"activeKey\": {\r\n      \"sourceVault\":
        {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002\"\r\n
        \     },\r\n      \"keyUrl\": \"https://vault-000002.vault.azure.net/keys/key-000004/fd853708168a48cbbac3bc139c597367\"\r\n
        \   },\r\n    \"encryptionType\": \"EncryptionAtRestWithCustomerKey\",\r\n
        \   \"provisioningState\": \"Succeeded\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '875'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;4997,Microsoft.Compute/LowCostGet30Min;39976
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk-encryption-set show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"name\": \"des1-000007\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\",\r\n
        \ \"type\": \"Microsoft.Compute/diskEncryptionSets\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"identity\": {\r\n    \"type\": \"SystemAssigned\",\r\n    \"principalId\":
        \"3f9df716-06f9-41fa-bb06-bb4a6e9db075\",\r\n    \"tenantId\": \"d99f94f0-719f-4528-a9b1-cba806ef4124\"\r\n
        \ },\r\n  \"properties\": {\r\n    \"activeKey\": {\r\n      \"sourceVault\":
        {\r\n        \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002\"\r\n
        \     },\r\n      \"keyUrl\": \"https://vault-000002.vault.azure.net/keys/key-000004/fd853708168a48cbbac3bc139c597367\"\r\n
        \   },\r\n    \"encryptionType\": \"EncryptionAtRestWithCustomerKey\",\r\n
        \   \"provisioningState\": \"Succeeded\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '875'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;4996,Microsoft.Compute/LowCostGet30Min;39975
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceType%20eq%20%27Microsoft.KeyVault%2Fvaults%27&api-version=2015-11-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"centraluseuap","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/cloud-test-kv","name":"cloud-test-kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"CloudTest":"Required","st-User-1622006370":"newTag","st-User-1622013248":"newTag","st-User-1623749858":"newTag","st-User-1624429962":"newTag","st-User-1624474452":"newTag","st-User-1624562278":"newTag","st-User-1624885056":"newTag","st-User-1625045262":"newTag","st-User-1625147041":"newTag","st-User-1625202984":"newTag","st-User-1625511645":"newTag","st-User-1625583645":"newTag","st-User-1625654230":"newTag","st-User-1626097149":"newTag","st-User-1626153281":"newTag","st-User-1626181975":"newTag","st-User-1637579684":"newTag","st-User-1639464064":"newTag","st-User-1640262200":"newTag","st-User-1640603240":"newTag","st-User-1641281833":"newTag","st-User-1641361381":"newTag","st-User-1641379698":"newTag","Test-User-1637733221":"newTag","Test-User-1641404570":"newTag","Test-User-1641465393":"newTag","Test-User-1641555170":"newTag","st-User-1649865280":"newTag","st-User-1650547946":"newTag","st-User-1650606982":"newTag","st-User-1650616030":"newTag","st-User-1653670453":"newTag","st-User-1653672097":"newTag","st-User-1653834285":"newTag","st-User-1654168029":"newTag","st-User-1657640918":"newTag","st-User-1657647424":"newTag","st-User-1658834991":"newTag","st-User-1658834424":"newTag","st-User-1659017095":"newTag","magpie":"emitlogs","st-User-1661459286":"newTag","Test-User-1642086460Test-User-1662562975":"newTagewTag","st-User-1662986470":"newTag"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/demotestkv1","name":"demotestkv1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"unique-id":"2bf64d52-0adc-473e-921f-76d0e2114139"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/test-aus-1","name":"test-aus-1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"CloudTest":"Required"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1630673350","name":"Test-User-1630673350","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1630674426","name":"Test-User-1630674426","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1630674426":"newTag"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1630675800","name":"Test-User-1630675800","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1630676556","name":"Test-User-1630676556","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"CloudTest1":"IncludeTag1"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631022241kv","name":"Test-User-1631022241kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631024153kv","name":"Test-User-1631024153kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631024153kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631024558kv","name":"Test-User-1631024558kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631024558kvtag":"newTag"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631030674kv","name":"Test-User-1631030674kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631030674kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631032264kv","name":"Test-User-1631032264kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631037811kv","name":"Test-User-1631037811kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631037811kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631038614kv","name":"Test-User-1631038614kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631038614kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631047403kv","name":"Test-User-1631047403kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631047403kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631199981","name":"Test-User-1631199981","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631200463","name":"Test-User-1631200463","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631203509","name":"Test-User-1631203509","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631204291kv","name":"Test-User-1631204291kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631204291kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1631794183kv","name":"Test-User-1631794183kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1631794183kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632226711kv","name":"Test-User-1632226711kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632226711kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632230758kv","name":"Test-User-1632230758kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632230758kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632821748kv","name":"Test-User-1632821748kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632821748kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632838663kv","name":"Test-User-1632838663kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632838663kvtag":"","testaad":"true"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632900545kv","name":"Test-User-1632900545kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632900545kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632902937kv","name":"Test-User-1632902937kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632902937kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632904851kv","name":"Test-User-1632904851kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632904851kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632915413kv","name":"Test-User-1632915413kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632915413kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632940128kv","name":"Test-User-1632940128kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632940128kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632940343kv","name":"Test-User-1632940343kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632940343kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632990498kv","name":"Test-User-1632990498kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632990498kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1632999857kv","name":"Test-User-1632999857kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1632999857kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1633017657kv","name":"Test-User-1633017657kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1633017657kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634733285kv","name":"Test-User-1634733285kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634748213kv","name":"Test-User-1634748213kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634807838kv","name":"Test-User-1634807838kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634811698kv","name":"Test-User-1634811698kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634813372kv","name":"Test-User-1634813372kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634832510kv","name":"Test-User-1634832510kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634833562kv","name":"Test-User-1634833562kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634844073kv","name":"Test-User-1634844073kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634846277kv","name":"Test-User-1634846277kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634848905kv","name":"Test-User-1634848905kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1634853259kv","name":"Test-User-1634853259kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635238270kv","name":"Test-User-1635238270kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635241860kv","name":"Test-User-1635241860kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635244439kv","name":"Test-User-1635244439kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635424990kv","name":"Test-User-1635424990kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635426513kv","name":"Test-User-1635426513kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635432837kv","name":"Test-User-1635432837kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635433317kv","name":"Test-User-1635433317kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635851276kv","name":"Test-User-1635851276kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635851618kv","name":"Test-User-1635851618kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1635869975kv","name":"Test-User-1635869975kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637062091kv","name":"Test-User-1637062091kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1637064790kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637081513kv","name":"Test-User-1637081513kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1637081513kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637133984kv","name":"Test-User-1637133984kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1637133984kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637214289kv","name":"Test-User-1637214289kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1637214289kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637214640kv","name":"Test-User-1637214640kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1637214640kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637325193kv","name":"Test-User-1637325193kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1637325193kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637387812kv","name":"Test-User-1637387812kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637575080kv","name":"Test-User-1637575080kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637579684kv","name":"Test-User-1637579684kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637649965kv","name":"Test-User-1637649965kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637658937kv","name":"Test-User-1637658937kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637675754kv","name":"Test-User-1637675754kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1637687346kv","name":"Test-User-1637687346kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1638114849kv","name":"Test-User-1638114849kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1638120601kv","name":"Test-User-1638120601kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1638453842kv","name":"Test-User-1638453842kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1638889504kv","name":"Test-User-1638889504kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1639464064kv","name":"Test-User-1639464064kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662487856kv","name":"Test-User-1662487856kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1662487856kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662488358kv","name":"Test-User-1662488358kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"st-User-1662488358kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662489119kv","name":"Test-User-1662489119kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"st-User-1662489119kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662493734kv","name":"Test-User-1662493734kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662536272kv","name":"Test-User-1662536272kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1662536272kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662562975kv","name":"Test-User-1662562975kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662564150kv","name":"Test-User-1662564150kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1662564150kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662632320kv","name":"Test-User-1662632320kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662633214kv","name":"Test-User-1662633214kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662634899kv","name":"Test-User-1662634899kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662636880kv","name":"Test-User-1662636880kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1662636880kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662899508kv","name":"Test-User-1662899508kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662904966kv","name":"Test-User-1662904966kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662978403kv","name":"Test-User-1662978403kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-test/providers/Microsoft.KeyVault/vaults/Test-User-1662986470kv","name":"Test-User-1662986470kv","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"Test-User-1662986470kvtag":""}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/narai-dt-testing-rg/providers/Microsoft.KeyVault/vaults/naraidttestingkv1","name":"naraidttestingkv1","type":"Microsoft.KeyVault/vaults","location":"westcentralus","tags":{"dttesting":"c54a2b78-8e5c-45a3-8dc5-542241af230c"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samsaha-resources-rg/providers/Microsoft.KeyVault/vaults/dstest001","name":"dstest001","type":"Microsoft.KeyVault/vaults","location":"westcentralus","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/samsaha-resources-rg/providers/Microsoft.KeyVault/vaults/KV01samsahalogzpayg03rc1","name":"KV01samsahalogzpayg03rc1","type":"Microsoft.KeyVault/vaults","location":"eastus","tags":{"sam-test-rc-01":"true"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest/providers/Microsoft.KeyVault/vaults/kv-21stOct","name":"kv-21stOct","type":"Microsoft.KeyVault/vaults","location":"westus2","tags":{}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest/providers/Microsoft.KeyVault/vaults/saurg-kv-1","name":"saurg-kv-1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"TestJavaSDKTag":"true","cli-tag-rule":"true"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest/providers/Microsoft.KeyVault/vaults/saurg-kv-2","name":"saurg-kv-2","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"kv":"two","TestJavaSDKTag2":"true"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest/providers/Microsoft.KeyVault/vaults/saurg-test-vnext-001","name":"saurg-test-vnext-001","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"test":"true"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest/providers/Microsoft.KeyVault/vaults/saurg-test-vnext-005","name":"saurg-test-vnext-005","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"test_ps":"true"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest/providers/Microsoft.KeyVault/vaults/sso-disabled-keyvault-01","name":"sso-disabled-keyvault-01","type":"Microsoft.KeyVault/vaults","location":"westus2","tags":{"sso":"disabled"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest/providers/Microsoft.KeyVault/vaults/sso-enable-keyvault-01","name":"sso-enable-keyvault-01","type":"Microsoft.KeyVault/vaults","location":"westus2","tags":{"sso":"enabled"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/saurgTest3/providers/Microsoft.KeyVault/vaults/test-deployment","name":"test-deployment","type":"Microsoft.KeyVault/vaults","location":"eastus2","tags":{"test":"again"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/svee-test-grp/providers/Microsoft.KeyVault/vaults/svee-test-kv-lz-1","name":"svee-test-kv-lz-1","type":"Microsoft.KeyVault/vaults","location":"eastus2euap","tags":{"svee-test":"svee-test"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '26938'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"CentralUSEUAP","tags":{},"systemData":{"createdBy":"v-jingszhang@microsoft.com","createdByType":"User","createdAt":"2022-09-16T06:03:21.545Z","lastModifiedBy":"v-jingszhang@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-09-16T06:03:21.545Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"d99f94f0-719f-4528-a9b1-cba806ef4124","accessPolicies":[{"tenantId":"d99f94f0-719f-4528-a9b1-cba806ef4124","objectId":"9063b2d8-a920-4f77-b901-59a6b61af245","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1013'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.517.0
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "CentralUSEUAP", "tags": {}, "properties": {"tenantId": "d99f94f0-719f-4528-a9b1-cba806ef4124",
      "sku": {"family": "A", "name": "standard"}, "accessPolicies": [{"tenantId":
      "d99f94f0-719f-4528-a9b1-cba806ef4124", "objectId": "9063b2d8-a920-4f77-b901-59a6b61af245",
      "permissions": {"keys": ["all"], "secrets": ["all"], "certificates": ["all"],
      "storage": ["all"]}}, {"tenantId": "d99f94f0-719f-4528-a9b1-cba806ef4124", "objectId":
      "3f9df716-06f9-41fa-bb06-bb4a6e9db075", "permissions": {"keys": ["get", "wrapKey",
      "unwrapKey"]}}], "vaultUri": "https://vault-000002.vault.azure.net/", "enabledForDeployment":
      false, "enableSoftDelete": true, "softDeleteRetentionInDays": 7, "enablePurgeProtection":
      true, "provisioningState": "Succeeded", "publicNetworkAccess": "Enabled"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault set-policy
      Connection:
      - keep-alive
      Content-Length:
      - '783'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --object-id --key-permissions
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-keyvault/10.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002?api-version=2022-07-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002","name":"vault-000002","type":"Microsoft.KeyVault/vaults","location":"CentralUSEUAP","tags":{},"systemData":{"createdBy":"v-jingszhang@microsoft.com","createdByType":"User","createdAt":"2022-09-16T06:03:21.545Z","lastModifiedBy":"v-jingszhang@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-09-16T06:06:09.777Z"},"properties":{"sku":{"family":"A","name":"standard"},"tenantId":"d99f94f0-719f-4528-a9b1-cba806ef4124","accessPolicies":[{"tenantId":"d99f94f0-719f-4528-a9b1-cba806ef4124","objectId":"9063b2d8-a920-4f77-b901-59a6b61af245","permissions":{"keys":["all"],"secrets":["all"],"certificates":["all"],"storage":["all"]}},{"tenantId":"d99f94f0-719f-4528-a9b1-cba806ef4124","objectId":"3f9df716-06f9-41fa-bb06-bb4a6e9db075","permissions":{"keys":["get","wrapKey","unwrapKey"]}}],"enabledForDeployment":false,"enableSoftDelete":true,"softDeleteRetentionInDays":7,"enablePurgeProtection":true,"vaultUri":"https://vault-000002.vault.azure.net/","provisioningState":"Succeeded","publicNetworkAccess":"Enabled"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1168'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-keyvault-service-version:
      - 1.5.517.0
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --assignee --role --scope
      User-Agent:
      - python/3.8.9 (Windows-10-10.0.22000-SP0) AZURECLI/2.40.0 (PIP)
    method: GET
    uri: https://graph.microsoft.com/v1.0/servicePrincipals?$filter=servicePrincipalNames%2Fany%28c%3Ac%20eq%20%273f9df716-06f9-41fa-bb06-bb4a6e9db075%27%29
  response:
    body:
      string: '{"error":{"code":"Authorization_RequestDenied","message":"Insufficient
        privileges to complete the operation.","innerError":{"date":"2022-09-16T06:06:31","request-id":"03f50073-3e75-4285-a369-9eae4b694acd","client-request-id":"03f50073-3e75-4285-a369-9eae4b694acd"}}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '266'
      content-type:
      - application/json
      date:
      - Fri, 16 Sep 2022 06:06:31 GMT
      request-id:
      - 03f50073-3e75-4285-a369-9eae4b694acd
      strict-transport-security:
      - max-age=31536000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-ms-ags-diagnostic:
      - '{"ServerInfo":{"DataCenter":"Southeast Asia","Slice":"E","Ring":"5","ScaleUnit":"002","RoleInstance":"SG1PEPF00003E65"}}'
      x-ms-resource-unit:
      - '1'
    status:
      code: 403
      message: Forbidden
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --assignee --role --scope
      User-Agent:
      - python/3.8.9 (Windows-10-10.0.22000-SP0) msrest/0.7.1 msrest_azure/0.6.4 azure-mgmt-authorization/0.61.0
        Azure-SDK-For-Python AZURECLI/2.40.0 (PIP)
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002/providers/Microsoft.Authorization/roleDefinitions?$filter=roleName%20eq%20%27Reader%27&api-version=2018-01-01-preview
  response:
    body:
      string: '{"value":[{"properties":{"roleName":"Reader","type":"BuiltInRole","description":"View
        all resources, but does not allow you to make any changes.","assignableScopes":["/"],"permissions":[{"actions":["*/read"],"notActions":[],"dataActions":[],"notDataActions":[]}],"createdOn":"2015-02-02T21:55:09.8806423Z","updatedOn":"2021-11-11T20:13:47.8628684Z","createdBy":null,"updatedBy":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7","type":"Microsoft.Authorization/roleDefinitions","name":"acdd72a7-3385-48ef-bd42-f606fba81ae7"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '627'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"roleDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7",
      "principalId": "3f9df716-06f9-41fa-bb06-bb4a6e9db075"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - role assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '233'
      Content-Type:
      - application/json; charset=utf-8
      Cookie:
      - x-ms-gateway-slice=Production
      ParameterSetName:
      - --assignee --role --scope
      User-Agent:
      - python/3.8.9 (Windows-10-10.0.22000-SP0) msrest/0.7.1 msrest_azure/0.6.4 azure-mgmt-authorization/0.61.0
        Azure-SDK-For-Python AZURECLI/2.40.0 (PIP)
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000001?api-version=2020-04-01-preview
  response:
    body:
      string: '{"properties":{"roleDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/acdd72a7-3385-48ef-bd42-f606fba81ae7","principalId":"3f9df716-06f9-41fa-bb06-bb4a6e9db075","principalType":"ServicePrincipal","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002","condition":null,"conditionVersion":null,"createdOn":"2022-09-16T06:06:32.1870074Z","updatedOn":"2022-09-16T06:06:32.4526326Z","createdBy":null,"updatedBy":"9063b2d8-a920-4f77-b901-59a6b61af245","delegatedManagedIdentityResourceId":null,"description":null},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.KeyVault/vaults/vault-000002/providers/Microsoft.Authorization/roleAssignments/88888888-0000-0000-0000-000000000001","type":"Microsoft.Authorization/roleAssignments","name":"88888888-0000-0000-0000-000000000001"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '985'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      set-cookie:
      - x-ms-gateway-slice=Production; path=/; secure; samesite=none; httponly
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --image-reference --hyper-v-generation --security-type --disk-encryption-set
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","date":"2022-09-16T06:03:12Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '317'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --image-reference --hyper-v-generation --security-type --disk-encryption-set
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/publishers/MicrosoftWindowsServer/artifacttypes/vmimage/offers/WindowsServer/skus/2022-datacenter-smalldisk-g2/versions?$top=1&$orderby=name%20desc&api-version=2022-03-01
  response:
    body:
      string: "[\r\n  {\r\n    \"location\": \"CentralUSEUAP\",\r\n    \"name\": \"20348.1006.220908\",\r\n
        \   \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/CentralUSEUAP/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/WindowsServer/Skus/2022-datacenter-smalldisk-g2/Versions/20348.1006.220908\"\r\n
        \ }\r\n]"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '337'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/ListVMImagesVersionsFromLocation3Min;15999,Microsoft.Compute/ListVMImagesVersionsFromLocation30Min;43998
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --image-reference --hyper-v-generation --security-type --disk-encryption-set
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/publishers/MicrosoftWindowsServer/artifacttypes/vmimage/offers/WindowsServer/skus/2022-datacenter-smalldisk-g2/versions/20348.1006.220908?api-version=2022-03-01
  response:
    body:
      string: "{\r\n  \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n    \"architecture\":
        \"x64\",\r\n    \"replicaType\": \"Managed\",\r\n    \"replicaCount\": 10,\r\n
        \   \"disallowed\": {\r\n      \"vmDiskType\": \"Unmanaged\"\r\n    },\r\n
        \   \"automaticOSUpgradeProperties\": {\r\n      \"automaticOSUpgradeSupported\":
        false\r\n    },\r\n    \"imageDeprecationStatus\": {\r\n      \"imageState\":
        \"Active\"\r\n    },\r\n    \"features\": [\r\n      {\r\n        \"name\":
        \"SecurityType\",\r\n        \"value\": \"TrustedLaunchAndConfidentialVmSupported\"\r\n
        \     },\r\n      {\r\n        \"name\": \"IsAcceleratedNetworkSupported\",\r\n
        \       \"value\": \"True\"\r\n      },\r\n      {\r\n        \"name\": \"DiskControllerTypes\",\r\n
        \       \"value\": \"SCSI\"\r\n      },\r\n      {\r\n        \"name\": \"IsHibernateSupported\",\r\n
        \       \"value\": \"True\"\r\n      }\r\n    ],\r\n    \"osDiskImage\": {\r\n
        \     \"operatingSystem\": \"Windows\",\r\n      \"sizeInGb\": 30\r\n    },\r\n
        \   \"dataDiskImages\": []\r\n  },\r\n  \"location\": \"CentralUSEUAP\",\r\n
        \ \"name\": \"20348.1006.220908\",\r\n  \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/CentralUSEUAP/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/WindowsServer/Skus/2022-datacenter-smalldisk-g2/Versions/20348.1006.220908\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1201'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetVMImageFromLocation3Min;12999,Microsoft.Compute/GetVMImageFromLocation30Min;73997
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap", "tags": {}, "sku": {"name": "Premium_LRS"},
      "properties": {"hyperVGeneration": "V2", "creationData": {"createOption": "FromImage",
      "imageReference": {"id": "/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/CentralUSEUAP/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/WindowsServer/Skus/2022-datacenter-smalldisk-g2/Versions/20348.1006.220908"}},
      "encryption": {"diskEncryptionSetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007"},
      "securityProfile": {"securityType": "ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      Content-Length:
      - '714'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --image-reference --hyper-v-generation --security-type --disk-encryption-set
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"name\": \"disk000005\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\"\r\n  },\r\n
        \ \"properties\": {\r\n    \"hyperVGeneration\": \"V2\",\r\n    \"creationData\":
        {\r\n      \"createOption\": \"FromImage\",\r\n      \"imageReference\": {\r\n
        \       \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/CentralUSEUAP/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/WindowsServer/Skus/2022-datacenter-smalldisk-g2/Versions/20348.1006.220908\"\r\n
        \     }\r\n    },\r\n    \"encryption\": {\r\n      \"diskEncryptionSetId\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \   },\r\n    \"securityProfile\": {\r\n      \"securityType\": \"ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey\"\r\n
        \   },\r\n    \"provisioningState\": \"Updating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/096e53b7-101a-4c79-a0ea-d5a31fe4fe96?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&api-version=2022-03-02
      cache-control:
      - no-cache
      content-length:
      - '1073'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:51 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/096e53b7-101a-4c79-a0ea-d5a31fe4fe96?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&monitor=true&api-version=2022-03-02
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/CreateUpdateDisks3Min;999,Microsoft.Compute/CreateUpdateDisks30Min;7997
      x-ms-ratelimit-remaining-subscription-writes:
      - '1194'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --image-reference --hyper-v-generation --security-type --disk-encryption-set
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/096e53b7-101a-4c79-a0ea-d5a31fe4fe96?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:06:50.7430049+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"096e53b7-101a-4c79-a0ea-d5a31fe4fe96\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:06:54 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49981,Microsoft.Compute/GetOperation30Min;399944
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --image-reference --hyper-v-generation --security-type --disk-encryption-set
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/096e53b7-101a-4c79-a0ea-d5a31fe4fe96?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:06:50.7430049+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:07:01.0556204+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"properties\": {\r\n    \"output\": {\r\n  \"name\": \"disk000005\",\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\",\r\n    \"tier\":
        \"Premium\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V2\",\r\n    \"supportsHibernation\": true,\r\n
        \   \"supportedCapabilities\": {\r\n      \"acceleratedNetwork\": true,\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"FromImage\",\r\n      \"imageReference\": {\r\n        \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/CentralUSEUAP/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/WindowsServer/Skus/2022-datacenter-smalldisk-g2/Versions/20348.1006.220908\"\r\n
        \     }\r\n    },\r\n    \"diskSizeGB\": 30,\r\n    \"diskIOPSReadWrite\":
        120,\r\n    \"diskMBpsReadWrite\": 25,\r\n    \"encryption\": {\r\n      \"type\":
        \"EncryptionAtRestWithCustomerKey\",\r\n      \"diskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CLITEST.RGQTGFM/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \   },\r\n    \"networkAccessPolicy\": \"AllowAll\",\r\n    \"securityProfile\":
        {\r\n      \"securityType\": \"ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2022-09-16T06:06:52.4461263+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 32214351872,\r\n
        \   \"uniqueId\": \"e72bcd8c-a397-4f9c-a877-868c3c57d8b6\",\r\n    \"tier\":
        \"P4\"\r\n  }\r\n}\r\n  },\r\n  \"name\": \"096e53b7-101a-4c79-a0ea-d5a31fe4fe96\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1899'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49981,Microsoft.Compute/GetOperation30Min;399941
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - disk create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --image-reference --hyper-v-generation --security-type --disk-encryption-set
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"name\": \"disk000005\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\",\r\n    \"tier\":
        \"Premium\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V2\",\r\n    \"supportsHibernation\": true,\r\n
        \   \"supportedCapabilities\": {\r\n      \"acceleratedNetwork\": true,\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"FromImage\",\r\n      \"imageReference\": {\r\n        \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/CentralUSEUAP/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/WindowsServer/Skus/2022-datacenter-smalldisk-g2/Versions/20348.1006.220908\"\r\n
        \     }\r\n    },\r\n    \"diskSizeGB\": 30,\r\n    \"diskIOPSReadWrite\":
        120,\r\n    \"diskMBpsReadWrite\": 25,\r\n    \"encryption\": {\r\n      \"type\":
        \"EncryptionAtRestWithCustomerKey\",\r\n      \"diskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CLITEST.RGQTGFM/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \   },\r\n    \"networkAccessPolicy\": \"AllowAll\",\r\n    \"securityProfile\":
        {\r\n      \"securityType\": \"ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2022-09-16T06:06:52.4461263+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 32214351872,\r\n
        \   \"uniqueId\": \"e72bcd8c-a397-4f9c-a877-868c3c57d8b6\",\r\n    \"tier\":
        \"P4\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1674'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;4995,Microsoft.Compute/LowCostGet30Min;39974
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - snapshot create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --source
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/disk000005?api-version=2022-03-02
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.Compute/snapshots/disk000005''
        under resource group ''clitest.rg000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '226'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - snapshot create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --source
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"name\": \"disk000005\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005\",\r\n
        \ \"type\": \"Microsoft.Compute/disks\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Premium_LRS\",\r\n    \"tier\":
        \"Premium\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V2\",\r\n    \"supportsHibernation\": true,\r\n
        \   \"supportedCapabilities\": {\r\n      \"acceleratedNetwork\": true,\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"FromImage\",\r\n      \"imageReference\": {\r\n        \"id\": \"/Subscriptions/00000000-0000-0000-0000-000000000000/Providers/Microsoft.Compute/Locations/CentralUSEUAP/Publishers/MicrosoftWindowsServer/ArtifactTypes/VMImage/Offers/WindowsServer/Skus/2022-datacenter-smalldisk-g2/Versions/20348.1006.220908\"\r\n
        \     }\r\n    },\r\n    \"diskSizeGB\": 30,\r\n    \"diskIOPSReadWrite\":
        120,\r\n    \"diskMBpsReadWrite\": 25,\r\n    \"encryption\": {\r\n      \"type\":
        \"EncryptionAtRestWithCustomerKey\",\r\n      \"diskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CLITEST.RGQTGFM/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \   },\r\n    \"networkAccessPolicy\": \"AllowAll\",\r\n    \"securityProfile\":
        {\r\n      \"securityType\": \"ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2022-09-16T06:06:52.4461263+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 32214351872,\r\n
        \   \"uniqueId\": \"e72bcd8c-a397-4f9c-a877-868c3c57d8b6\",\r\n    \"tier\":
        \"P4\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1674'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;4994,Microsoft.Compute/LowCostGet30Min;39973
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - snapshot create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --source
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","date":"2022-09-16T06:03:12Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '317'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap", "tags": {}, "sku": {"name": "Standard_LRS"},
      "properties": {"hyperVGeneration": "V1", "creationData": {"createOption": "Copy",
      "sourceResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005"}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - snapshot create
      Connection:
      - keep-alive
      Content-Length:
      - '310'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --source
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006\",\r\n
        \ \"type\": \"Microsoft.Compute/snapshots\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Standard_LRS\"\r\n  },\r\n
        \ \"properties\": {\r\n    \"hyperVGeneration\": \"V1\",\r\n    \"creationData\":
        {\r\n      \"createOption\": \"Copy\",\r\n      \"sourceResourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005\"\r\n
        \   },\r\n    \"provisioningState\": \"Updating\"\r\n  }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/455eb533-1d70-4770-98e7-221e4567ca80?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&api-version=2022-03-02
      cache-control:
      - no-cache
      content-length:
      - '595'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:13 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/455eb533-1d70-4770-98e7-221e4567ca80?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&monitor=true&api-version=2022-03-02
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/HighCostSnapshotCreateHydrate3Min;999,Microsoft.Compute/HighCostSnapshotCreateHydrate30Min;7998
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - snapshot create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --source
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/centraluseuap/DiskOperations/455eb533-1d70-4770-98e7-221e4567ca80?p=6ecc2dc0-c07e-41b5-9954-193b6760fdee&api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:13.3056348+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:07:15.4931778+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"properties\": {\r\n    \"output\": {\r\n  \"name\": \"snp000006\",\r\n
        \ \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006\",\r\n
        \ \"type\": \"Microsoft.Compute/snapshots\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Standard_LRS\",\r\n    \"tier\":
        \"Standard\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V1\",\r\n    \"supportsHibernation\": true,\r\n
        \   \"supportedCapabilities\": {\r\n      \"acceleratedNetwork\": true,\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"Copy\",\r\n      \"sourceResourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005\",\r\n
        \     \"sourceUniqueId\": \"e72bcd8c-a397-4f9c-a877-868c3c57d8b6\"\r\n    },\r\n
        \   \"diskSizeGB\": 30,\r\n    \"encryption\": {\r\n      \"type\": \"EncryptionAtRestWithCustomerKey\",\r\n
        \     \"diskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CLITEST.RGQTGFM/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \   },\r\n    \"incremental\": false,\r\n    \"networkAccessPolicy\": \"AllowAll\",\r\n
        \   \"securityProfile\": {\r\n      \"securityType\": \"ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2022-09-16T06:07:13.3837873+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 32214351872,\r\n
        \   \"uniqueId\": \"c7b16b2f-9bb7-431f-be4e-b7e84bf552b7\"\r\n  }\r\n}\r\n
        \ },\r\n  \"name\": \"455eb533-1d70-4770-98e7-221e4567ca80\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1777'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperation3Min;49978,Microsoft.Compute/GetOperation30Min;399938
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - snapshot create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --source
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006?api-version=2022-03-02
  response:
    body:
      string: "{\r\n  \"name\": \"snp000006\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006\",\r\n
        \ \"type\": \"Microsoft.Compute/snapshots\",\r\n  \"location\": \"centraluseuap\",\r\n
        \ \"tags\": {},\r\n  \"sku\": {\r\n    \"name\": \"Standard_LRS\",\r\n    \"tier\":
        \"Standard\"\r\n  },\r\n  \"properties\": {\r\n    \"osType\": \"Windows\",\r\n
        \   \"hyperVGeneration\": \"V1\",\r\n    \"supportsHibernation\": true,\r\n
        \   \"supportedCapabilities\": {\r\n      \"acceleratedNetwork\": true,\r\n
        \     \"architecture\": \"x64\"\r\n    },\r\n    \"creationData\": {\r\n      \"createOption\":
        \"Copy\",\r\n      \"sourceResourceId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/disks/disk000005\",\r\n
        \     \"sourceUniqueId\": \"e72bcd8c-a397-4f9c-a877-868c3c57d8b6\"\r\n    },\r\n
        \   \"diskSizeGB\": 30,\r\n    \"encryption\": {\r\n      \"type\": \"EncryptionAtRestWithCustomerKey\",\r\n
        \     \"diskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/CLITEST.RGQTGFM/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \   },\r\n    \"incremental\": false,\r\n    \"networkAccessPolicy\": \"AllowAll\",\r\n
        \   \"securityProfile\": {\r\n      \"securityType\": \"ConfidentialVM_VMGuestStateOnlyEncryptedWithPlatformKey\"\r\n
        \   },\r\n    \"publicNetworkAccess\": \"Enabled\",\r\n    \"timeCreated\":
        \"2022-09-16T06:07:13.3837873+00:00\",\r\n    \"provisioningState\": \"Succeeded\",\r\n
        \   \"diskState\": \"Unattached\",\r\n    \"diskSizeBytes\": 32214351872,\r\n
        \   \"uniqueId\": \"c7b16b2f-9bb7-431f-be4e-b7e84bf552b7\"\r\n  }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1552'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/LowCostGet3Min;4992,Microsoft.Compute/LowCostGet30Min;39971
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-resource/21.1.0b1 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"centraluseuap","tags":{"product":"azurecli","cause":"automation","date":"2022-09-16T06:03:12Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '317'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "centraluseuap", "tags": {}, "properties": {"publishingProfile":
      {"targetRegions": [{"name": "CentralUSEUAP", "regionalReplicaCount": 1, "encryption":
      {"osDiskImage": {"diskEncryptionSetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007",
      "securityProfile": {"confidentialVMEncryptionType": "EncryptedVMGuestStateOnlyWithPmk"}},
      "dataDiskImages": [{"diskEncryptionSetId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007",
      "lun": 0}]}}], "replicaCount": 1}, "storageProfile": {"osDiskImage": {"source":
      {"id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006"}}}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      Content-Length:
      - '854'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1/versions/1.1.1?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"name\": \"1.1.1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1/versions/1.1.1\",\r\n
        \ \"type\": \"Microsoft.Compute/galleries/images/versions\",\r\n  \"location\":
        \"centraluseuap\",\r\n  \"tags\": {},\r\n  \"properties\": {\r\n    \"publishingProfile\":
        {\r\n      \"targetRegions\": [\r\n        {\r\n          \"name\": \"Central
        US EUAP\",\r\n          \"regionalReplicaCount\": 1,\r\n          \"storageAccountType\":
        \"Standard_LRS\",\r\n          \"encryption\": {\r\n            \"osDiskImage\":
        {\r\n              \"securityProfile\": {\r\n                \"confidentialVMEncryptionType\":
        \"EncryptedVMGuestStateOnlyWithPmk\"\r\n              },\r\n              \"diskEncryptionSetId\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \           },\r\n            \"dataDiskImages\": [\r\n              {\r\n
        \               \"lun\": 0,\r\n                \"diskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \             }\r\n            ]\r\n          }\r\n        }\r\n      ],\r\n
        \     \"replicaCount\": 1,\r\n      \"excludeFromLatest\": false,\r\n      \"publishedDate\":
        \"2022-09-16T06:07:23.0255562+00:00\",\r\n      \"storageAccountType\": \"Standard_LRS\"\r\n
        \   },\r\n    \"storageProfile\": {\r\n      \"osDiskImage\": {\r\n        \"hostCaching\":
        \"ReadWrite\",\r\n        \"source\": {\r\n          \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006\"\r\n
        \       }\r\n      }\r\n    },\r\n    \"provisioningState\": \"Creating\"\r\n
        \ }\r\n}"
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
      cache-control:
      - no-cache
      content-length:
      - '1740'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:07:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/CreateUpdateGalleryImageVersion3Min;374,Microsoft.Compute/CreateUpdateGalleryImageVersion30Min;1199
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '132'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:08:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1199,Microsoft.Compute/GetOperationStatus30Min;4191
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '132'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:09:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1197,Microsoft.Compute/GetOperationStatus30Min;4189
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '132'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:10:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1195,Microsoft.Compute/GetOperationStatus30Min;4187
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '132'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:11:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1195,Microsoft.Compute/GetOperationStatus30Min;4185
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '132'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:12:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1195,Microsoft.Compute/GetOperationStatus30Min;4183
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '132'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:13:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1194,Microsoft.Compute/GetOperationStatus30Min;4181
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '132'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:14:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1195,Microsoft.Compute/GetOperationStatus30Min;4179
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/d4ad62a4-fa61-4618-a7ae-65a04c85890e?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:07:22.86932+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:14:55.0756821+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"name\": \"d4ad62a4-fa61-4618-a7ae-65a04c85890e\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '182'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:15:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1195,Microsoft.Compute/GetOperationStatus30Min;4177
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version --target-regions
        --target-region-encryption --target-region-cvm-encryption --os-snapshot --replica-count
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1/versions/1.1.1?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"name\": \"1.1.1\",\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1/versions/1.1.1\",\r\n
        \ \"type\": \"Microsoft.Compute/galleries/images/versions\",\r\n  \"location\":
        \"centraluseuap\",\r\n  \"tags\": {},\r\n  \"properties\": {\r\n    \"publishingProfile\":
        {\r\n      \"targetRegions\": [\r\n        {\r\n          \"name\": \"Central
        US EUAP\",\r\n          \"regionalReplicaCount\": 1,\r\n          \"storageAccountType\":
        \"Standard_LRS\",\r\n          \"encryption\": {\r\n            \"osDiskImage\":
        {\r\n              \"securityProfile\": {\r\n                \"confidentialVMEncryptionType\":
        \"EncryptedVMGuestStateOnlyWithPmk\"\r\n              },\r\n              \"diskEncryptionSetId\":
        \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \           },\r\n            \"dataDiskImages\": [\r\n              {\r\n
        \               \"lun\": 0,\r\n                \"diskEncryptionSetId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/diskEncryptionSets/des1-000007\"\r\n
        \             }\r\n            ]\r\n          }\r\n        }\r\n      ],\r\n
        \     \"replicaCount\": 1,\r\n      \"excludeFromLatest\": false,\r\n      \"publishedDate\":
        \"2022-09-16T06:07:23.0255562+00:00\",\r\n      \"storageAccountType\": \"Standard_LRS\"\r\n
        \   },\r\n    \"storageProfile\": {\r\n      \"osDiskImage\": {\r\n        \"sizeInGB\":
        30,\r\n        \"hostCaching\": \"ReadWrite\",\r\n        \"source\": {\r\n
        \         \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/snapshots/snp000006\"\r\n
        \       }\r\n      }\r\n    },\r\n    \"provisioningState\": \"Succeeded\"\r\n
        \ }\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1766'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:15:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetGalleryImageVersion3Min;1999,Microsoft.Compute/GetGalleryImageVersion30Min;9997
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1/versions/1.1.1?api-version=2021-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/e452e45a-528b-4780-8e93-a6ea8d832bb1?api-version=2021-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 16 Sep 2022 06:15:34 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/e452e45a-528b-4780-8e93-a6ea8d832bb1?monitor=true&api-version=2021-10-01
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/DeleteGalleryImageVersion3Min;149,Microsoft.Compute/DeleteGalleryImageVersion30Min;999
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/e452e45a-528b-4780-8e93-a6ea8d832bb1?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:15:34.3563588+00:00\",\r\n  \"status\":
        \"InProgress\",\r\n  \"name\": \"e452e45a-528b-4780-8e93-a6ea8d832bb1\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:16:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1195,Microsoft.Compute/GetOperationStatus30Min;4175
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-version delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition --gallery-image-version
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/e452e45a-528b-4780-8e93-a6ea8d832bb1?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:15:34.3563588+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:17:04.6693455+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"name\": \"e452e45a-528b-4780-8e93-a6ea8d832bb1\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '184'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:17:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1195,Microsoft.Compute/GetOperationStatus30Min;4173
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-definition delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003/images/image1?api-version=2021-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/1ab08eb7-670a-4237-90cd-521b62b11242?api-version=2021-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 16 Sep 2022 06:18:39 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/1ab08eb7-670a-4237-90cd-521b62b11242?monitor=true&api-version=2021-10-01
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/DeleteGalleryImage3Min;49,Microsoft.Compute/DeleteGalleryImage30Min;299
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14997'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig image-definition delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name --gallery-image-definition
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/1ab08eb7-670a-4237-90cd-521b62b11242?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:18:39.4038978+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:18:39.5757573+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"name\": \"1ab08eb7-670a-4237-90cd-521b62b11242\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '184'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:19:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1194,Microsoft.Compute/GetOperationStatus30Min;4170
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --gallery-name
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Compute/galleries/gallery_000003?api-version=2021-10-01
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/6f36cbca-36ee-4394-932c-1f37883f5a64?api-version=2021-10-01
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 16 Sep 2022 06:19:13 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/6f36cbca-36ee-4394-932c-1f37883f5a64?monitor=true&api-version=2021-10-01
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/DeleteGallery3Min;49,Microsoft.Compute/DeleteGallery30Min;299
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14996'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - sig delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --gallery-name
      User-Agent:
      - AZURECLI/2.40.0 (PIP) azsdk-python-azure-mgmt-compute/27.1.0 Python/3.8.9
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Compute/locations/CentralUSEUAP/capsOperations/6f36cbca-36ee-4394-932c-1f37883f5a64?api-version=2021-10-01
  response:
    body:
      string: "{\r\n  \"startTime\": \"2022-09-16T06:19:12.6225788+00:00\",\r\n  \"endTime\":
        \"2022-09-16T06:19:13.6382477+00:00\",\r\n  \"status\": \"Succeeded\",\r\n
        \ \"name\": \"6f36cbca-36ee-4394-932c-1f37883f5a64\"\r\n}"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '184'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 16 Sep 2022 06:19:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-resource:
      - Microsoft.Compute/GetOperationStatus3Min;1194,Microsoft.Compute/GetOperationStatus30Min;4168
    status:
      code: 200
      message: OK
version: 1
