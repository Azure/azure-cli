interactions:
- request:
    body: '{"location": "westus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:19:40 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"name": "iot-dps-for-dps-test000003"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['60']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2017-11-15
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:19:40 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:19:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {}, "location": "westus", "sku": {"capacity": 1, "name":
      "S1"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Length: ['78']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfNWFkOWRjYmEtYWY1MS00ZGUzLWEyYjAtZTBiNGU4NDkxMzdm?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['696']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:19:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfNWFkOWRjYmEtYWY1MS00ZGUzLWEyYjAtZTBiNGU4NDkxMzdm?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9dA=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9dA=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:16 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:17 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9dA=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:18 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"properties": {"authorizationPolicies": [{"primaryKey": "efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=",
      "secondaryKey": "j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=", "keyName": "provisioningserviceowner",
      "rights": "ServiceConfig, DeviceConnect, EnrollmentWrite"}, {"keyName": "policy000002",
      "rights": "EnrollmentRead"}], "iotHubs": [], "allocationPolicy": "Hashed"},
      "location": "westus", "sku": {"capacity": 1, "name": "S1"}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['439']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"Hashed","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentRead"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfMGZiNDQ1ZDktMTQ4ZS00NzdiLWFhNGYtOTIzNjQ2NzRkNmJm?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1139']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9ds=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/keys/policy000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentRead"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['182']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:22 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9dw=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:23 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy list]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9dw=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:24 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy show]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/keys/policy000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentRead"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['182']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:25 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9dw=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentRead"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['412']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:27 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9dw=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:28 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"properties": {"authorizationPolicies": [{"primaryKey": "efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=",
      "secondaryKey": "j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=", "keyName": "provisioningserviceowner",
      "rights": "ServiceConfig, DeviceConnect, EnrollmentWrite"}, {"primaryKey": "GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=",
      "secondaryKey": "EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=", "keyName": "policy000002",
      "rights": "EnrollmentWrite"}], "iotHubs": [], "allocationPolicy": "Hashed"},
      "location": "westus", "sku": {"capacity": 1, "name": "S1"}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['566']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"Hashed","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfNzU5OWE3MTUtMWMxZS00MGE4LWI0ZTItYmZjMTdjYjcyNjQw?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['1140']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:30 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9d8=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Transitioning","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['891']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:31 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy update]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/keys/policy000002/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentWrite"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['183']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:32 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9eI=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:33 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000002","primaryKey":"GAjSkzd8q47ARPeDHdywuR4f+2YOfw1J6zxhIKMx3hU=","secondaryKey":"EpETcbv4hFLglebqHFVRhNKWA4KmFeBojVz140T9UdY=","rights":"EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['413']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:33 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9eI=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:34 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"authorizationPolicies": [{"primaryKey": "efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=",
      "secondaryKey": "j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=", "keyName": "provisioningserviceowner",
      "rights": "ServiceConfig, DeviceConnect, EnrollmentWrite"}], "iotHubs": [],
      "allocationPolicy": "Hashed"}, "location": "westus", "sku": {"capacity": 1,
      "name": "S1"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['374']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"Hashed","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfZDVlOTZiZWItMmU0Ni00MDI0LTk1YTgtMWVhYTlhNzMzZWRj?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['956']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"etag":"AAAAAAAG9eg=","name":"iot-dps-for-dps-test000003","location":"westus","properties":{"state":"Active","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"iot-dps-for-dps-test000003.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne000062F0"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003","subscriptionid":"b9ed95d7-5b40-413f-8e72-74721213a06c","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['884']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/listkeys?api-version=2017-11-15
  response:
    body: {string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"efUDPBwCYWB0hwtDOmJXPtio8t9Ls+OXaw1cYol8ShM=","secondaryKey":"j5/LBDSavWXgIkpMURwBAVcksfu+h731GthK/MPO6Ig=","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['229']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:37 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: 'null'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfOGQ2OWQ0OTktMDdhZS00MmNlLWI5MWYtNjgwYjUyNmE2NDZl?api-version=2017-11-15&asyncinfo']
      cache-control: [no-cache]
      content-length: ['4']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:39 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfOGQ2OWQ0OTktMDdhZS00MmNlLWI5MWYtNjgwYjUyNmE2NDZl?api-version=2017-11-15']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfMGZiNDQ1ZDktMTQ4ZS00NzdiLWFhNGYtOTIzNjQ2NzRkNmJm?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:51 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps access-policy create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003?api-version=2017-11-15
  response:
    body: {string: '{"Code":"IotHubNotFound","HttpStatusCode":"NotFound","Message":"IotHub
        ''iot-dps-for-dps-test000003'' not found under ResourceGroup ''clitest.rg000001''
        and Subscription ''b9ed95d7-5b40-413f-8e72-74721213a06c''. If you contact
        a support representative please include this correlation identifier: 8e46a8b1-05fb-4435-8d79-6a2e9b70f56b,
        timestamp: 2017-12-19 02:20:51Z, errorcode: IH404002."}'}
    headers:
      cache-control: [no-cache]
      content-length: ['464']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot dps delete]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 azure-mgmt-provisioningservices/0.1.0 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/iot-dps-for-dps-test000003/operationResults/b3NfaWRfOGQ2OWQ0OTktMDdhZS00MmNlLWI5MWYtNjgwYjUyNmE2NDZl?api-version=2017-11-15&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Tue, 19 Dec 2017 02:20:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.3 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.18
          msrest_azure/0.4.16 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.22]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Tue, 19 Dec 2017 02:20:55 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdLRldDRjU3WVVGT0dFUzdJUzNYVTJCQ01ZNk5CRk5YSDNDNHw0OTc3MTc2QjA0Nzg3QjFELVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 202, message: Accepted}
version: 1
