interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - redis list
      Connection:
      - keep-alive
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-mgmt-redis/14.2.0 Python/3.10.0 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Cache/redis?api-version=2023-04-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisge7u7j2xazv7wmn3alv5senc3ifctg4ssz7hhivhm2bvjdwz65b3ha657tbmu/providers/Microsoft.Cache/Redis/cliredisf4mn6qyvqv4a4j4t","location":"West
        US","name":"cliredisf4mn6qyvqv4a4j4t","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"cliredisf4mn6qyvqv4a4j4t.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisge7u7j2xazv7wmn3alv5senc3ifctg4ssz7hhivhm2bvjdwz65b3ha657tbmu/providers/Microsoft.Cache/Redis/cliredisf4mn6qyvqv4a4j4t/linkedServers/cliredisf4mn6qyvqv4a4j4tsec"}]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testRG-5897/providers/Microsoft.Cache/Redis/RedisBegin8602","location":"East
        US","name":"RedisBegin8602","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"shardId":0,"isMaster":false,"isPrimary":false},{"sslPort":15001,"shardId":0,"isMaster":true,"isPrimary":true},{"sslPort":15002,"shardId":0,"isMaster":false,"isPrimary":false}],"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","redisConfiguration":{"maxmemory-policy":"allkeys-lru","maxmemory-reserved":"642","maxclients":"7500","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"RedisBegin8602.redis.cache.windows.net","port":6379,"sslPort":6380,"replicasPerMaster":2,"linkedServers":[],"replicasPerPrimary":2}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PowerShellTest-7/providers/Microsoft.Cache/Redis/redisteam0072","location":"East
        US","name":"redisteam0072","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":true,"isPrimary":true}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"redisteam0072.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisge7u7j2xazv7wmn3alv5senc3ifctg4ssz7hhivhm2bvjdwz65b3ha657tbmu/providers/Microsoft.Cache/Redis/cliredisf4mn6qyvqv4a4j4tsec","location":"East
        US","name":"cliredisf4mn6qyvqv4a4j4tsec","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"cliredisf4mn6qyvqv4a4j4tsec.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redisge7u7j2xazv7wmn3alv5senc3ifctg4ssz7hhivhm2bvjdwz65b3ha657tbmu/providers/Microsoft.Cache/Redis/cliredisf4mn6qyvqv4a4j4tsec/linkedServers/cliredisf4mn6qyvqv4a4j4t"}]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/testzr","location":"East
        US","name":"testzr","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"zone":"1","shardId":0,"isMaster":true,"isPrimary":true},{"sslPort":15001,"zone":"2","shardId":0,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","tenantSettings":{},"redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642","zonal-configuration":"{\r\n  \"preferredPrimaryZoneId\":
        \"1\",\r\n  \"zoneNodeTopology\": {\r\n    \"1\": [\r\n      \"0\"\r\n    ],\r\n    \"2\":
        [\r\n      \"1\"\r\n    ]\r\n  }\r\n}"},"accessKeys":null,"hostName":"testzr.redis.cache.windows.net","port":6379,"sslPort":6380,"replicasPerMaster":1,"linkedServers":[],"replicasPerPrimary":1},"zones":["1","2"]},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/mi-repro-3","location":"East
        US","name":"mi-repro-3","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","storage-subscription-id":"7c4785eb-d3cf-4349-b811-8d756312d1ff","aof-backup-enabled":"true","rdb-backup-enabled":"false","maxmemory-delta":"642","aof-storage-connection-string-0":"https://eussamirepro.blob.core.windows.net/","aof-storage-connection-string-1":"https://eussamirepro.blob.core.windows.net/","preferred-data-persistence-auth-method":"managedIdentity"},"accessKeys":null,"hostName":"mi-repro-3.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]},"identity":{"type":"SystemAssigned","principalId":"5961cb3a-02b9-45af-8314-10c97d7ac108","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/mi-repro-4","location":"East
        US","name":"mi-repro-4","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","storage-subscription-id":"7c4785eb-d3cf-4349-b811-8d756312d1ff","aof-backup-enabled":"true","rdb-backup-enabled":"false","maxmemory-delta":"642","aof-storage-connection-string-0":"https://eussamirepro.blob.core.windows.net/","aof-storage-connection-string-1":"https://eussamirepro.blob.core.windows.net/","preferred-data-persistence-auth-method":"managedIdentity"},"accessKeys":null,"hostName":"mi-repro-4.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]},"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/aj-tiwari/providers/Microsoft.ManagedIdentity/userAssignedIdentities/aj-ui":{"principalId":"974ed832-2b0a-43f5-8bd9-370249be8299","clientId":"fedc762b-323c-4d6c-a6ff-95074cf8214a"}}}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/mi-repro-5","location":"East
        US","name":"mi-repro-5","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"mi-repro-5.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/mi-repro-6","location":"East
        US","name":"mi-repro-6","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"mi-repro-6.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/mi-repro-10","location":"East
        US","name":"mi-repro-10","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","maxmemory-delta":"642"},"accessKeys":null,"hostName":"mi-repro-10.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/mi-repro","location":"East
        Asia","name":"mi-repro","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":true,"isPrimary":true},{"sslPort":15001,"isMaster":false,"isPrimary":false}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","storage-subscription-id":"7c4785eb-d3cf-4349-b811-8d756312d1ff","aof-backup-enabled":"true","rdb-backup-enabled":"false","rdb-backup-frequency":"15","rdb-backup-max-snapshot-count":"1","maxmemory-delta":"642","rdb-storage-connection-string":"https://samirepro.blob.core.windows.net/","aof-storage-connection-string-0":"https://samirepro.blob.core.windows.net/","aof-storage-connection-string-1":"https://samirepro.blob.core.windows.net/","preferred-data-persistence-auth-method":"managedIdentity"},"accessKeys":null,"hostName":"mi-repro.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]},"identity":{"type":"SystemAssigned","principalId":"e9f0c630-15c7-45b3-af92-f4f9e35a0734","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/aj-tiwari/providers/Microsoft.Cache/Redis/mi-repro-2","location":"East
        Asia","name":"mi-repro-2","type":"Microsoft.Cache/Redis","tags":{},"properties":{"provisioningState":"Succeeded","redisVersion":"6.0","sku":{"name":"Premium","family":"P","capacity":1},"enableNonSslPort":false,"instances":[{"sslPort":15000,"isMaster":false,"isPrimary":false},{"sslPort":15001,"isMaster":true,"isPrimary":true}],"publicNetworkAccess":"Enabled","redisConfiguration":{"maxclients":"7500","maxmemory-reserved":"642","maxfragmentationmemory-reserved":"642","storage-subscription-id":"7c4785eb-d3cf-4349-b811-8d756312d1ff","aof-backup-enabled":"true","rdb-backup-enabled":"false","maxmemory-delta":"642","aof-storage-connection-string-0":"https://samirepro.blob.core.windows.net/","aof-storage-connection-string-1":"https://samirepro.blob.core.windows.net/","preferred-data-persistence-auth-method":"managedIdentity"},"accessKeys":null,"hostName":"mi-repro-2.redis.cache.windows.net","port":6379,"sslPort":6380,"linkedServers":[]},"identity":{"type":"SystemAssigned","principalId":"cd5f1dc9-05a2-4f05-a396-49a344213dfc","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12539'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 Oct 2023 22:50:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - 29759513-fb9b-435a-ad68-824a36b8b24b
      - e6b3234e-4017-4242-ac9b-b94f5e3f565c
      - d05a1753-41df-4abb-97ee-8cafb16df567
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - redis list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-mgmt-redis/14.2.0 Python/3.10.0 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_redis000001/providers/Microsoft.Cache/redis?api-version=2023-04-01
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 16 Oct 2023 22:50:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
