interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_metric_alert_clone000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001","name":"cli_test_metric_alert_clone000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_monitor_clone_public_ip_metric_alerts_scenario","date":"2023-10-20T09:15:02Z","module":"monitor"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"idleTimeoutInMinutes": 4, "publicIPAllocationMethod":
      "Dynamic"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      Content-Length:
      - '104'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1","etag":"W/\"c47dc0d5-24a4-4c40-8f13-9c6034c17c96\"","location":"westus","properties":{"provisioningState":"Updating","resourceGuid":"3778d8c3-7b59-4a6a-af1a-262cac745e28","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/7284148f-aac9-4736-a23d-72e28d9232ca?api-version=2022-11-01
      cache-control:
      - no-cache
      content-length:
      - '536'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - d2d9aab0-4e8e-4057-b37c-fb6cfbf20e16
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/7284148f-aac9-4736-a23d-72e28d9232ca?api-version=2022-11-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 1208b3e0-c9c3-49ee-b658-967e06a1a90f
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1","etag":"W/\"faacab56-6743-486e-a3ee-abf64fb57c88\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"3778d8c3-7b59-4a6a-af1a-262cac745e28","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '537'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:15 GMT
      etag:
      - W/"faacab56-6743-486e-a3ee-abf64fb57c88"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 4b91890a-3555-4a74-b2f2-a3423d81f842
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_metric_alert_clone000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001","name":"cli_test_metric_alert_clone000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","test":"test_monitor_clone_public_ip_metric_alerts_scenario","date":"2023-10-20T09:15:02Z","module":"monitor"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '424'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"idleTimeoutInMinutes": 4, "publicIPAllocationMethod":
      "Dynamic"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      Content-Length:
      - '104'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2","etag":"W/\"85546e33-d73c-4e69-81ab-f2aa1efb7412\"","location":"westus","properties":{"provisioningState":"Updating","resourceGuid":"ad3dea1b-445c-4875-8672-c2f0f6921129","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      azure-asyncnotification:
      - Enabled
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/a6daeff4-f1b9-44a0-a435-84df2c40d0aa?api-version=2022-11-01
      cache-control:
      - no-cache
      content-length:
      - '536'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 8b498965-32a0-4855-8da8-e0b5c77eba0b
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/locations/westus/operations/a6daeff4-f1b9-44a0-a435-84df2c40d0aa?api-version=2022-11-01
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - c3090a3f-30ce-4b13-bd65-f55622bb18ba
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - network public-ip create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2?api-version=2022-11-01
  response:
    body:
      string: '{"name":"ip2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2","etag":"W/\"cba3fe3e-9f37-4ccb-8244-5c6effd87749\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"ad3dea1b-445c-4875-8672-c2f0f6921129","publicIPAddressVersion":"IPv4","publicIPAllocationMethod":"Dynamic","idleTimeoutInMinutes":4,"ipTags":[]},"type":"Microsoft.Network/publicIPAddresses","sku":{"name":"Basic","tier":"Regional"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '537'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:22 GMT
      etag:
      - W/"cba3fe3e-9f37-4ccb-8244-5c6effd87749"
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-arm-service-request-id:
      - 0a78485c-15bc-48d3-a3cd-a9e00e00b12a
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "Global", "properties": {"enabled": true, "groupShortName":
      "ag1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor action-group create
      Connection:
      - keep-alive
      Content-Length:
      - '80'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/actionGroups/ag1?api-version=2022-06-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1","type":"Microsoft.Insights/ActionGroups","name":"ag1","location":"Global","kind":null,"tags":null,"properties":{"groupShortName":"ag1","enabled":true,"emailReceivers":[],"smsReceivers":[],"webhookReceivers":[],"eventHubReceivers":[],"itsmReceivers":[],"azureAppPushReceivers":[],"automationRunbookReceivers":[],"voiceReceivers":[],"logicAppReceivers":[],"azureFunctionReceivers":[],"armRoleReceivers":[]}}'
    headers:
      access-control-expose-headers:
      - x-activityid
      api-supported-versions:
      - 2016-09-01-preview, 2017-03-01-preview, 2017-04-01, 2018-03-01, 2018-09-01,
        2019-03-01, 2019-06-01, 2021-09-01, 2022-04-01, 2022-06-01, 2023-01-01, 2023-03-01-preview,
        2023-05-01-preview, 2023-05-01, 2023-08-01-preview, 2023-09-01-preview
      cache-control:
      - no-cache
      content-length:
      - '560'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-activityid:
      - 32fbd3de-6f29-11ee-ab62-c01803b31d8e
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '24'
      x-servedby:
      - WUS2ONEIM000003
    status:
      code: 201
      message: Created
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1"}],
      "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "dimensions": [], "metricName":
      "TCPBytesForwardedDDoS", "name": "cond0", "operator": "GreaterThan", "threshold":
      5.0, "timeAggregation": "Total"}]}, "description": "Test", "enabled": true,
      "evaluationFrequency": "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor metrics alert create
      Connection:
      - keep-alive
      Content-Length:
      - '825'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --scopes --region --action --description --condition
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n  \"name\": \"alert1\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Total\",\r\n      \
        \    \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n    \
        \  ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1257'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1",
      "webHookProperties": {"ag1key": "ag1value"}}], "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "dimensions": [], "metricName":
      "TCPBytesForwardedDDoS", "name": "cond0", "operator": "GreaterThan", "threshold":
      5.0, "timeAggregation": "Maximum"}]}, "description": "Test2", "enabled": true,
      "evaluationFrequency": "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor metrics alert create
      Connection:
      - keep-alive
      Content-Length:
      - '873'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --scopes --region --action --description --condition
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n  \"name\": \"alert2\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test2\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Maximum\",\r\n    \
        \      \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n  \
        \    ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n        \"webHookProperties\": {\r\n          \"ag1key\": \"ag1value\"\
        \r\n        }\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1336'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Insights/metricAlerts?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"value\": [\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Insights/metricAlerts/alert\"\
        ,\r\n      \"name\": \"alert\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Storage/storageAccounts/liwasg\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"transactions\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ResponseType\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"Success\"\r\n\
        \                  ]\r\n                },\r\n                {\r\n      \
        \            \"name\": \"ApiName\",\r\n                  \"operator\": \"\
        Include\",\r\n                  \"values\": [\r\n                    \"GetBlob\"\
        \r\n                  ]\r\n                }\r\n              ],\r\n     \
        \         \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            },\r\n            {\r\n              \"threshold\": 250.0,\r\
        \n              \"name\": \"cond1\",\r\n              \"metricName\": \"SuccessE2ELatency\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ApiName\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"GetBlob\"\r\n\
        \                  ]\r\n                }\r\n              ],\r\n        \
        \      \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Average\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ },\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Insights/metricAlerts/cloned-liwasg1-9fbbc17f-649d-4308-96eb-8e1090fa2ede\"\
        ,\r\n      \"name\": \"cloned-liwasg1-9fbbc17f-649d-4308-96eb-8e1090fa2ede\"\
        ,\r\n      \"type\": \"Microsoft.Insights/metricAlerts\",\r\n      \"location\"\
        : \"global\",\r\n      \"properties\": {\r\n        \"description\": \"Test\"\
        ,\r\n        \"severity\": 2,\r\n        \"enabled\": true,\r\n        \"\
        scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/Microsoft.Storage/storageAccounts/liwasg1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"transactions\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ResponseType\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"Success\"\r\n\
        \                  ]\r\n                },\r\n                {\r\n      \
        \            \"name\": \"ApiName\",\r\n                  \"operator\": \"\
        Include\",\r\n                  \"values\": [\r\n                    \"GetBlob\"\
        \r\n                  ]\r\n                }\r\n              ],\r\n     \
        \         \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            },\r\n            {\r\n              \"threshold\": 250.0,\r\
        \n              \"name\": \"cond1\",\r\n              \"metricName\": \"SuccessE2ELatency\"\
        ,\r\n              \"dimensions\": [\r\n                {\r\n            \
        \      \"name\": \"ApiName\",\r\n                  \"operator\": \"Include\"\
        ,\r\n                  \"values\": [\r\n                    \"GetBlob\"\r\n\
        \                  ]\r\n                }\r\n              ],\r\n        \
        \      \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Average\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/liwaRg/providers/microsoft.insights/actionGroups/cloned-ag1-13869aa8-d83c-4228-b348-eda625febeeb\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ },\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n      \"name\": \"alert1\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"id\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n      \"name\": \"alert2\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test2\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Maximum\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ }\r\n  ]\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '7846'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n  \"name\": \"alert1\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Total\",\r\n      \
        \    \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n    \
        \  ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1257'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1"}],
      "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Total"}]}, "description": "Test", "enabled": true, "evaluationFrequency": "PT1M",
      "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1",
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '961'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1?api-version=2018-03-01
  response:
    body:
      string: '{"code":"BadRequest","message":"Scopes property is invalid. Only single
        resource is allowed for criteria type SingleResourceMultipleMetricCriteria.
        If you want to create an alert on multiple resources, use MultipleResourceMultipleMetricCriteria
        odata.type. Activity ID: f4c448d9-a31e-42b4-9854-ebbc302df04c."}'
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:15:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 400
      message: BadRequest
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1"}],
      "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Total"}]}, "description": "Test", "enabled": true, "evaluationFrequency": "PT1M",
      "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '807'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000001?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000001\"\
        ,\r\n  \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000001\",\r\n\
        \  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n  \"location\": \"global\"\
        ,\r\n  \"properties\": {\r\n    \"description\": \"Test\",\r\n    \"severity\"\
        : 2,\r\n    \"enabled\": true,\r\n    \"scopes\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Total\",\r\n      \
        \    \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n    \
        \  ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1339'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:16:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n  \"name\": \"alert2\",\r\n  \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n  \"location\": \"global\",\r\n  \"properties\": {\r\n    \"description\"\
        : \"Test2\",\r\n    \"severity\": 2,\r\n    \"enabled\": true,\r\n    \"scopes\"\
        : [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Maximum\",\r\n    \
        \      \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n  \
        \    ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n        \"webHookProperties\": {\r\n          \"ag1key\": \"ag1value\"\
        \r\n        }\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1336'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:16:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1",
      "webHookProperties": {"ag1key": "ag1value"}}], "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Maximum"}]}, "description": "Test2", "enabled": true, "evaluationFrequency":
      "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1",
      "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '1009'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2?api-version=2018-03-01
  response:
    body:
      string: '{"code":"BadRequest","message":"Scopes property is invalid. Only single
        resource is allowed for criteria type SingleResourceMultipleMetricCriteria.
        If you want to create an alert on multiple resources, use MultipleResourceMultipleMetricCriteria
        odata.type. Activity ID: 927e0a8a-b3b1-42a9-bd91-4b211afc0431."}'
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '309'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:16:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '299'
      x-powered-by:
      - ASP.NET
    status:
      code: 400
      message: BadRequest
- request:
    body: '{"location": "global", "properties": {"actions": [{"actionGroupId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1",
      "webHookProperties": {"ag1key": "ag1value"}}], "criteria": {"odata.type": "Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria",
      "allOf": [{"criterionType": "StaticThresholdCriterion", "metricName": "TCPBytesForwardedDDoS",
      "name": "cond0", "operator": "GreaterThan", "threshold": 5.0, "timeAggregation":
      "Maximum"}]}, "description": "Test2", "enabled": true, "evaluationFrequency":
      "PT1M", "scopes": ["/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2"],
      "severity": 2, "targetResourceRegion": "westus", "windowSize": "PT5M"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor clone
      Connection:
      - keep-alive
      Content-Length:
      - '855'
      Content-Type:
      - application/json
      ParameterSetName:
      - --source-resource --target-resource
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000002?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000002\"\
        ,\r\n  \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000002\",\r\n\
        \  \"type\": \"Microsoft.Insights/metricAlerts\",\r\n  \"location\": \"global\"\
        ,\r\n  \"properties\": {\r\n    \"description\": \"Test2\",\r\n    \"severity\"\
        : 2,\r\n    \"enabled\": true,\r\n    \"scopes\": [\r\n      \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n    ],\r\n    \"evaluationFrequency\": \"PT1M\",\r\n    \"windowSize\"\
        : \"PT5M\",\r\n    \"criteria\": {\r\n      \"allOf\": [\r\n        {\r\n\
        \          \"threshold\": 5.0,\r\n          \"name\": \"cond0\",\r\n     \
        \     \"metricName\": \"TCPBytesForwardedDDoS\",\r\n          \"operator\"\
        : \"GreaterThan\",\r\n          \"timeAggregation\": \"Maximum\",\r\n    \
        \      \"criterionType\": \"StaticThresholdCriterion\"\r\n        }\r\n  \
        \    ],\r\n      \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n    },\r\n    \"targetResourceRegion\": \"westus\",\r\n    \"actions\"\
        : [\r\n      {\r\n        \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n        \"webHookProperties\": {\r\n          \"ag1key\": \"ag1value\"\
        \r\n        }\r\n      }\r\n    ]\r\n  }\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '1418'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:16:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '298'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor action-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -o
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/actionGroups?api-version=2022-06-01
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1","type":"Microsoft.Insights/ActionGroups","name":"ag1","location":"Global","kind":null,"tags":null,"properties":{"groupShortName":"ag1","enabled":true,"emailReceivers":[],"smsReceivers":[],"webhookReceivers":[],"eventHubReceivers":[],"itsmReceivers":[],"azureAppPushReceivers":[],"automationRunbookReceivers":[],"voiceReceivers":[],"logicAppReceivers":[],"azureFunctionReceivers":[],"armRoleReceivers":[]}}]}'
    headers:
      access-control-expose-headers:
      - x-activityid
      api-supported-versions:
      - 2016-09-01-preview, 2017-03-01-preview, 2017-04-01, 2018-03-01, 2018-09-01,
        2019-03-01, 2019-06-01, 2021-09-01, 2022-04-01, 2022-06-01, 2023-01-01, 2023-03-01-preview,
        2023-05-01-preview, 2023-05-01, 2023-08-01-preview, 2023-09-01-preview
      cache-control:
      - no-cache
      content-length:
      - '572'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:16:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-activityid:
      - 673c9c05-6f29-11ee-99bf-c01803b31d8e
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '249'
      x-servedby:
      - WUS2ONEIM000008
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - monitor metrics alert list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -o
      User-Agent:
      - AZURECLI/2.53.0 (AAZ) azsdk-python-core/1.26.0 Python/3.10.11 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts?api-version=2018-03-01
  response:
    body:
      string: "{\r\n  \"value\": [\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert1\"\
        ,\r\n      \"name\": \"alert1\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"id\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/alert2\"\
        ,\r\n      \"name\": \"alert2\",\r\n      \"type\": \"Microsoft.Insights/metricAlerts\"\
        ,\r\n      \"location\": \"global\",\r\n      \"properties\": {\r\n      \
        \  \"description\": \"Test2\",\r\n        \"severity\": 2,\r\n        \"enabled\"\
        : true,\r\n        \"scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip1\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Maximum\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ },\r\n    {\r\n      \"id\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000001\"\
        ,\r\n      \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000001\",\r\
        \n      \"type\": \"Microsoft.Insights/metricAlerts\",\r\n      \"location\"\
        : \"global\",\r\n      \"properties\": {\r\n        \"description\": \"Test\"\
        ,\r\n        \"severity\": 2,\r\n        \"enabled\": true,\r\n        \"\
        scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Total\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        \r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      \"id\"\
        : \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Insights/metricAlerts/cloned-ip2-88888888-0000-0000-0000-000000000002\"\
        ,\r\n      \"name\": \"cloned-ip2-88888888-0000-0000-0000-000000000002\",\r\
        \n      \"type\": \"Microsoft.Insights/metricAlerts\",\r\n      \"location\"\
        : \"global\",\r\n      \"properties\": {\r\n        \"description\": \"Test2\"\
        ,\r\n        \"severity\": 2,\r\n        \"enabled\": true,\r\n        \"\
        scopes\": [\r\n          \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/Microsoft.Network/publicIPAddresses/ip2\"\
        \r\n        ],\r\n        \"evaluationFrequency\": \"PT1M\",\r\n        \"\
        windowSize\": \"PT5M\",\r\n        \"criteria\": {\r\n          \"allOf\"\
        : [\r\n            {\r\n              \"threshold\": 5.0,\r\n            \
        \  \"name\": \"cond0\",\r\n              \"metricName\": \"TCPBytesForwardedDDoS\"\
        ,\r\n              \"operator\": \"GreaterThan\",\r\n              \"timeAggregation\"\
        : \"Maximum\",\r\n              \"criterionType\": \"StaticThresholdCriterion\"\
        \r\n            }\r\n          ],\r\n          \"odata.type\": \"Microsoft.Azure.Monitor.SingleResourceMultipleMetricCriteria\"\
        \r\n        },\r\n        \"targetResourceRegion\": \"westus\",\r\n      \
        \  \"actions\": [\r\n          {\r\n            \"actionGroupId\": \"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_metric_alert_clone000001/providers/microsoft.insights/actionGroups/ag1\"\
        ,\r\n            \"webHookProperties\": {\r\n              \"ag1key\": \"\
        ag1value\"\r\n            }\r\n          }\r\n        ]\r\n      }\r\n   \
        \ }\r\n  ]\r\n}"
    headers:
      api-supported-versions:
      - 2017-09-01-preview, 2018-03-01
      arr-disable-session-affinity:
      - 'true'
      cache-control:
      - no-cache
      content-length:
      - '5968'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 20 Oct 2023 09:16:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-IIS/10.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding,Accept-Encoding
      x-aspnet-version:
      - 4.0.30319
      x-content-type-options:
      - nosniff
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
version: 1
