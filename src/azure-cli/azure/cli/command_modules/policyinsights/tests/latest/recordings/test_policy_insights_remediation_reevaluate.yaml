interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --policy -g -n --location --assign-identity -p
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/5ffd78d9-436d-4b41-a421-5baa819e3008?api-version=2021-06-01
  response:
    body:
      string: '{"error":{"code":"PolicyDefinitionNotFound","message":"The policy definition
        ''5ffd78d9-436d-4b41-a421-5baa819e3008'' could not be found."}}'
    headers:
      cache-control:
      - no-store, no-cache
      content-length:
      - '138'
      content-type:
      - application/json
      date:
      - Tue, 26 Apr 2022 20:46:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment create
      Connection:
      - keep-alive
      ParameterSetName:
      - --policy -g -n --location --assign-identity -p
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/providers/Microsoft.Authorization/policyDefinitions/5ffd78d9-436d-4b41-a421-5baa819e3008?api-version=2021-06-01
  response:
    body:
      string: '{"properties":{"displayName":"Add or replace a tag on resources","policyType":"BuiltIn","mode":"Indexed","description":"Adds
        or replaces the specified tag and value when any resource is created or updated.
        Existing resources can be remediated by triggering a remediation task. Does
        not modify tags on resource groups.","metadata":{"version":"1.0.0","category":"Tags"},"parameters":{"tagName":{"type":"String","metadata":{"displayName":"Tag
        Name","description":"Name of the tag, such as ''environment''"}},"tagValue":{"type":"String","metadata":{"displayName":"Tag
        Value","description":"Value of the tag, such as ''production''"}}},"policyRule":{"if":{"field":"[concat(''tags['',
        parameters(''tagName''), '']'')]","notEquals":"[parameters(''tagValue'')]"},"then":{"effect":"modify","details":{"roleDefinitionIds":["/providers/microsoft.authorization/roleDefinitions/b24988ac-6180-42a0-ab88-20f7382dd24c"],"operations":[{"operation":"addOrReplace","field":"[concat(''tags['',
        parameters(''tagName''), '']'')]","value":"[parameters(''tagValue'')]"}]}}}},"id":"/providers/Microsoft.Authorization/policyDefinitions/5ffd78d9-436d-4b41-a421-5baa819e3008","type":"Microsoft.Authorization/policyDefinitions","name":"5ffd78d9-436d-4b41-a421-5baa819e3008"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1225'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "identity": {"type": "SystemAssigned"}, "properties":
      {"policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/5ffd78d9-436d-4b41-a421-5baa819e3008",
      "parameters": {"tagName": {"value": "cliTagKey"}, "tagValue": {"value": "cliTagValue"}},
      "enforcementMode": "Default"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy assignment create
      Connection:
      - keep-alive
      Content-Length:
      - '312'
      Content-Type:
      - application/json
      ParameterSetName:
      - --policy -g -n --location --assign-identity -p
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.Authorization/policyAssignments/azurecli-test-policy-assignment000003?api-version=2021-06-01
  response:
    body:
      string: '{"identity":{"principalId":"532ac60a-ed31-4621-b23b-a33329cd20e0","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/5ffd78d9-436d-4b41-a421-5baa819e3008","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001","parameters":{"tagName":{"value":"cliTagKey"},"tagValue":{"value":"cliTagValue"}},"metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-26T20:46:44.4605371Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.Authorization/policyAssignments/azurecli-test-policy-assignment000003","type":"Microsoft.Authorization/policyAssignments","name":"azurecli-test-policy-assignment000003","location":"westus","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-26T20:46:43.9520743Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-26T20:46:43.9520743Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1169'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g -a --resource-discovery-mode
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments?api-version=2021-06-01
  response:
    body:
      string: '{"value":[{"identity":{"principalId":"ebc588d6-4429-483e-af4a-d2d89940dd7e","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Audit
        tag at MG 2","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/03ae6c12-b46a-43f1-9f3d-c20620473106","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"description":"","metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-08-08T10:26:15.6690062Z","updatedBy":"2c4638e2-9343-4565-be89-cbdad9762f57","updatedOn":"2021-08-08T18:51:37.9684125Z"},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/110d81d8036643edbccb7f66","type":"Microsoft.Authorization/policyAssignments","name":"110d81d8036643edbccb7f66","location":"eastasia","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-08-08T10:26:15.6405478Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-08-08T18:51:33.4186957Z"}},{"identity":{"principalId":"a2cc83c7-16d0-41d6-9773-6762ecd00ba1","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Audit
        tag at MG Test 09-20","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/03ae6c12-b46a-43f1-9f3d-c20620473106","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"description":"","metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-20T15:14:01.2362735Z","updatedBy":"2c4638e2-9343-4565-be89-cbdad9762f57","updatedOn":"2021-09-22T15:34:16.8448224Z"},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/3f093a9fc7864a518a646b92","type":"Microsoft.Authorization/policyAssignments","name":"3f093a9fc7864a518a646b92","location":"centralus","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-20T15:14:01.2152245Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-22T15:34:15.87583Z"}},{"properties":{"displayName":"Azure
        Security Benchmark","policyDefinitionId":"/providers/Microsoft.Authorization/policySetDefinitions/1f3afdf9-d0c9-4c3d-847f-89da613e70a8","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Namrata
        Jagasia","parameterScopes":{},"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2021-06-09T18:37:24.8849783Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/47df6bf13f7b4875978cd86c","type":"Microsoft.Authorization/policyAssignments","name":"47df6bf13f7b4875978cd86c"},{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/meghanag/providers/Microsoft.ManagedIdentity/userAssignedIdentities/managedidentity2":{"principalId":"faa7de31-5e82-4507-a75f-702d6f3e35d1","clientId":"a3b39c10-bd6e-47d3-9f39-378b5f119359"}}},"properties":{"displayName":"Add
        a tag to resources Test 09-20-2","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/4f9dc7db-30c1-420c-b61a-e1d640128d26","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{"tagName":{"value":"env"},"tagValue":{"value":"local"}},"description":"","metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-20T15:14:34.8261224Z","updatedBy":"2c4638e2-9343-4565-be89-cbdad9762f57","updatedOn":"2021-09-22T20:33:33.8546961Z"},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/56840c10e3674f1fbbdf2303","type":"Microsoft.Authorization/policyAssignments","name":"56840c10e3674f1fbbdf2303","location":"westus2","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-20T15:14:33.6560942Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-22T20:33:32.8689078Z"}},{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/meghanag/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id2":{"principalId":"34fa352b-5654-4f36-b401-c8db69fcd33f","clientId":"c81a4cc6-d827-4eb0-80f2-64bd27e0f956"}}},"properties":{"displayName":"Audit
        tag at MG Test 09-23","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/03ae6c12-b46a-43f1-9f3d-c20620473106","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"description":"","metadata":{"parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-23T23:36:24.1507583Z","updatedBy":"2c4638e2-9343-4565-be89-cbdad9762f57","updatedOn":"2021-09-23T23:42:30.9558749Z"},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/573a4fa6d45f41599dea326f","type":"Microsoft.Authorization/policyAssignments","name":"573a4fa6d45f41599dea326f","location":"centralus","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-23T23:36:24.1244971Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-23T23:42:29.234863Z"}},{"identity":{"principalId":"a6098c4c-4755-443f-b10a-fa2b5084efe2","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"[DINE
        Partial PUT 2] Deploy Azure Policy Add-on to Azure Kubernetes Service clusters","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/b78d91c1-4ece-4c52-bed5-61fb81444194","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Noah
        Reisch","parameterScopes":{},"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2022-01-20T17:04:01.5432145Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/57af0842ef434ff28dc4c201","type":"Microsoft.Authorization/policyAssignments","name":"57af0842ef434ff28dc4c201","location":"eastus","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2022-01-20T17:03:59.9121325Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-01-20T17:03:59.9121325Z"}},{"properties":{"displayName":"There
        should be more than one owner assigned to your subscription","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/09024ccc-0c5f-475e-9457-b7c0d9ed487b","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Namrata
        Jagasia","parameterScopes":{},"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2021-06-09T22:38:26.2314286Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/66c3e11f410a41bf812746c9","type":"Microsoft.Authorization/policyAssignments","name":"66c3e11f410a41bf812746c9"},{"identity":{"principalId":"d2b894a4-9527-41d2-8d61-9407255684e7","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Add
        a tag to resources Test 09-23","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/4f9dc7db-30c1-420c-b61a-e1d640128d26","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{"tagName":{"value":"env"},"tagValue":{"value":"local"}},"metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-23T23:35:33.9420933Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/67e2e2a1c60344f49379c80a","type":"Microsoft.Authorization/policyAssignments","name":"67e2e2a1c60344f49379c80a","location":"eastus2","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-23T23:35:32.9789018Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-23T23:35:32.9789018Z"}},{"identity":{"principalId":"5a5241f7-6036-4d95-b2b9-7d303de62698","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Add
        a tag to resources Test 09-20","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/4f9dc7db-30c1-420c-b61a-e1d640128d26","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{"tagName":{"value":"env"},"tagValue":{"value":"local"}},"metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-20T15:13:44.2089862Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/795da12bd6344c2281f3cc33","type":"Microsoft.Authorization/policyAssignments","name":"795da12bd6344c2281f3cc33","location":"eastus","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-20T15:13:42.8896515Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-20T15:13:42.8896515Z"}},{"properties":{"policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policySetDefinitions/azurecli-test-policy-setaebfmhmil6lninkv","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-26T20:36:37.9231905Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/azurecli-test-policy-assignment5s2sycsre","type":"Microsoft.Authorization/policyAssignments","name":"azurecli-test-policy-assignment5s2sycsre","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-26T20:36:37.8715131Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-26T20:36:37.8715131Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/06a78e20-9358-41c9-923c-fb736d382a4d","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-12T21:24:40.6368744Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/azurecli-test-policy-assignmentu6oo6ea3t","type":"Microsoft.Authorization/policyAssignments","name":"azurecli-test-policy-assignmentu6oo6ea3t","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-12T21:24:40.4097221Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-12T21:24:40.4097221Z"}},{"identity":{"principalId":"24bd3160-8bf5-4e48-9d39-da18c583e71c","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Audit
        tag at MG Test 09-20-2","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/03ae6c12-b46a-43f1-9f3d-c20620473106","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-20T15:30:56.2525996Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/d789452a93e04c288b3e0380","type":"Microsoft.Authorization/policyAssignments","name":"d789452a93e04c288b3e0380","location":"eastus2","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-20T15:30:55.3519828Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-20T15:30:55.3519828Z"}},{"properties":{"displayName":"Audit
        resource location matches resource group location","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/0a914e76-4921-4c19-b460-a2d36003525a","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Namrata
        Jagasia","parameterScopes":{},"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2021-06-09T19:20:27.9084702Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/df0e2d7a85a141808e8b5412","type":"Microsoft.Authorization/policyAssignments","name":"df0e2d7a85a141808e8b5412"},{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/meghanag/providers/Microsoft.ManagedIdentity/userAssignedIdentities/id1":{"principalId":"74a502df-c4a2-450d-9ea2-a549e701cdf5","clientId":"4d63292d-8699-4032-8742-dc2154f4d757"}}},"properties":{"displayName":"Add
        a tag to resources Test 9-24","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/4f9dc7db-30c1-420c-b61a-e1d640128d26","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{"tagName":{"value":"env"},"tagValue":{"value":"local"}},"description":"","metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-24T18:16:29.7493796Z","updatedBy":"2c4638e2-9343-4565-be89-cbdad9762f57","updatedOn":"2021-09-24T18:18:22.866605Z"},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/e8635cdc2a56464dbfe0c123","type":"Microsoft.Authorization/policyAssignments","name":"e8635cdc2a56464dbfe0c123","location":"eastus2","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-24T18:16:28.8190938Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-24T18:18:21.5556301Z"}},{"identity":{"type":"UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/meghanag/providers/Microsoft.ManagedIdentity/userAssignedIdentities/managedidentity2":{"principalId":"faa7de31-5e82-4507-a75f-702d6f3e35d1","clientId":"a3b39c10-bd6e-47d3-9f39-378b5f119359"}}},"properties":{"displayName":"Add
        a tag to resources Test 09-20-5","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/4f9dc7db-30c1-420c-b61a-e1d640128d26","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{"tagName":{"value":"env"},"tagValue":{"value":"local"}},"metadata":{"assignedBy":"Meghana
        Gupta","parameterScopes":{},"createdBy":"2c4638e2-9343-4565-be89-cbdad9762f57","createdOn":"2021-09-20T19:04:17.1647837Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/f386bf2852e54e67a9b494d9","type":"Microsoft.Authorization/policyAssignments","name":"f386bf2852e54e67a9b494d9","location":"westus2","systemData":{"createdBy":"meghanagupta@microsoft.com","createdByType":"User","createdAt":"2021-09-20T19:04:16.0338656Z","lastModifiedBy":"meghanagupta@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-09-20T19:04:16.0338656Z"}},{"properties":{"displayName":"PS
        cmdlet tests: partially compliant audit policy (Sub)","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/PSTestAuditDefinition","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-06T02:05:00.0543895Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/PSTestAuditAssignmentSub","type":"Microsoft.Authorization/policyAssignments","name":"PSTestAuditAssignmentSub","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-06T02:04:59.8685798Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-06T02:04:59.8685798Z"}},{"properties":{"displayName":"PS
        cmdlet tests: initiative with audit policy (Sub)","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policySetDefinitions/PSTestInitiative","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-06T02:05:07.1073813Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/PSTestAuditInitiativeAssignmentSub","type":"Microsoft.Authorization/policyAssignments","name":"PSTestAuditInitiativeAssignmentSub","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-06T02:05:06.8872921Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-06T02:05:06.8872921Z"}},{"identity":{"principalId":"3515d420-1910-4ac8-9680-dd4deb0710a5","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"PS
        cmdlet tests: never compliant DINE policy (Sub)","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/PSTestDINEDefinition","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-06T02:01:57.7648501Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/PSTestDeployAssignmentSub","type":"Microsoft.Authorization/policyAssignments","name":"PSTestDeployAssignmentSub","location":"westus2","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-06T02:01:57.0320106Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-06T02:01:57.0320106Z"}},{"identity":{"principalId":"ae9e89fb-acab-4be3-952a-3f916289136a","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"PS
        cmdlet tests: never compliant modify policy","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/PSTestModifyDefinition","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-06T02:01:59.8258248Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/PSTestModifyAssignmentSub","type":"Microsoft.Authorization/policyAssignments","name":"PSTestModifyAssignmentSub","location":"westus2","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-06T02:01:59.2099119Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-06T02:01:59.2099119Z"}},{"identity":{"principalId":"94b71d7c-2351-4cd3-bd17-19e9bd22e72b","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"[[Remediation
        bugbash] Remediation test assignment","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policySetDefinitions/remediation_test_initiative","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","metadata":{"createdBy":"5e3ea7e8-c6f8-4026-a517-53a24fc529ab","createdOn":"2021-12-07T00:10:34.5516833Z","updatedBy":"5e3ea7e8-c6f8-4026-a517-53a24fc529ab","updatedOn":"2021-12-07T00:49:22.0769066Z"},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/remediation_test_assignment","type":"Microsoft.Authorization/policyAssignments","name":"remediation_test_assignment","location":"eastus","systemData":{"createdBy":"elpere@microsoft.com","createdByType":"User","createdAt":"2021-12-07T00:10:33.3959304Z","lastModifiedBy":"elpere@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2021-12-07T00:49:21.7753952Z"}},{"properties":{"displayName":"PS
        cmdlet tests: partially compliant audit policy (RG)","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/PSTestAuditDefinition","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PSTestRG1","metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-06T02:05:02.0584252Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/PSTestRG1/providers/Microsoft.Authorization/policyAssignments/PSTestAuditAssignmentRG","type":"Microsoft.Authorization/policyAssignments","name":"PSTestAuditAssignmentRG","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-06T02:05:01.8921874Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-06T02:05:01.8921874Z"}},{"properties":{"displayName":"Audit
        Windows machines that do not have the specified Windows PowerShell execution
        policy","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/c648fbbb-591c-4acd-b465-ce9b176ca173","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test","notScopes":[],"parameters":{"ExecutionPolicy":{"value":"Restricted"}},"metadata":{"assignedBy":"Namrata
        Jagasia","parameterScopes":{},"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-11T23:22:51.1537083Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.Authorization/policyAssignments/087b19b3dc9042cdad84dd1d","type":"Microsoft.Authorization/policyAssignments","name":"087b19b3dc9042cdad84dd1d","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-11T23:22:51.1016515Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-11T23:22:51.1016515Z"}},{"identity":{"principalId":"1ee50579-c994-47ad-8718-429d8b7ff150","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"Deploy
        Advanced Threat Protection on storage accounts","policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/361c2074-3595-4e5d-8cab-4f21dffc835c","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Namrata
        Jagasia","parameterScopes":{},"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-12T23:57:38.1872077Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/az-cli-policy-insights-test/providers/Microsoft.Authorization/policyAssignments/4ecaf5f81bad4bfc86b132fb","type":"Microsoft.Authorization/policyAssignments","name":"4ecaf5f81bad4bfc86b132fb","location":"eastus","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-12T23:57:37.0783525Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-12T23:57:37.0783525Z"}},{"properties":{"policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/96670d01-0a4d-4649-9c89-2d3abc0a5025","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_triggerscan5w5br354iu3jln7mhk3tkdbrn5mxmwaxo3asirhs7diitx2nd4224fy","parameters":{"tagName":{"value":"notThere"}},"metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-26T20:45:50.9454802Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_triggerscan5w5br354iu3jln7mhk3tkdbrn5mxmwaxo3asirhs7diitx2nd4224fy/providers/Microsoft.Authorization/policyAssignments/azurecli-test-policy-assignmentayanr7ynr","type":"Microsoft.Authorization/policyAssignments","name":"azurecli-test-policy-assignmentayanr7ynr","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-26T20:45:50.904865Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-26T20:45:50.904865Z"}},{"identity":{"principalId":"532ac60a-ed31-4621-b23b-a33329cd20e0","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"policyDefinitionId":"/providers/Microsoft.Authorization/policyDefinitions/5ffd78d9-436d-4b41-a421-5baa819e3008","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001","parameters":{"tagName":{"value":"cliTagKey"},"tagValue":{"value":"cliTagValue"}},"metadata":{"createdBy":"141fb5c0-e620-44a7-b52a-98ead875e310","createdOn":"2022-04-26T20:46:44.4605371Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.Authorization/policyAssignments/azurecli-test-policy-assignment000003","type":"Microsoft.Authorization/policyAssignments","name":"azurecli-test-policy-assignment000003","location":"westus","systemData":{"createdBy":"najagasi@microsoft.com","createdByType":"User","createdAt":"2022-04-26T20:46:43.9520743Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-26T20:46:43.9520743Z"}},{"properties":{"displayName":"CSEO
        Block WVD resource creation","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/72f988bf-86f1-41af-91ab-2d7cd011db47/providers/Microsoft.Authorization/policyDefinitions/Deny
        WVD creation","scope":"/providers/Microsoft.Management/managementGroups/72f988bf-86f1-41af-91ab-2d7cd011db47","notScopes":["/providers/Microsoft.Management/managementGroups/MSFT-DSRE-ISO-IAM","/providers/Microsoft.Management/managementGroups/9ce3369a-545b-cfba-c329-3631400b552f","/providers/Microsoft.Management/managementGroups/WVDSelfhost","/subscriptions/00000000-0000-0000-0000-000000000000","/providers/Microsoft.Management/managementGroups/595d008b-0e4c-41f8-af09-254420fd7571","/providers/Microsoft.Management/managementGroups/CloudPCMSFTSubscriptions","/providers/Microsoft.Management/managementGroups/64cd7b97-58e0-44d3-832b-55657739bde3"],"description":"IAMAADENG@microsoft.com","metadata":{"createdBy":"7f1579a6-c648-43a1-ac1e-0c3020dd9b8e","createdOn":"2020-11-17T19:41:36.3082667Z","updatedBy":"7f1579a6-c648-43a1-ac1e-0c3020dd9b8e","updatedOn":"2021-03-03T20:26:00.9826574Z"},"enforcementMode":"Default"},"id":"/providers/Microsoft.Management/managementGroups/72f988bf-86f1-41af-91ab-2d7cd011db47/providers/Microsoft.Authorization/policyAssignments/Block
        WVD creation","type":"Microsoft.Authorization/policyAssignments","name":"Block
        WVD creation"},{"identity":{"principalId":"41836378-8051-447b-9bed-079f93737108","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned"},"properties":{"displayName":"PS
        cmdlet tests: never compliant DINE policy (MG)","policyDefinitionId":"/providers/Microsoft.Management/managementGroups/AzGovPerfTest/providers/Microsoft.Authorization/policyDefinitions/PSTestDINEDefinition","scope":"/providers/microsoft.management/managementgroups/AzGovPerfTest","metadata":{"createdBy":"5e3ea7e8-c6f8-4026-a517-53a24fc529ab","createdOn":"2022-01-25T22:00:46.4699984Z","updatedBy":"141fb5c0-e620-44a7-b52a-98ead875e310","updatedOn":"2022-04-06T02:01:55.2139891Z"},"enforcementMode":"Default"},"id":"/providers/microsoft.management/managementgroups/AzGovPerfTest/providers/Microsoft.Authorization/policyAssignments/PSTestDeployAssignmentMG","type":"Microsoft.Authorization/policyAssignments","name":"PSTestDeployAssignmentMG","location":"westus2","systemData":{"createdBy":"elpere@microsoft.com","createdByType":"User","createdAt":"2022-01-25T22:00:46.0495662Z","lastModifiedBy":"najagasi@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-04-06T02:01:54.8049456Z"}},{"properties":{"displayName":"Kubernetes
        clusters should not use the default namespace custom policy","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/15f26922-7af4-4c7b-abf6-0cc3a2407272","scope":"/subscriptions/00000000-0000-0000-0000-000000000000","notScopes":[],"parameters":{},"metadata":{"assignedBy":"Noah
        Reisch","parameterScopes":{},"createdBy":"c281de91-d2d9-4490-950b-4e89d62c44e5","createdOn":"2022-01-14T17:46:03.6691616Z","updatedBy":null,"updatedOn":null},"enforcementMode":"Default","nonComplianceMessages":[]},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/ec2e396d0e27421ba4b84fa9","type":"Microsoft.Authorization/policyAssignments","name":"ec2e396d0e27421ba4b84fa9","systemData":{"createdBy":"noreisch@microsoft.com","createdByType":"User","createdAt":"2022-01-14T17:46:03.6380146Z","lastModifiedBy":"noreisch@microsoft.com","lastModifiedByType":"User","lastModifiedAt":"2022-01-14T17:46:03.6380146Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '31577'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"policyAssignmentId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.Authorization/policyAssignments/azurecli-test-policy-assignment000003",
      "resourceDiscoveryMode": "ReEvaluateCompliance"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation create
      Connection:
      - keep-alive
      Content-Length:
      - '274'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g -a --resource-discovery-mode
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-policyinsights/1.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000004?api-version=2019-07-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.authorization/policyassignments/azurecli-test-policy-assignment000003","provisioningState":"Accepted","createdOn":"2022-04-26T20:46:46.2188099Z","lastUpdatedOn":"2022-04-26T20:46:46.2193642Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ReEvaluateCompliance"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000004","name":"azurecli-test-remediation000004","type":"Microsoft.PolicyInsights/remediations"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '750'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '144'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-policyinsights/1.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000004?api-version=2019-07-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.authorization/policyassignments/azurecli-test-policy-assignment000003","provisioningState":"Accepted","createdOn":"2022-04-26T20:46:46.2188099Z","lastUpdatedOn":"2022-04-26T20:46:46.2193642Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ReEvaluateCompliance"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000004","name":"azurecli-test-remediation000004","type":"Microsoft.PolicyInsights/remediations"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '750'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '73'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-policyinsights/1.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.PolicyInsights/remediations?api-version=2019-07-01
  response:
    body:
      string: '{"value":[{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.authorization/policyassignments/azurecli-test-policy-assignment000003","provisioningState":"Accepted","createdOn":"2022-04-26T20:46:46.2188099Z","lastUpdatedOn":"2022-04-26T20:46:46.2193642Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ReEvaluateCompliance"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000004","name":"azurecli-test-remediation000004","type":"Microsoft.PolicyInsights/remediations"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '762'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '147'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation deployment list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-policyinsights/1.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000004/listDeployments?api-version=2019-07-01
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '148'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - policy remediation cancel
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-policyinsights/1.0.0 Python/3.8.10 (Windows-10-10.0.19044-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_remediation000001/providers/Microsoft.PolicyInsights/remediations/azurecli-test-remediation000004/cancel?api-version=2019-07-01
  response:
    body:
      string: '{"properties":{"policyAssignmentId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.authorization/policyassignments/azurecli-test-policy-assignment000003","provisioningState":"Cancelling","createdOn":"2022-04-26T20:46:46.2188099Z","lastUpdatedOn":"2022-04-26T20:46:47.9148124Z","deploymentStatus":{"totalDeployments":0,"successfulDeployments":0,"failedDeployments":0},"resourceDiscoveryMode":"ReEvaluateCompliance"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_remediation000001/providers/microsoft.policyinsights/remediations/azurecli-test-remediation000004","name":"azurecli-test-remediation000004","type":"Microsoft.PolicyInsights/remediations"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '752'
      content-type:
      - application/json; charset=utf-8
      date:
      - Tue, 26 Apr 2022 20:46:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Kestrel
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-policy-insights-requests:
      - '146'
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
version: 1
