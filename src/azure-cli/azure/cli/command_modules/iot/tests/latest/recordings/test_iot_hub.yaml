interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-storage/21.1.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Storage/storageAccounts?api-version=2023-01-01
  response:
    body:
      string: '{"value":[{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-eastus/providers/Microsoft.Storage/storageAccounts/cs210037ffe801af6af","name":"cs210037ffe801af6af","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-08-10T17:06:42.6225120Z","key2":"2023-08-10T17:06:42.6225120Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-10T17:06:42.6225120Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-10T17:06:42.6225120Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-10T17:06:42.4506381Z","primaryEndpoints":{"dfs":"https://cs210037ffe801af6af.dfs.core.windows.net/","web":"https://cs210037ffe801af6af.z13.web.core.windows.net/","blob":"https://cs210037ffe801af6af.blob.core.windows.net/","queue":"https://cs210037ffe801af6af.queue.core.windows.net/","table":"https://cs210037ffe801af6af.table.core.windows.net/","file":"https://cs210037ffe801af6af.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-eastus/providers/Microsoft.Storage/storageAccounts/cs210037ffe9c9fb4d5","name":"cs210037ffe9c9fb4d5","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-08-18T19:33:16.2318749Z","key2":"2023-08-18T19:33:16.2318749Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-18T19:33:16.2318749Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-18T19:33:16.2318749Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-18T19:33:16.0756328Z","primaryEndpoints":{"dfs":"https://cs210037ffe9c9fb4d5.dfs.core.windows.net/","web":"https://cs210037ffe9c9fb4d5.z13.web.core.windows.net/","blob":"https://cs210037ffe9c9fb4d5.blob.core.windows.net/","queue":"https://cs210037ffe9c9fb4d5.queue.core.windows.net/","table":"https://cs210037ffe9c9fb4d5.table.core.windows.net/","file":"https://cs210037ffe9c9fb4d5.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/eebpec3/providers/Microsoft.Storage/storageAccounts/eebpecsa","name":"eebpecsa","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"dnsEndpointType":"Standard","defaultToOAuthAuthentication":false,"publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2023-06-07T13:35:19.6110084Z","key2":"2023-06-07T13:35:19.6110084Z"},"allowCrossTenantReplication":true,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-06-07T13:35:19.6267279Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-06-07T13:35:19.6267279Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-06-07T13:35:19.4547574Z","primaryEndpoints":{"dfs":"https://eebpecsa.dfs.core.windows.net/","web":"https://eebpecsa.z13.web.core.windows.net/","blob":"https://eebpecsa.blob.core.windows.net/","queue":"https://eebpecsa.queue.core.windows.net/","table":"https://eebpecsa.table.core.windows.net/","file":"https://eebpecsa.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_ZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm3253004787xt","name":"gsm3253004787xt","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{"GenevaWPAccountName":"PASmetrics","GenevaWPNamespaceName":"PASmetrics","GenevaWPMonikerName":"pasmetricssecuritybl","GenevaWPStorageGroupName":"pasmetricssecurity"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-08-15T21:05:09.2503093Z","key2":"2023-08-15T21:05:09.2503093Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-15T21:05:09.2503093Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-15T21:05:09.2503093Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-15T21:05:09.0159442Z","primaryEndpoints":{"dfs":"https://gsm3253004787xt.dfs.core.windows.net/","web":"https://gsm3253004787xt.z13.web.core.windows.net/","blob":"https://gsm3253004787xt.blob.core.windows.net/","queue":"https://gsm3253004787xt.queue.core.windows.net/","table":"https://gsm3253004787xt.table.core.windows.net/","file":"https://gsm3253004787xt.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_ZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm4254127408xt","name":"gsm4254127408xt","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{"GenevaWPAccountName":"PASmetrics","GenevaWPNamespaceName":"PASmetrics","GenevaWPMonikerName":"pasmetricsauditbl","GenevaWPStorageGroupName":"pasmetricsaudit"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-08-15T21:05:09.4221818Z","key2":"2023-08-15T21:05:09.4221818Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-15T21:05:09.4378099Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-15T21:05:09.4378099Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-15T21:05:09.2346885Z","primaryEndpoints":{"dfs":"https://gsm4254127408xt.dfs.core.windows.net/","web":"https://gsm4254127408xt.z13.web.core.windows.net/","blob":"https://gsm4254127408xt.blob.core.windows.net/","queue":"https://gsm4254127408xt.queue.core.windows.net/","table":"https://gsm4254127408xt.table.core.windows.net/","file":"https://gsm4254127408xt.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_ZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm733228056xt","name":"gsm733228056xt","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{"GenevaWPAccountName":"PASmetrics","GenevaWPNamespaceName":"PASmetrics","GenevaWPMonikerName":"pasmetricsdiagbl","GenevaWPStorageGroupName":"pasmetricsdiag"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-08-15T21:05:09.5003079Z","key2":"2023-08-15T21:05:09.5003079Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-15T21:05:09.5003079Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-15T21:05:09.5003079Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-15T21:05:09.3128092Z","primaryEndpoints":{"dfs":"https://gsm733228056xt.dfs.core.windows.net/","web":"https://gsm733228056xt.z13.web.core.windows.net/","blob":"https://gsm733228056xt.blob.core.windows.net/","queue":"https://gsm733228056xt.queue.core.windows.net/","table":"https://gsm733228056xt.table.core.windows.net/","file":"https://gsm733228056xt.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/contosoba/providers/Microsoft.Storage/storageAccounts/sacontosoba1016","name":"sacontosoba1016","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"dnsEndpointType":"Standard","defaultToOAuthAuthentication":false,"publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2023-10-16T12:14:08.5209721Z","key2":"2023-10-16T12:14:08.5209721Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"allowSharedKeyAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-16T12:14:08.5209721Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-16T12:14:08.5209721Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-16T12:14:08.3178275Z","primaryEndpoints":{"dfs":"https://sacontosoba1016.dfs.core.windows.net/","web":"https://sacontosoba1016.z13.web.core.windows.net/","blob":"https://sacontosoba1016.blob.core.windows.net/","queue":"https://sacontosoba1016.queue.core.windows.net/","table":"https://sacontosoba1016.table.core.windows.net/","file":"https://sacontosoba1016.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_ZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/managed-rg-Price/providers/Microsoft.Storage/storageAccounts/scaneastusseftuzk","name":"scaneastusseftuzk","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"dnsEndpointType":"Standard","publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2023-06-19T17:03:05.6062779Z","key2":"2023-06-19T17:03:05.6062779Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"isHnsEnabled":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-06-19T17:03:05.6062779Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-06-19T17:03:05.6062779Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-06-19T17:03:05.4500565Z","primaryEndpoints":{"dfs":"https://scaneastusseftuzk.dfs.core.windows.net/","web":"https://scaneastusseftuzk.z13.web.core.windows.net/","blob":"https://scaneastusseftuzk.blob.core.windows.net/","queue":"https://scaneastusseftuzk.queue.core.windows.net/","table":"https://scaneastusseftuzk.table.core.windows.net/","file":"https://scaneastusseftuzk.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_ZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/managed-rg-odprice/providers/Microsoft.Storage/storageAccounts/scaneastusundecfq","name":"scaneastusundecfq","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"dnsEndpointType":"Standard","publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2023-06-21T17:59:39.3965961Z","key2":"2023-06-21T17:59:39.3965961Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"isHnsEnabled":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-06-21T17:59:39.3965961Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-06-21T17:59:39.3965961Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-06-21T17:59:39.2247274Z","primaryEndpoints":{"dfs":"https://scaneastusundecfq.dfs.core.windows.net/","web":"https://scaneastusundecfq.z13.web.core.windows.net/","blob":"https://scaneastusundecfq.blob.core.windows.net/","queue":"https://scaneastusundecfq.queue.core.windows.net/","table":"https://scaneastusundecfq.table.core.windows.net/","file":"https://scaneastusundecfq.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_ZRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/managed-rg-DebuggabilityAnalysis/providers/Microsoft.Storage/storageAccounts/scaneastusvhcwsyo","name":"scaneastusvhcwsyo","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"dnsEndpointType":"Standard","publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2023-08-14T22:28:29.0059672Z","key2":"2023-08-14T22:28:29.0059672Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"isHnsEnabled":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-14T22:28:29.0215657Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-14T22:28:29.0215657Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-14T22:28:28.8340876Z","primaryEndpoints":{"dfs":"https://scaneastusvhcwsyo.dfs.core.windows.net/","web":"https://scaneastusvhcwsyo.z13.web.core.windows.net/","blob":"https://scaneastusvhcwsyo.blob.core.windows.net/","queue":"https://scaneastusvhcwsyo.queue.core.windows.net/","table":"https://scaneastusvhcwsyo.table.core.windows.net/","file":"https://scaneastusvhcwsyo.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/smrg/providers/Microsoft.Storage/storageAccounts/sm1storage","name":"sm1storage","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-07-18T20:59:12.0433971Z","key2":"2023-07-18T20:59:12.0433971Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-18T20:59:12.0590205Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-18T20:59:12.0590205Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-18T20:59:11.8715238Z","primaryEndpoints":{"dfs":"https://sm1storage.dfs.core.windows.net/","web":"https://sm1storage.z13.web.core.windows.net/","blob":"https://sm1storage.blob.core.windows.net/","queue":"https://sm1storage.queue.core.windows.net/","table":"https://sm1storage.table.core.windows.net/","file":"https://sm1storage.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mozaman4/providers/Microsoft.Storage/storageAccounts/storage37xmgik5yylwc","name":"storage37xmgik5yylwc","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2023-08-14T20:38:27.4998013Z","key2":"2023-08-14T20:38:27.4998013Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-14T20:38:27.4998013Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-14T20:38:27.4998013Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-14T20:38:27.2966781Z","primaryEndpoints":{"dfs":"https://storage37xmgik5yylwc.dfs.core.windows.net/","web":"https://storage37xmgik5yylwc.z13.web.core.windows.net/","blob":"https://storage37xmgik5yylwc.blob.core.windows.net/","queue":"https://storage37xmgik5yylwc.queue.core.windows.net/","table":"https://storage37xmgik5yylwc.table.core.windows.net/","file":"https://storage37xmgik5yylwc.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/datafactorytest/providers/Microsoft.Storage/storageAccounts/storageow44dvtob4o6w","name":"storageow44dvtob4o6w","type":"Microsoft.Storage/storageAccounts","location":"eastus","tags":{},"properties":{"keyCreationTime":{"key1":"2023-09-08T23:27:25.4547034Z","key2":"2023-09-08T23:27:25.4547034Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-08T23:27:25.4703571Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-08T23:27:25.4703571Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-09-08T23:27:25.3140821Z","primaryEndpoints":{"dfs":"https://storageow44dvtob4o6w.dfs.core.windows.net/","web":"https://storageow44dvtob4o6w.z13.web.core.windows.net/","blob":"https://storageow44dvtob4o6w.blob.core.windows.net/","queue":"https://storageow44dvtob4o6w.queue.core.windows.net/","table":"https://storageow44dvtob4o6w.table.core.windows.net/","file":"https://storageow44dvtob4o6w.file.core.windows.net/"},"primaryLocation":"eastus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IIoT_RC5/providers/Microsoft.Storage/storageAccounts/ft1stg4ee71","name":"ft1stg4ee71","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T13:48:57.6299508Z","key2":"2023-11-06T13:48:57.6299508Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T13:48:57.7549532Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T13:48:57.7549532Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-06T13:48:57.5049131Z","primaryEndpoints":{"dfs":"https://ft1stg4ee71.dfs.core.windows.net/","web":"https://ft1stg4ee71.z20.web.core.windows.net/","blob":"https://ft1stg4ee71.blob.core.windows.net/","queue":"https://ft1stg4ee71.queue.core.windows.net/","table":"https://ft1stg4ee71.table.core.windows.net/","file":"https://ft1stg4ee71.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IIoT_RC9/providers/Microsoft.Storage/storageAccounts/ft1stg4fea9","name":"ft1stg4fea9","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T20:08:12.1608069Z","key2":"2023-11-06T20:08:12.1608069Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:08:12.2858329Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:08:12.2858329Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-06T20:08:12.0045566Z","primaryEndpoints":{"dfs":"https://ft1stg4fea9.dfs.core.windows.net/","web":"https://ft1stg4fea9.z20.web.core.windows.net/","blob":"https://ft1stg4fea9.blob.core.windows.net/","queue":"https://ft1stg4fea9.queue.core.windows.net/","table":"https://ft1stg4fea9.table.core.windows.net/","file":"https://ft1stg4fea9.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IIoT_RC7/providers/Microsoft.Storage/storageAccounts/ft1stg6b795","name":"ft1stg6b795","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T17:10:56.8924606Z","key2":"2023-11-06T17:10:56.8924606Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T17:10:57.0331010Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T17:10:57.0331010Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-06T17:10:56.7518307Z","primaryEndpoints":{"dfs":"https://ft1stg6b795.dfs.core.windows.net/","web":"https://ft1stg6b795.z20.web.core.windows.net/","blob":"https://ft1stg6b795.blob.core.windows.net/","queue":"https://ft1stg6b795.queue.core.windows.net/","table":"https://ft1stg6b795.table.core.windows.net/","file":"https://ft1stg6b795.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IIoT_RC4/providers/Microsoft.Storage/storageAccounts/ft1stg78133","name":"ft1stg78133","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T11:34:35.8272008Z","key2":"2023-11-06T11:34:35.8272008Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T11:34:35.9365815Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T11:34:35.9365815Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-06T11:34:35.6866625Z","primaryEndpoints":{"dfs":"https://ft1stg78133.dfs.core.windows.net/","web":"https://ft1stg78133.z20.web.core.windows.net/","blob":"https://ft1stg78133.blob.core.windows.net/","queue":"https://ft1stg78133.queue.core.windows.net/","table":"https://ft1stg78133.table.core.windows.net/","file":"https://ft1stg78133.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IIoT_RC8/providers/Microsoft.Storage/storageAccounts/ft1stg825a8","name":"ft1stg825a8","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T18:07:59.8960076Z","key2":"2023-11-06T18:07:59.8960076Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T18:08:00.0210096Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T18:08:00.0210096Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-06T18:07:59.7553838Z","primaryEndpoints":{"dfs":"https://ft1stg825a8.dfs.core.windows.net/","web":"https://ft1stg825a8.z20.web.core.windows.net/","blob":"https://ft1stg825a8.blob.core.windows.net/","queue":"https://ft1stg825a8.queue.core.windows.net/","table":"https://ft1stg825a8.table.core.windows.net/","file":"https://ft1stg825a8.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IIoT_RC6/providers/Microsoft.Storage/storageAccounts/ft1stgd59e1","name":"ft1stgd59e1","type":"Microsoft.Storage/storageAccounts","location":"eastus2","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T15:29:43.0561509Z","key2":"2023-11-06T15:29:43.0561509Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T15:29:43.1811577Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T15:29:43.1811577Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-06T15:29:42.8999009Z","primaryEndpoints":{"dfs":"https://ft1stgd59e1.dfs.core.windows.net/","web":"https://ft1stgd59e1.z20.web.core.windows.net/","blob":"https://ft1stgd59e1.blob.core.windows.net/","queue":"https://ft1stgd59e1.queue.core.windows.net/","table":"https://ft1stgd59e1.table.core.windows.net/","file":"https://ft1stgd59e1.file.core.windows.net/"},"primaryLocation":"eastus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DefaultResourceGroup-EUS/providers/Microsoft.Storage/storageAccounts/bluefin0523","name":"bluefin0523","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-05-20T01:15:46.7074988Z","key2":"2023-05-20T01:15:46.7074988Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-05-20T01:15:46.7074988Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-05-20T01:15:46.7074988Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-05-20T01:15:46.5980662Z","primaryEndpoints":{"dfs":"https://bluefin0523.dfs.core.windows.net/","web":"https://bluefin0523.z22.web.core.windows.net/","blob":"https://bluefin0523.blob.core.windows.net/","queue":"https://bluefin0523.queue.core.windows.net/","table":"https://bluefin0523.table.core.windows.net/","file":"https://bluefin0523.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T20:13:59.1508315Z","key2":"2023-11-06T20:13:59.1508315Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2445048Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2445048Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2023-11-06T20:13:59.0570690Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Storage/storageAccounts/clitestpgkehj5k3lydbnvge","name":"clitestpgkehj5k3lydbnvge","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T20:13:59.1038821Z","key2":"2023-11-06T20:13:59.1038821Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2288801Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2288801Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2023-11-06T20:13:59.0102052Z","primaryEndpoints":{"blob":"https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/","queue":"https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/","table":"https://clitestpgkehj5k3lydbnvge.table.core.windows.net/","file":"https://clitestpgkehj5k3lydbnvge.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Storage/storageAccounts/clitesttlx2ce7vqbgonaecs","name":"clitesttlx2ce7vqbgonaecs","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T20:13:59.1663762Z","key2":"2023-11-06T20:13:59.1663762Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2757539Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2757539Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2023-11-06T20:13:59.0726319Z","primaryEndpoints":{"blob":"https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/","queue":"https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/","table":"https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/","file":"https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs410030000801b4ae1","name":"cs410030000801b4ae1","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-10-20T20:27:54.8213009Z","key2":"2023-10-20T20:27:54.8213009Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-20T20:27:54.8213009Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-20T20:27:54.8213009Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-20T20:27:54.7587199Z","primaryEndpoints":{"dfs":"https://cs410030000801b4ae1.dfs.core.windows.net/","web":"https://cs410030000801b4ae1.z22.web.core.windows.net/","blob":"https://cs410030000801b4ae1.blob.core.windows.net/","queue":"https://cs410030000801b4ae1.queue.core.windows.net/","table":"https://cs410030000801b4ae1.table.core.windows.net/","file":"https://cs410030000801b4ae1.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs4100300009a09c455","name":"cs4100300009a09c455","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-09-12T17:08:46.6421233Z","key2":"2023-09-12T17:08:46.6421233Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-12T17:08:46.6577501Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-12T17:08:46.6577501Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-09-12T17:08:46.5483674Z","primaryEndpoints":{"dfs":"https://cs4100300009a09c455.dfs.core.windows.net/","web":"https://cs4100300009a09c455.z22.web.core.windows.net/","blob":"https://cs4100300009a09c455.blob.core.windows.net/","queue":"https://cs4100300009a09c455.queue.core.windows.net/","table":"https://cs4100300009a09c455.table.core.windows.net/","file":"https://cs4100300009a09c455.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs410032000e3c37619","name":"cs410032000e3c37619","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-11-03T21:46:57.1951594Z","key2":"2023-11-03T21:46:57.1951594Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-03T21:46:57.2107895Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-03T21:46:57.2107895Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-03T21:46:57.1014098Z","primaryEndpoints":{"dfs":"https://cs410032000e3c37619.dfs.core.windows.net/","web":"https://cs410032000e3c37619.z22.web.core.windows.net/","blob":"https://cs410032000e3c37619.blob.core.windows.net/","queue":"https://cs410032000e3c37619.queue.core.windows.net/","table":"https://cs410032000e3c37619.table.core.windows.net/","file":"https://cs410032000e3c37619.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs4100320021319233a","name":"cs4100320021319233a","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-07-18T20:57:07.8340870Z","key2":"2023-07-18T20:57:07.8340870Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-18T20:57:07.8340870Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-18T20:57:07.8340870Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-18T20:57:07.7403488Z","primaryEndpoints":{"dfs":"https://cs4100320021319233a.dfs.core.windows.net/","web":"https://cs4100320021319233a.z22.web.core.windows.net/","blob":"https://cs4100320021319233a.blob.core.windows.net/","queue":"https://cs4100320021319233a.queue.core.windows.net/","table":"https://cs4100320021319233a.table.core.windows.net/","file":"https://cs4100320021319233a.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-westus/providers/Microsoft.Storage/storageAccounts/cs4100320028555142c","name":"cs4100320028555142c","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-11-01T23:00:52.3738630Z","key2":"2023-11-01T23:00:52.3738630Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-01T23:00:52.3894879Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-01T23:00:52.3894879Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-11-01T23:00:52.2801102Z","primaryEndpoints":{"dfs":"https://cs4100320028555142c.dfs.core.windows.net/","web":"https://cs4100320028555142c.z22.web.core.windows.net/","blob":"https://cs4100320028555142c.blob.core.windows.net/","queue":"https://cs4100320028555142c.queue.core.windows.net/","table":"https://cs4100320028555142c.table.core.windows.net/","file":"https://cs4100320028555142c.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm2002985739xt","name":"gsm2002985739xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"TestBluefinGeneva","GenevaWPNamespaceName":"TestBluefinGeneva","GenevaWPMonikerName":"testbluefingenevasecurityby","GenevaWPStorageGroupName":"testbluefingenevasecurity"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-17T22:48:18.6200809Z","key2":"2023-07-17T22:48:18.6200809Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T22:48:18.6357085Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T22:48:18.6357085Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-17T22:48:18.5107942Z","primaryEndpoints":{"dfs":"https://gsm2002985739xt.dfs.core.windows.net/","web":"https://gsm2002985739xt.z22.web.core.windows.net/","blob":"https://gsm2002985739xt.blob.core.windows.net/","queue":"https://gsm2002985739xt.queue.core.windows.net/","table":"https://gsm2002985739xt.table.core.windows.net/","file":"https://gsm2002985739xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm2258340826xt","name":"gsm2258340826xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"TestBluefinGeneva","GenevaWPNamespaceName":"TestBluefinGeneva","GenevaWPMonikerName":"testbluefingenevadiagby","GenevaWPStorageGroupName":"testbluefingenevadiag"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-17T22:48:17.8701402Z","key2":"2023-07-17T22:48:17.8701402Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T22:48:17.8857592Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T22:48:17.8857592Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-17T22:48:17.7763887Z","primaryEndpoints":{"dfs":"https://gsm2258340826xt.dfs.core.windows.net/","web":"https://gsm2258340826xt.z22.web.core.windows.net/","blob":"https://gsm2258340826xt.blob.core.windows.net/","queue":"https://gsm2258340826xt.queue.core.windows.net/","table":"https://gsm2258340826xt.table.core.windows.net/","file":"https://gsm2258340826xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm302899584xt","name":"gsm302899584xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"AliceSprings","GenevaWPNamespaceName":"AliceSprings","GenevaWPMonikerName":"alicespringsdiagby","GenevaWPStorageGroupName":"alicespringsdiag"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-19T00:00:08.7946935Z","key2":"2023-07-19T00:00:08.7946935Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-19T00:00:08.8102730Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-19T00:00:08.8102730Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-19T00:00:08.6853425Z","primaryEndpoints":{"dfs":"https://gsm302899584xt.dfs.core.windows.net/","web":"https://gsm302899584xt.z22.web.core.windows.net/","blob":"https://gsm302899584xt.blob.core.windows.net/","queue":"https://gsm302899584xt.queue.core.windows.net/","table":"https://gsm302899584xt.table.core.windows.net/","file":"https://gsm302899584xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm3628888899xt","name":"gsm3628888899xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"bluefinTestGeneva","GenevaWPNamespaceName":"bluefinTestGeneva","GenevaWPMonikerName":"bluefintestgenevaauditby","GenevaWPStorageGroupName":"bluefintestgenevaaudit"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-17T20:15:53.0421339Z","key2":"2023-07-17T20:15:53.0421339Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T20:15:53.0578072Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T20:15:53.0578072Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-17T20:15:52.9327561Z","primaryEndpoints":{"dfs":"https://gsm3628888899xt.dfs.core.windows.net/","web":"https://gsm3628888899xt.z22.web.core.windows.net/","blob":"https://gsm3628888899xt.blob.core.windows.net/","queue":"https://gsm3628888899xt.queue.core.windows.net/","table":"https://gsm3628888899xt.table.core.windows.net/","file":"https://gsm3628888899xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm3921413774xt","name":"gsm3921413774xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"bluefinTestGeneva","GenevaWPNamespaceName":"bluefinTestGeneva","GenevaWPMonikerName":"bluefintestgenevasecurityby","GenevaWPStorageGroupName":"bluefintestgenevasecurity"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-17T20:15:52.6983816Z","key2":"2023-07-17T20:15:52.6983816Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T20:15:52.7140010Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T20:15:52.7140010Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-17T20:15:52.5890019Z","primaryEndpoints":{"dfs":"https://gsm3921413774xt.dfs.core.windows.net/","web":"https://gsm3921413774xt.z22.web.core.windows.net/","blob":"https://gsm3921413774xt.blob.core.windows.net/","queue":"https://gsm3921413774xt.queue.core.windows.net/","table":"https://gsm3921413774xt.table.core.windows.net/","file":"https://gsm3921413774xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm3966856927xt","name":"gsm3966856927xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"AliceSprings","GenevaWPNamespaceName":"AliceSprings","GenevaWPMonikerName":"alicespringssecurityby","GenevaWPStorageGroupName":"alicespringssecurity"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-19T00:00:08.9197278Z","key2":"2023-07-19T00:00:08.9197278Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-19T00:00:08.9352723Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-19T00:00:08.9352723Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-19T00:00:08.8102730Z","primaryEndpoints":{"dfs":"https://gsm3966856927xt.dfs.core.windows.net/","web":"https://gsm3966856927xt.z22.web.core.windows.net/","blob":"https://gsm3966856927xt.blob.core.windows.net/","queue":"https://gsm3966856927xt.queue.core.windows.net/","table":"https://gsm3966856927xt.table.core.windows.net/","file":"https://gsm3966856927xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm511791477xt","name":"gsm511791477xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"bluefinTestGeneva","GenevaWPNamespaceName":"bluefinTestGeneva","GenevaWPMonikerName":"bluefintestgenevadiagby","GenevaWPStorageGroupName":"bluefintestgenevadiag"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-17T20:15:52.8858835Z","key2":"2023-07-17T20:15:52.8858835Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T20:15:52.9017322Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T20:15:52.9017322Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-17T20:15:52.7765927Z","primaryEndpoints":{"dfs":"https://gsm511791477xt.dfs.core.windows.net/","web":"https://gsm511791477xt.z22.web.core.windows.net/","blob":"https://gsm511791477xt.blob.core.windows.net/","queue":"https://gsm511791477xt.queue.core.windows.net/","table":"https://gsm511791477xt.table.core.windows.net/","file":"https://gsm511791477xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm898972600xt","name":"gsm898972600xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"TestBluefinGeneva","GenevaWPNamespaceName":"TestBluefinGeneva","GenevaWPMonikerName":"testbluefingenevaauditby","GenevaWPStorageGroupName":"testbluefingenevaaudit"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-17T22:48:18.1200740Z","key2":"2023-07-17T22:48:18.1200740Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T22:48:18.1356933Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-17T22:48:18.1356933Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-17T22:48:18.0107731Z","primaryEndpoints":{"dfs":"https://gsm898972600xt.dfs.core.windows.net/","web":"https://gsm898972600xt.z22.web.core.windows.net/","blob":"https://gsm898972600xt.blob.core.windows.net/","queue":"https://gsm898972600xt.queue.core.windows.net/","table":"https://gsm898972600xt.table.core.windows.net/","file":"https://gsm898972600xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_GRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/GenevaWarmPathManageRG/providers/Microsoft.Storage/storageAccounts/gsm943235906xt","name":"gsm943235906xt","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"GenevaWPAccountName":"AliceSprings","GenevaWPNamespaceName":"AliceSprings","GenevaWPMonikerName":"alicespringsauditby","GenevaWPStorageGroupName":"alicespringsaudit"},"properties":{"residencyBoundary":"National","variableResiliency":{"resiliencyMinimum":"Standard_LRS","resiliencyMaximum":"Standard_ZRS","resilienciesProgressionId":"Zonal"},"keyCreationTime":{"key1":"2023-07-19T00:00:08.3727652Z","key2":"2023-07-19T00:00:08.3727652Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-19T00:00:08.3883887Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-19T00:00:08.3883887Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-19T00:00:08.2634580Z","primaryEndpoints":{"dfs":"https://gsm943235906xt.dfs.core.windows.net/","web":"https://gsm943235906xt.z22.web.core.windows.net/","blob":"https://gsm943235906xt.blob.core.windows.net/","queue":"https://gsm943235906xt.queue.core.windows.net/","table":"https://gsm943235906xt.table.core.windows.net/","file":"https://gsm943235906xt.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/miwolf/providers/Microsoft.Storage/storageAccounts/miwolf","name":"miwolf","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-07-12T05:15:49.5373107Z","key2":"2023-07-12T05:15:49.5373107Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-12T05:15:49.5529869Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-12T05:15:49.5529869Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-12T05:15:49.4748513Z","primaryEndpoints":{"dfs":"https://miwolf.dfs.core.windows.net/","web":"https://miwolf.z22.web.core.windows.net/","blob":"https://miwolf.blob.core.windows.net/","queue":"https://miwolf.queue.core.windows.net/","table":"https://miwolf.table.core.windows.net/","file":"https://miwolf.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/DefaultResourceGroup-EUS/providers/Microsoft.Storage/storageAccounts/ud0523","name":"ud0523","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-05-20T00:59:23.4786173Z","key2":"2023-05-20T00:59:23.4786173Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-05-20T00:59:23.6192403Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-05-20T00:59:23.6192403Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-05-20T00:59:23.4005231Z","primaryEndpoints":{"dfs":"https://ud0523.dfs.core.windows.net/","web":"https://ud0523.z22.web.core.windows.net/","blob":"https://ud0523.blob.core.windows.net/","queue":"https://ud0523.queue.core.windows.net/","table":"https://ud0523.table.core.windows.net/","file":"https://ud0523.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/IIoT_Jumpstart/providers/Microsoft.Storage/storageAccounts/ft1stg50301","name":"ft1stg50301","type":"Microsoft.Storage/storageAccounts","location":"westeurope","tags":{},"properties":{"keyCreationTime":{"key1":"2023-10-26T15:46:21.5437820Z","key2":"2023-10-26T15:46:21.5437820Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-26T15:46:21.6531307Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-26T15:46:21.6531307Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-26T15:46:21.3875509Z","primaryEndpoints":{"dfs":"https://ft1stg50301.dfs.core.windows.net/","web":"https://ft1stg50301.z6.web.core.windows.net/","blob":"https://ft1stg50301.blob.core.windows.net/","queue":"https://ft1stg50301.queue.core.windows.net/","table":"https://ft1stg50301.table.core.windows.net/","file":"https://ft1stg50301.file.core.windows.net/"},"primaryLocation":"westeurope","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-southcentralus/providers/Microsoft.Storage/storageAccounts/cs710030000801c0315","name":"cs710030000801c0315","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-10-25T19:52:14.4318866Z","key2":"2023-10-25T19:52:14.4318866Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-25T19:52:14.4318866Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-25T19:52:14.4318866Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-25T19:52:14.3224594Z","primaryEndpoints":{"dfs":"https://cs710030000801c0315.dfs.core.windows.net/","web":"https://cs710030000801c0315.z21.web.core.windows.net/","blob":"https://cs710030000801c0315.blob.core.windows.net/","queue":"https://cs710030000801c0315.queue.core.windows.net/","table":"https://cs710030000801c0315.table.core.windows.net/","file":"https://cs710030000801c0315.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-southcentralus/providers/Microsoft.Storage/storageAccounts/cs71003200057f8b989","name":"cs71003200057f8b989","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-08-10T19:55:57.1293209Z","key2":"2023-08-10T19:55:57.1293209Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-10T19:55:57.2856051Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-10T19:55:57.2856051Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-10T19:55:57.0355654Z","primaryEndpoints":{"dfs":"https://cs71003200057f8b989.dfs.core.windows.net/","web":"https://cs71003200057f8b989.z21.web.core.windows.net/","blob":"https://cs71003200057f8b989.blob.core.windows.net/","queue":"https://cs71003200057f8b989.queue.core.windows.net/","table":"https://cs71003200057f8b989.table.core.windows.net/","file":"https://cs71003200057f8b989.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-southcentralus/providers/Microsoft.Storage/storageAccounts/cs710033fff801cb897","name":"cs710033fff801cb897","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-08-10T23:19:20.6052361Z","key2":"2023-08-10T23:19:20.6052361Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-10T23:19:20.6052361Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-10T23:19:20.6052361Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-10T23:19:20.4802421Z","primaryEndpoints":{"dfs":"https://cs710033fff801cb897.dfs.core.windows.net/","web":"https://cs710033fff801cb897.z21.web.core.windows.net/","blob":"https://cs710033fff801cb897.blob.core.windows.net/","queue":"https://cs710033fff801cb897.queue.core.windows.net/","table":"https://cs710033fff801cb897.table.core.windows.net/","file":"https://cs710033fff801cb897.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-southcentralus/providers/Microsoft.Storage/storageAccounts/cs710037ffe82b14289","name":"cs710037ffe82b14289","type":"Microsoft.Storage/storageAccounts","location":"southcentralus","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-08-11T14:32:38.7040816Z","key2":"2023-08-11T14:32:38.7040816Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-11T14:32:38.7040816Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-11T14:32:38.7040816Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-11T14:32:38.5946993Z","primaryEndpoints":{"dfs":"https://cs710037ffe82b14289.dfs.core.windows.net/","web":"https://cs710037ffe82b14289.z21.web.core.windows.net/","blob":"https://cs710037ffe82b14289.blob.core.windows.net/","queue":"https://cs710037ffe82b14289.queue.core.windows.net/","table":"https://cs710037ffe82b14289.table.core.windows.net/","file":"https://cs710037ffe82b14289.file.core.windows.net/"},"primaryLocation":"southcentralus","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cloud-shell-storage-centralindia/providers/Microsoft.Storage/storageAccounts/csg10032000334a759b","name":"csg10032000334a759b","type":"Microsoft.Storage/storageAccounts","location":"centralindia","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-09-18T12:37:25.3693093Z","key2":"2023-09-18T12:37:25.3693093Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-18T12:37:25.3693093Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-18T12:37:25.3693093Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-09-18T12:37:25.2912001Z","primaryEndpoints":{"dfs":"https://csg10032000334a759b.dfs.core.windows.net/","web":"https://csg10032000334a759b.z29.web.core.windows.net/","blob":"https://csg10032000334a759b.blob.core.windows.net/","queue":"https://csg10032000334a759b.queue.core.windows.net/","table":"https://csg10032000334a759b.table.core.windows.net/","file":"https://csg10032000334a759b.file.core.windows.net/"},"primaryLocation":"centralindia","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/veyalla-rg/providers/Microsoft.Storage/storageAccounts/deltastor2","name":"deltastor2","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{},"properties":{"dnsEndpointType":"Standard","defaultToOAuthAuthentication":false,"publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2023-08-11T04:46:26.5522952Z","key2":"2023-08-11T04:46:26.5522952Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"isSftpEnabled":false,"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":true,"allowSharedKeyAccess":true,"isHnsEnabled":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-11T04:46:26.6460695Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-11T04:46:26.6460695Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-11T04:46:26.4585396Z","primaryEndpoints":{"dfs":"https://deltastor2.dfs.core.windows.net/","web":"https://deltastor2.z5.web.core.windows.net/","blob":"https://deltastor2.blob.core.windows.net/","queue":"https://deltastor2.queue.core.windows.net/","table":"https://deltastor2.table.core.windows.net/","file":"https://deltastor2.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available","secondaryLocation":"westcentralus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://deltastor2-secondary.dfs.core.windows.net/","web":"https://deltastor2-secondary.z5.web.core.windows.net/","blob":"https://deltastor2-secondary.blob.core.windows.net/","queue":"https://deltastor2-secondary.queue.core.windows.net/","table":"https://deltastor2-secondary.table.core.windows.net/"}}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/lubaker46/providers/Microsoft.Storage/storageAccounts/lubaker46","name":"lubaker46","type":"Microsoft.Storage/storageAccounts","location":"westus2","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-07-11T23:24:38.0953618Z","key2":"2023-07-11T23:24:38.1109940Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-11T23:24:38.1735334Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-07-11T23:24:38.1735334Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-07-11T23:24:38.0016150Z","primaryEndpoints":{"dfs":"https://lubaker46.dfs.core.windows.net/","web":"https://lubaker46.z5.web.core.windows.net/","blob":"https://lubaker46.blob.core.windows.net/","queue":"https://lubaker46.queue.core.windows.net/","table":"https://lubaker46.table.core.windows.net/","file":"https://lubaker46.file.core.windows.net/"},"primaryLocation":"westus2","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/RG-armabla/providers/Microsoft.Storage/storageAccounts/armblabash","name":"armblabash","type":"Microsoft.Storage/storageAccounts","location":"westus3","tags":{"ms-resource-usage":"azure-cloud-shell"},"properties":{"keyCreationTime":{"key1":"2023-08-11T14:34:13.6328023Z","key2":"2023-08-11T14:34:13.6328023Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-11T14:34:13.6484743Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-11T14:34:13.6484743Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-11T14:34:13.5546738Z","primaryEndpoints":{"dfs":"https://armblabash.dfs.core.windows.net/","web":"https://armblabash.z1.web.core.windows.net/","blob":"https://armblabash.blob.core.windows.net/","queue":"https://armblabash.queue.core.windows.net/","table":"https://armblabash.table.core.windows.net/","file":"https://armblabash.file.core.windows.net/"},"primaryLocation":"westus3","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/veyalla-rg/providers/Microsoft.Storage/storageAccounts/stor53sb23uqnfnrk","name":"stor53sb23uqnfnrk","type":"Microsoft.Storage/storageAccounts","location":"westus3","tags":{},"properties":{"keyCreationTime":{"key1":"2023-08-18T04:19:41.5135861Z","key2":"2023-08-18T04:19:41.5135861Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-18T04:19:41.5135861Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-08-18T04:19:41.5135861Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-08-18T04:19:41.4354705Z","primaryEndpoints":{"dfs":"https://stor53sb23uqnfnrk.dfs.core.windows.net/","web":"https://stor53sb23uqnfnrk.z1.web.core.windows.net/","blob":"https://stor53sb23uqnfnrk.blob.core.windows.net/","queue":"https://stor53sb23uqnfnrk.queue.core.windows.net/","table":"https://stor53sb23uqnfnrk.table.core.windows.net/","file":"https://stor53sb23uqnfnrk.file.core.windows.net/"},"primaryLocation":"westus3","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/automatic-journey-6v99rqr9x972qgw/providers/Microsoft.Storage/storageAccounts/stor5abv4q7p2zv7e","name":"stor5abv4q7p2zv7e","type":"Microsoft.Storage/storageAccounts","location":"westus3","tags":{},"properties":{"keyCreationTime":{"key1":"2023-10-19T20:19:05.7285077Z","key2":"2023-10-19T20:19:05.7285077Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-19T20:19:05.9628751Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-19T20:19:05.9628751Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-19T20:19:05.6503725Z","primaryEndpoints":{"dfs":"https://stor5abv4q7p2zv7e.dfs.core.windows.net/","web":"https://stor5abv4q7p2zv7e.z1.web.core.windows.net/","blob":"https://stor5abv4q7p2zv7e.blob.core.windows.net/","queue":"https://stor5abv4q7p2zv7e.queue.core.windows.net/","table":"https://stor5abv4q7p2zv7e.table.core.windows.net/","file":"https://stor5abv4q7p2zv7e.file.core.windows.net/"},"primaryLocation":"westus3","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/friendly-adventure-vp66g9g6jxr2w7w9/providers/Microsoft.Storage/storageAccounts/storlijzw722afha4","name":"storlijzw722afha4","type":"Microsoft.Storage/storageAccounts","location":"westus3","tags":{},"properties":{"keyCreationTime":{"key1":"2023-10-07T00:58:40.7676210Z","key2":"2023-10-07T00:58:40.7676210Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-07T00:58:41.0019989Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-07T00:58:41.0019989Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-07T00:58:40.7207469Z","primaryEndpoints":{"dfs":"https://storlijzw722afha4.dfs.core.windows.net/","web":"https://storlijzw722afha4.z1.web.core.windows.net/","blob":"https://storlijzw722afha4.blob.core.windows.net/","queue":"https://storlijzw722afha4.queue.core.windows.net/","table":"https://storlijzw722afha4.table.core.windows.net/","file":"https://storlijzw722afha4.file.core.windows.net/"},"primaryLocation":"westus3","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/opulent-acorn-9677qrq7wxqhp/providers/Microsoft.Storage/storageAccounts/storrepwuia3jalgm","name":"storrepwuia3jalgm","type":"Microsoft.Storage/storageAccounts","location":"westus3","tags":{},"properties":{"keyCreationTime":{"key1":"2023-10-09T16:28:50.4140966Z","key2":"2023-10-09T16:28:50.4140966Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-09T16:28:50.6016008Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-09T16:28:50.6016008Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-09T16:28:50.3673030Z","primaryEndpoints":{"dfs":"https://storrepwuia3jalgm.dfs.core.windows.net/","web":"https://storrepwuia3jalgm.z1.web.core.windows.net/","blob":"https://storrepwuia3jalgm.blob.core.windows.net/","queue":"https://storrepwuia3jalgm.queue.core.windows.net/","table":"https://storrepwuia3jalgm.table.core.windows.net/","file":"https://storrepwuia3jalgm.file.core.windows.net/"},"primaryLocation":"westus3","statusOfPrimary":"available"}},{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/musical-spork-77vvr6rv5gv2p465/providers/Microsoft.Storage/storageAccounts/storzy5yo32eng2v4","name":"storzy5yo32eng2v4","type":"Microsoft.Storage/storageAccounts","location":"westus3","tags":{},"properties":{"keyCreationTime":{"key1":"2023-09-21T04:10:27.4914952Z","key2":"2023-09-21T04:10:27.4914952Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-21T04:10:27.4914952Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-09-21T04:10:27.4914952Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-09-21T04:10:27.4133511Z","primaryEndpoints":{"dfs":"https://storzy5yo32eng2v4.dfs.core.windows.net/","web":"https://storzy5yo32eng2v4.z1.web.core.windows.net/","blob":"https://storzy5yo32eng2v4.blob.core.windows.net/","queue":"https://storzy5yo32eng2v4.queue.core.windows.net/","table":"https://storzy5yo32eng2v4.table.core.windows.net/","file":"https://storzy5yo32eng2v4.file.core.windows.net/"},"primaryLocation":"westus3","statusOfPrimary":"available"}},{"sku":{"name":"Standard_RAGRS","tier":"Standard"},"kind":"StorageV2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/veyalla-rg/providers/Microsoft.Storage/storageAccounts/v1beta1","name":"v1beta1","type":"Microsoft.Storage/storageAccounts","location":"westus3","tags":{},"properties":{"dnsEndpointType":"Standard","defaultToOAuthAuthentication":false,"publicNetworkAccess":"Enabled","keyCreationTime":{"key1":"2023-10-22T15:02:47.4067503Z","key2":"2023-10-22T15:02:47.4067503Z"},"allowCrossTenantReplication":false,"privateEndpointConnections":[],"isSftpEnabled":false,"minimumTlsVersion":"TLS1_2","allowBlobPublicAccess":false,"allowSharedKeyAccess":true,"isHnsEnabled":true,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"requireInfrastructureEncryption":false,"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-22T15:02:47.6411927Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-10-22T15:02:47.6411927Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Hot","provisioningState":"Succeeded","creationTime":"2023-10-22T15:02:47.3286246Z","primaryEndpoints":{"dfs":"https://v1beta1.dfs.core.windows.net/","web":"https://v1beta1.z1.web.core.windows.net/","blob":"https://v1beta1.blob.core.windows.net/","queue":"https://v1beta1.queue.core.windows.net/","table":"https://v1beta1.table.core.windows.net/","file":"https://v1beta1.file.core.windows.net/"},"primaryLocation":"westus3","statusOfPrimary":"available","secondaryLocation":"eastus","statusOfSecondary":"available","secondaryEndpoints":{"dfs":"https://v1beta1-secondary.dfs.core.windows.net/","web":"https://v1beta1-secondary.z1.web.core.windows.net/","blob":"https://v1beta1-secondary.blob.core.windows.net/","queue":"https://v1beta1-secondary.queue.core.windows.net/","table":"https://v1beta1-secondary.table.core.windows.net/"}}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '84772'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:14:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - af50fdc2-9214-41c1-9d46-36dfe8f861f6
      - 157611a4-5973-4571-9d5a-c6633e83509a
      - a6fd3050-88f0-4a8a-9f8f-f54f7b2e743b
      - ff2bb442-5353-4374-85b1-ed0652cb07a7
      - aaee2050-14e1-42f3-94d4-87b065025182
      - e7e184c2-fadb-47e7-9cb7-d72c74bcd136
      - 12f2c0de-0e49-4060-a87a-0d9e906c5779
      - cb52ea22-1270-4b84-92ed-bc60d82b4fac
      x-msedge-ref:
      - 'Ref A: B9740B72AFB244FDB706F7778BFBEBF9 Ref B: CO6AA3150218009 Ref C: 2023-11-06T20:14:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-storage/21.1.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2023-01-01&$expand=kerb
  response:
    body:
      string: '{"keys":[{"creationTime":"2023-11-06T20:13:59.1508315Z","keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"creationTime":"2023-11-06T20:13:59.1508315Z","keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:14:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
      x-msedge-ref:
      - 'Ref A: F6838E28971B4568A8F74A5509B90C92 Ref B: CO6AA3150218009 Ref C: 2023-11-06T20:14:20Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/xml
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage container create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --name --account-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-storage-blob/12.16.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
      x-ms-date:
      - Mon, 06 Nov 2023 20:14:18 GMT
      x-ms-version:
      - '2022-11-02'
    method: PUT
    uri: https://clitest000002.blob.core.windows.net/iothubcontainer1000004?restype=container
  response:
    body:
      string: ''
    headers:
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:14:20 GMT
      etag:
      - '"0x8DBDF04F605DEB1"'
      last-modified:
      - Mon, 06 Nov 2023 20:14:20 GMT
      server:
      - Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0
      x-ms-version:
      - '2022-11-02'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-storage/21.1.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002/listKeys?api-version=2023-01-01&$expand=kerb
  response:
    body:
      string: '{"keys":[{"creationTime":"2023-11-06T20:13:59.1508315Z","keyName":"key1","value":"veryFakedStorageAccountKey==","permissions":"FULL"},{"creationTime":"2023-11-06T20:13:59.1508315Z","keyName":"key2","value":"veryFakedStorageAccountKey==","permissions":"FULL"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:14:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '11999'
      x-msedge-ref:
      - 'Ref A: 50E65A8F79874E99B96EBF1DAE8091A8 Ref B: CO6AA3150218039 Ref C: 2023-11-06T20:14:20Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - storage account show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-storage/21.1.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002?api-version=2023-01-01
  response:
    body:
      string: '{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"Storage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Storage/storageAccounts/clitest000002","name":"clitest000002","type":"Microsoft.Storage/storageAccounts","location":"westus","tags":{},"properties":{"keyCreationTime":{"key1":"2023-11-06T20:13:59.1508315Z","key2":"2023-11-06T20:13:59.1508315Z"},"privateEndpointConnections":[],"minimumTlsVersion":"TLS1_0","allowBlobPublicAccess":false,"networkAcls":{"ipv6Rules":[],"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2445048Z"},"blob":{"keyType":"Account","enabled":true,"lastEnabledTime":"2023-11-06T20:13:59.2445048Z"}},"keySource":"Microsoft.Storage"},"provisioningState":"Succeeded","creationTime":"2023-11-06T20:13:59.0570690Z","primaryEndpoints":{"blob":"https://clitest000002.blob.core.windows.net/","queue":"https://clitest000002.queue.core.windows.net/","table":"https://clitest000002.table.core.windows.net/","file":"https://clitest000002.file.core.windows.net/"},"primaryLocation":"westus","statusOfPrimary":"available"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1285'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:14:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 0DF7D588FB2E4679AC9D2691DB9E4A2B Ref B: CO6AA3150218039 Ref C: 2023-11-06T20:14:20Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","test":"test_iot_hub","date":"2023-11-06T20:13:21Z","module":"iot"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:14:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 65155776154349DE9D608078B02EED33 Ref B: CO6AA3150219031 Ref C: 2023-11-06T20:14:21Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"identity": {"type": "None"}, "location": "westus2", "sku": {"name": "Standard",
      "tier": "Standard"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      Content-Length:
      - '102'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.53.1 (AAZ) azsdk-python-core/1.26.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005?api-version=2023-01-01-preview
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005","name":"ehNamespaceiothubfortest1000005","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"2bd4119a-4d8d-4090-9183-f9e516c21723:ehnamespaceiothubfortest1zz4sxpg","createdAt":"2023-11-06T20:14:24.06Z","updatedAt":"2023-11-06T20:14:24.06Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000005.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:14:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '49'
      x-msedge-ref:
      - 'Ref A: 7293DD9451E4453885ECDF541C2B2BB4 Ref B: CO6AA3150220045 Ref C: 2023-11-06T20:14:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.53.1 (AAZ) azsdk-python-core/1.26.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005?api-version=2023-01-01-preview
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005","name":"ehNamespaceiothubfortest1000005","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"2bd4119a-4d8d-4090-9183-f9e516c21723:ehnamespaceiothubfortest1zz4sxpg","createdAt":"2023-11-06T20:14:24.06Z","updatedAt":"2023-11-06T20:14:24.06Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000005.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:14:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 6FEF5A217AF34FCD9BCB42C4A35BB535 Ref B: CO6AA3150220045 Ref C: 2023-11-06T20:14:25Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.53.1 (AAZ) azsdk-python-core/1.26.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005?api-version=2023-01-01-preview
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005","name":"ehNamespaceiothubfortest1000005","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Created","metricId":"2bd4119a-4d8d-4090-9183-f9e516c21723:ehnamespaceiothubfortest1zz4sxpg","createdAt":"2023-11-06T20:14:24.06Z","updatedAt":"2023-11-06T20:14:24.06Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000005.servicebus.windows.net:443/","status":"Activating"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '832'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:14:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 900B17DEF0C549028B5DB37A7ABD6BEB Ref B: CO6AA3150220045 Ref C: 2023-11-06T20:14:56Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs namespace create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name
      User-Agent:
      - AZURECLI/2.53.1 (AAZ) azsdk-python-core/1.26.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005?api-version=2023-01-01-preview
  response:
    body:
      string: '{"sku":{"name":"Standard","tier":"Standard","capacity":1},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005","name":"ehNamespaceiothubfortest1000005","type":"Microsoft.EventHub/Namespaces","location":"West
        US 2","tags":{},"properties":{"minimumTlsVersion":"1.2","publicNetworkAccess":"Enabled","disableLocalAuth":false,"zoneRedundant":false,"isAutoInflateEnabled":false,"maximumThroughputUnits":0,"kafkaEnabled":true,"provisioningState":"Succeeded","metricId":"2bd4119a-4d8d-4090-9183-f9e516c21723:ehnamespaceiothubfortest1zz4sxpg","createdAt":"2023-11-06T20:14:24.06Z","updatedAt":"2023-11-06T20:15:19.75Z","serviceBusEndpoint":"https://ehNamespaceiothubfortest1000005.servicebus.windows.net:443/","status":"Active"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '830'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server-sb:
      - Service-Bus-Resource-Provider/SN1
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 50300BC6B6E64F63BB4303D6AB9533AB Ref B: CO6AA3150220045 Ref C: 2023-11-06T20:15:28Z'
    status:
      code: 200
      message: OK
- request:
    body: '{}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub create
      Connection:
      - keep-alive
      Content-Length:
      - '2'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --namespace-name --name
      User-Agent:
      - AZURECLI/2.53.1 (AAZ) azsdk-python-core/1.26.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005/eventhubs/eventHubiothubfortest000006?api-version=2023-01-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005/eventhubs/eventHubiothubfortest000006","name":"eventHubiothubfortest000006","type":"Microsoft.EventHub/namespaces/eventhubs","location":"westus2","properties":{"retentionDescription":{"cleanupPolicy":"Delete","retentionTimeInHours":168},"messageRetentionInDays":7,"partitionCount":4,"status":"Active","createdAt":"2023-11-06T20:15:31.83Z","updatedAt":"2023-11-06T20:15:32.023Z","partitionIds":["0","1","2","3"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '575'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-messaging-activity-id:
      - 28ef3c81-b89c-44ea-9512-8f96a26e9f75
      x-ms-messaging-routing-id:
      - WESTUS2|WESTUS2|G11|2023-11-06T20:15:32
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 7A7146FC335B4E4DB4C13E579C7829E9 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:15:30Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"rights": ["Send"]}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub authorization-rule create
      Connection:
      - keep-alive
      Content-Length:
      - '36'
      Content-Type:
      - application/json
      ParameterSetName:
      - --resource-group --namespace-name --eventhub-name --name --rights
      User-Agent:
      - AZURECLI/2.53.1 (AAZ) azsdk-python-core/1.26.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005/eventhubs/eventHubiothubfortest000006/authorizationRules/eventHubPolicyiothubfortest?api-version=2023-01-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005/eventhubs/eventHubiothubfortest000006/authorizationRules/eventHubPolicyiothubfortest","name":"eventHubPolicyiothubfortest","type":"Microsoft.EventHub/namespaces/eventhubs/authorizationrules","properties":{"rights":["Send"]}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '387'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-messaging-activity-id:
      - 74687aab-6b9e-40f3-80f3-75a2d51b7f2d
      x-ms-messaging-routing-id:
      - WESTUS2|WESTUS2|G12|2023-11-06T20:15:32
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 33244BC5B00C4141AC8EE76B6BC46069 Ref B: CO6AA3150218009 Ref C: 2023-11-06T20:15:32Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - eventhubs eventhub authorization-rule keys list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --resource-group --namespace-name --eventhub-name --name
      User-Agent:
      - AZURECLI/2.53.1 (AAZ) azsdk-python-core/1.26.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.EventHub/namespaces/ehNamespaceiothubfortest1000005/eventhubs/eventHubiothubfortest000006/authorizationRules/eventHubPolicyiothubfortest/listKeys?api-version=2023-01-01-preview
  response:
    body:
      string: '{"primaryConnectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=mock_key;EntityPath=eventHubiothubfortest000006","secondaryConnectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=mock_key;EntityPath=eventHubiothubfortest000006","primaryKey":"mock_key","secondaryKey":"mock_key","keyName":"eventHubPolicyiothubfortest"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '515'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-messaging-activity-id:
      - 90b1dfab-513e-4a3a-b193-6ceeeaa9f651
      x-ms-messaging-routing-id:
      - WESTUS2|WESTUS2|G10|2023-11-06T20:15:33
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: FB26F170DEA74CADB9970CE9387F1357 Ref B: CO6AA3150220035 Ref C: 2023-11-06T20:15:32Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","test":"test_iot_hub","date":"2023-11-06T20:13:21Z","module":"iot"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D09FEF141A104B25B67EED5B179572B9 Ref B: CO6AA3150218027 Ref C: 2023-11-06T20:15:33Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"eventHubEndpoints": {"events":
      {"retentionTimeInDays": 1, "partitionCount": 4}}, "storageEndpoints": {"$default":
      {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}}, "sku": {"name": "F1",
      "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '604'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"code":400016,"httpStatusCode":400,"message":"Invalid PartitionCount
        4 - value must be between 2 and 2. If you contact a support representative
        please include this correlation identifier: 7cd1fd4f-5f2a-46b3-a348-602414a555b5,
        timestamp: 2023-11-06 20:15:34Z, errorcode: IH400016."}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '282'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:15:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: CE6571F38A53494EAB5112BC1B7A87C7 Ref B: CO6AA3150218045 Ref C: 2023-11-06T20:15:34Z'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --partition-count
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","test":"test_iot_hub","date":"2023-11-06T20:13:21Z","module":"iot"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1700B07BD9A1464FA9C861CC51034D54 Ref B: CO6AA3150220019 Ref C: 2023-11-06T20:15:34Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"eventHubEndpoints": {"events":
      {"retentionTimeInDays": 1, "partitionCount": 4}}, "storageEndpoints": {"$default":
      {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}}, "sku": {"name": "F1",
      "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '604'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku --partition-count
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"code":400016,"httpStatusCode":400,"message":"Invalid PartitionCount
        4 - value must be between 2 and 2. If you contact a support representative
        please include this correlation identifier: 7f36b399-088e-4f98-91fe-f7874c793e2b,
        timestamp: 2023-11-06 20:15:35Z, errorcode: IH400016."}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '282'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:15:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: CAF4ADCB09C1453CADD7922EB42DE707 Ref B: CO6AA3150218037 Ref C: 2023-11-06T20:15:34Z'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku --mintls
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","test":"test_iot_hub","date":"2023-11-06T20:13:21Z","module":"iot"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: F8D9FD7CF6594888A09EF9D2282EADEA Ref B: CO6AA3150219051 Ref C: 2023-11-06T20:15:36Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"minTlsVersion": "2.5", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 1, "partitionCount": 4}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName":
      ""}}, "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H",
      "feedback": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount":
      10}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '628'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku --mintls
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"code":400089,"httpStatusCode":400,"message":"2.5 is not a valid MinTlsVersion
        value. If you contact a support representative please include this correlation
        identifier: 47daf3df-0ee3-4277-a14c-9d9fe157ac81, timestamp: 2023-11-06 20:15:37Z,
        errorcode: IH400089."}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '264'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:15:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 037DD85B9B4F486CAA3D6A04FDF4CC34 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:15:36Z'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","test":"test_iot_hub","date":"2023-11-06T20:13:21Z","module":"iot"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:15:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 3EB70ED4FB98444796A4E319E8C7D3AD Ref B: CO6AA3150220025 Ref C: 2023-11-06T20:15:37Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 3, "partitionCount": 4}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName":
      ""}}, "messagingEndpoints": {"fileNotifications": {"lockDurationAsIso8601":
      "PT15S", "ttlAsIso8601": "PT20H", "maxDeliveryCount": 79}}, "enableFileUploadNotifications":
      false, "cloudToDevice": {"maxDeliveryCount": 89, "defaultTtlAsIso8601": "PT23H",
      "feedback": {"lockDurationAsIso8601": "PT35S", "ttlAsIso8601": "P1DT5H", "maxDeliveryCount":
      40}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '634'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","properties":{"provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"None","minTlsVersion":"1.2","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZDBhNjlkYTktODFlOC00NDM3LWI3ZjUtYjczMjk1YmUxYTkx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1001'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:16:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 22D471479A2646D196ECAD8C5F9E14B6 Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:15:37Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZDBhNjlkYTktODFlOC00NDM3LWI3ZjUtYjczMjk1YmUxYTkx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:16:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 6F0C8572589448BCB88E5CBD9A424551 Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:16:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZDBhNjlkYTktODFlOC00NDM3LWI3ZjUtYjczMjk1YmUxYTkx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:16:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D5D3AC943E694CC187FC8184E219DBAE Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:16:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZDBhNjlkYTktODFlOC00NDM3LWI3ZjUtYjczMjk1YmUxYTkx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:17:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 49D452C7CE254FE2BE554323E6ADA870 Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:17:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZDBhNjlkYTktODFlOC00NDM3LWI3ZjUtYjczMjk1YmUxYTkx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:17:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 05B1177C0E5B4B9DB2C59AEB1F86EDA0 Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:17:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZDBhNjlkYTktODFlOC00NDM3LWI3ZjUtYjczMjk1YmUxYTkx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 6C96FD63729749AE80BC53E881DC4209 Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:18:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZDBhNjlkYTktODFlOC00NDM3LWI3ZjUtYjczMjk1YmUxYTkx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 062D9C68A6A54ACF97FCD25363498CB0 Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:18:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --retention-day --c2d-ttl --c2d-max-delivery-count --feedback-ttl --feedback-lock-duration
        --feedback-max-delivery-count --fileupload-notification-max-delivery-count
        --fileupload-notification-ttl --min-tls-version --fnld
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1843'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1B7D8E92608F47179EDC053FEB06BD8B Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:18:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3CU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3FE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8007'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 76BBF7737101402C95B5AF247FB86906 Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:18:37Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/IotHubKeys/iothubowner/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: DC3942D67BFC4833B9A60261D2D71067 Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:18:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3CU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3FM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8007'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: BA99715A30C640DC887765EA9255FCEA Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:18:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/IotHubKeys/iothubowner/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: D654FACEEBDD44DEB80E93E321CDCC51 Ref B: CO6AA3150217051 Ref C: 2023-11-06T20:18:40Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3CU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3Fk=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8557'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 621B108BDAB74CA0B9078D40136E075E Ref B: CO6AA3150217051 Ref C: 2023-11-06T20:18:41Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n -g --all
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '545'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 3C9D7637522B43A28DF8843851238BDC Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:18:43Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --all
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3CU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3HM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8546'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 8752896118AF4C329519D4EC2E0634E0 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:18:43Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc --tags
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3CU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3HM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8546'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 6920771743F942D6BBA390A01858BB41 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:18:44Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc --tags
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3CU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3HM=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":3,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT20H","maxDeliveryCount":79}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":89,"defaultTtlAsIso8601":"PT23H","feedback":{"lockDurationAsIso8601":"PT35S","ttlAsIso8601":"P1DT5H","maxDeliveryCount":40}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '8546'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: F585CD0D7A294AE6AFF811B441559638 Ref B: CO6AA3150218011 Ref C: 2023-11-06T20:18:46Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h3E0=",
      "properties": {"allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion":
      "1.2", "eventHubEndpoints": {"events": {"retentionTimeInDays": 4, "partitionCount":
      4}}, "routing": {"endpoints": {"serviceBusQueues": [], "serviceBusTopics": [],
      "eventHubs": [], "storageContainers": [], "cosmosDBSqlContainers": []}, "routes":
      [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1536'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h3E0=
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc --tags
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3E0=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNWQ5ZWM4MWQtYmQ0Zi00OWQwLWIwNzUtZGFmYzFmNzJiYjU2?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '3660'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 0CA0E129C3944D639D62988B1E027512 Ref B: CO6AA3150218011 Ref C: 2023-11-06T20:18:47Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc --tags
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNWQ5ZWM4MWQtYmQ0Zi00OWQwLWIwNzUtZGFmYzFmNzJiYjU2?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:18:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 7C5ED383379E4880847E20349B40A8B7 Ref B: CO6AA3150218011 Ref C: 2023-11-06T20:18:51Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc --tags
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNWQ5ZWM4MWQtYmQ0Zi00OWQwLWIwNzUtZGFmYzFmNzJiYjU2?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 86FD140CCC5449A2A8B5B76EF33D29B6 Ref B: CO6AA3150218011 Ref C: 2023-11-06T20:19:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --fnd --rd --ct --cdd --ft --fld --fd --fn --fnt --fst --fcs --fc --tags
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3M0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2223'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B42560825BF242C3B30E8FFDC5ECD67D Ref B: CO6AA3150218011 Ref C: 2023-11-06T20:19:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:19:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 864BD31868C84B948D27EFC9C32B14C8 Ref B: CO6AA3150220011 Ref C: 2023-11-06T20:19:22Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 8889B3B66977462FBE4B07034C4B53DB Ref B: CO6AA3150218009 Ref C: 2023-11-06T20:19:22Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsa
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3M0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2223'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 07CE294B9C3F4A67ACCEA999EF43A0E8 Ref B: CO6AA3150218009 Ref C: 2023-11-06T20:19:23Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:19:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2023428D24AF4BC4AD4D6CD752A2E07C Ref B: CO6AA3150217023 Ref C: 2023-11-06T20:19:24Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-msedge-ref:
      - 'Ref A: 03BB0DC321C141EC982FC1E3A03A860D Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:19:24Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3M0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2223'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D6B871F5C01349EAA45643DABFF66A1C Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:19:25Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:19:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B000C0FEDB6C48BB88BABA2075966275 Ref B: CO6AA3150220025 Ref C: 2023-11-06T20:19:26Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 39C30394A24F421DA389104FFDF4687A Ref B: CO6AA3150219023 Ref C: 2023-11-06T20:19:26Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --fsi
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3M0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2223'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 5D4386FA86174B66BC76FFC25427AD68 Ref B: CO6AA3150219023 Ref C: 2023-11-06T20:19:27Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:19:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 0BAD7BBCC4004D03AE2887D30AFC767D Ref B: CO6AA3150218045 Ref C: 2023-11-06T20:19:28Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: FFD16CDDC6B040AF998BAFD36AF8884B Ref B: CO6AA3150217053 Ref C: 2023-11-06T20:19:28Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3M0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2223'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 65EC588EFC2447E5B2796481003C896F Ref B: CO6AA3150217053 Ref C: 2023-11-06T20:19:29Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h3M0=",
      "properties": {"disableLocalAuth": true, "disableModuleSAS": true, "allowedFqdnList":
      [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": [], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1564'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h3M0=
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3M0=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":true,"disableModuleSAS":true,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNzMxZTU2NDUtZTIzZS00Mjc5LThiZjUtNWI0M2Y4OTVmMDdh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '3684'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 5430DD7A88624503BB3CB20670128292 Ref B: CO6AA3150217011 Ref C: 2023-11-06T20:19:30Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNzMxZTU2NDUtZTIzZS00Mjc5LThiZjUtNWI0M2Y4OTVmMDdh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:19:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8329B44B841C4D88A2AFED04ECB18307 Ref B: CO6AA3150217011 Ref C: 2023-11-06T20:19:34Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNzMxZTU2NDUtZTIzZS00Mjc5LThiZjUtNWI0M2Y4OTVmMDdh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:20:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 51DE102631CC4353A4EBC406280C0957 Ref B: CO6AA3150217011 Ref C: 2023-11-06T20:20:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNzMxZTU2NDUtZTIzZS00Mjc5LThiZjUtNWI0M2Y4OTVmMDdh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:20:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 37D9307180F14E969EBAD63EE61FD17F Ref B: CO6AA3150217011 Ref C: 2023-11-06T20:20:34Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-module-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3b4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":true,"disableModuleSAS":true,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2271'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:20:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 72C49A8E21204F79AE0D543940F5F878 Ref B: CO6AA3150217011 Ref C: 2023-11-06T20:20:34Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-module-sas --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:20:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 498BD732AFD040DFB3BA0CADD84C745A Ref B: CO6AA3150220033 Ref C: 2023-11-06T20:20:35Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --disable-module-sas --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:20:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 0A4066367A8C4372941068796B748A45 Ref B: CO6AA3150220011 Ref C: 2023-11-06T20:20:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-module-sas --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3b4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":true,"disableModuleSAS":true,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2271'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:20:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B5DAA936606E4A8AAC411289B349A69A Ref B: CO6AA3150220011 Ref C: 2023-11-06T20:20:36Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h3b4=",
      "properties": {"disableLocalAuth": true, "disableDeviceSAS": true, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [], "cosmosDBSqlContainers": []}, "routes": [], "fallbackRoute": {"name": "$fallback",
      "source": "DeviceMessages", "condition": "true", "endpointNames": ["events"],
      "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1591'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h3b4=
      ParameterSetName:
      - -n -g --disable-module-sas --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3b4=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":true,"disableDeviceSAS":true,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOWIyZTI4MTUtNWM0Zi00Zjg1LWFkZGMtZjA3NGE4YTNjMTM4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '3709'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:20:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 16CF382AD26F435E8DB994ABBEE602ED Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:20:37Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-module-sas --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOWIyZTI4MTUtNWM0Zi00Zjg1LWFkZGMtZjA3NGE4YTNjMTM4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:20:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: E47E1C5C88CF43C7A75F5F066A0BCC8A Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:20:40Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-module-sas --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOWIyZTI4MTUtNWM0Zi00Zjg1LWFkZGMtZjA3NGE4YTNjMTM4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 6E6C268FC7B04119A248FE022F428C19 Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:21:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-module-sas --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3pE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":true,"disableDeviceSAS":true,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2296'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 0F93903AB8F946108CBB93708EAA7FFB Ref B: CO6AA3150218053 Ref C: 2023-11-06T20:21:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:21:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 98862C6BBAEC48F28810FDC6F1A93F8E Ref B: CO6AA3150219023 Ref C: 2023-11-06T20:21:12Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --disable-local-auth --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: F0BDB1E8A9C14A90BE35CFB893E60FF3 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:21:12Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3pE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":true,"disableDeviceSAS":true,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2296'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 297B5B260CA14D069F7A67EA4C4BB78E Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:21:13Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h3pE=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [], "cosmosDBSqlContainers": []}, "routes": [], "fallbackRoute": {"name": "$fallback",
      "source": "DeviceMessages", "condition": "true", "endpointNames": ["events"],
      "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      Content-Length:
      - '1593'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h3pE=
      ParameterSetName:
      - -n -g --disable-local-auth --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3pE=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNmQyYjZiNGUtMWEyNy00NDdjLWJmMjItMmY4ZjlhZTAwNTgx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '3711'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 119EB0E5E0784D9E85187C0496B5306E Ref B: CO6AA3150217051 Ref C: 2023-11-06T20:21:13Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNmQyYjZiNGUtMWEyNy00NDdjLWJmMjItMmY4ZjlhZTAwNTgx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 9B58C3266E4B4274BBC744745D957858 Ref B: CO6AA3150217051 Ref C: 2023-11-06T20:21:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNmQyYjZiNGUtMWEyNy00NDdjLWJmMjItMmY4ZjlhZTAwNTgx?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 51644F0554A74D588383D58DFE57E6A2 Ref B: CO6AA3150217051 Ref C: 2023-11-06T20:21:49Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --disable-local-auth --disable-device-sas
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h31A=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2298'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4C7870BC64914974B19AB8F2500CF602 Ref B: CO6AA3150217051 Ref C: 2023-11-06T20:21:49Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3yQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3jE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h31A=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9643'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: EB19894DB4784A6A8701323CCBADE81B Ref B: CO6AA3150218009 Ref C: 2023-11-06T20:21:50Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h31A=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 43293ED707FF4B0192509B02ED96BD5C Ref B: CO6AA3150220033 Ref C: 2023-11-06T20:21:52Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list-skus
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3yQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3jE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h31A=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9643'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 35D14E0266F04E95A825ABF08CAC0129 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:21:53Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub list-skus
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/skus?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S1","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S2","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S3","tier":"Standard"},"capacity":{"minimum":1,"maximum":10,"default":1,"scaleType":"Manual"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '475'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 30544C0EE08F46B691C993D6C993E0BF Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:21:54Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3yQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h3jE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h31A=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9643'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: D09814DF50F241F5A8C479017CDF0DC3 Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:21:55Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '545'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 11A79C9858B3489A90CC16176AF4F438 Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:21:56Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h31A=",
      "properties": {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryWrite, ServiceConnect, DeviceConnect"},
      {"keyName": "service", "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights":
      "ServiceConnect"}, {"keyName": "device", "primaryKey":"mock_key", "secondaryKey":"mock_key",
      "rights": "DeviceConnect"}, {"keyName": "registryRead", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryRead"}, {"keyName": "registryReadWrite",
      "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "rights": "RegistryWrite, ServiceConnect, DeviceConnect"}],
      "disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS": false,
      "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [], "cosmosDBSqlContainers": []}, "routes": [], "fallbackRoute": {"name": "$fallback",
      "source": "DeviceMessages", "condition": "true", "endpointNames": ["events"],
      "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      Content-Length:
      - '2270'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h31A=
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h31A=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":null,"secondaryKey":null,"rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZWZkOWI2MTQtMzQ5NC00ODkyLTk0NzUtZWM0ODZmYzY0Yzk4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4103'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 0AC73D0BC0F4414297E453D631EA077C Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:21:56Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZWZkOWI2MTQtMzQ5NC00ODkyLTk0NzUtZWM0ODZmYzY0Yzk4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:21:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2F794499A7184788A93D9AF7C8B93B11 Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:22:00Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZWZkOWI2MTQtMzQ5NC00ODkyLTk0NzUtZWM0ODZmYzY0Yzk4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B4A16B166EC941D89DA68971990171D0 Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:22:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --permissions
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h36w=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2298'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 203EAED3A72A4A12B8798311B1DBF4ED Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:22:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3yQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h37Q=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h36w=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9552'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 71E3984C081C4FE89D4AFB48303A1A19 Ref B: CO6AA3150218021 Ref C: 2023-11-06T20:22:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '677'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 797DFACA9200490080B6A2CA162A3DF8 Ref B: CO6AA3150218021 Ref C: 2023-11-06T20:22:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3yQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h37Y=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h36w=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10053'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 1B7F0D1141504EB29D641829A4E63F95 Ref B: CO6AA3150220021 Ref C: 2023-11-06T20:22:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy show
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/IotHubKeys/test_policy/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 2FCCD38C22EE48849B3F0985144EEC39 Ref B: CO6AA3150220021 Ref C: 2023-11-06T20:22:34Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h3yQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"keyBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h37o=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h36w=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10042'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 3967AB8A6EBA4D1289FD77293E21F712 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:22:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '677'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 94DEFDE9E9594506A20CE2559BF05CE5 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:22:36Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h36w=",
      "properties": {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryWrite, ServiceConnect, DeviceConnect"},
      {"keyName": "service", "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights":
      "ServiceConnect"}, {"keyName": "device", "primaryKey":"mock_key", "secondaryKey":"mock_key",
      "rights": "DeviceConnect"}, {"keyName": "registryRead", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryRead"}, {"keyName": "registryReadWrite",
      "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "primaryKey":"mock_key", "secondaryKey":"mock_key",
      "rights": "RegistryWrite, ServiceConnect, DeviceConnect"}], "disableLocalAuth":
      false, "disableDeviceSAS": false, "disableModuleSAS": false, "allowedFqdnList":
      [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": [], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '2322'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h36w=
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h36w=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:22:18 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:22:18 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:22:18 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:22:18 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:22:18 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:22:18 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMDNlYTI5MjUtMzAyZS00MGNjLWE3YTktZmY0NDE4NGQ1MzVl?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4354'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 4C122F3AAEDD47EE8592C9839D3717C5 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:22:36Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMDNlYTI5MjUtMzAyZS00MGNjLWE3YTktZmY0NDE4NGQ1MzVl?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:22:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 950185AC61D740D5B07B9268E6271B58 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:22:40Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMDNlYTI5MjUtMzAyZS00MGNjLWE3YTktZmY0NDE4NGQ1MzVl?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1D9DEFA4F0374A6C945C943ED3648393 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:23:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3+4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2298'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 69A301FE5B5E4DC8B236B95EA384D19E Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:23:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h39I=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4CE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3+4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9956'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: A7A02688ED2446B683B3B8226633B8A9 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:23:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/IotHubKeys/test_policy/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-msedge-ref:
      - 'Ref A: 1E956F2B3C014C079C5857EB582C1858 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:23:13Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4DU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4CE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3+4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9967'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 2F0C443122504722B260DA68346E77D1 Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:23:13Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/IotHubKeys/test_policy/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 53173121F0754FAFB940B3004A3EBBDE Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:23:14Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-connection-string
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --policy-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4DU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4CE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3+4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9967'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 50AF63BCDA8740C1B22339B6CD8775E9 Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:23:15Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4FU=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4CE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Transitioning","provisioningState":"Transitioning","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3+4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9967'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:16 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 30CC2C0A46DF4F4F88C5602E7D798233 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:16Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '677'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 6D5CF50A474E43D4A2C14C83D9D16838 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:17Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h3+4=",
      "properties": {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryWrite, ServiceConnect, DeviceConnect"},
      {"keyName": "service", "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights":
      "ServiceConnect"}, {"keyName": "device", "primaryKey":"mock_key", "secondaryKey":"mock_key",
      "rights": "DeviceConnect"}, {"keyName": "registryRead", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryRead"}, {"keyName": "registryReadWrite",
      "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights": "RegistryWrite"},
      {"keyName": "test_policy", "primaryKey":"mock_key", "secondaryKey":"mock_key",
      "rights": "RegistryWrite, ServiceConnect, DeviceConnect"}], "disableLocalAuth":
      false, "disableDeviceSAS": false, "disableModuleSAS": false, "allowedFqdnList":
      [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints": {"events":
      {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints": {"serviceBusQueues":
      [], "serviceBusTopics": [], "eventHubs": [], "storageContainers": [], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '2322'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h3+4=
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h3+4=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:22:42 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:22:42 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:22:42 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:22:42 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:22:42 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:22:42 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNzE4NGYwNGItY2FiOC00MmJmLWI4MGMtNTlmZmM4Mjc4Mzc0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4354'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 389642B139BA4FEB82195CAB04743308 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:17Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNzE4NGYwNGItY2FiOC00MmJmLWI4MGMtNTlmZmM4Mjc4Mzc0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 997CA777462B470C84756C80F542E116 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNzE4NGYwNGItY2FiOC00MmJmLWI4MGMtNTlmZmM4Mjc4Mzc0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 9D6022B0DB454ED18F0619A60602E346 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:52Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4Ik=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2298'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: AEEBCF9AF4A245F9B9A17F63C06A8E90 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:52Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4N0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4Ik=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10047'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 264B4135C29549968DB13F6F6837BD84 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:53Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy renew-key
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n --renew-key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/IotHubKeys/test_policy/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '131'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 46C97438AD974FD3BC4BB28E0C8C249B Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:23:54Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4N0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"endpointUri":"sb://ehNamespaceiothubfortest1lmvh7hy.servicebus.windows.net","entityPath":"eventHubiothubfortestn2vvewmp6on","authenticationType":"identityBased","name":"EHSystemIdentityEndpointtwe2cwco","id":"c147ac99-851c-4795-b24f-cc4dc594eee4","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4Ik=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '10047'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: E2019B9062E04320B5414A74AB5F2FF2 Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:23:54Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '677'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 79676A8FC0334FB799CADCA92BDE7587 Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:23:56Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '677'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: F757F0EBCD1C48DEB39642F540C8EA5F Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:23:56Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h4Ik=",
      "properties": {"authorizationPolicies": [{"keyName": "iothubowner", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryWrite, ServiceConnect, DeviceConnect"},
      {"keyName": "service", "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights":
      "ServiceConnect"}, {"keyName": "device", "primaryKey":"mock_key", "secondaryKey":"mock_key",
      "rights": "DeviceConnect"}, {"keyName": "registryRead", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "RegistryRead"}, {"keyName": "registryReadWrite",
      "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights": "RegistryWrite"}],
      "disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS": false,
      "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [], "cosmosDBSqlContainers": []}, "routes": [], "fallbackRoute": {"name": "$fallback",
      "source": "DeviceMessages", "condition": "true", "endpointNames": ["events"],
      "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '2184'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h4Ik=
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4Ik=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:23:24 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:23:24 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:23:24 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:23:24 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"test_policy","primaryKey":"mock_key","secondaryKey":"mock_key","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:23:24 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:23:24 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMjEwMzVlOWEtNWUzMi00YmFmLTkyY2MtMmZhZTIxOTQ1MTg1?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4222'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
      x-msedge-ref:
      - 'Ref A: 3A010C9686184F86B60758E09007BFC2 Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:23:56Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMjEwMzVlOWEtNWUzMi00YmFmLTkyY2MtMmZhZTIxOTQ1MTg1?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:23:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B2C26ED7247749DAA2974CEB7C650AA6 Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:23:59Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMjEwMzVlOWEtNWUzMi00YmFmLTkyY2MtMmZhZTIxOTQ1MTg1?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 6396C93661A344B09C74EA7420701051 Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:24:29Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2298'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1CBBCC0181744BD5B92CF707D926F2CA Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:24:29Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 9F09DE94BF0240B0B1109A7E02360902 Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:24:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/listkeys?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"keyName":"iothubowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"RegistryWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '545'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: FDD07941A17D4877B2E0F7FD6FA21DFE Ref B: CO6AA3150217037 Ref C: 2023-11-06T20:24:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: C20A54E89B3E442D81FBCFB0E9BB9D11 Ref B: CO6AA3150217019 Ref C: 2023-11-06T20:24:32Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"name": "cg1"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group create
      Connection:
      - keep-alive
      Content-Length:
      - '31'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2023-06-30-preview
  response:
    body:
      string: '{"properties":{"created":"Mon, 06 Nov 2023 20:24:35 GMT","properties":{"name":"cg1"}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '376'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: CA879D194C8F4A5EA6B22595B9458AFE Ref B: CO6AA3150217019 Ref C: 2023-11-06T20:24:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: B23B0097F777458287EF281820E18EEC Ref B: CO6AA3150218021 Ref C: 2023-11-06T20:24:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2023-06-30-preview
  response:
    body:
      string: '{"properties":{"created":"Mon, 06 Nov 2023 20:24:35 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2B6B5C56A1E84B478E8336A0EE754B7D Ref B: CO6AA3150218021 Ref C: 2023-11-06T20:24:37Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 1E4B5AC46EB2489AA069F253D16ABEA1 Ref B: CO6AA3150218037 Ref C: 2023-11-06T20:24:37Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"properties":{"created":"Mon, 06 Nov 2023 20:18:13 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/%24Default","name":"$Default","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null},{"properties":{"created":"Mon,
        06 Nov 2023 20:24:35 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/cg1","name":"cg1","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '721'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: F7EC4F2BF75C425F83BCF20AC65A9CF7 Ref B: CO6AA3150218037 Ref C: 2023-11-06T20:24:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: A3691396D2FB4265B0EFDFFADADE2D2D Ref B: CO6AA3150217045 Ref C: 2023-11-06T20:24:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hub-name -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2023-06-30-preview
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:24:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
      x-msedge-ref:
      - 'Ref A: 66A65E3E122144C0A5DC011681142718 Ref B: CO6AA3150217045 Ref C: 2023-11-06T20:24:42Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 40D9D2A9C4924320B821D393164E8EFD Ref B: CO6AA3150217031 Ref C: 2023-11-06T20:24:43Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub consumer-group list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"properties":{"created":"Mon, 06 Nov 2023 20:18:13 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/eventHubEndpoints/events/ConsumerGroups/%24Default","name":"$Default","type":"Microsoft.Devices/IotHubs/EventHubEndpoints/ConsumerGroups","etag":null}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '372'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 65C5B2BA41EF4F28B73B5E23F84D8EC4 Ref B: CO6AA3150217031 Ref C: 2023-11-06T20:24:44Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-quota-metrics
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 3B331A4C6C4A4961BAE513BB92A27E6E Ref B: CO6AA3150219019 Ref C: 2023-11-06T20:24:45Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-quota-metrics
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/quotaMetrics?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"name":"TotalMessages","currentValue":0,"maxValue":400000},{"name":"TotalDeviceCount","currentValue":0,"maxValue":1000000}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '135'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A6C00A0703254C32969C117B00B4CF00 Ref B: CO6AA3150219019 Ref C: 2023-11-06T20:24:46Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-stats
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra/providers/Microsoft.Devices/IotHubs/cli-file-upload-hubzaaou7uenyjen","name":"cli-file-upload-hubzaaou7uenyjen","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rgybmmxdfxu2nots4efcxek3zr4oiri2p2cfvffxumrqhcovlmdfbgza22wdth7mfra","etag":"AAAADH/h4Hs=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"cli-file-upload-hubzaaou7uenyjen.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"cli-file-upload-hubzaaou7","endpoint":"sb://iothub-ns-cli-file-u-25337363-49fffd5473.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitestpgkehj5k3lydbnvge.blob.core.windows.net/;FileEndpoint=https://clitestpgkehj5k3lydbnvge.file.core.windows.net/;QueueEndpoint=https://clitestpgkehj5k3lydbnvge.queue.core.windows.net/;TableEndpoint=https://clitestpgkehj5k3lydbnvge.table.core.windows.net/;AccountName=clitestpgkehj5k3lydbnvge;AccountKey=****","containerName":"iothubcontainer1pj2rz5sm","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT13H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:24.283384Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned","principalId":"40d1ac76-3aae-4c3b-8822-39755f0a65a3"},"systemData":{"createdAt":"2023-11-06T20:14:49.3633333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h4V0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47","type":"SystemAssigned,
        UserAssigned","userAssignedIdentities":{"/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.ManagedIdentity/userAssignedIdentities/iot-user-identitybkzkoiqvf23zymd":{"clientId":"f47d641a-49a2-4ab2-988b-7e74c5852db4","principalId":"1a9d724e-5100-4822-8589-3a303654d429"}},"principalId":"927d970a-0f77-406d-a643-a7951726fbf9"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '9648'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: 6081DE690D794FA8ACE428027B941515 Ref B: CO6AA3150219021 Ref C: 2023-11-06T20:24:49Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub show-stats
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/IotHubStats?api-version=2023-06-30-preview
  response:
    body:
      string: '{"totalDeviceCount":0,"enabledDeviceCount":0,"disabledDeviceCount":0}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '69'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 032762226844441CA6C4D79C3E0AB546 Ref B: CO6AA3150219021 Ref C: 2023-11-06T20:24:51Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:24:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8E3A98111A7243A7BEC01D4225162B9F Ref B: CO6AA3150218037 Ref C: 2023-11-06T20:24:51Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: FBC8D72A3ACE41B5915BB1811BA6B765 Ref B: CO6AA3150219025 Ref C: 2023-11-06T20:24:51Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2298'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 57A15AAABCF64020B79D6A9F42CB640B Ref B: CO6AA3150219025 Ref C: 2023-11-06T20:24:52Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h4U0=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"connectionString":
      "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=mock_key;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '1912'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h4U0=
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4U0=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=mock_key;EntityPath=eventHubiothubfortest000006","name":"Event1","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYTJhNGZhM2EtNzZlNC00YWFkLTg2NTktZDU1NmNkZmNlZDQy?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4023'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: AD8B483437CF4FD8AF4244B21A038873 Ref B: CO6AA3150219025 Ref C: 2023-11-06T20:24:53Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYTJhNGZhM2EtNzZlNC00YWFkLTg2NTktZDU1NmNkZmNlZDQy?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:24:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 7ACC62F8DF0E4D72B5AAC469C9F65A72 Ref B: CO6AA3150219025 Ref C: 2023-11-06T20:24:56Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYTJhNGZhM2EtNzZlNC00YWFkLTg2NTktZDU1NmNkZmNlZDQy?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 3E49F86869F14B419C2F6FB306FB3A39 Ref B: CO6AA3150219025 Ref C: 2023-11-06T20:25:26Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4cE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2655'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 3486531F9F6345C08EC02C5FE17316F0 Ref B: CO6AA3150219025 Ref C: 2023-11-06T20:25:26Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:25:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: CE05FD8C6BF4476EA45A34ED0400ABF4 Ref B: CO6AA3150218035 Ref C: 2023-11-06T20:25:28Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 2CE5D681BCF04A36B9891EBA0A1E526B Ref B: CO6AA3150219045 Ref C: 2023-11-06T20:25:28Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4cE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2655'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 73AEF6B165EF4EABA7C1AE90698480B5 Ref B: CO6AA3150219045 Ref C: 2023-11-06T20:25:29Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:25:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A5264689BB4544B3AA6AC42CA6EA46AB Ref B: CO6AA3150217051 Ref C: 2023-11-06T20:25:30Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: A481045A0709425E838C3168D6031EFE Ref B: CO6AA3150218049 Ref C: 2023-11-06T20:25:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -t
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4cE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2655'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1F3A2851EDEB47878C037DB5AF6359C3 Ref B: CO6AA3150218049 Ref C: 2023-11-06T20:25:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:25:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 52462507D8BD4C0E875B4A9B5841FF65 Ref B: CO6AA3150220029 Ref C: 2023-11-06T20:25:32Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: 632AF1EAC8B74DAD84F638289B98FD85 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:25:32Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4cE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2655'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D6BA94DAE21144228917647A5AE7CCB4 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:25:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:25:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B9F4DD07FA924C8BBBD757436CF95AD8 Ref B: CO6AA3150220031 Ref C: 2023-11-06T20:25:34Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: FA0D4097051C462D986F91385B28D2BE Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:25:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4cE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2655'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: E52E32A784D74089B55323BE09BC75B4 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:25:35Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h4cE=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      Content-Length:
      - '2660'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h4cE=
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4cE=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;AccountName=clitest000002;AccountKey=veryFakedStorageAccountKey==;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYTZjNGFjYjYtODhjNy00ZTZkLWE3YmItMzg4NTJlNTQ2ODg2?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4752'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: F0855DC39D814D4EA6159EEC38312DB5 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:25:36Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYTZjNGFjYjYtODhjNy00ZTZkLWE3YmItMzg4NTJlNTQ2ODg2?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:25:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A263AE443EB54550873DFD2BB5583BC8 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:25:40Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYTZjNGFjYjYtODhjNy00ZTZkLWE3YmItMzg4NTJlNTQ2ODg2?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:26:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 5B2730F5A47243BAADC4CF35683C3557 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:26:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -t -r -s -c --container-name --encoding -b -w
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4nw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3359'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:26:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 34204087D8FF4FAB8283E5F27E691263 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:26:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:26:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: F81EDCEC023544A49ED62953989E53AE Ref B: CO6AA3150219029 Ref C: 2023-11-06T20:26:12Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:26:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 914940E2823C4E3CAC59C9F2D9BBB520 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:26:12Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4nw=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3359'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:26:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A269578C0B574501B8C99A16C4BF2C69 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:26:13Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h4nw=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [{"name": "route1", "source": "devicemessages", "condition":
      "true", "endpointNames": ["Event1"], "isEnabled": true}], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      Content-Length:
      - '2797'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h4nw=
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h4nw=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZjFlNDQ4MzktZDBiMS00Zjc0LTgxNjQtNDk3MTI1ZDdiNDI5?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4878'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:26:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 5BD937D7ACB349319BA15703D12BD7C1 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:26:14Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZjFlNDQ4MzktZDBiMS00Zjc0LTgxNjQtNDk3MTI1ZDdiNDI5?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:26:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8E0BC5E435444AABA2AE685FE60711B8 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:26:17Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZjFlNDQ4MzktZDBiMS00Zjc0LTgxNjQtNDk3MTI1ZDdiNDI5?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:26:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1CB585312E78472098C5A87A0ED3AFB3 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:26:48Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfZjFlNDQ4MzktZDBiMS00Zjc0LTgxNjQtNDk3MTI1ZDdiNDI5?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8ED6FBCBF7394070B83F54D3E1FBF58B Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:27:18Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s --en -c -e
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2FC4103B7FDC447493B753D7A4B5F1A7 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:27:18Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:27:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 452B52E1E6ED41B6958206D00B5F7825 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:27:19Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 62333790F19A464CA053F56E8C7C5643 Ref B: CO6AA3150217053 Ref C: 2023-11-06T20:27:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 53AC2EB7081B46DCB24E36236B93DC6C Ref B: CO6AA3150217053 Ref C: 2023-11-06T20:27:20Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:27:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4C2C35C84852427BB10F9AE93930E4C8 Ref B: CO6AA3150220021 Ref C: 2023-11-06T20:27:21Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: DFF4D2E4965842A0AE53707450217376 Ref B: CO6AA3150218049 Ref C: 2023-11-06T20:27:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4E695FE37982487FA0BCEB3C2680D151 Ref B: CO6AA3150218049 Ref C: 2023-11-06T20:27:22Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:27:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 7A6BE16F2CFB4768A7D0E12E0C0C04BC Ref B: CO6AA3150220021 Ref C: 2023-11-06T20:27:23Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: CA8458873BA7446FA74A4E967A6207A8 Ref B: CO6AA3150219051 Ref C: 2023-11-06T20:27:23Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:24 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8F93606070954FF5A1E2717DCB435A57 Ref B: CO6AA3150219051 Ref C: 2023-11-06T20:27:24Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:27:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A41DEA2D1BBA4364ADEE5940D2985F1B Ref B: CO6AA3150219051 Ref C: 2023-11-06T20:27:25Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: 5911894FEEB046B1870495C8815D1C67 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:27:25Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D595F33C39B64090A1FF8770B38E77D7 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:27:26Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"message": {}, "route": {"name": "route1", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["Event1"], "isEnabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '141'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/routing/routes/$testnew?api-version=2023-06-30-preview
  response:
    body:
      string: '{"result":"true"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '17'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1197'
      x-msedge-ref:
      - 'Ref A: 213BA1A6D9CF418AAD8B0A0543080623 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:27:27Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n --sp --ap
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:27:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 05D9DBF2067E4661B734A1D3CE6BC4EE Ref B: CO6AA3150217009 Ref C: 2023-11-06T20:27:28Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n --sp --ap
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: A196DF93E4044304B6BE923B3DE55E3E Ref B: CO6AA3150218019 Ref C: 2023-11-06T20:27:28Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n --sp --ap
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: CC43167FA994483EA9767343C30168A7 Ref B: CO6AA3150218019 Ref C: 2023-11-06T20:27:29Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"message": {"appProperties": {"body": "4"}, "systemProperties": {"body":
      "4"}}, "route": {"name": "route1", "source": "DeviceMessages", "condition":
      "true", "endpointNames": ["Event1"], "isEnabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '206'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n --sp --ap
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/routing/routes/$testnew?api-version=2023-06-30-preview
  response:
    body:
      string: '{"result":"true"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '17'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: C3E0C6FC69FA4FBF92F64F681B1DD7A6 Ref B: CO6AA3150218019 Ref C: 2023-11-06T20:27:29Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"routingSource": "devicemessages", "message": {}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route test
      Connection:
      - keep-alive
      Content-Length:
      - '50'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/routing/routes/$testall?api-version=2023-06-30-preview
  response:
    body:
      string: '{"routes":[{"properties":{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '134'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 0A4AC88AF96849C8A05FDD51EF3AEA06 Ref B: CO6AA3150220039 Ref C: 2023-11-06T20:27:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:27:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1A9E0714E99D4EF4BD6EE8B087659306 Ref B: CO6AA3150218045 Ref C: 2023-11-06T20:27:31Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 52BCF201B4A94A68BEAEF0C17BB7DC2C Ref B: CO6AA3150220035 Ref C: 2023-11-06T20:27:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 53982CFD7C0D48CD97FBA6C0E4C025FE Ref B: CO6AA3150220035 Ref C: 2023-11-06T20:27:32Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h43s=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [{"name": "route1", "source": "devicemessages", "condition":
      "true", "endpointNames": ["Event1"], "isEnabled": true}], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '2797'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h43s=
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h43s=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOGQ4MGFmYTEtNjRjNC00NTY5LTlhY2QtZDg4NjBkYmQ4NDFm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4878'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 1FDA53C46A474956820397E6C1FECE79 Ref B: CO6AA3150220035 Ref C: 2023-11-06T20:27:32Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOGQ4MGFmYTEtNjRjNC00NTY5LTlhY2QtZDg4NjBkYmQ4NDFm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:27:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4C5B177F148845EDB45F50C75194FA0B Ref B: CO6AA3150220035 Ref C: 2023-11-06T20:27:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOGQ4MGFmYTEtNjRjNC00NTY5LTlhY2QtZDg4NjBkYmQ4NDFm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B1C6D2B7FB4143C1B64CB6505C3A92E1 Ref B: CO6AA3150220035 Ref C: 2023-11-06T20:28:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5BA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 18616457A1614C628AFF01A974A6B77A Ref B: CO6AA3150220035 Ref C: 2023-11-06T20:28:06Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:28:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C05713EBEBEF4CFF9ED5B7D3168916AD Ref B: CO6AA3150217023 Ref C: 2023-11-06T20:28:08Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 6741C5E47FC848EB94CAC248038C2AE5 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:28:08Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5BA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceMessages","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3465'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 646E8E4C1C694F75A20C9AC0F6C1A239 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:28:08Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5BA=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [{"name": "route1", "source": "twinchangeevents", "condition":
      "true", "endpointNames": ["Event1"], "isEnabled": true}], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '2799'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5BA=
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5BA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjkwNzYyNGMtMmJkOS00YzkyLWJlMWEtY2E4ZjUxNDkzNjNl?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4880'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: B30022997BCD43F1984D7B2841711DB3 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:28:09Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjkwNzYyNGMtMmJkOS00YzkyLWJlMWEtY2E4ZjUxNDkzNjNl?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A29A056624A042C892E69785D829E93B Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:28:15Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjkwNzYyNGMtMmJkOS00YzkyLWJlMWEtY2E4ZjUxNDkzNjNl?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 543FBAD7513B4DDDADE69D2D287DD196 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:28:45Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5GQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3467'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4D1A6AF31BD94EB097355A0DA0865EF4 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:28:45Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:28:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D544283A939E45AB9A7D82FE02CBFAB9 Ref B: CO6AA3150219045 Ref C: 2023-11-06T20:28:46Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 6562C8EA3A8E4F52B9BF96B152523047 Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:28:46Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5GQ=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"TwinChangeEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3467'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 7EAFEBBDE9F94037A958C72A55AC7378 Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:28:47Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5GQ=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [{"name": "route1", "source": "devicelifecycleevents", "condition":
      "true", "endpointNames": ["Event1"], "isEnabled": true}], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '2804'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5GQ=
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5GQ=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceLifecycleEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjMwZTA2YWQtMmJkMy00MTIzLWE3YjUtN2M4NGRkNWI0OWJh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4885'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
      x-msedge-ref:
      - 'Ref A: 5089F21D28D84625AC71EA17CF98851A Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:28:48Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjMwZTA2YWQtMmJkMy00MTIzLWE3YjUtN2M4NGRkNWI0OWJh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:28:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 130CBE72F7D24F2FB669683E66A7E19B Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:28:51Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjMwZTA2YWQtMmJkMy00MTIzLWE3YjUtN2M4NGRkNWI0OWJh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A7F453FF0C164630B548F65276949A53 Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:29:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5LA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceLifecycleEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3472'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C98BE3208FD442D49ECC51B24957B35B Ref B: CO6AA3150217035 Ref C: 2023-11-06T20:29:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:29:22 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C8D205B242CC4A5EA24F0AC5181B7EFE Ref B: CO6AA3150218021 Ref C: 2023-11-06T20:29:22Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 28C36C44AC5F461EB9B46D6E3F9FC978 Ref B: CO6AA3150218025 Ref C: 2023-11-06T20:29:23Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5LA=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceLifecycleEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3472'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 627E744A6C2F4A9A9039D74462C42328 Ref B: CO6AA3150218025 Ref C: 2023-11-06T20:29:24Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5LA=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [{"name": "route1", "source": "devicejoblifecycleevents", "condition":
      "true", "endpointNames": ["Event1"], "isEnabled": true}], "fallbackRoute": {"name":
      "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '2807'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5LA=
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5LA=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceJobLifecycleEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNTlhYmRmOGMtZGU0Ny00MjNjLWFlZDctNTBmZTU5YzlhYjRm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4888'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 8D5BED33D518428D9812FA5434D01000 Ref B: CO6AA3150218025 Ref C: 2023-11-06T20:29:24Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNTlhYmRmOGMtZGU0Ny00MjNjLWFlZDctNTBmZTU5YzlhYjRm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 9670D527261A4EBB998A8FEE85B8E069 Ref B: CO6AA3150218025 Ref C: 2023-11-06T20:29:28Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNTlhYmRmOGMtZGU0Ny00MjNjLWFlZDctNTBmZTU5YzlhYjRm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 9BAACF2290F6403AA74AF5FF60AE2DE2 Ref B: CO6AA3150218025 Ref C: 2023-11-06T20:29:58Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5Rc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceJobLifecycleEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3475'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:29:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2CE5E11210EE49BA91D182549A54C0D3 Ref B: CO6AA3150218025 Ref C: 2023-11-06T20:29:58Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:29:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 75999540BEA5491981F65BEF958B11E8 Ref B: CO6AA3150219019 Ref C: 2023-11-06T20:29:59Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: FEA9B371016E4792B7625B6451CDDD78 Ref B: CO6AA3150219029 Ref C: 2023-11-06T20:29:59Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5Rc=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceJobLifecycleEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3475'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2CE310FA1F014DA283DBA7D30EB1DD71 Ref B: CO6AA3150219029 Ref C: 2023-11-06T20:30:00Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5Rc=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [{"name": "route1", "source": "deviceconnectionstateevents",
      "condition": "true", "endpointNames": ["Event1"], "isEnabled": true}], "fallbackRoute":
      {"name": "$fallback", "source": "DeviceMessages", "condition": "true", "endpointNames":
      ["events"], "isEnabled": true}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      Content-Length:
      - '2810'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5Rc=
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5Rc=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjU2OGY5MzAtNzhlMy00NjBhLTkwMGMtNGQ2Zjg5MzE2N2Zm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4891'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: AEA892BEB8BA487A8B25CAC9E8BA11D1 Ref B: CO6AA3150219029 Ref C: 2023-11-06T20:30:01Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjU2OGY5MzAtNzhlMy00NjBhLTkwMGMtNGQ2Zjg5MzE2N2Zm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Pending"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B1793D9C0E184D4D9E8AC03E0027F566 Ref B: CO6AA3150219029 Ref C: 2023-11-06T20:30:05Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNjU2OGY5MzAtNzhlMy00NjBhLTkwMGMtNGQ2Zjg5MzE2N2Zm?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 9D5C95E9521E45EEB37EA5E412C28232 Ref B: CO6AA3150219029 Ref C: 2023-11-06T20:30:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route update
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -s
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5bE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3478'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 7DCDBECB8A8041C6BCFFF69C78E19D21 Ref B: CO6AA3150219029 Ref C: 2023-11-06T20:30:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:30:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 664A3C87D68E4F4785A4ED40129A3488 Ref B: CO6AA3150217025 Ref C: 2023-11-06T20:30:36Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 9586AFCC748D426FA701B8F3AE685413 Ref B: CO6AA3150219035 Ref C: 2023-11-06T20:30:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5bE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[{"name":"route1","source":"DeviceConnectionStateEvents","condition":"true","endpointNames":["Event1"],"isEnabled":true}],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3478'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:37 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: CEF226F106EF42F38C347FB966A53525 Ref B: CO6AA3150219035 Ref C: 2023-11-06T20:30:37Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5bE=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [{"id": "5763d60d-a05e-43fa-bc5f-2dbde530fd2d",
      "connectionString": "Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006",
      "name": "Event1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001"}], "storageContainers": [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be",
      "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      Content-Length:
      - '2682'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5bE=
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5bE=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNWI2MzNjMTgtZGFkYS00N2VlLThjMjctY2RmYTZiYmU5YmU4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4772'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 37B7401216984277B642E725E6FB7278 Ref B: CO6AA3150219035 Ref C: 2023-11-06T20:30:38Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNWI2MzNjMTgtZGFkYS00N2VlLThjMjctY2RmYTZiYmU5YmU4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:30:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2FD5A4B8F9A44AB0AE3E759F708BBF86 Ref B: CO6AA3150219035 Ref C: 2023-11-06T20:30:42Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfNWI2MzNjMTgtZGFkYS00N2VlLThjMjctY2RmYTZiYmU5YmU4?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: F543B0B50B804BBA8DD8098E11F715E0 Ref B: CO6AA3150219035 Ref C: 2023-11-06T20:31:12Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub route delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5i4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3359'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 13F546019D7B45E78BE056FE82E5FC8C Ref B: CO6AA3150219035 Ref C: 2023-11-06T20:31:12Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:31:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4454322AE0964492AA22D843ECD07BAD Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:31:14Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:14 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 5A849FAB7DAA4BF0A6DD74F0D6A30918 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:31:14Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5i4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[{"connectionString":"Endpoint=sb://ehnamespaceiothubfortest1zz4sxpg.servicebus.windows.net:5671/;SharedAccessKeyName=eventHubPolicyiothubfortest;SharedAccessKey=****;EntityPath=eventHubiothubfortest000006","name":"Event1","id":"5763d60d-a05e-43fa-bc5f-2dbde530fd2d","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3359'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:15 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 21A89556F20F442D9059EEB6C27A3A4F Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:31:15Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5i4=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      Content-Length:
      - '2316'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5i4=
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5i4=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMzA1ZDZlZWUtYTkzYS00MGZlLWEzYzItOTE3YzdjMzBiNzI1?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4415'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 95D8D41FD0A141378D61E71C52B1732F Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:31:16Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMzA1ZDZlZWUtYTkzYS00MGZlLWEzYzItOTE3YzdjMzBiNzI1?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 93409F31636048969890C0DA13CE21EC Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:31:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMzA1ZDZlZWUtYTkzYS00MGZlLWEzYzItOTE3YzdjMzBiNzI1?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:49 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 266AA9BF19DB454CBC5A9A10876BBC94 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:31:50Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub routing-endpoint delete
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5t4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3002'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:50 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: CBB842AC2266491BAA3EFDFE3B890747 Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:31:50Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub devicestream show
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2019-07-01-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5t4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2674'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2B05A47C8F5D4FD1BB1FB9CC438EDDEE Ref B: CO6AA3150219011 Ref C: 2023-11-06T20:31:51Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:31:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C63C9A0F835D4A74BB405494A23C7DD1 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:31:52Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 0BAFE3DC2564453CBC22D81C548AD9BB Ref B: CO6AA3150220047 Ref C: 2023-11-06T20:31:52Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5t4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3002'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D4498DC4FE7C4E578DE078BBA7F97496 Ref B: CO6AA3150220047 Ref C: 2023-11-06T20:31:53Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5t4=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}, "enrichments":
      [{"key": "key", "value": "value", "endpointNames": ["events", "fake_endpoint"]}]},
      "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      Content-Length:
      - '2413'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5t4=
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"code":400131,"httpStatusCode":400,"message":"Enrichment has an undefined
        endpoint, Enrichment Key:key, EndpointName:fake_endpoint. If you contact a
        support representative please include this correlation identifier: 1f6dc5b5-4bf3-4888-ac7b-5fa5dcbcc7f2,
        timestamp: 2023-11-06 20:31:57Z, errorcode: IH400131."}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:31:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 62A44BEBDDF244849743834B6BCCD424 Ref B: CO6AA3150220047 Ref C: 2023-11-06T20:31:54Z'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:31:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 98391AC129FC4572A5D571B91E279617 Ref B: CO6AA3150217023 Ref C: 2023-11-06T20:31:57Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1196'
      x-msedge-ref:
      - 'Ref A: F377C98DA2394BD990481FCAEBB4CFA3 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:31:58Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5t4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3002'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:31:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: BCC1D98DB51C4CAB818210B11E3BE104 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:31:58Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h5t4=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}, "enrichments":
      [{"key": "key", "value": "value", "endpointNames": ["events"]}]}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      Content-Length:
      - '2396'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h5t4=
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h5t4=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOTYxYmUzMjMtMzNkOS00Y2NiLWI5ZDQtZDJmY2EyNmYzNWU0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4488'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 94CADD97EA0E44D6BDBF863378C499FB Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:31:59Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOTYxYmUzMjMtMzNkOS00Y2NiLWI5ZDQtZDJmY2EyNmYzNWU0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Pending"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 86B8546D163446ACA82CE3066C331D15 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:32:03Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfOTYxYmUzMjMtMzNkOS00Y2NiLWI5ZDQtZDJmY2EyNmYzNWU0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: AA740DD4E4114318B56C4712E5B30D65 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:32:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h548=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4D9C34142CA84B9EABC3B24322294B19 Ref B: CO6AA3150219047 Ref C: 2023-11-06T20:32:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:32:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: CECBB3F0A05F42BBB29D07403FFC3232 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:32:35Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 5C860F275B7D4216BCF08DE1626A1C90 Ref B: CO6AA3150217053 Ref C: 2023-11-06T20:32:35Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h548=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8C837858C82246098F38515247B51FA9 Ref B: CO6AA3150217053 Ref C: 2023-11-06T20:32:36Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:32:36 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: FC2EE86CC4424EE18792A874EC77304F Ref B: CO6AA3150218045 Ref C: 2023-11-06T20:32:37Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: 0EEE0865D48046C9A8B41FAC79883873 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:32:37Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h548=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 916C94D43CDE4DC3B3AB2B8A60A61B56 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:32:38Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h548=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}, "enrichments":
      [{"key": "key", "value": "value", "endpointNames": ["events", "fake_endpoint"]}]},
      "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      Content-Length:
      - '2413'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h548=
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"code":400131,"httpStatusCode":400,"message":"Enrichment has an undefined
        endpoint, Enrichment Key:key, EndpointName:fake_endpoint. If you contact a
        support representative please include this correlation identifier: acf8bc4e-f45e-4121-97f2-69e64a7b7bee,
        timestamp: 2023-11-06 20:32:43Z, errorcode: IH400131."}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:32:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: 8FF5F18FAD444E29AB03EBBE149EBFC1 Ref B: CO6AA3150217017 Ref C: 2023-11-06T20:32:39Z'
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:32:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 2C4989C7E488466CB07830940C48B7B6 Ref B: CO6AA3150220011 Ref C: 2023-11-06T20:32:43Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: FA42F4F2FF6F4F11B137943659008391 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:32:43Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h548=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: AB3C55FE923741798064A60BA06C40FA Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:32:44Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h548=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}, "enrichments":
      [{"key": "key", "value": "value", "endpointNames": ["events"]}]}, "storageEndpoints":
      {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      Content-Length:
      - '2396'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h548=
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h548=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMmJmNmQzMmUtNjUzMy00ZWU3LTk1MzUtYmIzYTMwMjVlZDI3?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4488'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
      x-msedge-ref:
      - 'Ref A: F4E3EE5E0B5446C1B673FD6A390D6288 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:32:45Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMmJmNmQzMmUtNjUzMy00ZWU3LTk1MzUtYmIzYTMwMjVlZDI3?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:32:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 608B6A2B112A4B93BEE17667C0DCE3D2 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:32:49Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMmJmNmQzMmUtNjUzMy00ZWU3LTk1MzUtYmIzYTMwMjVlZDI3?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 56A81CD9F7034421B164DE07BC856811 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:33:19Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment update
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key --value --endpoints
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h59o=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:20 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 48318D957B144B74B8A707CA7564FAF4 Ref B: CO6AA3150217021 Ref C: 2023-11-06T20:33:20Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment list
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:33:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 9348FC7511C9406D9F1A0A5E71E2BB9A Ref B: CO6AA3150220009 Ref C: 2023-11-06T20:33:21Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment list
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 4EF2DD339C2946EABB59725EC6BCD5ED Ref B: CO6AA3150218047 Ref C: 2023-11-06T20:33:21Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment list
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h59o=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 0A203A12291442C28204A25C4E526F65 Ref B: CO6AA3150218047 Ref C: 2023-11-06T20:33:22Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:33:23 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D487071BCCA74E4380C383E4A5AE97C7 Ref B: CO6AA3150218033 Ref C: 2023-11-06T20:33:24Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 6E44877B0A20476DBCB0DEC01B9191A2 Ref B: CO6AA3150218045 Ref C: 2023-11-06T20:33:24Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h59o=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D07A463F1C3E406FB099ECD52050D10A Ref B: CO6AA3150218045 Ref C: 2023-11-06T20:33:26Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:33:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B422145096EF4B61AA9DEA2670AF05D6 Ref B: CO6AA3150218019 Ref C: 2023-11-06T20:33:27Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: 991DDCC24EBA4674B89691C357556F48 Ref B: CO6AA3150219053 Ref C: 2023-11-06T20:33:27Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h59o=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[{"key":"key","value":"value","endpointNames":["events"]}],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3075'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C1DD348E500E40629F86D7FACACCE3C7 Ref B: CO6AA3150219053 Ref C: 2023-11-06T20:33:28Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "tags": {"e": "f", "g": "h"}, "etag": "AAAADH/h59o=",
      "properties": {"disableLocalAuth": false, "disableDeviceSAS": false, "disableModuleSAS":
      false, "allowedFqdnList": [], "ipFilterRules": [], "minTlsVersion": "1.2", "eventHubEndpoints":
      {"events": {"retentionTimeInDays": 4, "partitionCount": 4}}, "routing": {"endpoints":
      {"serviceBusQueues": [], "serviceBusTopics": [], "eventHubs": [], "storageContainers":
      [{"id": "327a2429-ba6e-41b5-8209-8414bf7b69be", "connectionString": "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "name": "Storage1", "subscriptionId": "2bd4119a-4d8d-4090-9183-f9e516c21723",
      "resourceGroup": "clitest.rg000001", "containerName": "iothubcontainer1000004",
      "fileNameFormat": "{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}", "batchFrequencyInSeconds":
      100, "maxChunkSizeInBytes": 157286400, "encoding": "avro"}], "cosmosDBSqlContainers":
      []}, "routes": [], "fallbackRoute": {"name": "$fallback", "source": "DeviceMessages",
      "condition": "true", "endpointNames": ["events"], "isEnabled": true}, "enrichments":
      []}, "storageEndpoints": {"$default": {"sasTtlAsIso8601": "PT3H", "connectionString":
      "DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****",
      "containerName": "iothubcontainer1000004"}}, "messagingEndpoints": {"fileNotifications":
      {"lockDurationAsIso8601": "PT15S", "ttlAsIso8601": "P1DT8H", "maxDeliveryCount":
      80}}, "enableFileUploadNotifications": true, "cloudToDevice": {"maxDeliveryCount":
      46, "defaultTtlAsIso8601": "P1DT10H", "feedback": {"lockDurationAsIso8601":
      "PT10S", "ttlAsIso8601": "P1DT19H", "maxDeliveryCount": 76}}, "features": "RootCertificateV2",
      "rootCertificate": {"enableRootCertificateV2": true}}, "sku": {"name": "S1",
      "capacity": 1}, "identity": {"type": "None"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      Content-Length:
      - '2335'
      Content-Type:
      - application/json
      If-Match:
      - AAAADH/h59o=
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h59o=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"provisioningState":"Accepted","ipFilterRules":[],"eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/","internalAuthorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"scaleunitsend-ee1ced00-135a-4a7c-9d06-d5f3d99186e5-iothub","PrimaryKey":"x1kostPHeTEUWX28PRzWAKCYFHyJmXnfR1reg3yvkNI=","SecondaryKey":"HMUZI6/IUyZWFBPD6Peso/yFb/sAuRIgGNYu797xB3I=","Rights":["Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"owner-e9f05206-76f3-4dc7-a093-25a26ff92aa1-iothub","PrimaryKey":"SEbIuoiSgARYCXtzMv7OK7ulfUHFsn31pNbS48W1Wso=","SecondaryKey":"OEqEO+Qp5tahSyT3HQ7+Rh/OwjHj3zcwk2E0nhN6y8Q=","Rights":["Listen","Manage","Send"],"CreatedTime":"Mon,
        06 Nov 2023 20:18:12 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:18:12 GMT"}],"authorizationPolicies":[{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"iothubowner","PrimaryKey":"yNbJZ17S3h0q/zVwrAU9bV0ZyYv8Ok0iXAIoTIH4Mwg=","SecondaryKey":"HgwYkEW9NacX97cQFp65jbP+/Y+oBwRlHAIoTOA4lgI=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"},{"ClaimType":"SharedAccessKey","ClaimValue":"None","KeyName":"service","PrimaryKey":"uF/bCmdDI5RQGwjWl6v8pK2Fo9pYdY34jAIoTPiQDoA=","SecondaryKey":"5q/odILIYjTSTcNc03BqjPeO8EglhG+wZAIoTKsEuZk=","Rights":["Listen"],"CreatedTime":"Mon,
        06 Nov 2023 20:24:19 GMT","ModifiedTime":"Mon, 06 Nov 2023 20:24:19 GMT"}]}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMzQ3OWM3NmMtM2U4OS00YzFkLWI3NTAtZWNkZmQ5ZGNjODk3?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4432'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
      x-msedge-ref:
      - 'Ref A: 1388E85989A24945A73AC275C8E8E26A Ref B: CO6AA3150219053 Ref C: 2023-11-06T20:33:29Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMzQ3OWM3NmMtM2U4OS00YzFkLWI3NTAtZWNkZmQ5ZGNjODk3?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:33:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 162C063B4CAD4A79A9F89D1172EB5EEE Ref B: CO6AA3150219053 Ref C: 2023-11-06T20:33:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfMzQ3OWM3NmMtM2U4OS00YzFkLWI3NTAtZWNkZmQ5ZGNjODk3?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:34:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 839F651E588846E6909C7CE122CC081F Ref B: CO6AA3150219053 Ref C: 2023-11-06T20:34:03Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub message-enrichment delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --key
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h6CE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3019'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:34:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: D340AA96B41F4002846CBC6DD275B763 Ref B: CO6AA3150219053 Ref C: 2023-11-06T20:34:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:34:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A2FDE57315DB44BF9F58035362E9649A Ref B: CO6AA3150219045 Ref C: 2023-11-06T20:34:05Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:34:05 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: B2E6AE62F7E74673B24ED48622059E7E Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:34:05Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h6CE=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-91a6724b47.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3019'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:34:06 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 239E7FE706A04AE2A8DB6059870F8304 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:34:06Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"failoverRegion": "West Central US"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003/failover?api-version=2023-06-30-preview
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:34:08 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
      x-msedge-ref:
      - 'Ref A: B386C8013FDC461B852BCD75FD09EADB Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:34:07Z'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:34:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 85CED2415EDA4A4B8308A83733F4A251 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:34:08Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:34:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: F5A8F0666228473BB3C722BEBE0FF1E9 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:34:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:35:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 17ADA3554C9A46EDBAC15797C353058A Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:35:09Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:35:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 429F2A726F894B3F84A1B44ED4882786 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:35:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:36:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B1111468BA904823B574BCCE7EA969FD Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:36:09Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:36:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1E9A56CBD6544796ACDC79BF645CB4D9 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:36:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:37:08 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: CF4F12726E4C498781407E8CE366FDFA Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:37:09Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:37:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 686FDC0294B54D6B8FF7FDA0D56A2722 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:37:39Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:38:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 4A86F5549D7B4A7C9569C76710AC00E4 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:38:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:38:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: DECB6CA2EB7B455EADBB3F8C56D94172 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:38:40Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:39:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: C778A7FF566F4D15A723289BB4509AC4 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:39:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:39:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: E5F1D4A9A98C48869F3F8D155973D87F Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:39:40Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:40:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8A1DC888D25245E2A1FAADB42F1C9569 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:40:10Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:40:40 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: AA9FFA8B9BCA4AFD9156EE8490C02138 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:40:40Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:41:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B70FE6368DC943039CBA2C3A7EBD4B0E Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:41:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:41:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 54F906426DF94F0E9F949594F5CEBC46 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:41:41Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:42:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B8821337C91542E0812639B364F63D5A Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:42:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:42:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 75ED26C7DEBD4C85BDAE31BE3155AB0D Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:42:41Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:43:11 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 6C0A2CF530BB4E5EA5F3D5A42019C5A9 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:43:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:43:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8C4BC3E3A6CE4DCA9D9B038763EF162A Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:43:42Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:43:41 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfM2VkNWVkYWYtYzk2Yi00YmZmLTg5OTEtNjg0MDQwMGNjOWJi?api-version=2023-06-30-preview&operationSource=os_ih
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 8336FC22E572411EB9E2EA669E174B4A Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:43:42Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:43:41 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: B61CD16D01304931BE9D3687F0653E53 Ref B: CO6AA3150217033 Ref C: 2023-11-06T20:43:42Z'
    status:
      code: 204
      message: No Content
- request:
    body: '{"name": "iot-hub-for-test-11000003"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      Content-Length:
      - '37'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2023-06-30-preview
  response:
    body:
      string: '{"nameAvailable":false,"reason":"AlreadyExists","message":"IotHub name
        ''iot-hub-for-test-11000003'' is not available"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '117'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:43:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
      x-msedge-ref:
      - 'Ref A: 69FB60B047204F5D83E4DDBCE2DDD642 Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:43:42Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub manual-failover
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h7jc=","properties":{"locations":[{"location":"West
        Central US","role":"primary"},{"location":"West US 2","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-f801c142bd.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3019'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:43:43 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 64550BA94F0349F2B7AA181A60AAC0FD Ref B: CO6AA3150217049 Ref C: 2023-11-06T20:43:43Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d/providers/Microsoft.Devices/IotHubs/identitytesthubdot5pqabwwvncexx5","name":"identitytesthubdot5pqabwwvncexx5","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg5oojm43vax62z5rmssih7m2pe63kabum5vaxi4s3vtx27jwewlgoyqojuh72rha3d","etag":"AAAADH/h7m4=","properties":{"locations":[{"location":"West
        US 2","role":"primary"},{"location":"West Central US","role":"secondary"}],"state":"Deleting","provisioningState":"Deleting","ipFilterRules":[],"hostName":"identitytesthubdot5pqabwwvncexx5.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"identitytesthubdot5pqabww","endpoint":"sb://iothub-ns-identityte-25337364-1af41aafd4.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitesttlx2ce7vqbgonaecs.blob.core.windows.net/;FileEndpoint=https://clitesttlx2ce7vqbgonaecs.file.core.windows.net/;QueueEndpoint=https://clitesttlx2ce7vqbgonaecs.queue.core.windows.net/;TableEndpoint=https://clitesttlx2ce7vqbgonaecs.table.core.windows.net/;AccountName=clitesttlx2ce7vqbgonaecs;AccountKey=****","containerName":"iothubcontainer","authenticationType":"identityBased"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","minTlsVersion":"1.2","privateEndpointConnections":[],"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:14:27.6621169Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:14:53.1133333Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003","name":"iot-hub-for-test-11000003","type":"Microsoft.Devices/IotHubs","location":"westus2","tags":{"e":"f","g":"h"},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h7jc=","properties":{"locations":[{"location":"West
        Central US","role":"primary"},{"location":"West US 2","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test-11000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":4,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-11w3ghff","endpoint":"sb://iothub-ns-iot-hub-fo-25337365-f801c142bd.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[{"connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004","fileNameFormat":"{iothub}/{partition}/{YYYY}/{MM}/{DD}/{HH}/{mm}","batchFrequencyInSeconds":100,"maxChunkSizeInBytes":157286400,"encoding":"avro","name":"Storage1","id":"327a2429-ba6e-41b5-8209-8414bf7b69be","subscriptionId":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourceGroup":"clitest.rg000001"}],"cosmosDBSqlContainers":[]},"enrichments":[],"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT3H","connectionString":"DefaultEndpointsProtocol=https;EndpointSuffix=core.windows.net;BlobEndpoint=https://clitest000002.blob.core.windows.net/;FileEndpoint=https://clitest000002.file.core.windows.net/;QueueEndpoint=https://clitest000002.queue.core.windows.net/;TableEndpoint=https://clitest000002.table.core.windows.net/;AccountName=clitest000002;AccountKey=****","containerName":"iothubcontainer1000004"}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT15S","ttlAsIso8601":"P1DT8H","maxDeliveryCount":80}},"enableFileUploadNotifications":true,"cloudToDevice":{"maxDeliveryCount":46,"defaultTtlAsIso8601":"P1DT10H","feedback":{"lockDurationAsIso8601":"PT10S","ttlAsIso8601":"P1DT19H","maxDeliveryCount":76}},"features":"RootCertificateV2","minTlsVersion":"1.2","disableLocalAuth":false,"disableDeviceSAS":false,"disableModuleSAS":false,"allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:15:39.0376199Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:16:03.71Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '7377'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:43:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: EE48594373E749BEA60E7D7AD0209B15 Ref B: CO6AA3150217045 Ref C: 2023-11-06T20:43:44Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/iot-hub-for-test-11000003?api-version=2023-06-30-preview
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYjI0MTU0ZjEtMTQ5ZS00YzJiLTgxNWUtNWUyODAwYzk3MzI0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:43:46 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYjI0MTU0ZjEtMTQ5ZS00YzJiLTgxNWUtNWUyODAwYzk3MzI0?api-version=2023-06-30-preview&operationSource=os_ih
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
      x-msedge-ref:
      - 'Ref A: 3483F2F2D3EF418CAFD6C2A27414BFD1 Ref B: CO6AA3150217045 Ref C: 2023-11-06T20:43:45Z'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYjI0MTU0ZjEtMTQ5ZS00YzJiLTgxNWUtNWUyODAwYzk3MzI0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:43:47 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: BD7A0EC94E564A9EAA0ABE46E6094030 Ref B: CO6AA3150217045 Ref C: 2023-11-06T20:43:47Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus2/operationResults/b3NfaWhfYjI0MTU0ZjEtMTQ5ZS00YzJiLTgxNWUtNWUyODAwYzk3MzI0?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:44:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: A94D8E5B95BA47AD83B8DF8D053098B2 Ref B: CO6AA3150217045 Ref C: 2023-11-06T20:44:17Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-resource/23.1.0b2 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2022-09-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","test":"test_iot_hub","date":"2023-11-06T20:13:21Z","module":"iot"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '348'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:44:17 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 5702065244D0486694ADA56A5849D619 Ref B: CO6AA3150219035 Ref C: 2023-11-06T20:44:18Z'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus2", "properties": {"eventHubEndpoints": {"events":
      {"retentionTimeInDays": 1, "partitionCount": 4}}, "storageEndpoints": {"$default":
      {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableDataResidency":
      true}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '633'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/dps-dr000007?api-version=2023-06-30-preview
  response:
    body:
      string: '{"code":400059,"httpStatusCode":400,"message":"Requested IoT Hub features
        ''\"DataResidency, RootCertificateV2\"'' not available in ''westus2'' region.
        If you contact a support representative please include this correlation identifier:
        4d00cd88-885d-4452-b442-5a7cf47dd83c, timestamp: 2023-11-06 20:44:21Z, errorcode:
        IH400059."}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '325'
      content-type:
      - application/json
      date:
      - Mon, 06 Nov 2023 20:44:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4998'
      x-msedge-ref:
      - 'Ref A: B37E07F680304640A557E789EB12A236 Ref B: CO6AA3150218029 Ref C: 2023-11-06T20:44:18Z'
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"location": "southeastasia", "properties": {"eventHubEndpoints": {"events":
      {"retentionTimeInDays": 1, "partitionCount": 4}}, "storageEndpoints": {"$default":
      {"sasTtlAsIso8601": "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}, "enableDataResidency":
      true}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '639'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/dps-dr000007?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/dps-dr000007","name":"dps-dr000007","type":"Microsoft.Devices/IotHubs","location":"southeastasia","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","properties":{"provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[],"enableDataResidency":true},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '980'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:44:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
      x-msedge-ref:
      - 'Ref A: FF4B226C48F741E8A602342B58B17D66 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:44:21Z'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:44:59 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 01468C0E12DE4EBE9DB7C7C63266B97E Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:44:59Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:45:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 95CB4056F19B4F168A5DC53E591FF428 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:45:30Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:46:00 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 5E007F83D81A4BC68DD80E981CFBA5EA Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:46:01Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:46:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 1B5CA30B9C4940CEA9A4E3FD29B4D908 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:46:31Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:47:03 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: E93F2E32947E4CC9A41ABF64CB0AB873 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:47:02Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:47:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 14208AF95F1F43F391AD3B13D0770DC8 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:47:33Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfNGNjNTRkZjctNDQyMC00MDNjLWIxZGQtODE5Njg3MmMwZmRh?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:48:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 49B8D0D1B5F646B8916CFD075D7D4676 Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:48:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/dps-dr000007?api-version=2023-06-30-preview
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/dps-dr000007","name":"dps-dr000007","type":"Microsoft.Devices/IotHubs","location":"southeastasia","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h8BE=","properties":{"locations":[{"location":"Southeast
        Asia","role":"primary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"dps-dr000007.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"dps-dr000007","endpoint":"sb://iothub-ns-dps-drcdrv-25337395-542d265d94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"enableDataResidency":true,"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:44:25.9711182Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:44:57.8766667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1756'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:48:07 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 690786A0D4634E37B9B6A7E9B655C2EC Ref B: CO6AA3150217047 Ref C: 2023-11-06T20:48:04Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2023-06-30-preview
  response:
    body:
      string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/dps-dr000007","name":"dps-dr000007","type":"Microsoft.Devices/IotHubs","location":"southeastasia","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"clitest.rg000001","etag":"AAAADH/h8BE=","properties":{"locations":[{"location":"Southeast
        Asia","role":"primary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"dps-dr000007.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"dps-dr000007","endpoint":"sb://iothub-ns-dps-drcdrv-25337395-542d265d94.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"enableDataResidency":true,"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-11-06T20:44:25.9711182Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-11-06T20:44:57.8766667Z"}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/silver-happiness-gx445j54r65cv5w4/providers/Microsoft.Devices/IotHubs/silver-happiness-gx445j54r65cv5w4-hub","name":"silver-happiness-gx445j54r65cv5w4-hub","type":"Microsoft.Devices/IotHubs","location":"westus3","tags":{},"subscriptionid":"2bd4119a-4d8d-4090-9183-f9e516c21723","resourcegroup":"silver-happiness-gx445j54r65cv5w4","etag":"AAAADH9LkKs=","properties":{"locations":[{"location":"West
        US 3","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"silver-happiness-gx445j54r65cv5w4-hub.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"silver-happiness-gx445j54","endpoint":"sb://iothub-ns-silver-hap-25266787-4049193b84.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[],"cosmosDBSqlContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"RootCertificateV2","allowedFqdnList":[],"rootCertificate":{"enableRootCertificateV2":true,"lastUpdatedTimeUtc":"2023-09-26T16:06:57.4122349Z"}},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2023-09-26T16:06:59.6066667Z"}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3651'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:48:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-original-request-ids:
      - ''
      - ''
      x-msedge-ref:
      - 'Ref A: AAD8292C7095483DAF8E6617238274F2 Ref B: CO6AA3150219039 Ref C: 2023-11-06T20:48:07Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/IotHubs/dps-dr000007?api-version=2023-06-30-preview
  response:
    body:
      string: ''
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfN2FkOGM5YjEtNDBiMy00NDUxLTg4ZGMtN2IwZTVhNGExY2Mz?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Mon, 06 Nov 2023 20:48:11 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfN2FkOGM5YjEtNDBiMy00NDUxLTg4ZGMtN2IwZTVhNGExY2Mz?api-version=2023-06-30-preview&operationSource=os_ih
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
      x-msedge-ref:
      - 'Ref A: E02CAA8009B54461B40A25E5E69BC304 Ref B: CO6AA3150219039 Ref C: 2023-11-06T20:48:09Z'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfN2FkOGM5YjEtNDBiMy00NDUxLTg4ZGMtN2IwZTVhNGExY2Mz?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:48:12 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 246D3E5C01E54431B2406D5821A486B4 Ref B: CO6AA3150219039 Ref C: 2023-11-06T20:48:11Z'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -n
      User-Agent:
      - AZURECLI/2.53.1 azsdk-python-azure-mgmt-iothub/3.0.0 Python/3.10.5 (Windows-10-10.0.22621-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/eastasia/operationResults/b3NfaWhfN2FkOGM5YjEtNDBiMy00NDUxLTg4ZGMtN2IwZTVhNGExY2Mz?api-version=2023-06-30-preview&operationSource=os_ih&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 06 Nov 2023 20:48:42 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-cache:
      - CONFIG_NOCACHE
      x-content-type-options:
      - nosniff
      x-msedge-ref:
      - 'Ref A: 35DAF404440D4BA18A74E9E384DAAAAE Ref B: CO6AA3150219039 Ref C: 2023-11-06T20:48:42Z'
    status:
      code: 200
      message: OK
version: 1
