interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hsm-name -n
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/create?api-version=7.5-preview.1
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      www-authenticate:
      - Bearer authorization="https://login.microsoftonline.com/54826b22-38d6-4fb2-bad9-b7b93a3e9c5a",
        resource="https://managedhsm.azure.net"
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-server-latency:
      - '1'
    status:
      code: 401
      message: Unauthorized
- request:
    body: '{"kty": "RSA", "attributes": {"enabled": true}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key create
      Connection:
      - keep-alive
      Content-Length:
      - '47'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hsm-name -n
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/create?api-version=7.5-preview.1
  response:
    body:
      string: '{"attributes":{"created":1740041372,"enabled":true,"exportable":false,"recoverableDays":7,"recoveryLevel":"CustomizedRecoverable+Purgeable","updated":1740041372},"key":{"e":"AQAB","key_ops":["wrapKey","decrypt","encrypt","unwrapKey","sign","verify"],"kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","kty":"RSA-HSM","n":"u5yBirAa2GHzPbXvTPESysvKg9nUgFjCWe6HvAdOjCwW4bAsXHbnS5yipqZbRoJP3OIXsCVqTRTktMC5EKyf-8HHPPgbkfoKTD_HNJcit-RQaCUVwEG9DwUNEf0-kaDttSG8VW90k3luQl5-vrCcnD5xxjKUbxBILKTIkdExmJHo6mQXhairUD_OBFlqUWntwRQoqUCVLfyIaQLKB9z5aMItTN616DW1upWyeIrk_BiG-EU-ikjIQQOB13UJWaT3oUphRryfJmc5HIr_E2V-lc7wpXrYKWR1iqrrc4euhL268RJpgH6SEE0VD88ScH-dotdzAijaXWbHdYXz7qWM6w"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '723'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '90'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key encrypt
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --hsm-name -a --value --data-type
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/?api-version=7.5-preview.1
  response:
    body:
      string: '{"attributes":{"created":1740041372,"enabled":true,"exportable":false,"recoverableDays":7,"recoveryLevel":"CustomizedRecoverable+Purgeable","updated":1740041372},"key":{"e":"AQAB","key_ops":["verify","sign","unwrapKey","decrypt","encrypt","wrapKey"],"kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","kty":"RSA-HSM","n":"u5yBirAa2GHzPbXvTPESysvKg9nUgFjCWe6HvAdOjCwW4bAsXHbnS5yipqZbRoJP3OIXsCVqTRTktMC5EKyf-8HHPPgbkfoKTD_HNJcit-RQaCUVwEG9DwUNEf0-kaDttSG8VW90k3luQl5-vrCcnD5xxjKUbxBILKTIkdExmJHo6mQXhairUD_OBFlqUWntwRQoqUCVLfyIaQLKB9z5aMItTN616DW1upWyeIrk_BiG-EU-ikjIQQOB13UJWaT3oUphRryfJmc5HIr_E2V-lc7wpXrYKWR1iqrrc4euhL268RJpgH6SEE0VD88ScH-dotdzAijaXWbHdYXz7qWM6w"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '723'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-build-version:
      - 1.0.20241130-1-aecac196-develop
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '5'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key encrypt
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --hsm-name -a --value --data-type
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/?api-version=7.5-preview.1
  response:
    body:
      string: '{"attributes":{"created":1740041372,"enabled":true,"exportable":false,"recoverableDays":7,"recoveryLevel":"CustomizedRecoverable+Purgeable","updated":1740041372},"key":{"e":"AQAB","key_ops":["verify","sign","unwrapKey","decrypt","encrypt","wrapKey"],"kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","kty":"RSA-HSM","n":"u5yBirAa2GHzPbXvTPESysvKg9nUgFjCWe6HvAdOjCwW4bAsXHbnS5yipqZbRoJP3OIXsCVqTRTktMC5EKyf-8HHPPgbkfoKTD_HNJcit-RQaCUVwEG9DwUNEf0-kaDttSG8VW90k3luQl5-vrCcnD5xxjKUbxBILKTIkdExmJHo6mQXhairUD_OBFlqUWntwRQoqUCVLfyIaQLKB9z5aMItTN616DW1upWyeIrk_BiG-EU-ikjIQQOB13UJWaT3oUphRryfJmc5HIr_E2V-lc7wpXrYKWR1iqrrc4euhL268RJpgH6SEE0VD88ScH-dotdzAijaXWbHdYXz7qWM6w"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '723'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-build-version:
      - 1.0.20241130-1-aecac196-develop
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '46'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key decrypt
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --hsm-name -a --value --data-type
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/?api-version=7.5-preview.1
  response:
    body:
      string: '{"attributes":{"created":1740041372,"enabled":true,"exportable":false,"recoverableDays":7,"recoveryLevel":"CustomizedRecoverable+Purgeable","updated":1740041372},"key":{"e":"AQAB","key_ops":["verify","sign","unwrapKey","decrypt","encrypt","wrapKey"],"kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","kty":"RSA-HSM","n":"u5yBirAa2GHzPbXvTPESysvKg9nUgFjCWe6HvAdOjCwW4bAsXHbnS5yipqZbRoJP3OIXsCVqTRTktMC5EKyf-8HHPPgbkfoKTD_HNJcit-RQaCUVwEG9DwUNEf0-kaDttSG8VW90k3luQl5-vrCcnD5xxjKUbxBILKTIkdExmJHo6mQXhairUD_OBFlqUWntwRQoqUCVLfyIaQLKB9z5aMItTN616DW1upWyeIrk_BiG-EU-ikjIQQOB13UJWaT3oUphRryfJmc5HIr_E2V-lc7wpXrYKWR1iqrrc4euhL268RJpgH6SEE0VD88ScH-dotdzAijaXWbHdYXz7qWM6w"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '723'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-build-version:
      - 1.0.20241130-1-aecac196-develop
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"alg": "RSA-OAEP", "value": "AiWzGHFLHcZ7DlkQlQKicurxz9WMomHVINood8UdCrWrBLgM21Trp76yxIir3n_m03X4j66gJKGRHD1UMLI-PDwEMNIj4h7SZNHgPLh6ofZ_peWG3Q2agH9qQ3dFSj5ECORTVzUuaV6IbO4skc-TRE1rKo6NL2X5bYaW4TV_2F0H_2YwiaipcH-p4n8mW-yMUo757oIMwVcnrQBQPla08wKIKcRoNDY3_pq39xh1clP3_6M-wLJPtft7Ini_xh_8ls_yyQ0UiA-crlNk5_3VRa9z1WIvwnkyhw4cth7PxciAD0cHuKlmwBySYmXSCUDB07N8DWsDwJ2zD6vlFrxl2A"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key decrypt
      Connection:
      - keep-alive
      Content-Length:
      - '374'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --hsm-name -a --value --data-type
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1/decrypt?api-version=7.5-preview.1
  response:
    body:
      string: '{"alg":"RSA-OAEP","kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","value":"YWJjZGVm"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '144'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '6'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key decrypt
      Connection:
      - keep-alive
      ParameterSetName:
      - -n --hsm-name -a --value --data-type
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: GET
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/?api-version=7.5-preview.1
  response:
    body:
      string: '{"attributes":{"created":1740041372,"enabled":true,"exportable":false,"recoverableDays":7,"recoveryLevel":"CustomizedRecoverable+Purgeable","updated":1740041372},"key":{"e":"AQAB","key_ops":["verify","sign","unwrapKey","decrypt","encrypt","wrapKey"],"kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","kty":"RSA-HSM","n":"u5yBirAa2GHzPbXvTPESysvKg9nUgFjCWe6HvAdOjCwW4bAsXHbnS5yipqZbRoJP3OIXsCVqTRTktMC5EKyf-8HHPPgbkfoKTD_HNJcit-RQaCUVwEG9DwUNEf0-kaDttSG8VW90k3luQl5-vrCcnD5xxjKUbxBILKTIkdExmJHo6mQXhairUD_OBFlqUWntwRQoqUCVLfyIaQLKB9z5aMItTN616DW1upWyeIrk_BiG-EU-ikjIQQOB13UJWaT3oUphRryfJmc5HIr_E2V-lc7wpXrYKWR1iqrrc4euhL268RJpgH6SEE0VD88ScH-dotdzAijaXWbHdYXz7qWM6w"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '723'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-build-version:
      - 1.0.20241130-1-aecac196-develop
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"alg": "RSA-OAEP", "value": "qEO2xMmF5lFeuIr2ywyQDuQNDi-Fpdow0_23ETuCMtYOUFZJFDSkMzv0wdMfA706Uxn_2RejhOwjYlT-3cG66DkOCYP8PyIMN70OeeA07K-RwLc4uV725nX8AE3sIzXVJj7zckqcCururEbpLJX7gUWfzPJmMJsrayCiPneQYBWlZxqJdZWzOpxJVsKqo5hc8hpQBvE4qWvxYo-zAWYewxyH2RyeWr2WHy6qd9WmUQA-QKsznXEa-yPVIVaZhGZDO1VUb_LU6UsrOWOgcZ7SyXSb4Xrj7Adk7omjkP8U8JVQo5QQOTFWUyH6kvOQWIXQmMR5lb9NPWnts4YZNjj0cA"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key decrypt
      Connection:
      - keep-alive
      Content-Length:
      - '374'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n --hsm-name -a --value --data-type
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: POST
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1/decrypt?api-version=7.5-preview.1
  response:
    body:
      string: '{"alg":"RSA-OAEP","kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","value":"YWJjZGVm"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '144'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '8'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - keyvault key delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - --hsm-name -n
      User-Agent:
      - AZURECLI/2.69.0 azsdk-python-core/1.31.0 Python/3.12.9 (Windows-10-10.0.19045-SP0)
    method: DELETE
    uri: https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003?api-version=7.5-preview.1
  response:
    body:
      string: '{"attributes":{"created":1740041372,"enabled":true,"exportable":false,"recoverableDays":7,"recoveryLevel":"CustomizedRecoverable+Purgeable","updated":1740041372},"deletedDate":1740041379,"key":{"e":"AQAB","key_ops":["wrapKey","encrypt","decrypt","unwrapKey","sign","verify"],"kid":"https://clitesthsmkey000002.managedhsm.azure.net/keys/key1-000003/5e32f45cbce40870ba17d962b79d27b1","kty":"RSA-HSM","n":"u5yBirAa2GHzPbXvTPESysvKg9nUgFjCWe6HvAdOjCwW4bAsXHbnS5yipqZbRoJP3OIXsCVqTRTktMC5EKyf-8HHPPgbkfoKTD_HNJcit-RQaCUVwEG9DwUNEf0-kaDttSG8VW90k3luQl5-vrCcnD5xxjKUbxBILKTIkdExmJHo6mQXhairUD_OBFlqUWntwRQoqUCVLfyIaQLKB9z5aMItTN616DW1upWyeIrk_BiG-EU-ikjIQQOB13UJWaT3oUphRryfJmc5HIr_E2V-lc7wpXrYKWR1iqrrc4euhL268RJpgH6SEE0VD88ScH-dotdzAijaXWbHdYXz7qWM6w"},"recoveryId":"https://clitesthsmkey000002.managedhsm.azure.net/deletedkeys/key1-000003","scheduledPurgeDate":1740646179}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '868'
      content-security-policy:
      - default-src 'self'
      content-type:
      - application/json; charset=utf-8
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-frame-options:
      - SAMEORIGIN
      x-ms-keyvault-network-info:
      - conn_type=Ipv4;addr=167.220.255.90;act_addr_fam=Ipv4;
      x-ms-keyvault-region:
      - uksouth
      x-ms-server-latency:
      - '26'
    status:
      code: 200
      message: OK
version: 1
