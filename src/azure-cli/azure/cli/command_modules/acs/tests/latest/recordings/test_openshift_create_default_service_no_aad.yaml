interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.6.10 (Linux-4.15.0-122-generic-x86_64-with) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-containerservice/11.1.0 Azure-SDK-For-Python AZURECLI/2.20.0 (DOCKER)
      accept-language:
      - en-US
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitestosa000001/providers/Microsoft.ContainerService/openShiftManagedClusters/clitestosa000002?api-version=2019-09-30-preview
  response:
    body:
      string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.ContainerService/openShiftManagedClusters/clitestosa000002''
        under resource group ''clitestosa000001'' was not found. For more details
        please go to https://aka.ms/ARMResourceNotFoundFix"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '256'
      content-type:
      - application/json; charset=utf-8
      date:
      - Mon, 08 Mar 2021 23:31:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-failure-cause:
      - gateway
    status:
      code: 404
      message: Not Found
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.6.10 (Linux-4.15.0-122-generic-x86_64-with) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.20.0 (DOCKER)
      accept-language:
      - en-US
    method: GET
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?$filter=identifierUris%2Fany%28s%3As%20eq%20%27https%3A%2F%2Fclitestosa000002%27%29&api-version=1.6
  response:
    body:
      string: '{"odata.metadata":"https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects","value":[]}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '121'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 08 Mar 2021 23:31:05 GMT
      duration:
      - '556590'
      expires:
      - '-1'
      ocp-aad-diagnostics-server-name:
      - fsivx1HimlyVvt30OAQYLVLAvGPN4Q1wMVl2DCyMfF8=
      ocp-aad-session-key:
      - tZV2sqZcVXDS9tN2sCSXa8hoGt5jk_hSzP_Up7dJmWP1upzqwkdckImm3WQVxMmKkd_LeO6q5uKAs3ZCwRYsuEA6ekWSHwv_MlUYUnC5WORZXES6ldjGqNrokSy5sbbMP7OqJt50JFpFO1kvqZU5AP8sguOOimDWCMJWY309n4Y.gPJ6fiWp4whRFXYtKb7dqyphbPNraOeVJ7kUapMde-I
      pragma:
      - no-cache
      request-id:
      - 97d1c68b-b5fd-4c53-9759-ea936f9a4ddd
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '2'
      x-powered-by:
      - ASP.NET
    status:
      code: 200
      message: OK
- request:
    body: '{"availableToOtherTenants": false, "homepage": "https://clitestosa000002",
      "passwordCredentials": [{"startDate": "2021-03-08T23:31:06.043663Z", "endDate":
      "2022-03-08T23:31:06.043663Z", "keyId": "17ff2837-44db-42d9-850d-d5ede1b36f76",
      "value": "ReplacedSPPassword123*"}], "requiredResourceAccess": [{"resourceAccess":
      [{"id": "311a71cc-e848-46a1-bdf8-97ff7156d8e6", "type": "Scope"}, {"id": "5778995a-e1bf-45b8-affa-663a9f3f4d04",
      "type": "Role"}], "resourceAppId": "00000002-0000-0000-c000-000000000000"}],
      "displayName": "clitestosa000002", "identifierUris": ["https://clitestosa000002"]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      Content-Length:
      - '586'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.6.10 (Linux-4.15.0-122-generic-x86_64-with) msrest/0.6.21 msrest_azure/0.6.3
        azure-graphrbac/0.60.0 Azure-SDK-For-Python AZURECLI/2.20.0 (DOCKER)
      accept-language:
      - en-US
    method: POST
    uri: https://graph.windows.net/00000000-0000-0000-0000-000000000000/applications?api-version=1.6
  response:
    body:
      string: '{"odata.metadata": "https://graph.windows.net/00000000-0000-0000-0000-000000000000/$metadata#directoryObjects/@Element",
        "odata.type": "Microsoft.DirectoryServices.Application", "objectType": "Application",
        "objectId": "28a34b2e-dfed-4786-b3de-08630fef302a", "deletionTimestamp": null,
        "acceptMappedClaims": null, "addIns": [], "appId": "c8c26b1b-893a-414c-9da8-75062fd28d5c",
        "applicationTemplateId": null, "appRoles": [], "availableToOtherTenants":
        false, "displayName": "clitestosa000002", "errorUrl": null, "groupMembershipClaims":
        null, "homepage": "https://clitestosa000002", "identifierUris": ["https://clitestosa000002"],
        "informationalUrls": {"termsOfService": null, "support": null, "privacy":
        null, "marketing": null}, "isDeviceOnlyAuthSupported": null, "keyCredentials":
        [], "knownClientApplications": [], "logoutUrl": null, "logo@odata.mediaEditLink":
        "directoryObjects/28a34b2e-dfed-4786-b3de-08630fef302a/Microsoft.DirectoryServices.Application/logo",
        "logo@odata.mediaContentType": "application/json;odata=minimalmetadata; charset=utf-8",
        "logoUrl": null, "mainLogo@odata.mediaEditLink": "directoryObjects/28a34b2e-dfed-4786-b3de-08630fef302a/Microsoft.DirectoryServices.Application/mainLogo",
        "oauth2AllowIdTokenImplicitFlow": true, "oauth2AllowImplicitFlow": false,
        "oauth2AllowUrlPathMatching": false, "oauth2Permissions": [{"adminConsentDescription":
        "Allow the application to access clitestosa000002 on behalf of the signed-in
        user.", "adminConsentDisplayName": "Access clitestosa000002", "id": "0e9076a1-d1aa-41a9-a58e-6d39fac3a05f",
        "isEnabled": true, "type": "User", "userConsentDescription": "Allow the application
        to access clitestosa000002 on your behalf.", "userConsentDisplayName": "Access
        clitestosa000002", "value": "user_impersonation"}], "oauth2RequirePostResponse":
        false, "optionalClaims": null, "orgRestrictions": [], "parentalControlSettings":
        {"countriesBlockedForMinors": [], "legalAgeGroupRule": "Allow"}, "passwordCredentials":
        [{"customKeyIdentifier": null, "endDate": "2022-03-08T23:31:06.043663Z", "keyId":
        "17ff2837-44db-42d9-850d-d5ede1b36f76", "startDate": "2021-03-08T23:31:06.043663Z",
        "value": "ReplacedSPPassword123*"}], "publicClient": null, "publisherDomain":
        "microsoft.onmicrosoft.com", "recordConsentConditions": null, "replyUrls":
        [], "requiredResourceAccess": [{"resourceAppId": "00000002-0000-0000-c000-000000000000",
        "resourceAccess": [{"id": "311a71cc-e848-46a1-bdf8-97ff7156d8e6", "type":
        "Scope"}, {"id": "5778995a-e1bf-45b8-affa-663a9f3f4d04", "type": "Role"}]}],
        "samlMetadataUrl": null, "signInAudience": "AzureADMyOrg", "tokenEncryptionKeyId":
        null}'
    headers:
      access-control-allow-origin:
      - '*'
      cache-control:
      - no-cache
      content-length:
      - '2462'
      content-type:
      - application/json; odata=minimalmetadata; streaming=true; charset=utf-8
      dataserviceversion:
      - 3.0;
      date:
      - Mon, 08 Mar 2021 23:31:06 GMT
      duration:
      - '6379998'
      expires:
      - '-1'
      location:
      - https://graph.windows.net/00000000-0000-0000-0000-000000000000/directoryObjects/28a34b2e-dfed-4786-b3de-08630fef302a/Microsoft.DirectoryServices.Application
      ocp-aad-diagnostics-server-name:
      - zEL1y0yOToBlph3+Xrh2oHB1KxjF5K/GT0YecXVwF8g=
      ocp-aad-session-key:
      - BZLjln4C98LYndPiw5T4E0IgvPlKcszu00szVKLqTPeRx4C1B4zHBJ1f5S3lr8GFvoOaUp2rncWwrBIsa6qdJrURFhgYgojlvi11qBxw-l56k28pfZx7oJLT8--vwaQV-xBZGSxieOzRsrNFhY6O9F0djCuu8P2sL5O7Nn4TWH8.-Cpn6H_dqaUE27e0YGrJ5kPvOOuNGkpUc3QhVQciHWg
      pragma:
      - no-cache
      request-id:
      - eac8f77d-69f1-4079-ac9a-a61aadd74132
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-aspnet-version:
      - 4.0.30319
      x-ms-dirapi-data-contract-version:
      - '1.6'
      x-ms-resource-unit:
      - '1'
      x-powered-by:
      - ASP.NET
    status:
      code: 201
      message: Created
- request:
    body: '{"location": "eastus", "properties": {"openShiftVersion": "v3.11", "networkProfile":
      {"vnetCidr": "10.0.0.0/8"}, "routerProfiles": [{"name": "default"}], "masterPoolProfile":
      {"name": "master", "count": 3, "vmSize": "Standard_D4s_v3", "subnetCidr": "10.0.0.0/24",
      "osType": "Linux"}, "agentPoolProfiles": [{"name": "compute", "count": 1, "vmSize":
      "Standard_D4s_v3", "subnetCidr": "10.0.0.0/24", "osType": "Linux", "role": "compute"},
      {"name": "infra", "count": 3, "vmSize": "Standard_D4s_v3", "subnetCidr": "10.0.0.0/24",
      "osType": "Linux", "role": "infra"}], "authProfile": {"identityProviders": [{"name":
      "Azure AD", "provider": {"kind": "AADIdentityProvider", "clientId": "c8c26b1b-893a-414c-9da8-75062fd28d5c",
      "secret": "9fad9cbb8684e4766b80$", "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47"}}]}}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - openshift create
      Connection:
      - keep-alive
      Content-Length:
      - '807'
      Content-Type:
      - application/json; charset=utf-8
      ParameterSetName:
      - --resource-group --name --location --compute-count
      User-Agent:
      - python/3.6.10 (Linux-4.15.0-122-generic-x86_64-with) msrest/0.6.21 msrest_azure/0.6.3
        azure-mgmt-containerservice/11.1.0 Azure-SDK-For-Python AZURECLI/2.20.0 (DOCKER)
      accept-language:
      - en-US
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitestosa000001/providers/Microsoft.ContainerService/openShiftManagedClusters/clitestosa000002?api-version=2019-09-30-preview
  response:
    body:
      string: "{\n  \"code\": \"CreatesNotAllowed\",\n  \"message\": \"Microsoft.ContainerService/openshiftManagedClusters\
        \ is in the process of being deprecated. Please do all new creates on Microsoft.RedHatOpenshift/openShiftClusters\"\
        \n }"
    headers:
      cache-control:
      - no-cache
      content-length:
      - '214'
      content-type:
      - application/json
      date:
      - Mon, 08 Mar 2021 23:31:09 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - nginx
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 400
      message: Bad Request
version: 1
