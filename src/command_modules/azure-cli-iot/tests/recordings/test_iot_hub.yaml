interactions:
- request:
    body: '{"Name": "iot-hub-for-test"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['28']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9ff3162c-cb35-11e6-bc69-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2016-02-03
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:36:26 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['56']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          resourcemanagementclient/0.30.2 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a0ea8746-cb35-11e6-a6d8-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/iot-hub-test-rg?api-version=2016-09-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg","name":"iot-hub-test-rg","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:36:27 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Vary: [Accept-Encoding]
      content-length: ['220']
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "sku": {"name": "S1", "capacity": 1}, "resourcegroup":
      "iot-hub-test-rg", "subscriptionid": "ba8e3a3d-29a9-48dd-972c-cdcc47ecf584"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['160']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","properties":{"state":"Activating","provisioningState":"Accepted","enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/ba8e3a3d-29a9-48dd-972c-cdcc47ecf584/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo']
      Cache-Control: [no-cache]
      Content-Length: ['689']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:36:31 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:37:03 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:37:35 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:38:06 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:38:38 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:39:09 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:39:40 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:40:12 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:40:44 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NzBhYzhlZmUtNDQ5OC00ZjJiLTk4MTYtZmJiMDkwNWYxYTBm?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:15 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['22']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [a1225470-cb35-11e6-a1eb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9jQ=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:16 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1873']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [4e7ff802-cb36-11e6-8787-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9jQ=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:18 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1885']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [4ef41c80-cb36-11e6-9e40-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:20 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [501b976e-cb36-11e6-b9a3-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9jQ=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:22 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1885']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [51283a30-cb36-11e6-855d-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:24 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [526ec5c8-cb36-11e6-9c76-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9jQ=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:26 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1885']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [536c6878-cb36-11e6-93f2-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9jQ=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:27 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1885']
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "tags": {}, "subscriptionid": "ba8e3a3d-29a9-48dd-972c-cdcc47ecf584",
      "etag": "AAAAAACS9jQ=", "sku": {"name": "S1", "capacity": 1}, "properties":
      {"eventHubEndpoints": {"operationsMonitoringEvents": {"partitionCount": 4, "retentionTimeInDays":
      1}, "events": {"partitionCount": 4, "retentionTimeInDays": 1}}, "enableFileUploadNotifications":
      false, "operationsMonitoringProperties": {"events": {"C2DCommands": "None",
      "Connections": "None", "FileUploadOperations": "None", "None": "None", "Routes":
      "None", "DeviceTelemetry": "Error, Information", "DeviceIdentityOperations":
      "None"}}, "features": "None", "messagingEndpoints": {"fileNotifications": {"ttlAsIso8601":
      "PT1H", "maxDeliveryCount": 10, "lockDurationAsIso8601": "PT1M"}}, "cloudToDevice":
      {"feedback": {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10, "lockDurationAsIso8601":
      "PT1M"}, "maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H"}, "ipFilterRules":
      [], "storageEndpoints": {"$default": {"connectionString": "", "sasTtlAsIso8601":
      "PT1H", "containerName": ""}}}, "resourcegroup": "iot-hub-test-rg"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1096']
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9jQ=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [53e0d7fa-cb36-11e6-bcd3-40a8f04ffd53]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9jQ=","properties":{"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=","secondaryKey":"DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=","secondaryKey":"WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=","secondaryKey":"9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=","secondaryKey":"hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4},"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/ba8e3a3d-29a9-48dd-972c-cdcc47ecf584/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/MjNhZTgyOGUtZjhmOS00NDcwLWI5OTYtNzdhMzI1MzUyMWQz?api-version=2016-02-03&asyncinfo']
      Cache-Control: [no-cache]
      Content-Length: ['2443']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:41:30 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9jQ=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [53e0d7fa-cb36-11e6-bcd3-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/MjNhZTgyOGUtZjhmOS00NDcwLWI5OTYtNzdhMzI1MzUyMWQz?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:01 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['22']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9jQ=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [53e0d7fa-cb36-11e6-bcd3-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9p0=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:02 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1887']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [694120a8-cb36-11e6-b0b3-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9p0=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:04 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6a0edfd0-cb36-11e6-8977-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9p0=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:05 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6ae872c8-cb36-11e6-a23d-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9p0=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:06 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6b5b37d4-cb36-11e6-8a4b-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/skus?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S1","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S2","tier":"Standard"},"capacity":{"minimum":1,"maximum":200,"default":1,"scaleType":"Manual"}},{"resourceType":"Microsoft.Devices/IotHubs","sku":{"name":"S3","tier":"Standard"},"capacity":{"minimum":1,"maximum":10,"default":1,"scaleType":"Manual"}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:07 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['475']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6c2c7010-cb36-11e6-b9cc-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9p0=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:08 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6ca0f95e-cb36-11e6-b71f-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=","secondaryKey":"DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=","secondaryKey":"WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=","secondaryKey":"9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=","secondaryKey":"hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ=","rights":"RegistryWrite"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:09 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['905']
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "tags": {}, "subscriptionid": "ba8e3a3d-29a9-48dd-972c-cdcc47ecf584",
      "etag": "AAAAAACS9p0=", "sku": {"name": "S1", "capacity": 1}, "properties":
      {"authorizationPolicies": [{"rights": "RegistryWrite, ServiceConnect, DeviceConnect",
      "keyName": "iothubowner", "primaryKey": "B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=",
      "secondaryKey": "90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI="}, {"rights":
      "ServiceConnect", "keyName": "service", "primaryKey": "7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=",
      "secondaryKey": "DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o="}, {"rights":
      "DeviceConnect", "keyName": "device", "primaryKey": "uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=",
      "secondaryKey": "WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q="}, {"rights":
      "RegistryRead", "keyName": "registryRead", "primaryKey": "tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=",
      "secondaryKey": "9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI="}, {"rights":
      "RegistryWrite", "keyName": "registryReadWrite", "primaryKey": "mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=",
      "secondaryKey": "hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ="}, {"rights":
      "RegistryWrite, ServiceConnect, DeviceConnect", "keyName": "test_policy"}],
      "enableFileUploadNotifications": false, "operationsMonitoringProperties": {"events":
      {"C2DCommands": "None", "Connections": "None", "FileUploadOperations": "None",
      "None": "None", "Routes": "None", "DeviceTelemetry": "Error, Information", "DeviceIdentityOperations":
      "None"}}, "features": "None", "eventHubEndpoints": {"operationsMonitoringEvents":
      {"partitionCount": 4, "retentionTimeInDays": 1}, "events": {"partitionCount":
      4, "retentionTimeInDays": 1}}, "cloudToDevice": {"feedback": {"ttlAsIso8601":
      "PT1H", "maxDeliveryCount": 10, "lockDurationAsIso8601": "PT1M"}, "maxDeliveryCount":
      10, "defaultTtlAsIso8601": "PT1H"}, "messagingEndpoints": {"fileNotifications":
      {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10, "lockDurationAsIso8601": "PT1M"}},
      "ipFilterRules": [], "storageEndpoints": {"$default": {"connectionString": "",
      "sasTtlAsIso8601": "PT1H", "containerName": ""}}}, "resourcegroup": "iot-hub-test-rg"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['2143']
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9p0=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6cffe9e2-cb36-11e6-8151-40a8f04ffd53]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9p0=","properties":{"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=","secondaryKey":"DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=","secondaryKey":"WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=","secondaryKey":"9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=","secondaryKey":"hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"xKF4tBe+Y1iMQX/rgShSVur6zEwEwIIDQkn248Vu76s=","secondaryKey":"KMA17dUu4/cVY24FAWqLQM/OgTtJa60xfarppZXWSug=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}],"ipFilterRules":[],"eventHubEndpoints":{"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4},"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/ba8e3a3d-29a9-48dd-972c-cdcc47ecf584/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NWZiZjcxNzQtZThjMS00ZTNlLTliZmUtNjA4YWY3YTRiYzMz?api-version=2016-02-03&asyncinfo']
      Cache-Control: [no-cache]
      Content-Length: ['2647']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:13 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9p0=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6cffe9e2-cb36-11e6-8151-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NWZiZjcxNzQtZThjMS00ZTNlLTliZmUtNjA4YWY3YTRiYzMz?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:42:43 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9p0=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6cffe9e2-cb36-11e6-8151-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/NWZiZjcxNzQtZThjMS00ZTNlLTliZmUtNjA4YWY3YTRiYzMz?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:15 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['22']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9p0=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [6cffe9e2-cb36-11e6-8151-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9sM=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:16 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1887']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9645cfa2-cb36-11e6-819f-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9sM=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:20 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [972e443e-cb36-11e6-9a9a-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=","secondaryKey":"DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=","secondaryKey":"WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=","secondaryKey":"9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=","secondaryKey":"hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"xKF4tBe+Y1iMQX/rgShSVur6zEwEwIIDQkn248Vu76s=","secondaryKey":"KMA17dUu4/cVY24FAWqLQM/OgTtJa60xfarppZXWSug=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:21 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1109']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9867b4f8-cb36-11e6-bffc-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9sM=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:22 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [98f83b9c-cb36-11e6-a211-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/test_policy/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"test_policy","primaryKey":"xKF4tBe+Y1iMQX/rgShSVur6zEwEwIIDQkn248Vu76s=","secondaryKey":"KMA17dUu4/cVY24FAWqLQM/OgTtJa60xfarppZXWSug=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:24 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9a39f888-cb36-11e6-9072-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9sM=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:26 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9b23c99e-cb36-11e6-a5f2-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=","secondaryKey":"DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=","secondaryKey":"WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=","secondaryKey":"9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=","secondaryKey":"hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ=","rights":"RegistryWrite"},{"keyName":"test_policy","primaryKey":"xKF4tBe+Y1iMQX/rgShSVur6zEwEwIIDQkn248Vu76s=","secondaryKey":"KMA17dUu4/cVY24FAWqLQM/OgTtJa60xfarppZXWSug=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:28 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1109']
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "tags": {}, "subscriptionid": "ba8e3a3d-29a9-48dd-972c-cdcc47ecf584",
      "etag": "AAAAAACS9sM=", "sku": {"name": "S1", "capacity": 1}, "properties":
      {"authorizationPolicies": [{"rights": "RegistryWrite, ServiceConnect, DeviceConnect",
      "keyName": "iothubowner", "primaryKey": "B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=",
      "secondaryKey": "90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI="}, {"rights":
      "ServiceConnect", "keyName": "service", "primaryKey": "7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=",
      "secondaryKey": "DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o="}, {"rights":
      "DeviceConnect", "keyName": "device", "primaryKey": "uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=",
      "secondaryKey": "WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q="}, {"rights":
      "RegistryRead", "keyName": "registryRead", "primaryKey": "tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=",
      "secondaryKey": "9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI="}, {"rights":
      "RegistryWrite", "keyName": "registryReadWrite", "primaryKey": "mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=",
      "secondaryKey": "hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ="}], "enableFileUploadNotifications":
      false, "operationsMonitoringProperties": {"events": {"C2DCommands": "None",
      "Connections": "None", "FileUploadOperations": "None", "None": "None", "Routes":
      "None", "DeviceTelemetry": "Error, Information", "DeviceIdentityOperations":
      "None"}}, "features": "None", "eventHubEndpoints": {"operationsMonitoringEvents":
      {"partitionCount": 4, "retentionTimeInDays": 1}, "events": {"partitionCount":
      4, "retentionTimeInDays": 1}}, "cloudToDevice": {"feedback": {"ttlAsIso8601":
      "PT1H", "maxDeliveryCount": 10, "lockDurationAsIso8601": "PT1M"}, "maxDeliveryCount":
      10, "defaultTtlAsIso8601": "PT1H"}, "messagingEndpoints": {"fileNotifications":
      {"ttlAsIso8601": "PT1H", "maxDeliveryCount": 10, "lockDurationAsIso8601": "PT1M"}},
      "ipFilterRules": [], "storageEndpoints": {"$default": {"connectionString": "",
      "sasTtlAsIso8601": "PT1H", "containerName": ""}}}, "resourcegroup": "iot-hub-test-rg"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['2057']
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9sM=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9be85576-cb36-11e6-beeb-40a8f04ffd53]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9sM=","properties":{"provisioningState":"Accepted","authorizationPolicies":[{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=","secondaryKey":"DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=","secondaryKey":"WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=","secondaryKey":"9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=","secondaryKey":"hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ=","rights":"RegistryWrite"}],"ipFilterRules":[],"eventHubEndpoints":{"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4},"events":{"retentionTimeInDays":1,"partitionCount":4}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/ba8e3a3d-29a9-48dd-972c-cdcc47ecf584/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/MjU3NTNmNTktNDg5Mi00ZTcwLTk1YmItNGE3ZWY3Y2NkZTYy?api-version=2016-02-03&asyncinfo']
      Cache-Control: [no-cache]
      Content-Length: ['2443']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:43:31 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4998']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9sM=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9be85576-cb36-11e6-beeb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/MjU3NTNmNTktNDg5Mi00ZTcwLTk1YmItNGE3ZWY3Y2NkZTYy?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:03 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['22']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IF-MATCH: [AAAAAACS9sM=]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [9be85576-cb36-11e6-beeb-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:04 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1887']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b28749c0-cb36-11e6-8bd7-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:07 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b392ae5c-cb36-11e6-990b-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"},{"keyName":"service","primaryKey":"7ulILAzXRPyeS+OTSAkM8EWLf66O/oCcvEFooU9GbbU=","secondaryKey":"DNg7fhkn/HtcFxoxzVxHLDHUQelYRPOOGwuLEWMxs8o=","rights":"ServiceConnect"},{"keyName":"device","primaryKey":"uoTOfrON68Y9LwTzitwcISGKWulqnZ+dUn7mEDkp4bQ=","secondaryKey":"WA2pycNQN649qgKMpkTyXH1lnOiF7qTdOxmacjjfQ5Q=","rights":"DeviceConnect"},{"keyName":"registryRead","primaryKey":"tj72HGGEEXPr5upM3Peqa6G2F5RzLwvzy2/yyuVGnSA=","secondaryKey":"9RmE73JjXzjuVl4XuDHkubgQ8vRjfKjHZ7dCbVWYzMI=","rights":"RegistryRead"},{"keyName":"registryReadWrite","primaryKey":"mWL0RMD7tOa8yc/+1pPeojmo9db4YXi7vcdG5zvbImo=","secondaryKey":"hsgOVzCVQD6aCS+TsQjY+tqyfZOaB2rboQZhf81dAYQ=","rights":"RegistryWrite"}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:09 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['905']
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b52a97ac-cb36-11e6-9269-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:11 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b60a1e7e-cb36-11e6-9d83-40a8f04ffd53]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2016-02-03
  response:
    body: {string: '{"tags":null,"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"cg1"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:17 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['175']
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [b9f3140a-cb36-11e6-b8d8-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:20 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [baedee82-cb36-11e6-a36e-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2016-02-03
  response:
    body: {string: '{"tags":null,"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"cg1"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:21 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['175']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [bc300f2c-cb36-11e6-bdee-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:23 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [bd0b30dc-cb36-11e6-9ef1-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups?api-version=2016-02-03
  response:
    body: {string: '{"value":["$Default","cg1"]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:24 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['28']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [bdde9a7e-cb36-11e6-8ba4-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:26 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [beb83da8-cb36-11e6-96f3-40a8f04ffd53]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups/cg1?api-version=2016-02-03
  response:
    body: {string: ''}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['0']
      Date: ['Mon, 26 Dec 2016 06:44:28 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c026283e-cb36-11e6-a4e4-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:29 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c097b370-cb36-11e6-88cc-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/eventHubEndpoints/events/ConsumerGroups?api-version=2016-02-03
  response:
    body: {string: '{"value":["$Default"]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:29 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['22']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c14f4fa4-cb36-11e6-ae8d-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:30 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c1bf4d3e-cb36-11e6-834a-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/jobs?api-version=2016-02-03
  response:
    body: {string: '{"value":[]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:31 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['12']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c288beae-cb36-11e6-97b3-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:34 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c3919b2e-cb36-11e6-b955-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/jobs/fake-job?api-version=2016-02-03
  response:
    body: {string: '{"Code":"JobNotFound","HttpStatusCode":"NotFound","Message":"Job
        not found with ID ''fake-job''. If you contact a support representative please
        include this correlation identifier: 1cd77bf7-e618-4198-abfc-d677e3daeb31,
        timestamp: 2016-12-26 06:44:36Z, errorcode: IH404011."}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['272']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:35 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c46e1c14-cb36-11e6-9aa8-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:36 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c4e1db54-cb36-11e6-80dc-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:37 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c546845c-cb36-11e6-b222-40a8f04ffd53]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/jobs/fake-job?api-version=2016-11-14
  response:
    body: {string: '{"Message":"ErrorCode:JobNotFound;NotFound","ExceptionMessage":"Tracking
        ID:4620d5f90d8345e0a1fe257830757c02-G:9-TimeStamp:12/26/2016 06:44:39"}'}
    headers:
      Content-Length: ['144']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      iothub-errorcode: [JobNotFound]
    status: {code: 404, message: Not Found}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c66d8cfa-cb36-11e6-b265-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:40 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c6e07346-cb36-11e6-9c4f-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:40 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"deviceId": "test-device-1"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['29']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c742d598-cb36-11e6-990f-40a8f04ffd53]
    method: PUT
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-1","generationId":"636183314810983457","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"tcYQ1dzGzaqdBiIWPdtr/EYhCK3aqcBXGaJOIv451s0=","secondaryKey":"Gnv9o2tcLQ+I08oX0uUsnoWuExt8azR969USelXKgjs="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      Content-Length: ['543']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:43 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c884abd4-cb36-11e6-844f-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:43 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [c8f95ad8-cb36-11e6-876d-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:44 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: '{"authentication": {"x509Thumbprint": {"secondaryThumbprint": "14963E8F3BA5B3984110B3C1CA8E8B8988599087",
      "primaryThumbprint": "A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C"}}, "deviceId":
      "test-device-2"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['201']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [c95d9fde-cb36-11e6-a8b4-40a8f04ffd53]
    method: PUT
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-2","generationId":"636183314847877850","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      Content-Length: ['535']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:44 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ca7bc712-cb36-11e6-97bc-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:47 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [caeded1e-cb36-11e6-b800-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:47 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [cb4dad3e-cb36-11e6-a367-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-1","generationId":"636183314810983457","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"tcYQ1dzGzaqdBiIWPdtr/EYhCK3aqcBXGaJOIv451s0=","secondaryKey":"Gnv9o2tcLQ+I08oX0uUsnoWuExt8azR969USelXKgjs="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      Content-Length: ['543']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:50 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [cc51e07e-cb36-11e6-a780-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:49 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ccc2eb0c-cb36-11e6-a6ed-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:50 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [cd22d780-cb36-11e6-a08a-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-2","generationId":"636183314847877850","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      Content-Length: ['535']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:50 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ce28abe2-cb36-11e6-9e1d-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:52 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ce996f14-cb36-11e6-834f-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:53 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [cefa46f4-cb36-11e6-a9d8-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices?api-version=2016-11-14&top=20
  response:
    body: {string: '[{"deviceId":"test-device-2","generationId":"636183314847877850","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}},{"deviceId":"test-device-1","generationId":"636183314810983457","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"tcYQ1dzGzaqdBiIWPdtr/EYhCK3aqcBXGaJOIv451s0=","secondaryKey":"Gnv9o2tcLQ+I08oX0uUsnoWuExt8azR969USelXKgjs="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}]'}
    headers:
      Content-Length: ['1081']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:55 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [cf9b9330-cb36-11e6-ba54-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:55 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [cffb58fa-cb36-11e6-b249-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-2","generationId":"636183314847877850","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      Content-Length: ['535']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:01 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d27b4980-cb36-11e6-9eef-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:44:59 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d2db48e6-cb36-11e6-983b-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-1","generationId":"636183314810983457","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"tcYQ1dzGzaqdBiIWPdtr/EYhCK3aqcBXGaJOIv451s0=","secondaryKey":"Gnv9o2tcLQ+I08oX0uUsnoWuExt8azR969USelXKgjs="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      Content-Length: ['543']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:00 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d3da4612-cb36-11e6-bdc6-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:02 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d44b8b66-cb36-11e6-ac81-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:03 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d4ac1076-cb36-11e6-8c32-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-1","generationId":"636183314810983457","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"tcYQ1dzGzaqdBiIWPdtr/EYhCK3aqcBXGaJOIv451s0=","secondaryKey":"Gnv9o2tcLQ+I08oX0uUsnoWuExt8azR969USelXKgjs="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}'}
    headers:
      Content-Length: ['543']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:06 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d59f688a-cb36-11e6-8ac8-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:06 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d613c512-cb36-11e6-964b-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:06 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1196']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d6745e5a-cb36-11e6-9bfc-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-2","generationId":"636183314847877850","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      Content-Length: ['535']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:06 GMT']
      ETag: ['"MA=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d7164968-cb36-11e6-9488-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:07 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d78969dc-cb36-11e6-a886-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:08 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: '{"lastActivityTime": "0001-01-01T00:00:00.000Z", "connectionState": "Disconnected",
      "status": "enabled", "etag": "MA==", "authentication": {"symmetricKey": {},
      "x509Thumbprint": {"secondaryThumbprint": "14963E8F3BA5B3984110B3C1CA8E8B8988599087",
      "primaryThumbprint": "A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C"}}, "connectionStateUpdatedTime":
      "0001-01-01T00:00:00.000Z", "cloudToDeviceMessageCount": 0, "statusUpdatedTime":
      "0001-01-01T00:00:00.000Z", "statusReason": "TestReason", "deviceId": "test-device-2"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['510']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['*']
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d7e98fa6-cb36-11e6-9da6-40a8f04ffd53]
    method: PUT
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: '{"deviceId":"test-device-2","generationId":"636183314847877850","etag":"MQ==","connectionState":"Disconnected","status":"enabled","statusReason":"TestReason","connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}}'}
    headers:
      Content-Length: ['543']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:10 GMT']
      ETag: ['"MQ=="']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d8e92f86-cb36-11e6-b9d4-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:11 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [d959e29e-cb36-11e6-a203-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:11 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1195']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [d9ba19d0-cb36-11e6-832d-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices?api-version=2016-11-14&top=20
  response:
    body: {string: '[{"deviceId":"test-device-2","generationId":"636183314847877850","etag":"MQ==","connectionState":"Disconnected","status":"enabled","statusReason":"TestReason","connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":null,"secondaryKey":null},"x509Thumbprint":{"primaryThumbprint":"A361EA6A7119A8B0B7BBFFA2EAFDAD1F9D5BED8C","secondaryThumbprint":"14963E8F3BA5B3984110B3C1CA8E8B8988599087"}}},{"deviceId":"test-device-1","generationId":"636183314810983457","etag":"MA==","connectionState":"Disconnected","status":"enabled","statusReason":null,"connectionStateUpdatedTime":"0001-01-01T00:00:00","statusUpdatedTime":"0001-01-01T00:00:00","lastActivityTime":"0001-01-01T00:00:00","cloudToDeviceMessageCount":0,"authentication":{"symmetricKey":{"primaryKey":"tcYQ1dzGzaqdBiIWPdtr/EYhCK3aqcBXGaJOIv451s0=","secondaryKey":"Gnv9o2tcLQ+I08oX0uUsnoWuExt8azR969USelXKgjs="},"x509Thumbprint":{"primaryThumbprint":null,"secondaryThumbprint":null}}}]'}
    headers:
      Content-Length: ['1089']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:11 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [daac874c-cb36-11e6-9a8d-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:14 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [db1ec890-cb36-11e6-b4a2-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:14 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1194']
    status: {code: 200, message: OK}
- request:
    body: '"Ping from Azure CLI"'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['21']
      Content-Type: [application/octet-stream]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [db7e6164-cb36-11e6-8b3b-40a8f04ffd53]
    method: POST
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/events?api-version=2016-11-14
  response:
    body: {string: ''}
    headers:
      Content-Length: ['0']
      Date: ['Mon, 26 Dec 2016 06:45:18 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [dc9f53b8-cb36-11e6-9610-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:16 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [dd108c1a-cb36-11e6-bf7f-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:17 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      IotHub-MessageLockTimeout: ['60']
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [dd71310a-cb36-11e6-975d-40a8f04ffd53]
    method: GET
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound?api-version=2016-11-14
  response:
    body: {string: ''}
    headers:
      Content-Length: ['0']
      Date: ['Mon, 26 Dec 2016 06:45:17 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [de6fb742-cb36-11e6-90ab-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:21 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [df605d00-cb36-11e6-ab85-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:22 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [e03713f6-cb36-11e6-b59b-40a8f04ffd53]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound/00000000-0000-0000-0000-000000000000?api-version=2016-11-14
  response:
    body: {string: '{"Message":"{\"errorCode\":412002,\"trackingId\":\"9e761689f9a14c5dba683db29f11e001-G:0-TimeStamp:12/26/2016
        06:45:25\",\"message\":\"PreconditionFailed\",\"timestampUtc\":\"2016-12-26T06:45:25.0059132Z\"}","ExceptionMessage":""}'}
    headers:
      Content-Length: ['229']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:24 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      iothub-errorcode: [DeviceMessageLockLost]
    status: {code: 412, message: Precondition Failed}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e1363bd0-cb36-11e6-80f9-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:25 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e1c958ae-cb36-11e6-842e-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:26 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [e2a63d8c-cb36-11e6-ad81-40a8f04ffd53]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound/00000000-0000-0000-0000-000000000000?api-version=2016-11-14&reject=
  response:
    body: {string: '{"Message":"{\"errorCode\":412002,\"trackingId\":\"6133673abe134adb8c41668061603d8a-G:7-TimeStamp:12/26/2016
        06:45:26\",\"message\":\"PreconditionFailed\",\"timestampUtc\":\"2016-12-26T06:45:26.6951274Z\"}","ExceptionMessage":""}'}
    headers:
      Content-Length: ['229']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:26 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      iothub-errorcode: [DeviceMessageLockLost]
    status: {code: 412, message: Precondition Failed}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e3a881f4-cb36-11e6-99af-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:28 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e43abbca-cb36-11e6-b49b-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:29 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1193']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [e49a6a5c-cb36-11e6-9bf4-40a8f04ffd53]
    method: POST
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1/messages/devicebound/00000000-0000-0000-0000-000000000000/abandon?api-version=2016-11-14
  response:
    body: {string: '{"Message":"{\"errorCode\":412002,\"trackingId\":\"5e4b6095b0d44c209b9b166ad89142f6-G:4-TimeStamp:12/26/2016
        06:45:32\",\"message\":\"PreconditionFailed\",\"timestampUtc\":\"2016-12-26T06:45:32.9772581Z\"}","ExceptionMessage":""}'}
    headers:
      Content-Length: ['229']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:32 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
      iothub-errorcode: [DeviceMessageLockLost]
    status: {code: 412, message: Precondition Failed}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e5ab6c36-cb36-11e6-b977-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:32 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e621cf34-cb36-11e6-8862-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/quotaMetrics?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"Name":"TotalMessages","CurrentValue":0,"MaxValue":400000},{"Name":"TotalDeviceCount","CurrentValue":2,"MaxValue":500000}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:33 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['134']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e70a83da-cb36-11e6-b121-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:34 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e785204a-cb36-11e6-9ae1-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubStats?api-version=2016-02-03
  response:
    body: {string: '{"totalDeviceCount":0,"enabledDeviceCount":0,"disabledDeviceCount":0}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:35 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['69']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e84a61f6-cb36-11e6-9b7a-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:37 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [e8bd5f5e-cb36-11e6-bd20-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:38 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['*']
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [e98f5c46-cb36-11e6-abd0-40a8f04ffd53]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-1?api-version=2016-11-14
  response:
    body: {string: ''}
    headers:
      Content-Length: ['0']
      Date: ['Mon, 26 Dec 2016 06:45:39 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [eabf0c08-cb36-11e6-a9b7-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:41 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [eb329648-cb36-11e6-9527-40a8f04ffd53]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/IotHubKeys/iothubowner/listkeys?api-version=2016-02-03
  response:
    body: {string: '{"keyName":"iothubowner","primaryKey":"B5mssSTdqdqm4Hgah0IupXyyi9n/Ii9tPbW6bCjSU9g=","secondaryKey":"90UQ3Gzp+A+8uHn8rBo34BZHeE8Gx0wRbpYBigfWkAI=","rights":"RegistryWrite,
        ServiceConnect, DeviceConnect"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:41 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['203']
      x-ms-ratelimit-remaining-subscription-writes: ['1194']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: ['*']
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubdeviceclient/2016-11-14 Azure-SDK-For-Python]
      accept-language: [en-US]
      x-ms-client-request-id: [eb972e66-cb36-11e6-9a84-40a8f04ffd53]
    method: DELETE
    uri: https://iot-hub-for-test.azure-devices.net/devices/test-device-2?api-version=2016-11-14
  response:
    body: {string: ''}
    headers:
      Content-Length: ['0']
      Date: ['Mon, 26 Dec 2016 06:45:44 GMT']
      Server: [Microsoft-HTTPAPI/2.0]
    status: {code: 204, message: No Content}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ec9fc2b0-cb36-11e6-80c9-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/IotHubs?api-version=2016-02-03
  response:
    body: {string: '{"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test","name":"iot-hub-for-test","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"ba8e3a3d-29a9-48dd-972c-cdcc47ecf584","resourcegroup":"iot-hub-test-rg","etag":"AAAAAACS9vk=","properties":{"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-test.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-test-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-99363-c0649ec849.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"operationsMonitoringProperties":{"events":{"C2DCommands":"None","Connections":"None","FileUploadOperations":"None","None":"None","Routes":"None","DeviceTelemetry":"Error,
        Information","DeviceIdentityOperations":"None"}},"features":"None","generationNumber":0},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:43 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['1899']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ed0fdb0a-cb36-11e6-88da-40a8f04ffd53]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test?api-version=2016-02-03
  response:
    body: {string: 'null'}
    headers:
      Azure-AsyncOperation: ['https://management.azure.com/subscriptions/ba8e3a3d-29a9-48dd-972c-cdcc47ecf584/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OGVkMDZjODUtZTBkZi00MGIyLTg3OTEtZDM1NjlmZTRmYjdi?api-version=2016-02-03&asyncinfo']
      Cache-Control: [no-cache]
      Content-Length: ['4']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:45:46 GMT']
      Expires: ['-1']
      Location: ['https://management.azure.com/subscriptions/ba8e3a3d-29a9-48dd-972c-cdcc47ecf584/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OGVkMDZjODUtZTBkZi00MGIyLTg3OTEtZDM1NjlmZTRmYjdi?api-version=2016-02-03']
      Pragma: [no-cache]
      Retry-After: ['15']
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 202, message: Accepted}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ed0fdb0a-cb36-11e6-88da-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OGVkMDZjODUtZTBkZi00MGIyLTg3OTEtZDM1NjlmZTRmYjdi?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      Cache-Control: [no-cache]
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:46:02 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Server: [Microsoft-HTTPAPI/2.0]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      Transfer-Encoding: [chunked]
      Vary: [Accept-Encoding]
      content-length: ['20']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.0 (Windows-10.0.14393) requests/2.9.1 msrest/0.4.4 msrest_azure/0.4.3
          iothubclient/0.2.1 Azure-SDK-For-Python AZURECLI/TEST/0.1.0b11+dev]
      accept-language: [en-US]
      x-ms-client-request-id: [ed0fdb0a-cb36-11e6-88da-40a8f04ffd53]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/iot-hub-test-rg/providers/Microsoft.Devices/IotHubs/iot-hub-for-test/operationResults/OGVkMDZjODUtZTBkZi00MGIyLTg3OTEtZDM1NjlmZTRmYjdi?api-version=2016-02-03&asyncinfo
  response:
    body: {string: '{"error":{"code":"ResourceNotFound","message":"The Resource ''Microsoft.Devices/IotHubs/iot-hub-for-test''
        under resource group ''iot-hub-test-rg'' was not found."}}'}
    headers:
      Cache-Control: [no-cache]
      Content-Length: ['167']
      Content-Type: [application/json; charset=utf-8]
      Date: ['Mon, 26 Dec 2016 06:46:33 GMT']
      Expires: ['-1']
      Pragma: [no-cache]
      Strict-Transport-Security: [max-age=31536000; includeSubDomains]
      x-ms-failure-cause: [gateway]
    status: {code: 404, message: Not Found}
version: 1
